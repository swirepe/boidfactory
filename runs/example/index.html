<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Links & Viewer (Dark, Controls, URL Params)</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
:root{
    /* Theme */
    --bg:#0b0e12;
    --panel:#0f141b;
    --text:#e6edf3;
    --muted:#9fb0c0;
    --border:#1c2530;

    /* Accent derived from hue (updated by JS) */
    --hue: 220;
    --accent: hsl(var(--hue), 70%, 60%);

    /* Layout */
    --sidebar: 280px;
    --sidebar-min: 0px;
    --handle: 42px;
    --radius:10px;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:var(--bg); color:var(--text);
    font:14px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  }

  .app{display:grid;grid-template-columns:var(--sidebar) 1fr;grid-template-rows:100vh;transition:grid-template-columns .25s ease}#collapse{position:absolute;inline-size:1px;block-size:1px;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;border:0;padding:0;margin:-1px}.handle{position:fixed;top:12px;left:12px;width:var(--handle);height:36px;display:inline-flex;align-items:center;justify-content:center;background:#0a0e13;border:1px solid var(--border);color:var(--text);border-radius:var(--radius);cursor:pointer;user-select:none;gap:6px;font-size:12px;transition:background .2s ease,border-color .2s ease,transform .25s ease;z-index:15}.handle:hover{background:#0c1117;border-color:color-mix(in oklab,var(--accent),#17324a 60%)}.handle .chev{display:inline-block;transition:transform .25s ease}#collapse:checked+label.handle .chev{transform:rotate(180deg)}#collapse:checked ~ .app{grid-template-columns:var(--sidebar-min) 1fr}#collapse:checked ~ .app nav{transform:translateX(calc(-1*var(--sidebar)));opacity:0;pointer-events:none}nav{background:linear-gradient(180deg,var(--panel),#0c1117);border-right:1px solid var(--border);padding:12px;min-width:0;overflow:auto;transition:transform .25s ease,opacity .25s ease;padding-top:60px}nav h1{margin:0 0 10px;font-size:15px;color:var(--muted)}.controls{display:grid;gap:10px;margin:10px 0 14px 0;padding:10px;border:1px solid var(--border);border-radius:10px;background:#0a0e13}.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}label{color:var(--muted);font-size:12px}input[type=range]{width:160px}input[type=text],input[type=url]{width:100%;max-width:100%;padding:8px 10px;border-radius:8px;border:1px solid var(--border);background:#0a0e13;color:var(--text)}.switch{display:inline-flex;align-items:center;gap:8px;cursor:pointer;padding:6px 8px;border-radius:8px;border:1px solid var(--border);background:#0a0e13}.pill{display:inline-block;min-width:34px;text-align:center;padding:2px 8px;border-radius:999px;border:1px solid var(--border);color:var(--text);background:#0c1117}nav ul{list-style:none;padding:0;margin:0}
  
  /* <!-- CHANGED: List items are now flex containers for the download button --> */
  nav li{margin:6px 0; display:grid; grid-template-columns: 2fr 40px; gap:6px; align-items:center;}
  nav a{display:block;text-decoration:none;color:var(--text);padding:9px 10px;background:#0a0e13;border:1px solid transparent;border-radius:8px; flex-grow:2; min-width:0; /* Grow to fill space */}
  nav a:hover{background:#0c1117;border-color:var(--border)}
  nav a strong{color:var(--accent); transition: color .2s ease;}
  /* <!-- ADDED: Styles for active link highlighting --> */
  nav a.active {
    background: color-mix(in oklab, var(--accent), var(--panel) 85%);
    border-color: var(--accent);
  }
  nav a.active strong {
    color: var(--text);
  }

  /* <!-- ADDED: Styles for the download button --> */
  .download-btn {
    flex-shrink: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 8px;
    background: transparent;
    border: 1px solid transparent;
    border-radius: 8px;
    color: var(--muted);
    cursor: pointer;
    transition: all .2s ease;
  }
  .download-btn:hover {
    background: #0c1117;
    border-color: var(--border);
    color: var(--accent);
  }
  
  .radio-group{width:100%; gap:8px; background:#0c1117; padding:4px; border-radius:8px; border:1px solid var(--border);}
  .radio-group label{display:flex; align-items:center; gap:5px; padding:3px 8px; border-radius:6px; cursor:pointer; transition: background .2s ease, color .2s ease;}
  .radio-group input{accent-color: var(--accent); width:14px; height:14px;}
  .radio-group input:checked + span{color:var(--text);} 
  .radio-group label:has(input:checked){background: var(--border);} 
  .auto-row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  .auto-row input[type=number]{width:80px}
  .rainbow-row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  .rainbow-row input[type=number]{width:80px}

  /* Viewer */
  main{min-width:0; display:flex; flex-direction:column}
  header.page{padding:10px; border-bottom:1px solid var(--border); background:#0c1117; position:relative}
  header.page h2{margin:0; font-size:16px}
  header.page p{margin:2px 0 0 0; color:var(--muted); font-size:12px}
  /* Auto timer bar shown when Auto is active */
  .autoTimer{display:none; height:4px; background:#00000055; border-radius:999px; overflow:hidden; margin-top:8px}
  .autoTimer .bar{height:100%; width:0%; background:var(--accent); box-shadow: 0 0 12px color-mix(in oklab, var(--accent), #000 40%); transition: width .1s linear}
  iframe{flex:1; width:100%; border:none; background:#0a0e13}
  #current-path{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:11px;margin-top:5px}#current-path a{color:var(--muted);text-decoration:none;border-bottom:1px dotted transparent;transition:all .2s ease}#current-path a:hover{color:var(--accent);border-bottom-color:var(--accent)}#current-path code{background:var(--border);padding:2px 5px;border-radius:4px}
  
  /* <!-- CHANGED: Better mobile responsive behavior for the sidebar --> */
  @media (max-width: 720px){
    .app{ grid-template-columns: 1fr; } /* Let main content take full width */
    nav{
      /* Make nav a slide-in overlay */
      position: fixed; z-index: 10;
      top: 0; left: 0; height: 100%;
      width: var(--sidebar); max-width: 85vw;
      box-shadow: 2px 0 8px rgba(0,0,0,0.3);
      /* This is the default (hidden) state on mobile */
      transform:translateX(calc(-1*var(--sidebar)));
      opacity:0;
      pointer-events:none;
    }
    /* When toggle is checked, show the nav overlay */
    #collapse:checked ~ .app nav{
      transform: translateX(0);
      opacity: 1;
      pointer-events: auto;
    }
    /* On mobile, the default handle icon should indicate "open" (rotated) */
    .handle .chev {
      transform: rotate(180deg);
    }
    /* When checked (open), it should indicate "close" (normal) */
    #collapse:checked+label.handle .chev{
      transform: rotate(0deg);
    }
  }
</style>
</head>
<body>
<input type="checkbox" id="collapse" aria-label="Collapse sidebar" />
<label class="handle" for="collapse" aria-controls="sidebar" aria-expanded="true" title="Toggle sidebar"><span class="chev">⟨⟩</span></label>
<div class="app">
  <nav id="sidebar">
    <h1>Links</h1>
    <div class="controls" id="controls">
      <div class="row"><label for="hueRange">hue</label><input id="hueRange" type="range" min="0" max="360" step="1" /><input id="hueColor" type="color" /><span class="pill" id="hueVal">220</span></div>
      <div class="row"><label class="switch"><input id="debugToggle" type="checkbox" /><span>debug</span></label><span class="pill" id="debugVal">true</span></div>
      <div class="row"><label for="headerText">header</label><input id="headerText" type="text" placeholder="Header text..." /></div>
      <div class="row"><label for="subheaderText">subheader</label><input id="subheaderText" type="text" placeholder="Subheader text..." /></div>
      <div class="row">
        <div class="radio-group" id="displayModeGroup">
          <label>Display</label>
          <label><input type="radio" name="displayMode" value="title" checked><span>Title</span></label>
          <label><input type="radio" name="displayMode" value="filename"><span>Filename</span></label>
          <label><input type="radio" name="displayMode" value="both"><span>Both</span></label>
        </div>
      </div>
      <div class="row auto-row">
        <label class="switch"><input id="autoToggle" type="checkbox"><span>Auto</span></label>
        <label>Interval (s): <input id="autoSec" type="number" min="2" max="120" step="1" value="8"></label>
        <span class="pill" id="autoStatus">off</span>
      </div>
      <div class="row rainbow-row">
        <label class="switch"><input id="rainbowToggle" type="checkbox"><span>Rainbow</span></label>
        <label>Period (s): <input id="rainbowSec" type="number" min="2" max="120" step="1" value="20"></label>
        <span class="pill" id="rainbowStatus">off</span>
      </div>
    </div>
    <ul id="linkList">
      <li class="download-all"><a href="data:application/zip;base64,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" download="example.zip" class="download-btn" title="Download entire folder as ZIP">📦 <strong>Download All</strong></a></li>
      <li data-title="Boids DOD+QT · N=185 · spawn=circle · bounce · orb · plus-lighter · hue=9 · qtCap=8" data-filename="boids-dod-quadtree-20-impl.html"><a href="boids-dod-quadtree-20-impl.html" target="viewer"><strong>Boids DOD+QT · N=185 · spawn=circle · bounce · orb · plus-lighter · hue=9 · qtCap=8</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTE4NSDCtyBzcGF3bj1jaXJjbGUgwrcgYm91bmNlIMK3IG9yYiDCtyBwbHVzLWxpZ2h0ZXIgwrcgaHVlPTkgwrcgcXRDYXA9ODwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgIGh0bWwsIGJvZHkgeyBoZWlnaHQ6IDEwMCU7IG1hcmdpbjogMDsgfQogICAgICBib2R5IHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMDUwNzBhOwogICAgICAgIGNvbG9yOiAjZTZlZGYzOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgZm9udC1mYW1pbHk6IHVpLXNhbnMtc2VyaWYsIHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgU2Vnb2UgVUksIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIjsKICAgICAgfQogICAgICAjc2NlbmUgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyB9CiAgICAgIC5vdmVybGF5IHsgcG9zaXRpb246IGZpeGVkOyBpbnNldDogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnIgYXV0bzsgfQogICAgICAudGl0bGUgeyBtYXJnaW46IDE4cHggMjBweCAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogY2xhbXAoMThweCwgM3Z3LCAyOHB4KTsgbGV0dGVyLXNwYWNpbmc6IDAuMnB4OyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgdGV4dC1zaGFkb3c6IDAgMCAxMHB4IGNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYWNjZW50LCAjN2RkM2ZjKSA4MCUsICMwMDAgMjAlKTsgfQogICAgICAuc3VidGl0bGUgeyBtYXJnaW46IDAgMjBweCAxMHB4OyBmb250LXdlaWdodDogNTAwOyBmb250LXNpemU6IGNsYW1wKDEycHgsIDJ2dywgMTZweCk7IG9wYWNpdHk6IDAuODU7IH0KICAgICAgLmh1ZCB7IHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMTJweDsgYm90dG9tOiAxMnB4OyBwYWRkaW5nOiA4cHggMTBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDQwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpIHNhdHVyYXRlKDEyMCUpOyBmb250LXNpemU6IDEycHg7IGxpbmUtaGVpZ2h0OiAxLjQ7IH0KICAgICAgLmh1ZCBzdHJvbmcgeyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgfQogICAgICAuY2ZnQnRuIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDEycHg7IHJpZ2h0OiAxMnB4OyB6LWluZGV4OiAxMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiA2cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ1BhbmVsIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDU2cHg7IHJpZ2h0OiAxMnB4OyB3aWR0aDogbWluKDM4MHB4LCA5MHZ3KTsgbWF4LWhlaWdodDogODB2aDsgb3ZlcmZsb3c6IGF1dG87IHotaW5kZXg6IDIwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYmFja2dyb3VuZDogIzBiMTIyMGU2OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3gtc2hhZG93OiAwIDEwcHggNDBweCAjMDAwODsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpIHNhdHVyYXRlKDEyMCUpOyB9CiAgICAgIC5jb25maWdIZWFkZXIgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDEwcHggMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAwMDA1NTsgcG9zaXRpb246IHN0aWNreTsgdG9wOiAwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZjI7IH0KICAgICAgLmNvbmZpZ0JvZHkgeyBwYWRkaW5nOiAxMHB4IDEycHg7IGRpc3BsYXk6IGdyaWQ7IGdhcDogMTBweDsgfQogICAgICAuY29uZmlnQm9keSAucm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bzsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJhbmdlUm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNzJweDsgZ2FwOiA4cHg7IH0KICAgICAgLmNmZ0Nsb3NlIHsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMTIxYTJiY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA2cHg7IHBhZGRpbmc6IDRweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dCwgLmNvbmZpZ0JvZHkgc2VsZWN0IHsgZm9udC1zaXplOiAxNHB4OyBwYWRkaW5nOiA2cHggOHB4OyBiYWNrZ3JvdW5kOiAjMTAxODI3OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiA2cHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXRbdHlwZT1yYW5nZV0geyBwYWRkaW5nOiAwOyBoZWlnaHQ6IDI4cHg7IGFjY2VudC1jb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPGNhbnZhcyBpZD0ic2NlbmUiPjwvY2FudmFzPgogICAgPGRpdiBjbGFzcz0ib3ZlcmxheSI+CiAgICAgIDxkaXYgY2xhc3M9InRpdGxlIiBpZD0idGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJzdWJ0aXRsZSIgaWQ9InN1YnRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaHVkIiBpZD0iaHVkIj48L2Rpdj4KICAgIDwvZGl2PgogICAgPGJ1dHRvbiBpZD0iY2ZnQnRuIiBjbGFzcz0iY2ZnQnRuIiBhcmlhLWxhYmVsPSJPcGVuIGNvbmZpZyI+4pqZ77iOPC9idXR0b24+CiAgICA8ZGl2IGlkPSJjb25maWciIGNsYXNzPSJjb25maWdQYW5lbCIgaGlkZGVuPgogICAgICA8ZGl2IGNsYXNzPSJjb25maWdIZWFkZXIiPgogICAgICAgIDxzdHJvbmc+Q29uZmlnPC9zdHJvbmc+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2ZnQ2xvc2UiIGNsYXNzPSJjZmdDbG9zZSIgYXJpYS1sYWJlbD0iQ2xvc2UiPuKclTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBpZD0iY29uZmlnQm9keSIgY2xhc3M9ImNvbmZpZ0JvZHkiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICAndXNlIHN0cmljdCc7CgogICAgICAvLyBVUkwgcGFyYW1ldGVycwogICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgICAgIGNvbnN0IERFRkFVTFRfSFVFID0gOTsKICAgICAgY29uc3QgQkFTRV9IVUUgPSBjbGFtcEludChwYXJzZUludChwYXJhbXMuZ2V0KCdodWUnKSksIDAsIDM2MCwgREVGQVVMVF9IVUUpOwogICAgICBsZXQgcGFsZXR0ZUh1ZSA9IEJBU0VfSFVFOwogICAgICBjb25zdCBIRUFERVIgPSBwYXJhbXMuZ2V0KCdoZWFkZXInKSB8fCAnQm9pZHMg4oCUIERhdGEtT3JpZW50ZWQgKyBRdWFkdHJlZSc7CiAgICAgIGNvbnN0IFNVQkhFQURFUiA9IHBhcmFtcy5nZXQoJ3N1YmhlYWRlcicpIHx8ICdTaG9ja3dhdmVzIG9uIGNsaWNrL2RyYWcgwrcgcXVhZHRyZWUgdml6IG9uJzsKICAgICAgLy8gUXVhZHRyZWUgdml6IGlzIGhhbmRsZWQgYnkgQ0ZHLnF0OyBVUkwgcGFyYW0gJ3F0JyBvdmVycmlkZXMgaXQuCgogICAgICAvLyBET00KICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjZW5lJyk7CiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pOwogICAgICBjb25zdCB0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJyk7CiAgICAgIGNvbnN0IHN1YnRpdGxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VidGl0bGUnKTsKICAgICAgY29uc3QgaHVkRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHVkJyk7CgogICAgICAvLyBTdHlsZSBob29rCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQnLCBgaHNsKCR7cGFsZXR0ZUh1ZX0sIDg1JSwgNjIlKWApOwogICAgICB0aXRsZUVsLnRleHRDb250ZW50ID0gSEVBREVSOwogICAgICBzdWJ0aXRsZUVsLnRleHRDb250ZW50ID0gU1VCSEVBREVSOwoKICAgICAgLy8gQ29uZmlnIChpbmplY3RlZCBieSBnZW5lcmF0b3IpIOKAlCBtdXRhYmxlIGF0IHJ1bnRpbWUKICAgICAgbGV0IENGRyA9IHsiY291bnQiOiAxODUsICJ2aXNpb24iOiA2MywgInNlcCI6IDI2LCAibWF4U3BlZWQiOiAyLjg3LCAibWF4Rm9yY2UiOiAwLjA3NiwgIm1pblNwZWVkIjogMS4zMSwgImFsaWduVyI6IDAuNzEsICJjb2hlc2lvblciOiAwLjczLCAic2VwYXJhdGlvblciOiAyLjcxLCAidHJhaWxBbHBoYSI6IDAuMTEsICJxdENhcCI6IDgsICJ3cmFwIjogZmFsc2UsICJzaGFwZSI6ICJvcmIiLCAiYmxlbmQiOiAicGx1cy1saWdodGVyIiwgImxpbmVXaWR0aCI6IDIuMTYsICJnbG93QmFzZSI6IDE2LCAiZ2xvd01heCI6IDMxLCAiZ2xvd1NjYWxlIjogNy4xLCAiY29tZXRTaXplIjogNy41LCAiYmdHcmFkaWVudCI6IHRydWUsICJiZ0h1ZVNoaWZ0MSI6IDM0LCAiYmdIdWVTaGlmdDIiOiA2MSwgImJnSHVlU2hpZnQzIjogMTE0LCAic3Bhd24iOiAiY2lyY2xlIiwgInF0IjogdHJ1ZSwgInNob3dIdWQiOiB0cnVlLCAiZmxvdyI6IGZhbHNlLCAiZmxvd0FtcCI6IDAuNCwgImZsb3dTY2FsZSI6IDAuMDAzOSwgImZsb3dTcGVlZCI6IDEuMzksICJjbGlja01vZGUiOiAicmFuZG9tIn07CiAgICAgIENGRy5taW5TcGVlZCA9IENGRy5taW5TcGVlZCA/PyAwLjg7CiAgICAgIENGRy5xdCA9ICh0eXBlb2YgQ0ZHLnF0ID09PSAnYm9vbGVhbicpID8gQ0ZHLnF0IDogdHJ1ZTsKICAgICAgQ0ZHLmNsaWNrTW9kZSA9IENGRy5jbGlja01vZGUgfHwgJ3JhbmRvbSc7CiAgICAgIENGRy5jbGlja01vZGVzID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWwogICAgICAgICdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5Jywnc3R1bicsJ2ZlYXInLCdhdHRyYWN0Jywnb3JiaXRDVycsJ29yYml0Q0NXJywKICAgICAgICAnc3BpcmFsT3V0Jywnc3BpcmFsSW4nLCdmcmVlemUnLCdzY3JhbWJsZScsJ3NjYXR0ZXInLCdtYWduZXQnLCdwdWxzZScsCiAgICAgICAgJ3dhcnAnLCdncm93JywndHVubmVsJywncmlwcGxlJywnaml0dGVyYnVyc3QnLCdjaHJvbWFidXJzdCcsJ3Nsb3dkb3duJywnc3BlZWR1cCcsCiAgICAgICAgJ3BlcmxpbkRyYWcnLCdsaXNzYVB1bHNlJywnbWV0ZW9yJywKICAgICAgICAvLyBzdGVlcmluZy13ZWlnaHQgZWZmZWN0cwogICAgICAgICdhbGlnbicsJ2RlYWxpZ24nLCdjb2hlcmUnLCdsb29zZW4nLCdzZXBhcmF0ZScsJ2Rpc3BlcnNlJwogICAgICBdOwoKICAgICAgZnVuY3Rpb24gcGFyc2VCb29sKHYsIGQpIHsKICAgICAgICBpZiAodiA9PSBudWxsKSByZXR1cm4gZDsKICAgICAgICBjb25zdCBzID0gU3RyaW5nKHYpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKFsnMScsJ3RydWUnLCd5ZXMnLCdvbiddLmluY2x1ZGVzKHMpKSByZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAoWycwJywnZmFsc2UnLCdubycsJ29mZiddLmluY2x1ZGVzKHMpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIGQ7CiAgICAgIH0KCiAgICAgIC8vIFVSTCBvdmVycmlkZXMgZm9yIGNvbmZpZwogICAgICAoZnVuY3Rpb24gdXJsT3ZlcnJpZGUoKXsKICAgICAgICBjb25zdCBpbnRLZXlzID0gWydjb3VudCcsJ3Zpc2lvbicsJ3NlcCcsJ3F0Q2FwJywnYmdIdWVTaGlmdDEnLCdiZ0h1ZVNoaWZ0MicsJ2JnSHVlU2hpZnQzJ107CiAgICAgICAgY29uc3QgbnVtS2V5cyA9IFsnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCddOwogICAgICAgIGNvbnN0IGJvb2xLZXlzID0gWyd3cmFwJywnYmdHcmFkaWVudCcsJ3F0JywnZmxvdycsJ3Nob3dIdWQnXTsKICAgICAgICBjb25zdCBzdHJLZXlzID0gWydzaGFwZScsJ2JsZW5kJywnc3Bhd24nXTsKICAgICAgICBmb3IgKGNvbnN0IGsgb2YgaW50S2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBNYXRoLm1heCgtOTk5OTksIE1hdGgubWluKDk5OTk5LCBwYXJzZUludCh2KSkpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIG51bUtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gTnVtYmVyKHYpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGJvb2xLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IHBhcnNlQm9vbCh2LCBDRkdba10pOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIHN0cktleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gdjsgfQogICAgICAgIGNvbnN0IGNtID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlJyk7IGlmIChjbSkgQ0ZHLmNsaWNrTW9kZSA9IGNtOwogICAgICAgIGNvbnN0IGNtcyA9IHBhcmFtcy5nZXQoJ2NsaWNrTW9kZXMnKTsgaWYgKGNtcykgQ0ZHLmNsaWNrTW9kZXMgPSBjbXMuc3BsaXQoJywnKTsKICAgICAgfSkoKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVVybEZyb21DZmcoZXh0cmE9e30pIHsKICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdodWUnLCBwYWxldHRlSHVlKTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaGVhZGVyJywgdGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N1YmhlYWRlcicsIHN1YnRpdGxlRWwudGV4dENvbnRlbnQpOwogICAgICAgIGNvbnN0IGtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywncXRDYXAnLCd3cmFwJywnc2hhcGUnLCdibGVuZCcsJ2xpbmVXaWR0aCcsJ2dsb3dCYXNlJywnZ2xvd01heCcsJ2dsb3dTY2FsZScsJ2NvbWV0U2l6ZScsJ2JnR3JhZGllbnQnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnLCdxdCcsJ2NsaWNrTW9kZScsJ2NsaWNrTW9kZXMnLCdmbG93JywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCcsJ3NwYXduJywnc2hvd0h1ZCddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB1cmwuc2VhcmNoUGFyYW1zLnNldChrLCBTdHJpbmcoQ0ZHW2tdKSk7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGVzICYmIEFycmF5LmlzQXJyYXkoQ0ZHLmNsaWNrTW9kZXMpKSB1cmwuc2VhcmNoUGFyYW1zLnNldCgnY2xpY2tNb2RlcycsIENGRy5jbGlja01vZGVzLmpvaW4oJywnKSk7CiAgICAgICAgZm9yIChjb25zdCBbayx2XSBvZiBPYmplY3QuZW50cmllcyhleHRyYSkpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIHYpOwogICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsICcnLCB1cmwudG9TdHJpbmcoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IFRBVSA9IE1hdGguUEkgKiAyOwoKICAgICAgLy8gQ2FudmFzIHNpemluZyB3aXRoIERQUgogICAgICBsZXQgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgICAgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3IoaW5uZXJXaWR0aCAqIERQUik7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IoaW5uZXJIZWlnaHQgKiBEUFIpOwogICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oRFBSLCAwLCAwLCBEUFIsIDAsIDApOwogICAgICAgIGNsZWFySGFyZCgpOwogICAgICB9CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZSk7CiAgICAgIHJlc2l6ZSgpOwoKICAgICAgZnVuY3Rpb24gY2xlYXJIYXJkKCkgewogICAgICAgIGlmIChDRkcuYmdHcmFkaWVudCkgewogICAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChpbm5lcldpZHRoKjAuNjUsIGlubmVySGVpZ2h0KjAuMzUsIE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjE1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lcldpZHRoKjAuNSwgaW5uZXJIZWlnaHQqMC41LCBNYXRoLmh5cG90KGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjcpOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQxKSUzNjB9IDgwJSAxMCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjUsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDIpJTM2MH0gNzAlIDglKWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMS4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQzKSUzNjB9IDYwJSA2JSlgKTsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwNTA3MGEnOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBjbGFtcEludChuLCBsbywgaGksIGZhbGxiYWNrKSB7CiAgICAgICAgbiA9IE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiBmYWxsYmFjazsKICAgICAgICByZXR1cm4gTWF0aC5tYXgobG8sIE1hdGgubWluKGhpLCBuKSk7CiAgICAgIH0KCiAgICAgIC8vIERyaWZ0IGEgaHVlIHZhbHVlIHRvd2FyZCBhIHRhcmdldCBvbiBhIGNpcmN1bGFyIGNvbG9yIHdoZWVsCiAgICAgIGZ1bmN0aW9uIGFwcHJvYWNoSHVlKGgsIHRhcmdldCwgcmF0ZSkgewogICAgICAgIC8vIHJhdGUgaXMgMC4uMSBmcmFjdGlvbiB0b3dhcmQgdGFyZ2V0IHBlciBjYWxsCiAgICAgICAgbGV0IGQgPSAoKHRhcmdldCAtIGggKyA1NDApICUgMzYwKSAtIDE4MDsgLy8gc2hvcnRlc3Qgc2lnbmVkIGRlbHRhIFstMTgwLDE4MCkKICAgICAgICByZXR1cm4gKGggKyBkICogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcmF0ZSkpICsgMzYwKSAlIDM2MDsKICAgICAgfQoKICAgICAgLy8gTGlnaHR3ZWlnaHQgMkQgdmFsdWUgbm9pc2UgKGZvciBwZXJsaW4tbGlrZSBkcmFnKQogICAgICBsZXQgbm9pc2VTZWVkID0gKEJBU0VfSFVFICogMTY2NDUyNSArIDEwMTM5MDQyMjMpICYgMHhmZmZmZmZmZjsKICAgICAgZnVuY3Rpb24gZnJhY3QoeCl7IHJldHVybiB4IC0gTWF0aC5mbG9vcih4KTsgfQogICAgICBmdW5jdGlvbiBfcmFuZChpeCwgaXkpewogICAgICAgIGNvbnN0IGsgPSAoaXggKiAzNzQ3NjEzOTMgKyBpeSAqIDY2ODI2NTI2MyArIG5vaXNlU2VlZCkgPj4+IDA7CiAgICAgICAgcmV0dXJuIGZyYWN0KE1hdGguc2luKGspICogNDM3NTguNTQ1Myk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gbm9pc2UyKHgsIHkpewogICAgICAgIGNvbnN0IHhpID0gTWF0aC5mbG9vcih4KSwgeWkgPSBNYXRoLmZsb29yKHkpOwogICAgICAgIGNvbnN0IHhmID0geCAtIHhpLCB5ZiA9IHkgLSB5aTsKICAgICAgICBjb25zdCB1ID0geGYqeGYqKDMtMip4ZiksIHYgPSB5Zip5ZiooMy0yKnlmKTsKICAgICAgICBjb25zdCB2MDAgPSBfcmFuZCh4aSwgeWkpLCB2MTAgPSBfcmFuZCh4aSsxLCB5aSksIHYwMSA9IF9yYW5kKHhpLCB5aSsxKSwgdjExID0gX3JhbmQoeGkrMSwgeWkrMSk7CiAgICAgICAgY29uc3QgeDEgPSB2MDAqKDEtdSkgKyB2MTAqdSwgeDIgPSB2MDEqKDEtdSkgKyB2MTEqdTsKICAgICAgICByZXR1cm4geDEqKDEtdikgKyB4Mip2OwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHBlcmxpblZlYyh4LCB5LCBzY2FsZSwgYW1wKXsKICAgICAgICBjb25zdCBuID0gbm9pc2UyKHgqc2NhbGUsIHkqc2NhbGUpOwogICAgICAgIGNvbnN0IGEgPSBuICogVEFVOwogICAgICAgIHJldHVybiBbTWF0aC5jb3MoYSkqYW1wLCBNYXRoLnNpbihhKSphbXBdOwogICAgICB9CgogICAgICAvLyBTZWVkZWQgUFJORyBmb3Igc3VidGxlIGRldGVybWluaXNtIGZyb20gQkFTRV9IVUUKICAgICAgbGV0IF9zZWVkID0gKEJBU0VfSFVFICogOTMwMSArIDQ5Mjk3KSAlIDIzMzI4MDsKICAgICAgZnVuY3Rpb24gcm5kKCkgeyBfc2VlZCA9ICgxMTAzNTE1MjQ1ICogX3NlZWQgKyAxMjM0NSkgJiAweDdmZmZmZmZmOyByZXR1cm4gKF9zZWVkID4+PiA4KSAvIDB4N2ZmZmZmOyB9CiAgICAgIGZ1bmN0aW9uIHJhbmQobWluLCBtYXgpIHsgcmV0dXJuIHJuZCgpICogKG1heCAtIG1pbikgKyBtaW47IH0KCiAgICAgIC8vIERhdGEtT3JpZW50ZWQgU3RhdGUgKFNvQSkg4oCUIGR5bmFtaWMKICAgICAgbGV0IE4gPSBDRkcuY291bnQ7CiAgICAgIGxldCBweCwgcHksIHZ4LCB2eSwgYXgsIGF5LCBodWUsIHNwZCwgcHJldngsIHByZXZ5OwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgbW9kaWZpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgc2l6ZU11bCwgdkJvb3N0LCBodWVPZmYsIGppdEFtcDsKICAgICAgLy8gdHJhbnNpZW50IHBlci1ib2lkIHN0ZWVyaW5nIG11bHRpcGxpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgYWxpZ25NdWwsIGNvaGVzaW9uTXVsLCBzZXBhcmF0aW9uTXVsOwoKICAgICAgZnVuY3Rpb24gYWxsb2MobikgewogICAgICAgIHB4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgcHkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHZ4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdnkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGF4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgYXkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGh1ZSA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNwZCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgcHJldnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBwcmV2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgc2l6ZU11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHZCb29zdCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGh1ZU9mZiA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGppdEFtcCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYWxpZ25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBjb2hlc2lvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNlcGFyYXRpb25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzZWVkQm9pZHMoKSB7CiAgICAgICAgY29uc3QgbW9kZSA9IENGRy5zcGF3biB8fCAncmFuZG9tJzsKICAgICAgICBpZiAobW9kZSA9PT0gJ2NpcmNsZScpIHsKICAgICAgICAgIGNvbnN0IGN4ID0gaW5uZXJXaWR0aC8yLCBjeSA9IGlubmVySGVpZ2h0LzIsIHIgPSBNYXRoLm1pbihpbm5lcldpZHRoLCBpbm5lckhlaWdodCkvMzsKICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGNvbnN0IHQgPSBNYXRoLnJhbmRvbSgpKk1hdGguUEkqMjsgcHhbaV09Y3grTWF0aC5jb3ModCkqcjsgcHlbaV09Y3krTWF0aC5zaW4odCkqcjsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2dyaWQnKSB7CiAgICAgICAgICBjb25zdCBjb2xzPU1hdGgubWF4KDEwLCBNYXRoLmZsb29yKE1hdGguc3FydChOKSkpOyBjb25zdCByb3dzPU1hdGguY2VpbChOL2NvbHMpOwogICAgICAgICAgY29uc3QgZ3g9aW5uZXJXaWR0aC8oY29scysxKSwgZ3k9aW5uZXJIZWlnaHQvKHJvd3MrMSk7IGxldCBrPTA7CiAgICAgICAgICBmb3IgKGxldCB5PTE7eTw9cm93czt5KyspIGZvciAobGV0IHg9MTt4PD1jb2xzO3grKykgeyBpZiAoaz49TikgYnJlYWs7IHB4W2tdPWd4Kng7IHB5W2tdPWd5Knk7IHZ4W2tdPXJhbmQoLTEsMSk7IHZ5W2tdPXJhbmQoLTEsMSk7IGsrKzsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2NlbnRlcmJ1cnN0JykgewogICAgICAgICAgY29uc3QgY3g9aW5uZXJXaWR0aC8yLCBjeT1pbm5lckhlaWdodC8yOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgYT1NYXRoLnJhbmRvbSgpKk1hdGguUEkqMiwgZD1yYW5kKDAsIE1hdGgubWluKGlubmVyV2lkdGgsaW5uZXJIZWlnaHQpLzIpOyBweFtpXT1jeCtNYXRoLmNvcyhhKSpkOyBweVtpXT1jeStNYXRoLnNpbihhKSpkOyB2eFtpXT1NYXRoLmNvcyhhKTsgdnlbaV09TWF0aC5zaW4oYSk7IH0KICAgICAgICB9IGVsc2UgeyAvLyByYW5kb20KICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IHB4W2ldPXJhbmQoMCxpbm5lcldpZHRoKTsgcHlbaV09cmFuZCgwLGlubmVySGVpZ2h0KTsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0KICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgICAgY29uc3QgbT1NYXRoLmh5cG90KHZ4W2ldLHZ5W2ldKXx8MTsgdnhbaV0qPTIuMC9tOyB2eVtpXSo9Mi4wL207CiAgICAgICAgICBodWVbaV0gPSAocGFsZXR0ZUh1ZSArIHJhbmQoLTMwLCAzMCkpICUgMzYwOyBwcmV2eFtpXT1weFtpXTsgcHJldnlbaV09cHlbaV07CiAgICAgICAgICBzaXplTXVsW2ldPTA7IHZCb29zdFtpXT0wOyBodWVPZmZbaV09MDsgaml0QW1wW2ldPTA7CiAgICAgICAgICBhbGlnbk11bFtpXT0wOyBjb2hlc2lvbk11bFtpXT0wOyBzZXBhcmF0aW9uTXVsW2ldPTA7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiByZXNlZWQobikgewogICAgICAgIE4gPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKG4pKTsKICAgICAgICBhbGxvYyhOKTsgc2VlZEJvaWRzKCk7CiAgICAgIH0KCiAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKCiAgICAgIC8vIFF1YWR0cmVlIGltcGxlbWVudGF0aW9uCiAgICAgIGNsYXNzIFFUTm9kZSB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCwgY2FwKSB7CiAgICAgICAgICB0aGlzLnggPSB4OyB0aGlzLnkgPSB5OyB0aGlzLncgPSB3OyB0aGlzLmggPSBoOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7IHRoaXMuY291bnQgPSAwOyB0aGlzLmlkeCA9IG5ldyBJbnQzMkFycmF5KGNhcCk7CiAgICAgICAgICB0aGlzLnB0c3ggPSBuZXcgRmxvYXQzMkFycmF5KGNhcCk7IHRoaXMucHRzeSA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMuZGl2aWRlZCA9IGZhbHNlOyB0aGlzLmNoaWxkcmVuID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNsYXNzIFF1YWR0cmVlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMucm9vdCA9IG5ldyBRVE5vZGUoeCwgeSwgdywgaCwgY2FwKTsKICAgICAgICAgIHRoaXMuY2FwID0gY2FwOwogICAgICAgIH0KCiAgICAgICAgaW5zZXJ0KGksIHgsIHksIG5vZGUgPSB0aGlzLnJvb3QpIHsKICAgICAgICAgIGlmICh4IDwgbm9kZS54IHx8IHkgPCBub2RlLnkgfHwgeCA+PSBub2RlLnggKyBub2RlLncgfHwgeSA+PSBub2RlLnkgKyBub2RlLmgpIHJldHVybiBmYWxzZTsKICAgICAgICAgIGlmIChub2RlLmNvdW50IDwgbm9kZS5jYXAgJiYgIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBjb25zdCBqID0gbm9kZS5jb3VudCsrOyBub2RlLmlkeFtqXSA9IGk7IG5vZGUucHRzeFtqXSA9IHg7IG5vZGUucHRzeVtqXSA9IHk7IHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHRoaXMuc3ViZGl2aWRlKG5vZGUpOwogICAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgIH0KCiAgICAgICAgc3ViZGl2aWRlKG5vZGUpIHsKICAgICAgICAgIG5vZGUuZGl2aWRlZCA9IHRydWU7CiAgICAgICAgICBjb25zdCBodyA9IG5vZGUudy8yLCBoaCA9IG5vZGUuaC8yOwogICAgICAgICAgbm9kZS5jaGlsZHJlbiA9IFsKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngsICAgICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5XCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54K2h3LCAgICBub2RlLnksICAgICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBORQogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU1cKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueStoaCwgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIFNFCiAgICAgICAgICBdOwogICAgICAgICAgLy8gcmVpbnNlcnQgZXhpc3RpbmcgcG9pbnRzCiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG5vZGUuY291bnQ7IGsrKykgewogICAgICAgICAgICBjb25zdCBpID0gbm9kZS5pZHhba107IGNvbnN0IHggPSBub2RlLnB0c3hba107IGNvbnN0IHkgPSBub2RlLnB0c3lba107CiAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgICAgfQogICAgICAgICAgbm9kZS5jb3VudCA9IDA7IC8vIGNsZWFyIGxlYWYgc3RvcmFnZQogICAgICAgIH0KCiAgICAgICAgcXVlcnkoY3gsIGN5LCByLCBvdXQpIHsKICAgICAgICAgIHRoaXMuX3F1ZXJ5Tm9kZSh0aGlzLnJvb3QsIGN4LCBjeSwgciwgb3V0KTsKICAgICAgICB9CiAgICAgICAgX3F1ZXJ5Tm9kZShub2RlLCBjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgLy8gY2lyY2xlLXJlY3QgcXVpY2sgcmVqZWN0CiAgICAgICAgICBjb25zdCByeD1ub2RlLngsIHJ5PW5vZGUueSwgcnc9bm9kZS53LCByaD1ub2RlLmg7CiAgICAgICAgICBsZXQgbnggPSBNYXRoLm1heChyeCwgTWF0aC5taW4oY3gsIHJ4K3J3KSk7CiAgICAgICAgICBsZXQgbnkgPSBNYXRoLm1heChyeSwgTWF0aC5taW4oY3ksIHJ5K3JoKSk7CiAgICAgICAgICBjb25zdCBkaXN0ID0gKGN4LW54KSooY3gtbngpKyhjeS1ueSkqKGN5LW55KTsKICAgICAgICAgIGlmIChkaXN0ID4gcipyKSByZXR1cm47CgogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHsKICAgICAgICAgICAgZm9yIChsZXQgaz0wO2s8bm9kZS5jb3VudDtrKyspIHsgb3V0LnB1c2gobm9kZS5pZHhba10pOyB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9xdWVyeU5vZGUobm9kZS5jaGlsZHJlbltjXSwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KCiAgICAgICAgZHJhdyhjdHgpIHsKICAgICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgaHNsKCR7KHBhbGV0dGVIdWUrMTgwKSUzNjB9IDgwJSA3MCUgLyAwLjE0KWA7CiAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTsKICAgICAgICAgIHRoaXMuX2RyYXdOb2RlKGN0eCwgdGhpcy5yb290KTsKICAgICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgfQogICAgICAgIF9kcmF3Tm9kZShjdHgsIG5vZGUpIHsKICAgICAgICAgIGN0eC5zdHJva2VSZWN0KG5vZGUueCwgbm9kZS55LCBub2RlLncsIG5vZGUuaCk7CiAgICAgICAgICBpZiAobm9kZS5kaXZpZGVkKSBmb3IgKGxldCBjPTA7Yzw0O2MrKykgdGhpcy5fZHJhd05vZGUoY3R4LCBub2RlLmNoaWxkcmVuW2NdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHMKICAgICAgY29uc3QgZWZmZWN0cyA9IFtdOyAvLyB7eCx5LHQsbGlmZSxzaWduLHR5cGUsLi4uZXh0cmFzfQogICAgICBsZXQgbW91c2VEb3duID0gZmFsc2U7CiAgICAgIGNvbnN0IHBvaW50ZXIgPSB7eDogaW5uZXJXaWR0aC8yLCB5OiBpbm5lckhlaWdodC8yLCB2eDogMCwgdnk6IDAsIHQ6IHBlcmZvcm1hbmNlLm5vdygpfTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksICsxKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCAgIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSBmYWxzZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksIC0xKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBpZiAobW91c2VEb3duKSBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CgogICAgICBmdW5jdGlvbiBwaWNrQ2xpY2tUeXBlKCkgewogICAgICAgIGlmIChDRkcuY2xpY2tNb2RlICYmIENGRy5jbGlja01vZGUgIT09ICdyYW5kb20nKSByZXR1cm4gQ0ZHLmNsaWNrTW9kZTsKICAgICAgICBjb25zdCBsaXN0ID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWydzaG9jayddOwogICAgICAgIHJldHVybiBsaXN0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpsaXN0Lmxlbmd0aCldIHx8ICdzaG9jayc7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gc3Bhd25FZmZlY3QoeCwgeSwgc2lnbikgewogICAgICAgIGNvbnN0IHR5cGUgPSBwaWNrQ2xpY2tUeXBlKCk7CiAgICAgICAgY29uc3QgbGlmZSA9ICh0eXBlPT09J2ltcGxvc2lvbicpID8gMC45IDogKHR5cGU9PT0ndm9ydGV4JyB8fCB0eXBlPT09J21ldGVvcicgPyAxLjggOiAxLjIpOwogICAgICAgIGNvbnN0IEUgPSB7IHgsIHksIHQ6IDAsIGxpZmUsIHNpZ24sIHR5cGUgfTsKICAgICAgICBpZiAodHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICBjb25zdCBzcCA9IE1hdGgubWluKDMsIE1hdGguaHlwb3QocG9pbnRlci52eCwgcG9pbnRlci52eSkqMTIwKTsKICAgICAgICAgIEUuYSA9IDIgKyBNYXRoLmZsb29yKHNwJTQpOyBFLmIgPSAzICsgTWF0aC5mbG9vcigoc3AqMS43KSU0KTsgRS5waGFzZSA9IE1hdGgucmFuZG9tKCkqVEFVOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGNvbnN0IHNjYWxlID0gOTAwOyBFLnZ4ID0gcG9pbnRlci52eCpzY2FsZTsgRS52eSA9IHBvaW50ZXIudnkqc2NhbGU7IEUubWFzcyA9IDIyMCArIE1hdGgucmFuZG9tKCkqMTgwOyBFLmRyYWc9MC45ODsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgRS5zY2FsZSA9IDAuMDA2ICsgTWF0aC5yYW5kb20oKSowLjAwNjsgRS5hbXAgPSAxLjIgKyBNYXRoLnJhbmRvbSgpKjEuMjsKICAgICAgICB9CiAgICAgICAgZWZmZWN0cy5wdXNoKEUpOwogICAgICB9CgogICAgICAvLyBQaHlzaWNzIGhlbHBlcnMKICAgICAgZnVuY3Rpb24gbGltaXQodngsIHZ5LCBtYXgpIHsKICAgICAgICBjb25zdCBtMiA9IHZ4KnZ4ICsgdnkqdnk7IGlmIChtMiA+IG1heCptYXgpIHsKICAgICAgICAgIGNvbnN0IG0gPSBNYXRoLnNxcnQobTIpIHx8IDE7IGNvbnN0IHMgPSBtYXggLyBtOyByZXR1cm4gW3Z4KnMsIHZ5KnNdOwogICAgICAgIH0gcmV0dXJuIFt2eCwgdnldOwogICAgICB9CgogICAgICAvLyBNYWluIGxvb3AKICAgICAgbGV0IGxhc3QgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgbGV0IGZwc0F2ZyA9IDA7CiAgICAgIGZ1bmN0aW9uIGZyYW1lKHQpIHsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWluKDMyLCB0IC0gbGFzdCkgKiAwLjAwMTsgLy8gY2xhbXAKICAgICAgICBsYXN0ID0gdDsKICAgICAgICBjb25zdCBmcHNOb3cgPSAxIC8gTWF0aC5tYXgoMWUtNiwgZHQpOwogICAgICAgIGZwc0F2ZyA9IGZwc0F2ZyA/IChmcHNBdmcqMC45ICsgZnBzTm93KjAuMSkgOiBmcHNOb3c7CiAgICAgICAgY29uc3QgVyA9IGlubmVyV2lkdGgsIEggPSBpbm5lckhlaWdodDsKCiAgICAgICAgLy8gdHJhaWxzOiB0cmFuc2x1Y2VudCBmaWxsCiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7CiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBDRkcudHJhaWxBbHBoYSkpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIFcsIEgpOwogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEJ1aWxkIHF1YWR0cmVlCiAgICAgICAgY29uc3QgcXQgPSBuZXcgUXVhZHRyZWUoMCwgMCwgVywgSCwgQ0ZHLnF0Q2FwKTsKICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgcXQuaW5zZXJ0KGksIHB4W2ldLCBweVtpXSk7CgogICAgICAvLyBBcHBseSBmbG9ja2luZyB2aWEgbmVpZ2hib3IgcXVlcmllcyAoYWRhcHRpdmUgdmlzaW9uIHVuZGVyIGxvYWQpCiAgICAgIGNvbnN0IHZpc2lvbiA9IENGRy52aXNpb24gKiAoZnBzQXZnIDwgNTAgPyAwLjkgOiAxLjApOyBjb25zdCBzZXAgPSBDRkcuc2VwOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBheFtpXT0wOyBheVtpXT0wOyB9CiAgICAgIGxldCB0bXAgPSBbXTsKICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICB0bXAubGVuZ3RoID0gMDsgcXQucXVlcnkocHhbaV0sIHB5W2ldLCB2aXNpb24sIHRtcCk7CiAgICAgICAgICBsZXQgY3g9MCwgY3k9MCwgdnhzdW09MCwgdnlzdW09MCwgc3g9MCwgc3k9MCwgdG90YWw9MCwgc2Nsb3NlPTA7CiAgICAgICAgICBmb3IgKGxldCBrPTA7azx0bXAubGVuZ3RoO2srKykgewogICAgICAgICAgICBjb25zdCBqID0gdG1wW2tdOyBpZiAoaj09PWkpIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBkeCA9IHB4W2pdLXB4W2ldOyBjb25zdCBkeSA9IHB5W2pdLXB5W2ldOwogICAgICAgICAgICBjb25zdCBkMiA9IGR4KmR4ICsgZHkqZHk7IGlmIChkMiA9PT0gMCkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGQgPSBNYXRoLnNxcnQoZDIpOwogICAgICAgICAgICBpZiAoZCA8IHZpc2lvbikgeyB0b3RhbCsrOyBjeCArPSBweFtqXTsgY3kgKz0gcHlbal07IHZ4c3VtICs9IHZ4W2pdOyB2eXN1bSArPSB2eVtqXTsgfQogICAgICAgICAgICBpZiAoZCA8IHNlcCkgeyBzY2xvc2UrKzsgc3ggLT0gZHgvKGR8fDEpOyBzeSAtPSBkeS8oZHx8MSk7IH0KICAgICAgICAgIH0KICAgICAgICAgIGlmICh0b3RhbD4wKSB7CiAgICAgICAgICAgIC8vIGFsaWdubWVudAogICAgICAgICAgICBsZXQgYXh2ID0gKHZ4c3VtL3RvdGFsKSAtIHZ4W2ldOyBsZXQgYXl2ID0gKHZ5c3VtL3RvdGFsKSAtIHZ5W2ldOwogICAgICAgICAgICBjb25zdCBhbGlnblcgPSBDRkcuYWxpZ25XICogKDEgKyAoYWxpZ25NdWxbaV18fDApKTsKICAgICAgICAgICAgW2F4diwgYXl2XSA9IGxpbWl0KGF4diwgYXl2LCBDRkcubWF4Rm9yY2UpOwogICAgICAgICAgICBheFtpXSArPSBheHYgKiBhbGlnblc7IGF5W2ldICs9IGF5diAqIGFsaWduVzsKICAgICAgICAgICAgLy8gY29oZXNpb24KICAgICAgICAgICAgbGV0IGN4diA9IChjeC90b3RhbCAtIHB4W2ldKTsgbGV0IGN5diA9IChjeS90b3RhbCAtIHB5W2ldKTsKICAgICAgICAgICAgY29uc3QgY29oVyA9IENGRy5jb2hlc2lvblcgKiAoMSArIChjb2hlc2lvbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbY3h2LCBjeXZdID0gbGltaXQoY3h2LCBjeXYsIENGRy5tYXhGb3JjZSk7IGF4W2ldICs9IGN4diAqIGNvaFc7IGF5W2ldICs9IGN5diAqIGNvaFc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc2Nsb3NlPjApIHsKICAgICAgICAgICAgbGV0IHN4diA9IHN4OyBsZXQgc3l2ID0gc3k7IFtzeHYsIHN5dl0gPSBsaW1pdChzeHYsIHN5diwgQ0ZHLm1heEZvcmNlKjEuNSk7CiAgICAgICAgICAgIGNvbnN0IHNlcFcgPSBDRkcuc2VwYXJhdGlvblcgKiAoMSArIChzZXBhcmF0aW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIGF4W2ldICs9IHN4diAqIHNlcFc7IGF5W2ldICs9IHN5diAqIHNlcFc7CiAgICAgICAgICB9CiAgICAgICAgLy8gb3B0aW9uYWwgZmxvdyBmaWVsZCBmb3IgcGF0dGVybiB2YXJpZXR5CiAgICAgICAgaWYgKENGRy5mbG93KSB7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmZsb3dTY2FsZSB8fCAwLjAwNDsgY29uc3QgYSA9IENGRy5mbG93QW1wIHx8IDAuNjsgY29uc3Qgc3AgPSBDRkcuZmxvd1NwZWVkIHx8IDAuNjsKICAgICAgICAgIGNvbnN0IHQwID0gcGVyZm9ybWFuY2Uubm93KCkqMC4wMDEqc3A7CiAgICAgICAgICBjb25zdCBmeCA9IE1hdGguc2luKHB5W2ldKnMgKyB0MCkgKiBhOwogICAgICAgICAgY29uc3QgZnkgPSBNYXRoLmNvcyhweFtpXSpzIC0gdDApICogYTsKICAgICAgICAgIGF4W2ldICs9IGZ4OyBheVtpXSArPSBmeTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHM6IH4yMCsgbW9kZXMgaW5jbHVkaW5nIHBlcmxpbkRyYWcsIGxpc3NhUHVsc2UsIG1ldGVvcgogICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInOwogICAgICBsZXQgdG1wMiA9IFtdOwogICAgICBmb3IgKGxldCBlPWVmZmVjdHMubGVuZ3RoLTE7IGU+PTA7IGUtLSkgewogICAgICAgIGNvbnN0IEUgPSBlZmZlY3RzW2VdOyBFLnQgKz0gZHQ7IGNvbnN0IGsgPSBFLnQgLyBFLmxpZmU7CiAgICAgICAgY29uc3QgciA9IDMwICsgayAqIDI2MDsgY29uc3Qgc3RyID0gMS4wIC0gazsKICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgeyBFLnggKz0gKEUudnh8fDApKmR0OyBFLnkgKz0gKEUudnl8fDApKmR0OyBFLnZ4ICo9IChFLmRyYWd8fDEpOyBFLnZ5ICo9IChFLmRyYWd8fDEpOyBFLm1hc3MgKj0gMC45ODU7IH0KICAgICAgICB0bXAyLmxlbmd0aCA9IDA7IHF0LnF1ZXJ5KEUueCwgRS55LCByLCB0bXAyKTsKICAgICAgICBmb3IgKGxldCBpaT0wOyBpaTx0bXAyLmxlbmd0aDsgaWkrKykgewogICAgICAgICAgY29uc3QgaSA9IHRtcDJbaWldOyBjb25zdCBkeCA9IHB4W2ldLUUueDsgY29uc3QgZHkgPSBweVtpXS1FLnk7IGNvbnN0IGQgPSBNYXRoLmh5cG90KGR4LCBkeSl8fDE7CiAgICAgICAgICBjb25zdCBmYWxsID0gKDEgLSBNYXRoLm1pbigxLCBkL3IpKTsKICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgICBjb25zdCB2ID0gcGVybGluVmVjKHB4W2ldLUUueCwgcHlbaV0tRS55LCBFLnNjYWxlfHwwLjAwOCwgKEUuYW1wfHwxLjUpICogZmFsbCk7CiAgICAgICAgICAgIGF4W2ldICs9IHZbMF07IGF5W2ldICs9IHZbMV07IGh1ZU9mZltpXSArPSA0MCpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdsaXNzYVB1bHNlJykgewogICAgICAgICAgICBjb25zdCBhbmcgPSBNYXRoLmF0YW4yKGR5LCBkeCk7CiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNpbihFLmEqYW5nICsgRS5waGFzZSkgKiBNYXRoLmNvcyhFLmIqYW5nIC0gRS5waGFzZSk7CiAgICAgICAgICAgIGNvbnN0IHMgPSB3ICogMi4wICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICAgIGNvbnN0IEcgPSA4MDA7IGNvbnN0IGYgPSBNYXRoLm1pbigzLjAsIChHKihFLm1hc3N8fDIwMCkpLygoZCpkKSsyMDApKTsKICAgICAgICAgICAgYXhbaV0gLT0gKGR4L2QpKmYqZmFsbDsgYXlbaV0gLT0gKGR5L2QpKmYqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOyBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAndm9ydGV4JyB8fCBFLnR5cGU9PT0nb3JiaXRDVycgfHwgRS50eXBlPT09J29yYml0Q0NXJyB8fCBFLnR5cGU9PT0nc3BpcmFsT3V0JyB8fCBFLnR5cGU9PT0nc3BpcmFsSW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nb3JiaXRDQ1cnKSA/IC0xIDogMTsKICAgICAgICAgICAgY29uc3QgdHggPSAtZHkvZCwgdHkgPSBkeC9kOyBsZXQgcyA9IChFLnNpZ24+MD8xOi0xKSAqIDEuMiAqIGZhbGwgKiBkaXI7CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsT3V0JykgeyBzID0gMS4yKmZhbGw7IGF4W2ldICs9IChkeC9kKSpmYWxsKjAuODsgYXlbaV0gKz0gKGR5L2QpKmZhbGwqMC44OyB9CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsSW4nKSB7IHMgPSAtMS4yKmZhbGw7IGF4W2ldIC09IChkeC9kKSpmYWxsKjAuNjsgYXlbaV0gLT0gKGR5L2QpKmZhbGwqMC42OyB9CiAgICAgICAgICAgIGF4W2ldICs9IHR4KnM7IGF5W2ldICs9IHR5KnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IHZCb29zdFtpXSArPSAwLjIqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaW1wbG9zaW9uJyB8fCBFLnR5cGU9PT0nYXR0cmFjdCcgfHwgRS50eXBlPT09J21hZ25ldCcpIHsKICAgICAgICAgICAgY29uc3QgcyA9IChFLnR5cGU9PT0naW1wbG9zaW9uJyA/IC0yLjIgOiAtMS4yKSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjE1KmZhbGw7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc3ByYXknIHx8IEUudHlwZT09PSdzY2F0dGVyJykgewogICAgICAgICAgICBjb25zdCBzID0gKEUuc2lnbj4wPzE6LTEpICogKEUudHlwZT09PSdzY2F0dGVyJz8zLjA6Mi40KSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgdnhbaV0gKz0gKGR4L2QpICogMC4yNSAqIGZhbGw7IHZ5W2ldICs9IChkeS9kKSAqIDAuMjUgKiBmYWxsOyBqaXRBbXBbaV0gKz0gMC4xNSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzdHVuJyB8fCBFLnR5cGU9PT0nZnJlZXplJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gLT0gKEUudHlwZT09PSdmcmVlemUnPzAuNjowLjMpICogZmFsbDsgc2l6ZU11bFtpXSArPSAwLjMqZmFsbDsgdnhbaV0gKj0gMC45NjsgdnlbaV0gKj0gMC45NjsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZmVhcicpIHsKICAgICAgICAgICAgY29uc3QgcyA9IDIuOCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgaml0QW1wW2ldICs9IDAuMjUqZmFsbDsgaHVlT2ZmW2ldICs9IDgwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NjcmFtYmxlJykgewogICAgICAgICAgICB2eFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMS41KmZhbGw7IHZ5W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgaml0QW1wW2ldICs9IDAuMypmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdwdWxzZScgfHwgRS50eXBlPT09J3JpcHBsZScpIHsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKGsqTWF0aC5QSSoyKTsgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2FsaWduJykgewogICAgICAgICAgICBhbGlnbk11bFtpXSArPSAwLjggKiBmYWxsOyBzZXBhcmF0aW9uTXVsW2ldIC09IDAuMyAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2RlYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldIC09IDAuOCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldICs9IDAuMiAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjEgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjb2hlcmUnIHx8IEUudHlwZT09PSd0aWdodGVuJyB8fCBFLnR5cGU9PT0nbG9vc2VuJykgewogICAgICAgICAgICBjb25zdCBkaXIgPSAoRS50eXBlPT09J2xvb3NlbicpID8gLTEgOiAxOyAvLyBsb29zZW4gcmVkdWNlcyBjb2hlc2lvbgogICAgICAgICAgICBjb2hlc2lvbk11bFtpXSArPSBkaXIgKiAwLjkgKiBmYWxsOyBpZiAoZGlyPjApIHNlcGFyYXRpb25NdWxbaV0gLT0gMC4yICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2VwYXJhdGUnIHx8IEUudHlwZT09PSdkaXNwZXJzZScpIHsKICAgICAgICAgICAgc2VwYXJhdGlvbk11bFtpXSArPSAxLjAgKiBmYWxsOyBjb2hlc2lvbk11bFtpXSAtPSAwLjQgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd3YXJwJyB8fCBFLnR5cGU9PT0nc3BlZWR1cCcpIHsKICAgICAgICAgICAgdkJvb3N0W2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBodWVPZmZbaV0gKz0gNDAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2xvd2Rvd24nKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAwLjUqZmFsbDsgaHVlT2ZmW2ldIC09IDIwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2dyb3cnKSB7CiAgICAgICAgICAgIHNpemVNdWxbaV0gKz0gMC42KmZhbGw7IGh1ZU9mZltpXSArPSAzMCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd0dW5uZWwnKSB7CiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHIqMC43OyBjb25zdCBzID0gKGQ8dGFyZ2V0PysxOi0xKSAqIDEuMiAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaml0dGVyYnVyc3QnKSB7CiAgICAgICAgICAgIGppdEFtcFtpXSArPSAwLjYqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnY2hyb21hYnVyc3QnKSB7CiAgICAgICAgICAgIGh1ZU9mZltpXSArPSAxNjAgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIHsgLy8gc2hvY2sgLyBkZWZhdWx0CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/KzE6LTEpICogMS44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyB2Qm9vc3RbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBnZW5lcmFsIGNvbG9yIGVuZXJneQogICAgICAgICAgaHVlW2ldID0gKGh1ZVtpXSArIDkwICogZmFsbCkgJSAzNjA7CiAgICAgICAgfQogICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoRS54LCBFLnksIE1hdGgubWF4KDEsIHIqMC42KSwgRS54LCBFLnksIHIpOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7KHBhbGV0dGVIdWUrMjApJTM2MH0sIDk1JSwgNzAlLCAkezAuMzQqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs2MCklMzYwfSwgOTUlLCA2MCUsICR7MC4yMipzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45NSwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsxMDApJTM2MH0sIDk1JSwgNTUlLCAwKWApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7cGFsZXR0ZUh1ZX0sIDk1JSwgNjUlLCAkezAuMjUqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs0MCklMzYwfSwgOTUlLCA1NSUsICR7MC4xOCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45LCBgaHNsYSgkeyhwYWxldHRlSHVlKzgwKSUzNjB9LCA5NSUsIDYwJSwgMClgKTsKICAgICAgICB9CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYyhFLngsIEUueSwgciwgMCwgTWF0aC5QSSoyKTsgY3R4LmZpbGwoKTsKICAgICAgICBpZiAoayA+PSAxKSBlZmZlY3RzLnNwbGljZShlLCAxKTsKICAgICAgfQogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEludGVncmF0ZSBhbmQgZHJhdyBib2lkcyB3aXRoIGdsb3cgYW5kIHRyYWlscwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBDRkcuYmxlbmQ7CiAgICAgIGN0eC5saW5lV2lkdGggPSBDRkcubGluZVdpZHRoOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICAvLyBpbnRlZ3JhdGUKICAgICAgICAgIGlmIChqaXRBbXBbaV0gPiAwLjAwMDEpIHsgYXhbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgYXlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgfQogICAgICAgICAgdnhbaV0gKz0gYXhbaV07IHZ5W2ldICs9IGF5W2ldOwogICAgICAgICAgY29uc3Qgdk1heCA9IENGRy5tYXhTcGVlZCAqICgxICsgTWF0aC5tYXgoLTAuNywgdkJvb3N0W2ldKSowLjgpOwogICAgICAgICAgW3Z4W2ldLCB2eVtpXV0gPSBsaW1pdCh2eFtpXSwgdnlbaV0sIHZNYXgpOwogICAgICAgICAgLy8gZW5mb3JjZSBtaW4gc3BlZWQgKHdpdGggYm9vc3QpCiAgICAgICAgICB7IGNvbnN0IHNwID0gTWF0aC5oeXBvdCh2eFtpXSwgdnlbaV0pIHx8IDE7IGNvbnN0IHZNaW4gPSBDRkcubWluU3BlZWQgKiAoMSArIE1hdGgubWF4KDAsIHZCb29zdFtpXSkqMC41KTsgaWYgKHNwIDwgdk1pbikgeyBjb25zdCBzID0gdk1pbiAvIHNwOyB2eFtpXSAqPSBzOyB2eVtpXSAqPSBzOyB9IH0KICAgICAgICAgIHByZXZ4W2ldID0gcHhbaV07IHByZXZ5W2ldID0gcHlbaV07CiAgICAgICAgICBweFtpXSArPSB2eFtpXTsgcHlbaV0gKz0gdnlbaV07CgogICAgICAgICAgLy8gYm91bmRhcmllcwogICAgICAgICAgaWYgKENGRy53cmFwKSB7CiAgICAgICAgICAgIGlmIChweFtpXSA8IC01KSBweFtpXSA9IFcgKyA1OyBlbHNlIGlmIChweFtpXSA+IFcrNSkgcHhbaV0gPSAtNTsKICAgICAgICAgICAgaWYgKHB5W2ldIDwgLTUpIHB5W2ldID0gSCArIDU7IGVsc2UgaWYgKHB5W2ldID4gSCs1KSBweVtpXSA9IC01OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgMCB8fCBweFtpXSA+IFcpIHsgdnhbaV0gPSAtdnhbaV07IH0KICAgICAgICAgICAgaWYgKHB5W2ldIDwgMCB8fCBweVtpXSA+IEgpIHsgdnlbaV0gPSAtdnlbaV07IH0KICAgICAgICAgICAgcHhbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihXLCBweFtpXSkpOwogICAgICAgICAgICBweVtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKEgsIHB5W2ldKSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZGVjYXkgbW9kaWZpZXJzIGFuZCBjb21wdXRlIHRpbnQKICAgICAgICAgIHZCb29zdFtpXSAqPSAwLjkyOyBzaXplTXVsW2ldICo9IDAuOTA7IGh1ZU9mZltpXSAqPSAwLjk0OyBqaXRBbXBbaV0gKj0gMC44ODsKICAgICAgICAgIGFsaWduTXVsW2ldICo9IDAuOTQ7IGNvaGVzaW9uTXVsW2ldICo9IDAuOTQ7IHNlcGFyYXRpb25NdWxbaV0gKj0gMC45NDsKICAgICAgICAgIC8vIHNsb3dseSBkcmlmdCBib2lkIGh1ZSBiYWNrIHRvd2FyZCBiYXNlIHBhbGV0dGUgaHVlCiAgICAgICAgICBodWVbaV0gPSBhcHByb2FjaEh1ZShodWVbaV0sIHBhbGV0dGVIdWUsIE1hdGgubWluKDEsIGR0ICogKENGRy5odWVSZWxheCB8fCAwLjIpKSk7CiAgICAgICAgICBzcGRbaV0gPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSk7CiAgICAgICAgICBjb25zdCBMID0gNTAgKyBNYXRoLm1pbig0NSwgc3BkW2ldKjgpOwogICAgICAgICAgY29uc3QgUyA9IDgwICsgTWF0aC5taW4oMjAsIHNwZFtpXSo2KTsKICAgICAgICAgIGNvbnN0IGRyYXdIdWUgPSAoaHVlW2ldICsgaHVlT2ZmW2ldKSAlIDM2MDsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHtkcmF3SHVlfSwgJHtTfSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguc2hhZG93Q29sb3IgPSBgaHNsKCR7ZHJhd0h1ZX0sIDkwJSwgNjAlKWA7CiAgICAgICAgICBjb25zdCBnbG93UXVhbGl0eSA9IChmcHNBdmcgPCA1MCA/IDAuNSA6IDEuMCk7CiAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IGdsb3dRdWFsaXR5ICogKENGRy5nbG93QmFzZSArIE1hdGgubWluKENGRy5nbG93TWF4LCBzcGRbaV0qQ0ZHLmdsb3dTY2FsZSkpOwoKICAgICAgICAgIC8vIHRyYWlsIHNlZ21lbnQKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5tb3ZlVG8ocHJldnhbaV0sIHByZXZ5W2ldKTsKICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0sIHB5W2ldKTsKICAgICAgICAgIGN0eC5zdHJva2UoKTsKCiAgICAgICAgICAvLyBib2lkIGhlYWQgc2hhcGUKICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIodnlbaV0sIHZ4W2ldKTsKICAgICAgICAgIGNvbnN0IGNhID0gTWF0aC5jb3MoYW5nKSwgc2EgPSBNYXRoLnNpbihhbmcpOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGBoc2woJHtodWVbaV19LCA5NSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmNvbWV0U2l6ZSAqICgxICsgKHNpemVNdWxbaV18fDApKTsKICAgICAgICAgIGlmIChDRkcuc2hhcGUgPT09ICd0cmlhbmdsZScpIHsKICAgICAgICAgICAgY29uc3QgQzI2ID0gMC44NTY4ODg3NTMsIFMyNiA9IDAuNTE1NDk4OyAvLyBjb3Mvc2luKDIuNikKICAgICAgICAgICAgY29uc3QgeDAgPSBweFtpXSArIGNhKnMqMS42LCB5MCA9IHB5W2ldICsgc2EqcyoxLjY7CiAgICAgICAgICAgIGNvbnN0IGNhX3AgPSBjYSpDMjYgLSBzYSpTMjYsIHNhX3AgPSBzYSpDMjYgKyBjYSpTMjY7CiAgICAgICAgICAgIGNvbnN0IGNhX20gPSBjYSpDMjYgKyBzYSpTMjYsIHNhX20gPSBzYSpDMjYgLSBjYSpTMjY7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeDAsIHkwKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AqcywgIHB5W2ldICsgc2FfcCpzKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20qcywgIHB5W2ldICsgc2FfbSpzKTsKICAgICAgICAgIH0gZWxzZSBpZiAoQ0ZHLnNoYXBlID09PSAnb3JiJykgewogICAgICAgICAgICBjdHguYXJjKHB4W2ldLCBweVtpXSwgcyowLjYsIDAsIE1hdGguUEkqMik7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzcGFyawogICAgICAgICAgICBjb25zdCBDMDIgPSAwLjk4MDA2NjYsIFMwMiA9IDAuMTk4NjY5MzsgLy8gY29zL3NpbigwLjIpCiAgICAgICAgICAgIGNvbnN0IHhoID0gcHhbaV0gKyBjYSpzKjEuOCwgeWggPSBweVtpXSArIHNhKnMqMS44OwogICAgICAgICAgICBjb25zdCBjYV9wMDIgPSBjYSpDMDIgLSBzYSpTMDIsIHNhX3AwMiA9IHNhKkMwMiArIGNhKlMwMjsKICAgICAgICAgICAgY29uc3QgY2FfbTAyID0gY2EqQzAyICsgc2EqUzAyLCBzYV9tMDIgPSBzYSpDMDIgLSBjYSpTMDI7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeGgsIHloKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AwMipzKjAuNiwgIHB5W2ldICsgc2FfcDAyKnMqMC42KTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20wMipzKjAuNiwgIHB5W2ldICsgc2FfbTAyKnMqMC42KTsKICAgICAgICAgIH0KICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTsgY3R4LmZpbGwoKTsKICAgICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gUXVhZHRyZWUgdmlzdWFsaXphdGlvbiAoZGVmYXVsdCBvbikKICAgICAgICBpZiAoQ0ZHLnF0KSBxdC5kcmF3KGN0eCk7CgogICAgICAgIC8vIEhVRAogICAgICAgIGh1ZEVsLmlubmVySFRNTCA9IGA8c3Ryb25nPkJvaWRzPC9zdHJvbmc+IMK3IE49JHtOfSB2aXNpb249JHtDRkcudmlzaW9ufSBzZXA9JHtDRkcuc2VwfSBgICsKICAgICAgICAgIGDCtyBxdENhcD0ke0NGRy5xdENhcH0gwrcgaHVlPSR7cGFsZXR0ZUh1ZX0gwrcgcXRWaXo9JHtDRkcucXQ/J29uJzonb2ZmJ30gwrcgY2xpY2s9JHtDRkcuY2xpY2tNb2RlfSDCtyBmcHM9JHtmcHNBdmcudG9GaXhlZCgwKX1gOwoKICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpOwogICAgICB9CiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CgogICAgICAvLyBDb25maWcgVUkgYnVpbGQgYW5kIHdpcmluZwogICAgICBjb25zdCBjZmdCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQnRuJyk7CiAgICAgIGNvbnN0IGNmZ0Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmZ0Nsb3NlJyk7CiAgICAgIGNvbnN0IGNmZ1BhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZycpOwogICAgICBjb25zdCBjZmdCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZ0JvZHknKTsKICAgICAgY2ZnQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKSk7CiAgICAgIGNmZ0Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCcnKSk7CgogICAgICBjb25zdCBzY2hlbWEgPSBbCiAgICAgICAge2tleTonaHVlJywgbGFiZWw6J0h1ZScsIHR5cGU6J2ludCcsIG1pbjowLCBtYXg6MzYwLCBzdGVwOjEsIHZhbHVlOkJBU0VfSFVFfSwKICAgICAgICB7a2V5OidoZWFkZXInLCBsYWJlbDonSGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOkhFQURFUn0sCiAgICAgICAge2tleTonc3ViaGVhZGVyJywgbGFiZWw6J1N1YmhlYWRlcicsIHR5cGU6J3RleHQnLCB2YWx1ZTpTVUJIRUFERVJ9LAogICAgICAgIHtrZXk6J3F0JywgbGFiZWw6J1Nob3cgUXVhZHRyZWUnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hvd0h1ZCcsIGxhYmVsOidTaG93IEhVRCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzcGF3bicsIGxhYmVsOidTcGF3bicsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdjaXJjbGUnLCdncmlkJywnY2VudGVyYnVyc3QnXX0sCiAgICAgICAge2tleTonY291bnQnLCBsYWJlbDonQ291bnQnLCB0eXBlOidpbnQnLCBtaW46NTAsIG1heDoxMDAwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3Zpc2lvbicsIGxhYmVsOidWaXNpb24nLCB0eXBlOidpbnQnLCBtaW46MjAsIG1heDoyMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonc2VwJywgbGFiZWw6J1NlcGFyYXRpb24gRGlzdCcsIHR5cGU6J2ludCcsIG1pbjo0LCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonbWF4U3BlZWQnLCBsYWJlbDonTWF4IFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMSwgbWF4OjEyLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonbWluU3BlZWQnLCBsYWJlbDonTWluIFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMCwgbWF4OjYsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtYXhGb3JjZScsIGxhYmVsOidNYXggU3RlZXJpbmcgRm9yY2UnLCB0eXBlOidudW1iZXInLCBtaW46MC4wMDEsIG1heDowLjUsIHN0ZXA6MC4wMDF9LAogICAgICAgIHtrZXk6J2FsaWduVycsIGxhYmVsOidBbGlnbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY29oZXNpb25XJywgbGFiZWw6J0NvaGVzaW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidzZXBhcmF0aW9uVycsIGxhYmVsOidTZXBhcmF0aW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oid0cmFpbEFscGhhJywgbGFiZWw6J1RyYWlsIEFscGhhJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDoxLCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3F0Q2FwJywgbGFiZWw6J1F1YWR0cmVlIENhcGFjaXR5JywgdHlwZTonaW50JywgbWluOjIsIG1heDozMiwgc3RlcDoxfSwKICAgICAgICB7a2V5Oid3cmFwJywgbGFiZWw6J1dyYXAgQm91bmRzJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NoYXBlJywgbGFiZWw6J1NoYXBlJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3RyaWFuZ2xlJywnc3BhcmsnLCdvcmInXX0sCiAgICAgICAge2tleTonYmxlbmQnLCBsYWJlbDonQmxlbmQnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsnbGlnaHRlcicsJ3NjcmVlbicsJ292ZXJsYXknLCdwbHVzLWxpZ2h0ZXInXX0sCiAgICAgICAge2tleTonbGluZVdpZHRoJywgbGFiZWw6J0xpbmUgV2lkdGgnLCB0eXBlOidudW1iZXInLCBtaW46MC4yLCBtYXg6NCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2dsb3dCYXNlJywgbGFiZWw6J0dsb3cgQmFzZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NjAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd01heCcsIGxhYmVsOidHbG93IE1heCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd1NjYWxlJywgbGFiZWw6J0dsb3cgU2NhbGUnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonY29tZXRTaXplJywgbGFiZWw6J0NvbWV0IFNpemUnLCB0eXBlOidudW1iZXInLCBtaW46MSwgbWF4OjIwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonYmdHcmFkaWVudCcsIGxhYmVsOidCRyBHcmFkaWVudCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MScsIGxhYmVsOidCRyBIdWUgU2hpZnQgMScsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQyJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAyJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDMnLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDMnLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidmbG93JywgbGFiZWw6J0Zsb3cgRmllbGQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonZmxvd0FtcCcsIGxhYmVsOidGbG93IEFtcCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjA1fSwKICAgICAgICB7a2V5OidmbG93U2NhbGUnLCBsYWJlbDonRmxvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMDUsIG1heDowLjAyLCBzdGVwOjAuMDAwNX0sCiAgICAgICAge2tleTonZmxvd1NwZWVkJywgbGFiZWw6J0Zsb3cgU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjMsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY2xpY2tNb2RlJywgbGFiZWw6J0NsaWNrIE1vZGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsncmFuZG9tJywnc2hvY2snLCd2b3J0ZXgnLCdpbXBsb3Npb24nLCdzcHJheSddfSwKICAgICAgXTsKCiAgICAgIGZ1bmN0aW9uIG1ha2VSb3cobGFiZWwsIGlucHV0KSB7CiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHJvdy5jbGFzc05hbWUgPSAncm93JzsKICAgICAgICBjb25zdCBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsgbC50ZXh0Q29udGVudCA9IGxhYmVsOyByb3cuYXBwZW5kQ2hpbGQobCk7CiAgICAgICAgcm93LmFwcGVuZENoaWxkKGlucHV0KTsgcmV0dXJuIHJvdzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYWRkSW5wdXQoaXRlbSkgewogICAgICAgIGxldCBpbnB1dDsKICAgICAgICBjb25zdCB2MCA9IChpdGVtLmtleSBpbiBDRkcpID8gQ0ZHW2l0ZW0ua2V5XSA6IGl0ZW0udmFsdWU7CiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Jvb2wnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J2NoZWNrYm94JzsgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IENGR1tpdGVtLmtleV0gPSBpbnB1dC5jaGVja2VkOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnc2VsZWN0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTsKICAgICAgICAgIGZvciAoY29uc3Qgb3B0IG9mIGl0ZW0ub3B0aW9ucykgeyBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7IG8udmFsdWU9b3B0OyBvLnRleHRDb250ZW50PW9wdDsgaWYgKG9wdD09PXYwKSBvLnNlbGVjdGVkPXRydWU7IGlucHV0LmFwcGVuZENoaWxkKG8pOyB9CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LnZhbHVlOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAndGV4dCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ndGV4dCc7IGlucHV0LnZhbHVlID0gU3RyaW5nKHYwfHwnJyk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaWYgKGl0ZW0ua2V5PT09J2hlYWRlcicpIHsgdGl0bGVFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5rZXk9PT0nc3ViaGVhZGVyJykgeyBzdWJ0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBpbnB1dC52YWx1ZSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5rZXkgPT09ICdodWUnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQubWluPScwJzsgaW5wdXQubWF4PSczNjAnOyBpbnB1dC5zdGVwPScxJzsgaW5wdXQudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIubWluPScwJzsgbnVtYmVyLm1heD0nMzYwJzsgbnVtYmVyLnN0ZXA9JzEnOyBudW1iZXIudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWU9aW5wdXQudmFsdWU7IGh1ZUNoYW5nZWQocGFyc2VJbnQoaW5wdXQudmFsdWUpKTsgfSk7CiAgICAgICAgICBudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlucHV0LnZhbHVlPW51bWJlci52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gaHVlQ2hhbmdlZCh2YWwpewogICAgICAgICAgICAvLyBzaGlmdCBwYWxldHRlIGltbWVkaWF0ZWx5CiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gKHZhbCAtIHBhbGV0dGVIdWUpOwogICAgICAgICAgICBwYWxldHRlSHVlID0gdmFsOwogICAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBodWVbaV0gPSAoaHVlW2ldICsgZGVsdGEpICUgMzYwOyB9CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQnLCBgaHNsKCR7dmFsfSwgODUlLCA2MiUpYCk7CiAgICAgICAgICAgIHVwZGF0ZVVybEZyb21DZmcoe2h1ZTpTdHJpbmcodmFsKX0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG51bWVyaWMgKHJhbmdlICsgbnVtYmVyIHBhaXIpCiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgaW5wdXQubWluPVN0cmluZyhpdGVtLm1pbik7IGlmIChpdGVtLm1heCE9bnVsbCkgaW5wdXQubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBudW1iZXIudHlwZT0nbnVtYmVyJzsgbnVtYmVyLnN0ZXA9U3RyaW5nKGl0ZW0uc3RlcHx8MSk7CiAgICAgICAgICBpZiAoaXRlbS5taW4hPW51bGwpIG51bWJlci5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBudW1iZXIubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBpbnB1dC52YWx1ZSA9IFN0cmluZyh2MCk7IG51bWJlci52YWx1ZSA9IFN0cmluZyh2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgbnVtYmVyLnZhbHVlID0gaW5wdXQudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWUgPSBudW1iZXIudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gbnVtQ2hhbmdlZCh2YWwpeyBDRkdbaXRlbS5rZXldID0gdmFsOyBhcHBseUNoYW5nZShpdGVtLmtleSwgdmFsKTsgfQogICAgICAgIH0KICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgaW5wdXQpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYXBwbHlDaGFuZ2Uoa2V5LCB2YWx1ZSkgewogICAgICAgIGlmIChrZXkgPT09ICdjb3VudCcgfHwga2V5ID09PSAnc3Bhd24nKSB7IHJlc2VlZChDRkcuY291bnQpOyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3F0JykgeyAvKiBpbW1lZGlhdGUgZHJhdyB0b2dnbGUgdmlhIENGRyAqLyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3Nob3dIdWQnKSB7IGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSBDRkcuc2hvd0h1ZCA/ICcnIDogJ25vbmUnOyB9CiAgICAgICAgdXBkYXRlVXJsRnJvbUNmZygpOwogICAgICB9CgogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc2NoZW1hKSBhZGRJbnB1dChpdGVtKTsKICAgICAgLy8gaW5pdGlhbCBIVUQgdmlzaWJpbGl0eQogICAgICBodWRFbC5zdHlsZS5kaXNwbGF5ID0gKENGRy5zaG93SHVkPT09ZmFsc2UpID8gJ25vbmUnIDogJyc7CgogICAgICAvLyBrZXlib2FyZCB0b2dnbGVzIChhZnRlciBidWlsZGluZyBwYW5lbCkKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7CiAgICAgICAgY29uc3QgayA9IGUua2V5LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKGsgPT09ICdxJykgeyBDRkcucXQgPSAhQ0ZHLnF0OyB1cGRhdGVVcmxGcm9tQ2ZnKCk7IH0KICAgICAgICBpZiAoayA9PT0gJ2MnKSB7IGNmZ1BhbmVsLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJyk7IH0KICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgPC9zY3JpcHQ+CiAgPC9ib2R5Pgo8L2h0bWw+Cg==" download="boids-dod-quadtree-20-impl.html" class="download-btn" title="Download boids-dod-quadtree-20-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=187 · spawn=random · bounce · orb · overlay · hue=235 · qtCap=8 · flow" data-filename="boids-dod-quadtree-10-impl.html"><a href="boids-dod-quadtree-10-impl.html" target="viewer"><strong>Boids DOD+QT · N=187 · spawn=random · bounce · orb · overlay · hue=235 · qtCap=8 · flow</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTE4NyDCtyBzcGF3bj1yYW5kb20gwrcgYm91bmNlIMK3IG9yYiDCtyBvdmVybGF5IMK3IGh1ZT0yMzUgwrcgcXRDYXA9OCDCtyBmbG93PC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgaHRtbCwgYm9keSB7IGhlaWdodDogMTAwJTsgbWFyZ2luOiAwOyB9CiAgICAgIGJvZHkgewogICAgICAgIGJhY2tncm91bmQ6ICMwNTA3MGE7CiAgICAgICAgY29sb3I6ICNlNmVkZjM7CiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICBmb250LWZhbWlseTogdWktc2Fucy1zZXJpZiwgc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBTZWdvZSBVSSwgUm9ib3RvLCBIZWx2ZXRpY2EsIEFyaWFsLCAiQXBwbGUgQ29sb3IgRW1vamkiLCAiU2Vnb2UgVUkgRW1vamkiOwogICAgICB9CiAgICAgICNzY2VuZSB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMTAwdnc7IGhlaWdodDogMTAwdmg7IH0KICAgICAgLm92ZXJsYXkgeyBwb3NpdGlvbjogZml4ZWQ7IGluc2V0OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmciBhdXRvOyB9CiAgICAgIC50aXRsZSB7IG1hcmdpbjogMThweCAyMHB4IDJweDsgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1zaXplOiBjbGFtcCgxOHB4LCAzdncsIDI4cHgpOyBsZXR0ZXItc3BhY2luZzogMC4ycHg7IGNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyB0ZXh0LXNoYWRvdzogMCAwIDEwcHggY29sb3ItbWl4KGluIG9rbGFiLCB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpIDgwJSwgIzAwMCAyMCUpOyB9CiAgICAgIC5zdWJ0aXRsZSB7IG1hcmdpbjogMCAyMHB4IDEwcHg7IGZvbnQtd2VpZ2h0OiA1MDA7IGZvbnQtc2l6ZTogY2xhbXAoMTJweCwgMnZ3LCAxNnB4KTsgb3BhY2l0eTogMC44NTsgfQogICAgICAuaHVkIHsgcG9zaXRpb246IGZpeGVkOyBsZWZ0OiAxMnB4OyBib3R0b206IDEycHg7IHBhZGRpbmc6IDhweCAxMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNDA7IGJhY2tncm91bmQ6ICMwYjEyMjBjYzsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDhweCkgc2F0dXJhdGUoMTIwJSk7IGZvbnQtc2l6ZTogMTJweDsgbGluZS1oZWlnaHQ6IDEuNDsgfQogICAgICAuaHVkIHN0cm9uZyB7IGNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyB9CiAgICAgIC5jZmdCdG4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMTJweDsgcmlnaHQ6IDEycHg7IHotaW5kZXg6IDEwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDZweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnUGFuZWwgeyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogNTZweDsgcmlnaHQ6IDEycHg7IHdpZHRoOiBtaW4oMzgwcHgsIDkwdncpOyBtYXgtaGVpZ2h0OiA4MHZoOyBvdmVyZmxvdzogYXV0bzsgei1pbmRleDogMjA7IHBvaW50ZXItZXZlbnRzOiBhdXRvOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZTY7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGJveC1zaGFkb3c6IDAgMTBweCA0MHB4ICMwMDA4OyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCkgc2F0dXJhdGUoMTIwJSk7IH0KICAgICAgLmNvbmZpZ0hlYWRlciB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgcGFkZGluZzogMTBweCAxMnB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMDAwMDU1OyBwb3NpdGlvbjogc3RpY2t5OyB0b3A6IDA7IGJhY2tncm91bmQ6ICMwYjEyMjBmMjsgfQogICAgICAuY29uZmlnQm9keSB7IHBhZGRpbmc6IDEwcHggMTJweDsgZGlzcGxheTogZ3JpZDsgZ2FwOiAxMHB4OyB9CiAgICAgIC5jb25maWdCb2R5IC5yb3cgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciBhdXRvOyBnYXA6IDhweDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgfQogICAgICAuY29uZmlnQm9keSAucmFuZ2VSb3cgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA3MnB4OyBnYXA6IDhweDsgfQogICAgICAuY2ZnQ2xvc2UgeyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJhY2tncm91bmQ6ICMxMjFhMmJjYzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlci1yYWRpdXM6IDZweDsgcGFkZGluZzogNHB4IDhweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgIC5jb25maWdCb2R5IGlucHV0LCAuY29uZmlnQm9keSBzZWxlY3QgeyBmb250LXNpemU6IDE0cHg7IHBhZGRpbmc6IDZweCA4cHg7IGJhY2tncm91bmQ6ICMxMDE4Mjc7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJvcmRlci1yYWRpdXM6IDZweDsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dFt0eXBlPXJhbmdlXSB7IHBhZGRpbmc6IDA7IGhlaWdodDogMjhweDsgYWNjZW50LWNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgfQogICAgPC9zdHlsZT4KICA8L2hlYWQ+CiAgPGJvZHk+CiAgICA8Y2FudmFzIGlkPSJzY2VuZSI+PC9jYW52YXM+CiAgICA8ZGl2IGNsYXNzPSJvdmVybGF5Ij4KICAgICAgPGRpdiBjbGFzcz0idGl0bGUiIGlkPSJ0aXRsZSI+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InN1YnRpdGxlIiBpZD0ic3VidGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJodWQiIGlkPSJodWQiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8YnV0dG9uIGlkPSJjZmdCdG4iIGNsYXNzPSJjZmdCdG4iIGFyaWEtbGFiZWw9Ik9wZW4gY29uZmlnIj7impnvuI48L2J1dHRvbj4KICAgIDxkaXYgaWQ9ImNvbmZpZyIgY2xhc3M9ImNvbmZpZ1BhbmVsIiBoaWRkZW4+CiAgICAgIDxkaXYgY2xhc3M9ImNvbmZpZ0hlYWRlciI+CiAgICAgICAgPHN0cm9uZz5Db25maWc8L3N0cm9uZz4KICAgICAgICA8YnV0dG9uIGlkPSJjZmdDbG9zZSIgY2xhc3M9ImNmZ0Nsb3NlIiBhcmlhLWxhYmVsPSJDbG9zZSI+4pyVPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGlkPSJjb25maWdCb2R5IiBjbGFzcz0iY29uZmlnQm9keSI+PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxzY3JpcHQ+CiAgICAgICd1c2Ugc3RyaWN0JzsKCiAgICAgIC8vIFVSTCBwYXJhbWV0ZXJzCiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24uc2VhcmNoKTsKICAgICAgY29uc3QgREVGQVVMVF9IVUUgPSAyMzU7CiAgICAgIGNvbnN0IEJBU0VfSFVFID0gY2xhbXBJbnQocGFyc2VJbnQocGFyYW1zLmdldCgnaHVlJykpLCAwLCAzNjAsIERFRkFVTFRfSFVFKTsKICAgICAgbGV0IHBhbGV0dGVIdWUgPSBCQVNFX0hVRTsKICAgICAgY29uc3QgSEVBREVSID0gcGFyYW1zLmdldCgnaGVhZGVyJykgfHwgJ0JvaWRzIOKAlCBEYXRhLU9yaWVudGVkICsgUXVhZHRyZWUnOwogICAgICBjb25zdCBTVUJIRUFERVIgPSBwYXJhbXMuZ2V0KCdzdWJoZWFkZXInKSB8fCAnU2hvY2t3YXZlcyBvbiBjbGljay9kcmFnIMK3IHF1YWR0cmVlIHZpeiBvbic7CiAgICAgIC8vIFF1YWR0cmVlIHZpeiBpcyBoYW5kbGVkIGJ5IENGRy5xdDsgVVJMIHBhcmFtICdxdCcgb3ZlcnJpZGVzIGl0LgoKICAgICAgLy8gRE9NCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2VuZScpOwogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBmYWxzZSB9KTsKICAgICAgY29uc3QgdGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpOwogICAgICBjb25zdCBzdWJ0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YnRpdGxlJyk7CiAgICAgIGNvbnN0IGh1ZEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h1ZCcpOwoKICAgICAgLy8gU3R5bGUgaG9vawogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3BhbGV0dGVIdWV9LCA4NSUsIDYyJSlgKTsKICAgICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IEhFQURFUjsKICAgICAgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IFNVQkhFQURFUjsKCiAgICAgIC8vIENvbmZpZyAoaW5qZWN0ZWQgYnkgZ2VuZXJhdG9yKSDigJQgbXV0YWJsZSBhdCBydW50aW1lCiAgICAgIGxldCBDRkcgPSB7ImNvdW50IjogMTg3LCAidmlzaW9uIjogNzgsICJzZXAiOiAxMiwgIm1heFNwZWVkIjogMi42OSwgIm1heEZvcmNlIjogMC4wNzYsICJtaW5TcGVlZCI6IDAuODYsICJhbGlnblciOiAxLjIyLCAiY29oZXNpb25XIjogMC44NCwgInNlcGFyYXRpb25XIjogMi4xOCwgInRyYWlsQWxwaGEiOiAwLjE4LCAicXRDYXAiOiA4LCAid3JhcCI6IGZhbHNlLCAic2hhcGUiOiAib3JiIiwgImJsZW5kIjogIm92ZXJsYXkiLCAibGluZVdpZHRoIjogMS4zLCAiZ2xvd0Jhc2UiOiAxNSwgImdsb3dNYXgiOiAzNywgImdsb3dTY2FsZSI6IDExLjQsICJjb21ldFNpemUiOiA3LjM4LCAiYmdHcmFkaWVudCI6IHRydWUsICJiZ0h1ZVNoaWZ0MSI6IC0zNCwgImJnSHVlU2hpZnQyIjogNTYsICJiZ0h1ZVNoaWZ0MyI6IDExMSwgInNwYXduIjogInJhbmRvbSIsICJxdCI6IHRydWUsICJzaG93SHVkIjogdHJ1ZSwgImZsb3ciOiB0cnVlLCAiZmxvd0FtcCI6IDEuMCwgImZsb3dTY2FsZSI6IDAuMDA2MSwgImZsb3dTcGVlZCI6IDAuODcsICJjbGlja01vZGUiOiAicmFuZG9tIn07CiAgICAgIENGRy5taW5TcGVlZCA9IENGRy5taW5TcGVlZCA/PyAwLjg7CiAgICAgIENGRy5xdCA9ICh0eXBlb2YgQ0ZHLnF0ID09PSAnYm9vbGVhbicpID8gQ0ZHLnF0IDogdHJ1ZTsKICAgICAgQ0ZHLmNsaWNrTW9kZSA9IENGRy5jbGlja01vZGUgfHwgJ3JhbmRvbSc7CiAgICAgIENGRy5jbGlja01vZGVzID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWwogICAgICAgICdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5Jywnc3R1bicsJ2ZlYXInLCdhdHRyYWN0Jywnb3JiaXRDVycsJ29yYml0Q0NXJywKICAgICAgICAnc3BpcmFsT3V0Jywnc3BpcmFsSW4nLCdmcmVlemUnLCdzY3JhbWJsZScsJ3NjYXR0ZXInLCdtYWduZXQnLCdwdWxzZScsCiAgICAgICAgJ3dhcnAnLCdncm93JywndHVubmVsJywncmlwcGxlJywnaml0dGVyYnVyc3QnLCdjaHJvbWFidXJzdCcsJ3Nsb3dkb3duJywnc3BlZWR1cCcsCiAgICAgICAgJ3BlcmxpbkRyYWcnLCdsaXNzYVB1bHNlJywnbWV0ZW9yJywKICAgICAgICAvLyBzdGVlcmluZy13ZWlnaHQgZWZmZWN0cwogICAgICAgICdhbGlnbicsJ2RlYWxpZ24nLCdjb2hlcmUnLCdsb29zZW4nLCdzZXBhcmF0ZScsJ2Rpc3BlcnNlJwogICAgICBdOwoKICAgICAgZnVuY3Rpb24gcGFyc2VCb29sKHYsIGQpIHsKICAgICAgICBpZiAodiA9PSBudWxsKSByZXR1cm4gZDsKICAgICAgICBjb25zdCBzID0gU3RyaW5nKHYpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKFsnMScsJ3RydWUnLCd5ZXMnLCdvbiddLmluY2x1ZGVzKHMpKSByZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAoWycwJywnZmFsc2UnLCdubycsJ29mZiddLmluY2x1ZGVzKHMpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIGQ7CiAgICAgIH0KCiAgICAgIC8vIFVSTCBvdmVycmlkZXMgZm9yIGNvbmZpZwogICAgICAoZnVuY3Rpb24gdXJsT3ZlcnJpZGUoKXsKICAgICAgICBjb25zdCBpbnRLZXlzID0gWydjb3VudCcsJ3Zpc2lvbicsJ3NlcCcsJ3F0Q2FwJywnYmdIdWVTaGlmdDEnLCdiZ0h1ZVNoaWZ0MicsJ2JnSHVlU2hpZnQzJ107CiAgICAgICAgY29uc3QgbnVtS2V5cyA9IFsnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCddOwogICAgICAgIGNvbnN0IGJvb2xLZXlzID0gWyd3cmFwJywnYmdHcmFkaWVudCcsJ3F0JywnZmxvdycsJ3Nob3dIdWQnXTsKICAgICAgICBjb25zdCBzdHJLZXlzID0gWydzaGFwZScsJ2JsZW5kJywnc3Bhd24nXTsKICAgICAgICBmb3IgKGNvbnN0IGsgb2YgaW50S2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBNYXRoLm1heCgtOTk5OTksIE1hdGgubWluKDk5OTk5LCBwYXJzZUludCh2KSkpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIG51bUtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gTnVtYmVyKHYpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGJvb2xLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IHBhcnNlQm9vbCh2LCBDRkdba10pOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIHN0cktleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gdjsgfQogICAgICAgIGNvbnN0IGNtID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlJyk7IGlmIChjbSkgQ0ZHLmNsaWNrTW9kZSA9IGNtOwogICAgICAgIGNvbnN0IGNtcyA9IHBhcmFtcy5nZXQoJ2NsaWNrTW9kZXMnKTsgaWYgKGNtcykgQ0ZHLmNsaWNrTW9kZXMgPSBjbXMuc3BsaXQoJywnKTsKICAgICAgfSkoKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVVybEZyb21DZmcoZXh0cmE9e30pIHsKICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdodWUnLCBwYWxldHRlSHVlKTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaGVhZGVyJywgdGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N1YmhlYWRlcicsIHN1YnRpdGxlRWwudGV4dENvbnRlbnQpOwogICAgICAgIGNvbnN0IGtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywncXRDYXAnLCd3cmFwJywnc2hhcGUnLCdibGVuZCcsJ2xpbmVXaWR0aCcsJ2dsb3dCYXNlJywnZ2xvd01heCcsJ2dsb3dTY2FsZScsJ2NvbWV0U2l6ZScsJ2JnR3JhZGllbnQnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnLCdxdCcsJ2NsaWNrTW9kZScsJ2NsaWNrTW9kZXMnLCdmbG93JywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCcsJ3NwYXduJywnc2hvd0h1ZCddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB1cmwuc2VhcmNoUGFyYW1zLnNldChrLCBTdHJpbmcoQ0ZHW2tdKSk7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGVzICYmIEFycmF5LmlzQXJyYXkoQ0ZHLmNsaWNrTW9kZXMpKSB1cmwuc2VhcmNoUGFyYW1zLnNldCgnY2xpY2tNb2RlcycsIENGRy5jbGlja01vZGVzLmpvaW4oJywnKSk7CiAgICAgICAgZm9yIChjb25zdCBbayx2XSBvZiBPYmplY3QuZW50cmllcyhleHRyYSkpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIHYpOwogICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsICcnLCB1cmwudG9TdHJpbmcoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IFRBVSA9IE1hdGguUEkgKiAyOwoKICAgICAgLy8gQ2FudmFzIHNpemluZyB3aXRoIERQUgogICAgICBsZXQgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgICAgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3IoaW5uZXJXaWR0aCAqIERQUik7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IoaW5uZXJIZWlnaHQgKiBEUFIpOwogICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oRFBSLCAwLCAwLCBEUFIsIDAsIDApOwogICAgICAgIGNsZWFySGFyZCgpOwogICAgICB9CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZSk7CiAgICAgIHJlc2l6ZSgpOwoKICAgICAgZnVuY3Rpb24gY2xlYXJIYXJkKCkgewogICAgICAgIGlmIChDRkcuYmdHcmFkaWVudCkgewogICAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChpbm5lcldpZHRoKjAuNjUsIGlubmVySGVpZ2h0KjAuMzUsIE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjE1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lcldpZHRoKjAuNSwgaW5uZXJIZWlnaHQqMC41LCBNYXRoLmh5cG90KGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjcpOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQxKSUzNjB9IDgwJSAxMCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjUsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDIpJTM2MH0gNzAlIDglKWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMS4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQzKSUzNjB9IDYwJSA2JSlgKTsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwNTA3MGEnOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBjbGFtcEludChuLCBsbywgaGksIGZhbGxiYWNrKSB7CiAgICAgICAgbiA9IE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiBmYWxsYmFjazsKICAgICAgICByZXR1cm4gTWF0aC5tYXgobG8sIE1hdGgubWluKGhpLCBuKSk7CiAgICAgIH0KCiAgICAgIC8vIERyaWZ0IGEgaHVlIHZhbHVlIHRvd2FyZCBhIHRhcmdldCBvbiBhIGNpcmN1bGFyIGNvbG9yIHdoZWVsCiAgICAgIGZ1bmN0aW9uIGFwcHJvYWNoSHVlKGgsIHRhcmdldCwgcmF0ZSkgewogICAgICAgIC8vIHJhdGUgaXMgMC4uMSBmcmFjdGlvbiB0b3dhcmQgdGFyZ2V0IHBlciBjYWxsCiAgICAgICAgbGV0IGQgPSAoKHRhcmdldCAtIGggKyA1NDApICUgMzYwKSAtIDE4MDsgLy8gc2hvcnRlc3Qgc2lnbmVkIGRlbHRhIFstMTgwLDE4MCkKICAgICAgICByZXR1cm4gKGggKyBkICogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcmF0ZSkpICsgMzYwKSAlIDM2MDsKICAgICAgfQoKICAgICAgLy8gTGlnaHR3ZWlnaHQgMkQgdmFsdWUgbm9pc2UgKGZvciBwZXJsaW4tbGlrZSBkcmFnKQogICAgICBsZXQgbm9pc2VTZWVkID0gKEJBU0VfSFVFICogMTY2NDUyNSArIDEwMTM5MDQyMjMpICYgMHhmZmZmZmZmZjsKICAgICAgZnVuY3Rpb24gZnJhY3QoeCl7IHJldHVybiB4IC0gTWF0aC5mbG9vcih4KTsgfQogICAgICBmdW5jdGlvbiBfcmFuZChpeCwgaXkpewogICAgICAgIGNvbnN0IGsgPSAoaXggKiAzNzQ3NjEzOTMgKyBpeSAqIDY2ODI2NTI2MyArIG5vaXNlU2VlZCkgPj4+IDA7CiAgICAgICAgcmV0dXJuIGZyYWN0KE1hdGguc2luKGspICogNDM3NTguNTQ1Myk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gbm9pc2UyKHgsIHkpewogICAgICAgIGNvbnN0IHhpID0gTWF0aC5mbG9vcih4KSwgeWkgPSBNYXRoLmZsb29yKHkpOwogICAgICAgIGNvbnN0IHhmID0geCAtIHhpLCB5ZiA9IHkgLSB5aTsKICAgICAgICBjb25zdCB1ID0geGYqeGYqKDMtMip4ZiksIHYgPSB5Zip5ZiooMy0yKnlmKTsKICAgICAgICBjb25zdCB2MDAgPSBfcmFuZCh4aSwgeWkpLCB2MTAgPSBfcmFuZCh4aSsxLCB5aSksIHYwMSA9IF9yYW5kKHhpLCB5aSsxKSwgdjExID0gX3JhbmQoeGkrMSwgeWkrMSk7CiAgICAgICAgY29uc3QgeDEgPSB2MDAqKDEtdSkgKyB2MTAqdSwgeDIgPSB2MDEqKDEtdSkgKyB2MTEqdTsKICAgICAgICByZXR1cm4geDEqKDEtdikgKyB4Mip2OwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHBlcmxpblZlYyh4LCB5LCBzY2FsZSwgYW1wKXsKICAgICAgICBjb25zdCBuID0gbm9pc2UyKHgqc2NhbGUsIHkqc2NhbGUpOwogICAgICAgIGNvbnN0IGEgPSBuICogVEFVOwogICAgICAgIHJldHVybiBbTWF0aC5jb3MoYSkqYW1wLCBNYXRoLnNpbihhKSphbXBdOwogICAgICB9CgogICAgICAvLyBTZWVkZWQgUFJORyBmb3Igc3VidGxlIGRldGVybWluaXNtIGZyb20gQkFTRV9IVUUKICAgICAgbGV0IF9zZWVkID0gKEJBU0VfSFVFICogOTMwMSArIDQ5Mjk3KSAlIDIzMzI4MDsKICAgICAgZnVuY3Rpb24gcm5kKCkgeyBfc2VlZCA9ICgxMTAzNTE1MjQ1ICogX3NlZWQgKyAxMjM0NSkgJiAweDdmZmZmZmZmOyByZXR1cm4gKF9zZWVkID4+PiA4KSAvIDB4N2ZmZmZmOyB9CiAgICAgIGZ1bmN0aW9uIHJhbmQobWluLCBtYXgpIHsgcmV0dXJuIHJuZCgpICogKG1heCAtIG1pbikgKyBtaW47IH0KCiAgICAgIC8vIERhdGEtT3JpZW50ZWQgU3RhdGUgKFNvQSkg4oCUIGR5bmFtaWMKICAgICAgbGV0IE4gPSBDRkcuY291bnQ7CiAgICAgIGxldCBweCwgcHksIHZ4LCB2eSwgYXgsIGF5LCBodWUsIHNwZCwgcHJldngsIHByZXZ5OwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgbW9kaWZpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgc2l6ZU11bCwgdkJvb3N0LCBodWVPZmYsIGppdEFtcDsKICAgICAgLy8gdHJhbnNpZW50IHBlci1ib2lkIHN0ZWVyaW5nIG11bHRpcGxpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgYWxpZ25NdWwsIGNvaGVzaW9uTXVsLCBzZXBhcmF0aW9uTXVsOwoKICAgICAgZnVuY3Rpb24gYWxsb2MobikgewogICAgICAgIHB4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgcHkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHZ4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdnkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGF4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgYXkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGh1ZSA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNwZCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgcHJldnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBwcmV2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgc2l6ZU11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHZCb29zdCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGh1ZU9mZiA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGppdEFtcCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYWxpZ25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBjb2hlc2lvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNlcGFyYXRpb25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzZWVkQm9pZHMoKSB7CiAgICAgICAgY29uc3QgbW9kZSA9IENGRy5zcGF3biB8fCAncmFuZG9tJzsKICAgICAgICBpZiAobW9kZSA9PT0gJ2NpcmNsZScpIHsKICAgICAgICAgIGNvbnN0IGN4ID0gaW5uZXJXaWR0aC8yLCBjeSA9IGlubmVySGVpZ2h0LzIsIHIgPSBNYXRoLm1pbihpbm5lcldpZHRoLCBpbm5lckhlaWdodCkvMzsKICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGNvbnN0IHQgPSBNYXRoLnJhbmRvbSgpKk1hdGguUEkqMjsgcHhbaV09Y3grTWF0aC5jb3ModCkqcjsgcHlbaV09Y3krTWF0aC5zaW4odCkqcjsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2dyaWQnKSB7CiAgICAgICAgICBjb25zdCBjb2xzPU1hdGgubWF4KDEwLCBNYXRoLmZsb29yKE1hdGguc3FydChOKSkpOyBjb25zdCByb3dzPU1hdGguY2VpbChOL2NvbHMpOwogICAgICAgICAgY29uc3QgZ3g9aW5uZXJXaWR0aC8oY29scysxKSwgZ3k9aW5uZXJIZWlnaHQvKHJvd3MrMSk7IGxldCBrPTA7CiAgICAgICAgICBmb3IgKGxldCB5PTE7eTw9cm93czt5KyspIGZvciAobGV0IHg9MTt4PD1jb2xzO3grKykgeyBpZiAoaz49TikgYnJlYWs7IHB4W2tdPWd4Kng7IHB5W2tdPWd5Knk7IHZ4W2tdPXJhbmQoLTEsMSk7IHZ5W2tdPXJhbmQoLTEsMSk7IGsrKzsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2NlbnRlcmJ1cnN0JykgewogICAgICAgICAgY29uc3QgY3g9aW5uZXJXaWR0aC8yLCBjeT1pbm5lckhlaWdodC8yOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgYT1NYXRoLnJhbmRvbSgpKk1hdGguUEkqMiwgZD1yYW5kKDAsIE1hdGgubWluKGlubmVyV2lkdGgsaW5uZXJIZWlnaHQpLzIpOyBweFtpXT1jeCtNYXRoLmNvcyhhKSpkOyBweVtpXT1jeStNYXRoLnNpbihhKSpkOyB2eFtpXT1NYXRoLmNvcyhhKTsgdnlbaV09TWF0aC5zaW4oYSk7IH0KICAgICAgICB9IGVsc2UgeyAvLyByYW5kb20KICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IHB4W2ldPXJhbmQoMCxpbm5lcldpZHRoKTsgcHlbaV09cmFuZCgwLGlubmVySGVpZ2h0KTsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0KICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgICAgY29uc3QgbT1NYXRoLmh5cG90KHZ4W2ldLHZ5W2ldKXx8MTsgdnhbaV0qPTIuMC9tOyB2eVtpXSo9Mi4wL207CiAgICAgICAgICBodWVbaV0gPSAocGFsZXR0ZUh1ZSArIHJhbmQoLTMwLCAzMCkpICUgMzYwOyBwcmV2eFtpXT1weFtpXTsgcHJldnlbaV09cHlbaV07CiAgICAgICAgICBzaXplTXVsW2ldPTA7IHZCb29zdFtpXT0wOyBodWVPZmZbaV09MDsgaml0QW1wW2ldPTA7CiAgICAgICAgICBhbGlnbk11bFtpXT0wOyBjb2hlc2lvbk11bFtpXT0wOyBzZXBhcmF0aW9uTXVsW2ldPTA7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiByZXNlZWQobikgewogICAgICAgIE4gPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKG4pKTsKICAgICAgICBhbGxvYyhOKTsgc2VlZEJvaWRzKCk7CiAgICAgIH0KCiAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKCiAgICAgIC8vIFF1YWR0cmVlIGltcGxlbWVudGF0aW9uCiAgICAgIGNsYXNzIFFUTm9kZSB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCwgY2FwKSB7CiAgICAgICAgICB0aGlzLnggPSB4OyB0aGlzLnkgPSB5OyB0aGlzLncgPSB3OyB0aGlzLmggPSBoOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7IHRoaXMuY291bnQgPSAwOyB0aGlzLmlkeCA9IG5ldyBJbnQzMkFycmF5KGNhcCk7CiAgICAgICAgICB0aGlzLnB0c3ggPSBuZXcgRmxvYXQzMkFycmF5KGNhcCk7IHRoaXMucHRzeSA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMuZGl2aWRlZCA9IGZhbHNlOyB0aGlzLmNoaWxkcmVuID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNsYXNzIFF1YWR0cmVlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMucm9vdCA9IG5ldyBRVE5vZGUoeCwgeSwgdywgaCwgY2FwKTsKICAgICAgICAgIHRoaXMuY2FwID0gY2FwOwogICAgICAgIH0KCiAgICAgICAgaW5zZXJ0KGksIHgsIHksIG5vZGUgPSB0aGlzLnJvb3QpIHsKICAgICAgICAgIGlmICh4IDwgbm9kZS54IHx8IHkgPCBub2RlLnkgfHwgeCA+PSBub2RlLnggKyBub2RlLncgfHwgeSA+PSBub2RlLnkgKyBub2RlLmgpIHJldHVybiBmYWxzZTsKICAgICAgICAgIGlmIChub2RlLmNvdW50IDwgbm9kZS5jYXAgJiYgIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBjb25zdCBqID0gbm9kZS5jb3VudCsrOyBub2RlLmlkeFtqXSA9IGk7IG5vZGUucHRzeFtqXSA9IHg7IG5vZGUucHRzeVtqXSA9IHk7IHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHRoaXMuc3ViZGl2aWRlKG5vZGUpOwogICAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgIH0KCiAgICAgICAgc3ViZGl2aWRlKG5vZGUpIHsKICAgICAgICAgIG5vZGUuZGl2aWRlZCA9IHRydWU7CiAgICAgICAgICBjb25zdCBodyA9IG5vZGUudy8yLCBoaCA9IG5vZGUuaC8yOwogICAgICAgICAgbm9kZS5jaGlsZHJlbiA9IFsKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngsICAgICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5XCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54K2h3LCAgICBub2RlLnksICAgICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBORQogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU1cKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueStoaCwgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIFNFCiAgICAgICAgICBdOwogICAgICAgICAgLy8gcmVpbnNlcnQgZXhpc3RpbmcgcG9pbnRzCiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG5vZGUuY291bnQ7IGsrKykgewogICAgICAgICAgICBjb25zdCBpID0gbm9kZS5pZHhba107IGNvbnN0IHggPSBub2RlLnB0c3hba107IGNvbnN0IHkgPSBub2RlLnB0c3lba107CiAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgICAgfQogICAgICAgICAgbm9kZS5jb3VudCA9IDA7IC8vIGNsZWFyIGxlYWYgc3RvcmFnZQogICAgICAgIH0KCiAgICAgICAgcXVlcnkoY3gsIGN5LCByLCBvdXQpIHsKICAgICAgICAgIHRoaXMuX3F1ZXJ5Tm9kZSh0aGlzLnJvb3QsIGN4LCBjeSwgciwgb3V0KTsKICAgICAgICB9CiAgICAgICAgX3F1ZXJ5Tm9kZShub2RlLCBjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgLy8gY2lyY2xlLXJlY3QgcXVpY2sgcmVqZWN0CiAgICAgICAgICBjb25zdCByeD1ub2RlLngsIHJ5PW5vZGUueSwgcnc9bm9kZS53LCByaD1ub2RlLmg7CiAgICAgICAgICBsZXQgbnggPSBNYXRoLm1heChyeCwgTWF0aC5taW4oY3gsIHJ4K3J3KSk7CiAgICAgICAgICBsZXQgbnkgPSBNYXRoLm1heChyeSwgTWF0aC5taW4oY3ksIHJ5K3JoKSk7CiAgICAgICAgICBjb25zdCBkaXN0ID0gKGN4LW54KSooY3gtbngpKyhjeS1ueSkqKGN5LW55KTsKICAgICAgICAgIGlmIChkaXN0ID4gcipyKSByZXR1cm47CgogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHsKICAgICAgICAgICAgZm9yIChsZXQgaz0wO2s8bm9kZS5jb3VudDtrKyspIHsgb3V0LnB1c2gobm9kZS5pZHhba10pOyB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9xdWVyeU5vZGUobm9kZS5jaGlsZHJlbltjXSwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KCiAgICAgICAgZHJhdyhjdHgpIHsKICAgICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgaHNsKCR7KHBhbGV0dGVIdWUrMTgwKSUzNjB9IDgwJSA3MCUgLyAwLjE0KWA7CiAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTsKICAgICAgICAgIHRoaXMuX2RyYXdOb2RlKGN0eCwgdGhpcy5yb290KTsKICAgICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgfQogICAgICAgIF9kcmF3Tm9kZShjdHgsIG5vZGUpIHsKICAgICAgICAgIGN0eC5zdHJva2VSZWN0KG5vZGUueCwgbm9kZS55LCBub2RlLncsIG5vZGUuaCk7CiAgICAgICAgICBpZiAobm9kZS5kaXZpZGVkKSBmb3IgKGxldCBjPTA7Yzw0O2MrKykgdGhpcy5fZHJhd05vZGUoY3R4LCBub2RlLmNoaWxkcmVuW2NdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHMKICAgICAgY29uc3QgZWZmZWN0cyA9IFtdOyAvLyB7eCx5LHQsbGlmZSxzaWduLHR5cGUsLi4uZXh0cmFzfQogICAgICBsZXQgbW91c2VEb3duID0gZmFsc2U7CiAgICAgIGNvbnN0IHBvaW50ZXIgPSB7eDogaW5uZXJXaWR0aC8yLCB5OiBpbm5lckhlaWdodC8yLCB2eDogMCwgdnk6IDAsIHQ6IHBlcmZvcm1hbmNlLm5vdygpfTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksICsxKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCAgIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSBmYWxzZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksIC0xKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBpZiAobW91c2VEb3duKSBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CgogICAgICBmdW5jdGlvbiBwaWNrQ2xpY2tUeXBlKCkgewogICAgICAgIGlmIChDRkcuY2xpY2tNb2RlICYmIENGRy5jbGlja01vZGUgIT09ICdyYW5kb20nKSByZXR1cm4gQ0ZHLmNsaWNrTW9kZTsKICAgICAgICBjb25zdCBsaXN0ID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWydzaG9jayddOwogICAgICAgIHJldHVybiBsaXN0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpsaXN0Lmxlbmd0aCldIHx8ICdzaG9jayc7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gc3Bhd25FZmZlY3QoeCwgeSwgc2lnbikgewogICAgICAgIGNvbnN0IHR5cGUgPSBwaWNrQ2xpY2tUeXBlKCk7CiAgICAgICAgY29uc3QgbGlmZSA9ICh0eXBlPT09J2ltcGxvc2lvbicpID8gMC45IDogKHR5cGU9PT0ndm9ydGV4JyB8fCB0eXBlPT09J21ldGVvcicgPyAxLjggOiAxLjIpOwogICAgICAgIGNvbnN0IEUgPSB7IHgsIHksIHQ6IDAsIGxpZmUsIHNpZ24sIHR5cGUgfTsKICAgICAgICBpZiAodHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICBjb25zdCBzcCA9IE1hdGgubWluKDMsIE1hdGguaHlwb3QocG9pbnRlci52eCwgcG9pbnRlci52eSkqMTIwKTsKICAgICAgICAgIEUuYSA9IDIgKyBNYXRoLmZsb29yKHNwJTQpOyBFLmIgPSAzICsgTWF0aC5mbG9vcigoc3AqMS43KSU0KTsgRS5waGFzZSA9IE1hdGgucmFuZG9tKCkqVEFVOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGNvbnN0IHNjYWxlID0gOTAwOyBFLnZ4ID0gcG9pbnRlci52eCpzY2FsZTsgRS52eSA9IHBvaW50ZXIudnkqc2NhbGU7IEUubWFzcyA9IDIyMCArIE1hdGgucmFuZG9tKCkqMTgwOyBFLmRyYWc9MC45ODsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgRS5zY2FsZSA9IDAuMDA2ICsgTWF0aC5yYW5kb20oKSowLjAwNjsgRS5hbXAgPSAxLjIgKyBNYXRoLnJhbmRvbSgpKjEuMjsKICAgICAgICB9CiAgICAgICAgZWZmZWN0cy5wdXNoKEUpOwogICAgICB9CgogICAgICAvLyBQaHlzaWNzIGhlbHBlcnMKICAgICAgZnVuY3Rpb24gbGltaXQodngsIHZ5LCBtYXgpIHsKICAgICAgICBjb25zdCBtMiA9IHZ4KnZ4ICsgdnkqdnk7IGlmIChtMiA+IG1heCptYXgpIHsKICAgICAgICAgIGNvbnN0IG0gPSBNYXRoLnNxcnQobTIpIHx8IDE7IGNvbnN0IHMgPSBtYXggLyBtOyByZXR1cm4gW3Z4KnMsIHZ5KnNdOwogICAgICAgIH0gcmV0dXJuIFt2eCwgdnldOwogICAgICB9CgogICAgICAvLyBNYWluIGxvb3AKICAgICAgbGV0IGxhc3QgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgbGV0IGZwc0F2ZyA9IDA7CiAgICAgIGZ1bmN0aW9uIGZyYW1lKHQpIHsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWluKDMyLCB0IC0gbGFzdCkgKiAwLjAwMTsgLy8gY2xhbXAKICAgICAgICBsYXN0ID0gdDsKICAgICAgICBjb25zdCBmcHNOb3cgPSAxIC8gTWF0aC5tYXgoMWUtNiwgZHQpOwogICAgICAgIGZwc0F2ZyA9IGZwc0F2ZyA/IChmcHNBdmcqMC45ICsgZnBzTm93KjAuMSkgOiBmcHNOb3c7CiAgICAgICAgY29uc3QgVyA9IGlubmVyV2lkdGgsIEggPSBpbm5lckhlaWdodDsKCiAgICAgICAgLy8gdHJhaWxzOiB0cmFuc2x1Y2VudCBmaWxsCiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7CiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBDRkcudHJhaWxBbHBoYSkpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIFcsIEgpOwogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEJ1aWxkIHF1YWR0cmVlCiAgICAgICAgY29uc3QgcXQgPSBuZXcgUXVhZHRyZWUoMCwgMCwgVywgSCwgQ0ZHLnF0Q2FwKTsKICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgcXQuaW5zZXJ0KGksIHB4W2ldLCBweVtpXSk7CgogICAgICAvLyBBcHBseSBmbG9ja2luZyB2aWEgbmVpZ2hib3IgcXVlcmllcyAoYWRhcHRpdmUgdmlzaW9uIHVuZGVyIGxvYWQpCiAgICAgIGNvbnN0IHZpc2lvbiA9IENGRy52aXNpb24gKiAoZnBzQXZnIDwgNTAgPyAwLjkgOiAxLjApOyBjb25zdCBzZXAgPSBDRkcuc2VwOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBheFtpXT0wOyBheVtpXT0wOyB9CiAgICAgIGxldCB0bXAgPSBbXTsKICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICB0bXAubGVuZ3RoID0gMDsgcXQucXVlcnkocHhbaV0sIHB5W2ldLCB2aXNpb24sIHRtcCk7CiAgICAgICAgICBsZXQgY3g9MCwgY3k9MCwgdnhzdW09MCwgdnlzdW09MCwgc3g9MCwgc3k9MCwgdG90YWw9MCwgc2Nsb3NlPTA7CiAgICAgICAgICBmb3IgKGxldCBrPTA7azx0bXAubGVuZ3RoO2srKykgewogICAgICAgICAgICBjb25zdCBqID0gdG1wW2tdOyBpZiAoaj09PWkpIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBkeCA9IHB4W2pdLXB4W2ldOyBjb25zdCBkeSA9IHB5W2pdLXB5W2ldOwogICAgICAgICAgICBjb25zdCBkMiA9IGR4KmR4ICsgZHkqZHk7IGlmIChkMiA9PT0gMCkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGQgPSBNYXRoLnNxcnQoZDIpOwogICAgICAgICAgICBpZiAoZCA8IHZpc2lvbikgeyB0b3RhbCsrOyBjeCArPSBweFtqXTsgY3kgKz0gcHlbal07IHZ4c3VtICs9IHZ4W2pdOyB2eXN1bSArPSB2eVtqXTsgfQogICAgICAgICAgICBpZiAoZCA8IHNlcCkgeyBzY2xvc2UrKzsgc3ggLT0gZHgvKGR8fDEpOyBzeSAtPSBkeS8oZHx8MSk7IH0KICAgICAgICAgIH0KICAgICAgICAgIGlmICh0b3RhbD4wKSB7CiAgICAgICAgICAgIC8vIGFsaWdubWVudAogICAgICAgICAgICBsZXQgYXh2ID0gKHZ4c3VtL3RvdGFsKSAtIHZ4W2ldOyBsZXQgYXl2ID0gKHZ5c3VtL3RvdGFsKSAtIHZ5W2ldOwogICAgICAgICAgICBjb25zdCBhbGlnblcgPSBDRkcuYWxpZ25XICogKDEgKyAoYWxpZ25NdWxbaV18fDApKTsKICAgICAgICAgICAgW2F4diwgYXl2XSA9IGxpbWl0KGF4diwgYXl2LCBDRkcubWF4Rm9yY2UpOwogICAgICAgICAgICBheFtpXSArPSBheHYgKiBhbGlnblc7IGF5W2ldICs9IGF5diAqIGFsaWduVzsKICAgICAgICAgICAgLy8gY29oZXNpb24KICAgICAgICAgICAgbGV0IGN4diA9IChjeC90b3RhbCAtIHB4W2ldKTsgbGV0IGN5diA9IChjeS90b3RhbCAtIHB5W2ldKTsKICAgICAgICAgICAgY29uc3QgY29oVyA9IENGRy5jb2hlc2lvblcgKiAoMSArIChjb2hlc2lvbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbY3h2LCBjeXZdID0gbGltaXQoY3h2LCBjeXYsIENGRy5tYXhGb3JjZSk7IGF4W2ldICs9IGN4diAqIGNvaFc7IGF5W2ldICs9IGN5diAqIGNvaFc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc2Nsb3NlPjApIHsKICAgICAgICAgICAgbGV0IHN4diA9IHN4OyBsZXQgc3l2ID0gc3k7IFtzeHYsIHN5dl0gPSBsaW1pdChzeHYsIHN5diwgQ0ZHLm1heEZvcmNlKjEuNSk7CiAgICAgICAgICAgIGNvbnN0IHNlcFcgPSBDRkcuc2VwYXJhdGlvblcgKiAoMSArIChzZXBhcmF0aW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIGF4W2ldICs9IHN4diAqIHNlcFc7IGF5W2ldICs9IHN5diAqIHNlcFc7CiAgICAgICAgICB9CiAgICAgICAgLy8gb3B0aW9uYWwgZmxvdyBmaWVsZCBmb3IgcGF0dGVybiB2YXJpZXR5CiAgICAgICAgaWYgKENGRy5mbG93KSB7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmZsb3dTY2FsZSB8fCAwLjAwNDsgY29uc3QgYSA9IENGRy5mbG93QW1wIHx8IDAuNjsgY29uc3Qgc3AgPSBDRkcuZmxvd1NwZWVkIHx8IDAuNjsKICAgICAgICAgIGNvbnN0IHQwID0gcGVyZm9ybWFuY2Uubm93KCkqMC4wMDEqc3A7CiAgICAgICAgICBjb25zdCBmeCA9IE1hdGguc2luKHB5W2ldKnMgKyB0MCkgKiBhOwogICAgICAgICAgY29uc3QgZnkgPSBNYXRoLmNvcyhweFtpXSpzIC0gdDApICogYTsKICAgICAgICAgIGF4W2ldICs9IGZ4OyBheVtpXSArPSBmeTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHM6IH4yMCsgbW9kZXMgaW5jbHVkaW5nIHBlcmxpbkRyYWcsIGxpc3NhUHVsc2UsIG1ldGVvcgogICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInOwogICAgICBsZXQgdG1wMiA9IFtdOwogICAgICBmb3IgKGxldCBlPWVmZmVjdHMubGVuZ3RoLTE7IGU+PTA7IGUtLSkgewogICAgICAgIGNvbnN0IEUgPSBlZmZlY3RzW2VdOyBFLnQgKz0gZHQ7IGNvbnN0IGsgPSBFLnQgLyBFLmxpZmU7CiAgICAgICAgY29uc3QgciA9IDMwICsgayAqIDI2MDsgY29uc3Qgc3RyID0gMS4wIC0gazsKICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgeyBFLnggKz0gKEUudnh8fDApKmR0OyBFLnkgKz0gKEUudnl8fDApKmR0OyBFLnZ4ICo9IChFLmRyYWd8fDEpOyBFLnZ5ICo9IChFLmRyYWd8fDEpOyBFLm1hc3MgKj0gMC45ODU7IH0KICAgICAgICB0bXAyLmxlbmd0aCA9IDA7IHF0LnF1ZXJ5KEUueCwgRS55LCByLCB0bXAyKTsKICAgICAgICBmb3IgKGxldCBpaT0wOyBpaTx0bXAyLmxlbmd0aDsgaWkrKykgewogICAgICAgICAgY29uc3QgaSA9IHRtcDJbaWldOyBjb25zdCBkeCA9IHB4W2ldLUUueDsgY29uc3QgZHkgPSBweVtpXS1FLnk7IGNvbnN0IGQgPSBNYXRoLmh5cG90KGR4LCBkeSl8fDE7CiAgICAgICAgICBjb25zdCBmYWxsID0gKDEgLSBNYXRoLm1pbigxLCBkL3IpKTsKICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgICBjb25zdCB2ID0gcGVybGluVmVjKHB4W2ldLUUueCwgcHlbaV0tRS55LCBFLnNjYWxlfHwwLjAwOCwgKEUuYW1wfHwxLjUpICogZmFsbCk7CiAgICAgICAgICAgIGF4W2ldICs9IHZbMF07IGF5W2ldICs9IHZbMV07IGh1ZU9mZltpXSArPSA0MCpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdsaXNzYVB1bHNlJykgewogICAgICAgICAgICBjb25zdCBhbmcgPSBNYXRoLmF0YW4yKGR5LCBkeCk7CiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNpbihFLmEqYW5nICsgRS5waGFzZSkgKiBNYXRoLmNvcyhFLmIqYW5nIC0gRS5waGFzZSk7CiAgICAgICAgICAgIGNvbnN0IHMgPSB3ICogMi4wICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICAgIGNvbnN0IEcgPSA4MDA7IGNvbnN0IGYgPSBNYXRoLm1pbigzLjAsIChHKihFLm1hc3N8fDIwMCkpLygoZCpkKSsyMDApKTsKICAgICAgICAgICAgYXhbaV0gLT0gKGR4L2QpKmYqZmFsbDsgYXlbaV0gLT0gKGR5L2QpKmYqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOyBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAndm9ydGV4JyB8fCBFLnR5cGU9PT0nb3JiaXRDVycgfHwgRS50eXBlPT09J29yYml0Q0NXJyB8fCBFLnR5cGU9PT0nc3BpcmFsT3V0JyB8fCBFLnR5cGU9PT0nc3BpcmFsSW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nb3JiaXRDQ1cnKSA/IC0xIDogMTsKICAgICAgICAgICAgY29uc3QgdHggPSAtZHkvZCwgdHkgPSBkeC9kOyBsZXQgcyA9IChFLnNpZ24+MD8xOi0xKSAqIDEuMiAqIGZhbGwgKiBkaXI7CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsT3V0JykgeyBzID0gMS4yKmZhbGw7IGF4W2ldICs9IChkeC9kKSpmYWxsKjAuODsgYXlbaV0gKz0gKGR5L2QpKmZhbGwqMC44OyB9CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsSW4nKSB7IHMgPSAtMS4yKmZhbGw7IGF4W2ldIC09IChkeC9kKSpmYWxsKjAuNjsgYXlbaV0gLT0gKGR5L2QpKmZhbGwqMC42OyB9CiAgICAgICAgICAgIGF4W2ldICs9IHR4KnM7IGF5W2ldICs9IHR5KnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IHZCb29zdFtpXSArPSAwLjIqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaW1wbG9zaW9uJyB8fCBFLnR5cGU9PT0nYXR0cmFjdCcgfHwgRS50eXBlPT09J21hZ25ldCcpIHsKICAgICAgICAgICAgY29uc3QgcyA9IChFLnR5cGU9PT0naW1wbG9zaW9uJyA/IC0yLjIgOiAtMS4yKSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjE1KmZhbGw7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc3ByYXknIHx8IEUudHlwZT09PSdzY2F0dGVyJykgewogICAgICAgICAgICBjb25zdCBzID0gKEUuc2lnbj4wPzE6LTEpICogKEUudHlwZT09PSdzY2F0dGVyJz8zLjA6Mi40KSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgdnhbaV0gKz0gKGR4L2QpICogMC4yNSAqIGZhbGw7IHZ5W2ldICs9IChkeS9kKSAqIDAuMjUgKiBmYWxsOyBqaXRBbXBbaV0gKz0gMC4xNSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzdHVuJyB8fCBFLnR5cGU9PT0nZnJlZXplJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gLT0gKEUudHlwZT09PSdmcmVlemUnPzAuNjowLjMpICogZmFsbDsgc2l6ZU11bFtpXSArPSAwLjMqZmFsbDsgdnhbaV0gKj0gMC45NjsgdnlbaV0gKj0gMC45NjsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZmVhcicpIHsKICAgICAgICAgICAgY29uc3QgcyA9IDIuOCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgaml0QW1wW2ldICs9IDAuMjUqZmFsbDsgaHVlT2ZmW2ldICs9IDgwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NjcmFtYmxlJykgewogICAgICAgICAgICB2eFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMS41KmZhbGw7IHZ5W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgaml0QW1wW2ldICs9IDAuMypmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdwdWxzZScgfHwgRS50eXBlPT09J3JpcHBsZScpIHsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKGsqTWF0aC5QSSoyKTsgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2FsaWduJykgewogICAgICAgICAgICBhbGlnbk11bFtpXSArPSAwLjggKiBmYWxsOyBzZXBhcmF0aW9uTXVsW2ldIC09IDAuMyAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2RlYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldIC09IDAuOCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldICs9IDAuMiAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjEgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjb2hlcmUnIHx8IEUudHlwZT09PSd0aWdodGVuJyB8fCBFLnR5cGU9PT0nbG9vc2VuJykgewogICAgICAgICAgICBjb25zdCBkaXIgPSAoRS50eXBlPT09J2xvb3NlbicpID8gLTEgOiAxOyAvLyBsb29zZW4gcmVkdWNlcyBjb2hlc2lvbgogICAgICAgICAgICBjb2hlc2lvbk11bFtpXSArPSBkaXIgKiAwLjkgKiBmYWxsOyBpZiAoZGlyPjApIHNlcGFyYXRpb25NdWxbaV0gLT0gMC4yICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2VwYXJhdGUnIHx8IEUudHlwZT09PSdkaXNwZXJzZScpIHsKICAgICAgICAgICAgc2VwYXJhdGlvbk11bFtpXSArPSAxLjAgKiBmYWxsOyBjb2hlc2lvbk11bFtpXSAtPSAwLjQgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd3YXJwJyB8fCBFLnR5cGU9PT0nc3BlZWR1cCcpIHsKICAgICAgICAgICAgdkJvb3N0W2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBodWVPZmZbaV0gKz0gNDAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2xvd2Rvd24nKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAwLjUqZmFsbDsgaHVlT2ZmW2ldIC09IDIwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2dyb3cnKSB7CiAgICAgICAgICAgIHNpemVNdWxbaV0gKz0gMC42KmZhbGw7IGh1ZU9mZltpXSArPSAzMCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd0dW5uZWwnKSB7CiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHIqMC43OyBjb25zdCBzID0gKGQ8dGFyZ2V0PysxOi0xKSAqIDEuMiAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaml0dGVyYnVyc3QnKSB7CiAgICAgICAgICAgIGppdEFtcFtpXSArPSAwLjYqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnY2hyb21hYnVyc3QnKSB7CiAgICAgICAgICAgIGh1ZU9mZltpXSArPSAxNjAgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIHsgLy8gc2hvY2sgLyBkZWZhdWx0CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/KzE6LTEpICogMS44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyB2Qm9vc3RbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBnZW5lcmFsIGNvbG9yIGVuZXJneQogICAgICAgICAgaHVlW2ldID0gKGh1ZVtpXSArIDkwICogZmFsbCkgJSAzNjA7CiAgICAgICAgfQogICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoRS54LCBFLnksIE1hdGgubWF4KDEsIHIqMC42KSwgRS54LCBFLnksIHIpOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7KHBhbGV0dGVIdWUrMjApJTM2MH0sIDk1JSwgNzAlLCAkezAuMzQqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs2MCklMzYwfSwgOTUlLCA2MCUsICR7MC4yMipzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45NSwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsxMDApJTM2MH0sIDk1JSwgNTUlLCAwKWApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7cGFsZXR0ZUh1ZX0sIDk1JSwgNjUlLCAkezAuMjUqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs0MCklMzYwfSwgOTUlLCA1NSUsICR7MC4xOCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45LCBgaHNsYSgkeyhwYWxldHRlSHVlKzgwKSUzNjB9LCA5NSUsIDYwJSwgMClgKTsKICAgICAgICB9CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYyhFLngsIEUueSwgciwgMCwgTWF0aC5QSSoyKTsgY3R4LmZpbGwoKTsKICAgICAgICBpZiAoayA+PSAxKSBlZmZlY3RzLnNwbGljZShlLCAxKTsKICAgICAgfQogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEludGVncmF0ZSBhbmQgZHJhdyBib2lkcyB3aXRoIGdsb3cgYW5kIHRyYWlscwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBDRkcuYmxlbmQ7CiAgICAgIGN0eC5saW5lV2lkdGggPSBDRkcubGluZVdpZHRoOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICAvLyBpbnRlZ3JhdGUKICAgICAgICAgIGlmIChqaXRBbXBbaV0gPiAwLjAwMDEpIHsgYXhbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgYXlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgfQogICAgICAgICAgdnhbaV0gKz0gYXhbaV07IHZ5W2ldICs9IGF5W2ldOwogICAgICAgICAgY29uc3Qgdk1heCA9IENGRy5tYXhTcGVlZCAqICgxICsgTWF0aC5tYXgoLTAuNywgdkJvb3N0W2ldKSowLjgpOwogICAgICAgICAgW3Z4W2ldLCB2eVtpXV0gPSBsaW1pdCh2eFtpXSwgdnlbaV0sIHZNYXgpOwogICAgICAgICAgLy8gZW5mb3JjZSBtaW4gc3BlZWQgKHdpdGggYm9vc3QpCiAgICAgICAgICB7IGNvbnN0IHNwID0gTWF0aC5oeXBvdCh2eFtpXSwgdnlbaV0pIHx8IDE7IGNvbnN0IHZNaW4gPSBDRkcubWluU3BlZWQgKiAoMSArIE1hdGgubWF4KDAsIHZCb29zdFtpXSkqMC41KTsgaWYgKHNwIDwgdk1pbikgeyBjb25zdCBzID0gdk1pbiAvIHNwOyB2eFtpXSAqPSBzOyB2eVtpXSAqPSBzOyB9IH0KICAgICAgICAgIHByZXZ4W2ldID0gcHhbaV07IHByZXZ5W2ldID0gcHlbaV07CiAgICAgICAgICBweFtpXSArPSB2eFtpXTsgcHlbaV0gKz0gdnlbaV07CgogICAgICAgICAgLy8gYm91bmRhcmllcwogICAgICAgICAgaWYgKENGRy53cmFwKSB7CiAgICAgICAgICAgIGlmIChweFtpXSA8IC01KSBweFtpXSA9IFcgKyA1OyBlbHNlIGlmIChweFtpXSA+IFcrNSkgcHhbaV0gPSAtNTsKICAgICAgICAgICAgaWYgKHB5W2ldIDwgLTUpIHB5W2ldID0gSCArIDU7IGVsc2UgaWYgKHB5W2ldID4gSCs1KSBweVtpXSA9IC01OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgMCB8fCBweFtpXSA+IFcpIHsgdnhbaV0gPSAtdnhbaV07IH0KICAgICAgICAgICAgaWYgKHB5W2ldIDwgMCB8fCBweVtpXSA+IEgpIHsgdnlbaV0gPSAtdnlbaV07IH0KICAgICAgICAgICAgcHhbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihXLCBweFtpXSkpOwogICAgICAgICAgICBweVtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKEgsIHB5W2ldKSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZGVjYXkgbW9kaWZpZXJzIGFuZCBjb21wdXRlIHRpbnQKICAgICAgICAgIHZCb29zdFtpXSAqPSAwLjkyOyBzaXplTXVsW2ldICo9IDAuOTA7IGh1ZU9mZltpXSAqPSAwLjk0OyBqaXRBbXBbaV0gKj0gMC44ODsKICAgICAgICAgIGFsaWduTXVsW2ldICo9IDAuOTQ7IGNvaGVzaW9uTXVsW2ldICo9IDAuOTQ7IHNlcGFyYXRpb25NdWxbaV0gKj0gMC45NDsKICAgICAgICAgIC8vIHNsb3dseSBkcmlmdCBib2lkIGh1ZSBiYWNrIHRvd2FyZCBiYXNlIHBhbGV0dGUgaHVlCiAgICAgICAgICBodWVbaV0gPSBhcHByb2FjaEh1ZShodWVbaV0sIHBhbGV0dGVIdWUsIE1hdGgubWluKDEsIGR0ICogKENGRy5odWVSZWxheCB8fCAwLjIpKSk7CiAgICAgICAgICBzcGRbaV0gPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSk7CiAgICAgICAgICBjb25zdCBMID0gNTAgKyBNYXRoLm1pbig0NSwgc3BkW2ldKjgpOwogICAgICAgICAgY29uc3QgUyA9IDgwICsgTWF0aC5taW4oMjAsIHNwZFtpXSo2KTsKICAgICAgICAgIGNvbnN0IGRyYXdIdWUgPSAoaHVlW2ldICsgaHVlT2ZmW2ldKSAlIDM2MDsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHtkcmF3SHVlfSwgJHtTfSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguc2hhZG93Q29sb3IgPSBgaHNsKCR7ZHJhd0h1ZX0sIDkwJSwgNjAlKWA7CiAgICAgICAgICBjb25zdCBnbG93UXVhbGl0eSA9IChmcHNBdmcgPCA1MCA/IDAuNSA6IDEuMCk7CiAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IGdsb3dRdWFsaXR5ICogKENGRy5nbG93QmFzZSArIE1hdGgubWluKENGRy5nbG93TWF4LCBzcGRbaV0qQ0ZHLmdsb3dTY2FsZSkpOwoKICAgICAgICAgIC8vIHRyYWlsIHNlZ21lbnQKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5tb3ZlVG8ocHJldnhbaV0sIHByZXZ5W2ldKTsKICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0sIHB5W2ldKTsKICAgICAgICAgIGN0eC5zdHJva2UoKTsKCiAgICAgICAgICAvLyBib2lkIGhlYWQgc2hhcGUKICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIodnlbaV0sIHZ4W2ldKTsKICAgICAgICAgIGNvbnN0IGNhID0gTWF0aC5jb3MoYW5nKSwgc2EgPSBNYXRoLnNpbihhbmcpOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGBoc2woJHtodWVbaV19LCA5NSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmNvbWV0U2l6ZSAqICgxICsgKHNpemVNdWxbaV18fDApKTsKICAgICAgICAgIGlmIChDRkcuc2hhcGUgPT09ICd0cmlhbmdsZScpIHsKICAgICAgICAgICAgY29uc3QgQzI2ID0gMC44NTY4ODg3NTMsIFMyNiA9IDAuNTE1NDk4OyAvLyBjb3Mvc2luKDIuNikKICAgICAgICAgICAgY29uc3QgeDAgPSBweFtpXSArIGNhKnMqMS42LCB5MCA9IHB5W2ldICsgc2EqcyoxLjY7CiAgICAgICAgICAgIGNvbnN0IGNhX3AgPSBjYSpDMjYgLSBzYSpTMjYsIHNhX3AgPSBzYSpDMjYgKyBjYSpTMjY7CiAgICAgICAgICAgIGNvbnN0IGNhX20gPSBjYSpDMjYgKyBzYSpTMjYsIHNhX20gPSBzYSpDMjYgLSBjYSpTMjY7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeDAsIHkwKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AqcywgIHB5W2ldICsgc2FfcCpzKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20qcywgIHB5W2ldICsgc2FfbSpzKTsKICAgICAgICAgIH0gZWxzZSBpZiAoQ0ZHLnNoYXBlID09PSAnb3JiJykgewogICAgICAgICAgICBjdHguYXJjKHB4W2ldLCBweVtpXSwgcyowLjYsIDAsIE1hdGguUEkqMik7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzcGFyawogICAgICAgICAgICBjb25zdCBDMDIgPSAwLjk4MDA2NjYsIFMwMiA9IDAuMTk4NjY5MzsgLy8gY29zL3NpbigwLjIpCiAgICAgICAgICAgIGNvbnN0IHhoID0gcHhbaV0gKyBjYSpzKjEuOCwgeWggPSBweVtpXSArIHNhKnMqMS44OwogICAgICAgICAgICBjb25zdCBjYV9wMDIgPSBjYSpDMDIgLSBzYSpTMDIsIHNhX3AwMiA9IHNhKkMwMiArIGNhKlMwMjsKICAgICAgICAgICAgY29uc3QgY2FfbTAyID0gY2EqQzAyICsgc2EqUzAyLCBzYV9tMDIgPSBzYSpDMDIgLSBjYSpTMDI7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeGgsIHloKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AwMipzKjAuNiwgIHB5W2ldICsgc2FfcDAyKnMqMC42KTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20wMipzKjAuNiwgIHB5W2ldICsgc2FfbTAyKnMqMC42KTsKICAgICAgICAgIH0KICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTsgY3R4LmZpbGwoKTsKICAgICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gUXVhZHRyZWUgdmlzdWFsaXphdGlvbiAoZGVmYXVsdCBvbikKICAgICAgICBpZiAoQ0ZHLnF0KSBxdC5kcmF3KGN0eCk7CgogICAgICAgIC8vIEhVRAogICAgICAgIGh1ZEVsLmlubmVySFRNTCA9IGA8c3Ryb25nPkJvaWRzPC9zdHJvbmc+IMK3IE49JHtOfSB2aXNpb249JHtDRkcudmlzaW9ufSBzZXA9JHtDRkcuc2VwfSBgICsKICAgICAgICAgIGDCtyBxdENhcD0ke0NGRy5xdENhcH0gwrcgaHVlPSR7cGFsZXR0ZUh1ZX0gwrcgcXRWaXo9JHtDRkcucXQ/J29uJzonb2ZmJ30gwrcgY2xpY2s9JHtDRkcuY2xpY2tNb2RlfSDCtyBmcHM9JHtmcHNBdmcudG9GaXhlZCgwKX1gOwoKICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpOwogICAgICB9CiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CgogICAgICAvLyBDb25maWcgVUkgYnVpbGQgYW5kIHdpcmluZwogICAgICBjb25zdCBjZmdCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQnRuJyk7CiAgICAgIGNvbnN0IGNmZ0Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmZ0Nsb3NlJyk7CiAgICAgIGNvbnN0IGNmZ1BhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZycpOwogICAgICBjb25zdCBjZmdCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZ0JvZHknKTsKICAgICAgY2ZnQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKSk7CiAgICAgIGNmZ0Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCcnKSk7CgogICAgICBjb25zdCBzY2hlbWEgPSBbCiAgICAgICAge2tleTonaHVlJywgbGFiZWw6J0h1ZScsIHR5cGU6J2ludCcsIG1pbjowLCBtYXg6MzYwLCBzdGVwOjEsIHZhbHVlOkJBU0VfSFVFfSwKICAgICAgICB7a2V5OidoZWFkZXInLCBsYWJlbDonSGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOkhFQURFUn0sCiAgICAgICAge2tleTonc3ViaGVhZGVyJywgbGFiZWw6J1N1YmhlYWRlcicsIHR5cGU6J3RleHQnLCB2YWx1ZTpTVUJIRUFERVJ9LAogICAgICAgIHtrZXk6J3F0JywgbGFiZWw6J1Nob3cgUXVhZHRyZWUnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hvd0h1ZCcsIGxhYmVsOidTaG93IEhVRCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzcGF3bicsIGxhYmVsOidTcGF3bicsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdjaXJjbGUnLCdncmlkJywnY2VudGVyYnVyc3QnXX0sCiAgICAgICAge2tleTonY291bnQnLCBsYWJlbDonQ291bnQnLCB0eXBlOidpbnQnLCBtaW46NTAsIG1heDoxMDAwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3Zpc2lvbicsIGxhYmVsOidWaXNpb24nLCB0eXBlOidpbnQnLCBtaW46MjAsIG1heDoyMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonc2VwJywgbGFiZWw6J1NlcGFyYXRpb24gRGlzdCcsIHR5cGU6J2ludCcsIG1pbjo0LCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonbWF4U3BlZWQnLCBsYWJlbDonTWF4IFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMSwgbWF4OjEyLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonbWluU3BlZWQnLCBsYWJlbDonTWluIFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMCwgbWF4OjYsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtYXhGb3JjZScsIGxhYmVsOidNYXggU3RlZXJpbmcgRm9yY2UnLCB0eXBlOidudW1iZXInLCBtaW46MC4wMDEsIG1heDowLjUsIHN0ZXA6MC4wMDF9LAogICAgICAgIHtrZXk6J2FsaWduVycsIGxhYmVsOidBbGlnbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY29oZXNpb25XJywgbGFiZWw6J0NvaGVzaW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidzZXBhcmF0aW9uVycsIGxhYmVsOidTZXBhcmF0aW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oid0cmFpbEFscGhhJywgbGFiZWw6J1RyYWlsIEFscGhhJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDoxLCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3F0Q2FwJywgbGFiZWw6J1F1YWR0cmVlIENhcGFjaXR5JywgdHlwZTonaW50JywgbWluOjIsIG1heDozMiwgc3RlcDoxfSwKICAgICAgICB7a2V5Oid3cmFwJywgbGFiZWw6J1dyYXAgQm91bmRzJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NoYXBlJywgbGFiZWw6J1NoYXBlJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3RyaWFuZ2xlJywnc3BhcmsnLCdvcmInXX0sCiAgICAgICAge2tleTonYmxlbmQnLCBsYWJlbDonQmxlbmQnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsnbGlnaHRlcicsJ3NjcmVlbicsJ292ZXJsYXknLCdwbHVzLWxpZ2h0ZXInXX0sCiAgICAgICAge2tleTonbGluZVdpZHRoJywgbGFiZWw6J0xpbmUgV2lkdGgnLCB0eXBlOidudW1iZXInLCBtaW46MC4yLCBtYXg6NCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2dsb3dCYXNlJywgbGFiZWw6J0dsb3cgQmFzZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NjAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd01heCcsIGxhYmVsOidHbG93IE1heCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd1NjYWxlJywgbGFiZWw6J0dsb3cgU2NhbGUnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonY29tZXRTaXplJywgbGFiZWw6J0NvbWV0IFNpemUnLCB0eXBlOidudW1iZXInLCBtaW46MSwgbWF4OjIwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonYmdHcmFkaWVudCcsIGxhYmVsOidCRyBHcmFkaWVudCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MScsIGxhYmVsOidCRyBIdWUgU2hpZnQgMScsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQyJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAyJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDMnLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDMnLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidmbG93JywgbGFiZWw6J0Zsb3cgRmllbGQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonZmxvd0FtcCcsIGxhYmVsOidGbG93IEFtcCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjA1fSwKICAgICAgICB7a2V5OidmbG93U2NhbGUnLCBsYWJlbDonRmxvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMDUsIG1heDowLjAyLCBzdGVwOjAuMDAwNX0sCiAgICAgICAge2tleTonZmxvd1NwZWVkJywgbGFiZWw6J0Zsb3cgU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjMsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY2xpY2tNb2RlJywgbGFiZWw6J0NsaWNrIE1vZGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsncmFuZG9tJywnc2hvY2snLCd2b3J0ZXgnLCdpbXBsb3Npb24nLCdzcHJheSddfSwKICAgICAgXTsKCiAgICAgIGZ1bmN0aW9uIG1ha2VSb3cobGFiZWwsIGlucHV0KSB7CiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHJvdy5jbGFzc05hbWUgPSAncm93JzsKICAgICAgICBjb25zdCBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsgbC50ZXh0Q29udGVudCA9IGxhYmVsOyByb3cuYXBwZW5kQ2hpbGQobCk7CiAgICAgICAgcm93LmFwcGVuZENoaWxkKGlucHV0KTsgcmV0dXJuIHJvdzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYWRkSW5wdXQoaXRlbSkgewogICAgICAgIGxldCBpbnB1dDsKICAgICAgICBjb25zdCB2MCA9IChpdGVtLmtleSBpbiBDRkcpID8gQ0ZHW2l0ZW0ua2V5XSA6IGl0ZW0udmFsdWU7CiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Jvb2wnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J2NoZWNrYm94JzsgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IENGR1tpdGVtLmtleV0gPSBpbnB1dC5jaGVja2VkOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnc2VsZWN0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTsKICAgICAgICAgIGZvciAoY29uc3Qgb3B0IG9mIGl0ZW0ub3B0aW9ucykgeyBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7IG8udmFsdWU9b3B0OyBvLnRleHRDb250ZW50PW9wdDsgaWYgKG9wdD09PXYwKSBvLnNlbGVjdGVkPXRydWU7IGlucHV0LmFwcGVuZENoaWxkKG8pOyB9CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LnZhbHVlOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAndGV4dCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ndGV4dCc7IGlucHV0LnZhbHVlID0gU3RyaW5nKHYwfHwnJyk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaWYgKGl0ZW0ua2V5PT09J2hlYWRlcicpIHsgdGl0bGVFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5rZXk9PT0nc3ViaGVhZGVyJykgeyBzdWJ0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBpbnB1dC52YWx1ZSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5rZXkgPT09ICdodWUnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQubWluPScwJzsgaW5wdXQubWF4PSczNjAnOyBpbnB1dC5zdGVwPScxJzsgaW5wdXQudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIubWluPScwJzsgbnVtYmVyLm1heD0nMzYwJzsgbnVtYmVyLnN0ZXA9JzEnOyBudW1iZXIudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWU9aW5wdXQudmFsdWU7IGh1ZUNoYW5nZWQocGFyc2VJbnQoaW5wdXQudmFsdWUpKTsgfSk7CiAgICAgICAgICBudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlucHV0LnZhbHVlPW51bWJlci52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gaHVlQ2hhbmdlZCh2YWwpewogICAgICAgICAgICAvLyBzaGlmdCBwYWxldHRlIGltbWVkaWF0ZWx5CiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gKHZhbCAtIHBhbGV0dGVIdWUpOwogICAgICAgICAgICBwYWxldHRlSHVlID0gdmFsOwogICAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBodWVbaV0gPSAoaHVlW2ldICsgZGVsdGEpICUgMzYwOyB9CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQnLCBgaHNsKCR7dmFsfSwgODUlLCA2MiUpYCk7CiAgICAgICAgICAgIHVwZGF0ZVVybEZyb21DZmcoe2h1ZTpTdHJpbmcodmFsKX0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG51bWVyaWMgKHJhbmdlICsgbnVtYmVyIHBhaXIpCiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgaW5wdXQubWluPVN0cmluZyhpdGVtLm1pbik7IGlmIChpdGVtLm1heCE9bnVsbCkgaW5wdXQubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBudW1iZXIudHlwZT0nbnVtYmVyJzsgbnVtYmVyLnN0ZXA9U3RyaW5nKGl0ZW0uc3RlcHx8MSk7CiAgICAgICAgICBpZiAoaXRlbS5taW4hPW51bGwpIG51bWJlci5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBudW1iZXIubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBpbnB1dC52YWx1ZSA9IFN0cmluZyh2MCk7IG51bWJlci52YWx1ZSA9IFN0cmluZyh2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgbnVtYmVyLnZhbHVlID0gaW5wdXQudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWUgPSBudW1iZXIudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gbnVtQ2hhbmdlZCh2YWwpeyBDRkdbaXRlbS5rZXldID0gdmFsOyBhcHBseUNoYW5nZShpdGVtLmtleSwgdmFsKTsgfQogICAgICAgIH0KICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgaW5wdXQpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYXBwbHlDaGFuZ2Uoa2V5LCB2YWx1ZSkgewogICAgICAgIGlmIChrZXkgPT09ICdjb3VudCcgfHwga2V5ID09PSAnc3Bhd24nKSB7IHJlc2VlZChDRkcuY291bnQpOyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3F0JykgeyAvKiBpbW1lZGlhdGUgZHJhdyB0b2dnbGUgdmlhIENGRyAqLyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3Nob3dIdWQnKSB7IGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSBDRkcuc2hvd0h1ZCA/ICcnIDogJ25vbmUnOyB9CiAgICAgICAgdXBkYXRlVXJsRnJvbUNmZygpOwogICAgICB9CgogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc2NoZW1hKSBhZGRJbnB1dChpdGVtKTsKICAgICAgLy8gaW5pdGlhbCBIVUQgdmlzaWJpbGl0eQogICAgICBodWRFbC5zdHlsZS5kaXNwbGF5ID0gKENGRy5zaG93SHVkPT09ZmFsc2UpID8gJ25vbmUnIDogJyc7CgogICAgICAvLyBrZXlib2FyZCB0b2dnbGVzIChhZnRlciBidWlsZGluZyBwYW5lbCkKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7CiAgICAgICAgY29uc3QgayA9IGUua2V5LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKGsgPT09ICdxJykgeyBDRkcucXQgPSAhQ0ZHLnF0OyB1cGRhdGVVcmxGcm9tQ2ZnKCk7IH0KICAgICAgICBpZiAoayA9PT0gJ2MnKSB7IGNmZ1BhbmVsLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJyk7IH0KICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgPC9zY3JpcHQ+CiAgPC9ib2R5Pgo8L2h0bWw+Cg==" download="boids-dod-quadtree-10-impl.html" class="download-btn" title="Download boids-dod-quadtree-10-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=196 · spawn=random · wrap · orb · lighter · hue=270 · qtCap=16" data-filename="boids-dod-quadtree-11-impl.html"><a href="boids-dod-quadtree-11-impl.html" target="viewer"><strong>Boids DOD+QT · N=196 · spawn=random · wrap · orb · lighter · hue=270 · qtCap=16</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTE5NiDCtyBzcGF3bj1yYW5kb20gwrcgd3JhcCDCtyBvcmIgwrcgbGlnaHRlciDCtyBodWU9MjcwIMK3IHF0Q2FwPTE2PC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgaHRtbCwgYm9keSB7IGhlaWdodDogMTAwJTsgbWFyZ2luOiAwOyB9CiAgICAgIGJvZHkgewogICAgICAgIGJhY2tncm91bmQ6ICMwNTA3MGE7CiAgICAgICAgY29sb3I6ICNlNmVkZjM7CiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICBmb250LWZhbWlseTogdWktc2Fucy1zZXJpZiwgc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBTZWdvZSBVSSwgUm9ib3RvLCBIZWx2ZXRpY2EsIEFyaWFsLCAiQXBwbGUgQ29sb3IgRW1vamkiLCAiU2Vnb2UgVUkgRW1vamkiOwogICAgICB9CiAgICAgICNzY2VuZSB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMTAwdnc7IGhlaWdodDogMTAwdmg7IH0KICAgICAgLm92ZXJsYXkgeyBwb3NpdGlvbjogZml4ZWQ7IGluc2V0OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmciBhdXRvOyB9CiAgICAgIC50aXRsZSB7IG1hcmdpbjogMThweCAyMHB4IDJweDsgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1zaXplOiBjbGFtcCgxOHB4LCAzdncsIDI4cHgpOyBsZXR0ZXItc3BhY2luZzogMC4ycHg7IGNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyB0ZXh0LXNoYWRvdzogMCAwIDEwcHggY29sb3ItbWl4KGluIG9rbGFiLCB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpIDgwJSwgIzAwMCAyMCUpOyB9CiAgICAgIC5zdWJ0aXRsZSB7IG1hcmdpbjogMCAyMHB4IDEwcHg7IGZvbnQtd2VpZ2h0OiA1MDA7IGZvbnQtc2l6ZTogY2xhbXAoMTJweCwgMnZ3LCAxNnB4KTsgb3BhY2l0eTogMC44NTsgfQogICAgICAuaHVkIHsgcG9zaXRpb246IGZpeGVkOyBsZWZ0OiAxMnB4OyBib3R0b206IDEycHg7IHBhZGRpbmc6IDhweCAxMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNDA7IGJhY2tncm91bmQ6ICMwYjEyMjBjYzsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDhweCkgc2F0dXJhdGUoMTIwJSk7IGZvbnQtc2l6ZTogMTJweDsgbGluZS1oZWlnaHQ6IDEuNDsgfQogICAgICAuaHVkIHN0cm9uZyB7IGNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyB9CiAgICAgIC5jZmdCdG4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMTJweDsgcmlnaHQ6IDEycHg7IHotaW5kZXg6IDEwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDZweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnUGFuZWwgeyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogNTZweDsgcmlnaHQ6IDEycHg7IHdpZHRoOiBtaW4oMzgwcHgsIDkwdncpOyBtYXgtaGVpZ2h0OiA4MHZoOyBvdmVyZmxvdzogYXV0bzsgei1pbmRleDogMjA7IHBvaW50ZXItZXZlbnRzOiBhdXRvOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZTY7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGJveC1zaGFkb3c6IDAgMTBweCA0MHB4ICMwMDA4OyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCkgc2F0dXJhdGUoMTIwJSk7IH0KICAgICAgLmNvbmZpZ0hlYWRlciB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgcGFkZGluZzogMTBweCAxMnB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMDAwMDU1OyBwb3NpdGlvbjogc3RpY2t5OyB0b3A6IDA7IGJhY2tncm91bmQ6ICMwYjEyMjBmMjsgfQogICAgICAuY29uZmlnQm9keSB7IHBhZGRpbmc6IDEwcHggMTJweDsgZGlzcGxheTogZ3JpZDsgZ2FwOiAxMHB4OyB9CiAgICAgIC5jb25maWdCb2R5IC5yb3cgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciBhdXRvOyBnYXA6IDhweDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgfQogICAgICAuY29uZmlnQm9keSAucmFuZ2VSb3cgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA3MnB4OyBnYXA6IDhweDsgfQogICAgICAuY2ZnQ2xvc2UgeyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJhY2tncm91bmQ6ICMxMjFhMmJjYzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlci1yYWRpdXM6IDZweDsgcGFkZGluZzogNHB4IDhweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgIC5jb25maWdCb2R5IGlucHV0LCAuY29uZmlnQm9keSBzZWxlY3QgeyBmb250LXNpemU6IDE0cHg7IHBhZGRpbmc6IDZweCA4cHg7IGJhY2tncm91bmQ6ICMxMDE4Mjc7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJvcmRlci1yYWRpdXM6IDZweDsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dFt0eXBlPXJhbmdlXSB7IHBhZGRpbmc6IDA7IGhlaWdodDogMjhweDsgYWNjZW50LWNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgfQogICAgPC9zdHlsZT4KICA8L2hlYWQ+CiAgPGJvZHk+CiAgICA8Y2FudmFzIGlkPSJzY2VuZSI+PC9jYW52YXM+CiAgICA8ZGl2IGNsYXNzPSJvdmVybGF5Ij4KICAgICAgPGRpdiBjbGFzcz0idGl0bGUiIGlkPSJ0aXRsZSI+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InN1YnRpdGxlIiBpZD0ic3VidGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJodWQiIGlkPSJodWQiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8YnV0dG9uIGlkPSJjZmdCdG4iIGNsYXNzPSJjZmdCdG4iIGFyaWEtbGFiZWw9Ik9wZW4gY29uZmlnIj7impnvuI48L2J1dHRvbj4KICAgIDxkaXYgaWQ9ImNvbmZpZyIgY2xhc3M9ImNvbmZpZ1BhbmVsIiBoaWRkZW4+CiAgICAgIDxkaXYgY2xhc3M9ImNvbmZpZ0hlYWRlciI+CiAgICAgICAgPHN0cm9uZz5Db25maWc8L3N0cm9uZz4KICAgICAgICA8YnV0dG9uIGlkPSJjZmdDbG9zZSIgY2xhc3M9ImNmZ0Nsb3NlIiBhcmlhLWxhYmVsPSJDbG9zZSI+4pyVPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGlkPSJjb25maWdCb2R5IiBjbGFzcz0iY29uZmlnQm9keSI+PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxzY3JpcHQ+CiAgICAgICd1c2Ugc3RyaWN0JzsKCiAgICAgIC8vIFVSTCBwYXJhbWV0ZXJzCiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24uc2VhcmNoKTsKICAgICAgY29uc3QgREVGQVVMVF9IVUUgPSAyNzA7CiAgICAgIGNvbnN0IEJBU0VfSFVFID0gY2xhbXBJbnQocGFyc2VJbnQocGFyYW1zLmdldCgnaHVlJykpLCAwLCAzNjAsIERFRkFVTFRfSFVFKTsKICAgICAgbGV0IHBhbGV0dGVIdWUgPSBCQVNFX0hVRTsKICAgICAgY29uc3QgSEVBREVSID0gcGFyYW1zLmdldCgnaGVhZGVyJykgfHwgJ0JvaWRzIOKAlCBEYXRhLU9yaWVudGVkICsgUXVhZHRyZWUnOwogICAgICBjb25zdCBTVUJIRUFERVIgPSBwYXJhbXMuZ2V0KCdzdWJoZWFkZXInKSB8fCAnU2hvY2t3YXZlcyBvbiBjbGljay9kcmFnIMK3IHF1YWR0cmVlIHZpeiBvbic7CiAgICAgIC8vIFF1YWR0cmVlIHZpeiBpcyBoYW5kbGVkIGJ5IENGRy5xdDsgVVJMIHBhcmFtICdxdCcgb3ZlcnJpZGVzIGl0LgoKICAgICAgLy8gRE9NCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2VuZScpOwogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBmYWxzZSB9KTsKICAgICAgY29uc3QgdGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpOwogICAgICBjb25zdCBzdWJ0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YnRpdGxlJyk7CiAgICAgIGNvbnN0IGh1ZEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h1ZCcpOwoKICAgICAgLy8gU3R5bGUgaG9vawogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3BhbGV0dGVIdWV9LCA4NSUsIDYyJSlgKTsKICAgICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IEhFQURFUjsKICAgICAgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IFNVQkhFQURFUjsKCiAgICAgIC8vIENvbmZpZyAoaW5qZWN0ZWQgYnkgZ2VuZXJhdG9yKSDigJQgbXV0YWJsZSBhdCBydW50aW1lCiAgICAgIGxldCBDRkcgPSB7ImNvdW50IjogMTk2LCAidmlzaW9uIjogNjIsICJzZXAiOiAyMywgIm1heFNwZWVkIjogMy44NywgIm1heEZvcmNlIjogMC4wNiwgIm1pblNwZWVkIjogMC43OCwgImFsaWduVyI6IDAuOTksICJjb2hlc2lvblciOiAwLjkyLCAic2VwYXJhdGlvblciOiAyLjc2LCAidHJhaWxBbHBoYSI6IDAuMSwgInF0Q2FwIjogMTYsICJ3cmFwIjogdHJ1ZSwgInNoYXBlIjogIm9yYiIsICJibGVuZCI6ICJsaWdodGVyIiwgImxpbmVXaWR0aCI6IDEuMSwgImdsb3dCYXNlIjogMTgsICJnbG93TWF4IjogMzEsICJnbG93U2NhbGUiOiA5LjcsICJjb21ldFNpemUiOiA1LjA0LCAiYmdHcmFkaWVudCI6IGZhbHNlLCAiYmdIdWVTaGlmdDEiOiAtNCwgImJnSHVlU2hpZnQyIjogNDcsICJiZ0h1ZVNoaWZ0MyI6IDEyMCwgInNwYXduIjogInJhbmRvbSIsICJxdCI6IHRydWUsICJzaG93SHVkIjogdHJ1ZSwgImZsb3ciOiBmYWxzZSwgImZsb3dBbXAiOiAwLjQ3LCAiZmxvd1NjYWxlIjogMC4wMDk1LCAiZmxvd1NwZWVkIjogMS4yNiwgImNsaWNrTW9kZSI6ICJyYW5kb20ifTsKICAgICAgQ0ZHLm1pblNwZWVkID0gQ0ZHLm1pblNwZWVkID8/IDAuODsKICAgICAgQ0ZHLnF0ID0gKHR5cGVvZiBDRkcucXQgPT09ICdib29sZWFuJykgPyBDRkcucXQgOiB0cnVlOwogICAgICBDRkcuY2xpY2tNb2RlID0gQ0ZHLmNsaWNrTW9kZSB8fCAncmFuZG9tJzsKICAgICAgQ0ZHLmNsaWNrTW9kZXMgPSBDRkcuY2xpY2tNb2RlcyB8fCBbCiAgICAgICAgJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknLCdzdHVuJywnZmVhcicsJ2F0dHJhY3QnLCdvcmJpdENXJywnb3JiaXRDQ1cnLAogICAgICAgICdzcGlyYWxPdXQnLCdzcGlyYWxJbicsJ2ZyZWV6ZScsJ3NjcmFtYmxlJywnc2NhdHRlcicsJ21hZ25ldCcsJ3B1bHNlJywKICAgICAgICAnd2FycCcsJ2dyb3cnLCd0dW5uZWwnLCdyaXBwbGUnLCdqaXR0ZXJidXJzdCcsJ2Nocm9tYWJ1cnN0Jywnc2xvd2Rvd24nLCdzcGVlZHVwJywKICAgICAgICAncGVybGluRHJhZycsJ2xpc3NhUHVsc2UnLCdtZXRlb3InLAogICAgICAgIC8vIHN0ZWVyaW5nLXdlaWdodCBlZmZlY3RzCiAgICAgICAgJ2FsaWduJywnZGVhbGlnbicsJ2NvaGVyZScsJ2xvb3NlbicsJ3NlcGFyYXRlJywnZGlzcGVyc2UnCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBwYXJzZUJvb2wodiwgZCkgewogICAgICAgIGlmICh2ID09IG51bGwpIHJldHVybiBkOwogICAgICAgIGNvbnN0IHMgPSBTdHJpbmcodikudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoWycxJywndHJ1ZScsJ3llcycsJ29uJ10uaW5jbHVkZXMocykpIHJldHVybiB0cnVlOwogICAgICAgIGlmIChbJzAnLCdmYWxzZScsJ25vJywnb2ZmJ10uaW5jbHVkZXMocykpIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gZDsKICAgICAgfQoKICAgICAgLy8gVVJMIG92ZXJyaWRlcyBmb3IgY29uZmlnCiAgICAgIChmdW5jdGlvbiB1cmxPdmVycmlkZSgpewogICAgICAgIGNvbnN0IGludEtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywncXRDYXAnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnXTsKICAgICAgICBjb25zdCBudW1LZXlzID0gWydtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJ107CiAgICAgICAgY29uc3QgYm9vbEtleXMgPSBbJ3dyYXAnLCdiZ0dyYWRpZW50JywncXQnLCdmbG93Jywnc2hvd0h1ZCddOwogICAgICAgIGNvbnN0IHN0cktleXMgPSBbJ3NoYXBlJywnYmxlbmQnLCdzcGF3biddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBpbnRLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE1hdGgubWF4KC05OTk5OSwgTWF0aC5taW4oOTk5OTksIHBhcnNlSW50KHYpKSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgbnVtS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBOdW1iZXIodik7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgYm9vbEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gcGFyc2VCb29sKHYsIENGR1trXSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2Ygc3RyS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSB2OyB9CiAgICAgICAgY29uc3QgY20gPSBwYXJhbXMuZ2V0KCdjbGlja01vZGUnKTsgaWYgKGNtKSBDRkcuY2xpY2tNb2RlID0gY207CiAgICAgICAgY29uc3QgY21zID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlcycpOyBpZiAoY21zKSBDRkcuY2xpY2tNb2RlcyA9IGNtcy5zcGxpdCgnLCcpOwogICAgICB9KSgpOwoKICAgICAgZnVuY3Rpb24gdXBkYXRlVXJsRnJvbUNmZyhleHRyYT17fSkgewogICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwobG9jYXRpb24uaHJlZik7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2h1ZScsIHBhbGV0dGVIdWUpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdoZWFkZXInLCB0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3ViaGVhZGVyJywgc3VidGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qga2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdxdENhcCcsJ3dyYXAnLCdzaGFwZScsJ2JsZW5kJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnYmdHcmFkaWVudCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MycsJ3F0JywnY2xpY2tNb2RlJywnY2xpY2tNb2RlcycsJ2Zsb3cnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJywnc3Bhd24nLCdzaG93SHVkJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIFN0cmluZyhDRkdba10pKTsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZXMgJiYgQXJyYXkuaXNBcnJheShDRkcuY2xpY2tNb2RlcykpIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdjbGlja01vZGVzJywgQ0ZHLmNsaWNrTW9kZXMuam9pbignLCcpKTsKICAgICAgICBmb3IgKGNvbnN0IFtrLHZdIG9mIE9iamVjdC5lbnRyaWVzKGV4dHJhKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgdik7CiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgJycsIHVybC50b1N0cmluZygpKTsKICAgICAgfQoKICAgICAgY29uc3QgVEFVID0gTWF0aC5QSSAqIDI7CgogICAgICAvLyBDYW52YXMgc2l6aW5nIHdpdGggRFBSCiAgICAgIGxldCBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgICBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcihpbm5lcldpZHRoICogRFBSKTsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihpbm5lckhlaWdodCAqIERQUik7CiAgICAgICAgY3R4LnNldFRyYW5zZm9ybShEUFIsIDAsIDAsIERQUiwgMCwgMCk7CiAgICAgICAgY2xlYXJIYXJkKCk7CiAgICAgIH0KICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKTsKICAgICAgcmVzaXplKCk7CgogICAgICBmdW5jdGlvbiBjbGVhckhhcmQoKSB7CiAgICAgICAgaWYgKENGRy5iZ0dyYWRpZW50KSB7CiAgICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGlubmVyV2lkdGgqMC42NSwgaW5uZXJIZWlnaHQqMC4zNSwgTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuMTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyV2lkdGgqMC41LCBpbm5lckhlaWdodCowLjUsIE1hdGguaHlwb3QoaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuNyk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDEpJTM2MH0gODAlIDEwJSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNSwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MiklMzYwfSA3MCUgOCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgxLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDMpJTM2MH0gNjAlIDYlKWApOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBpbm5lcldpZHRoLCBpbm5lckhlaWdodCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNsYW1wSW50KG4sIGxvLCBoaSwgZmFsbGJhY2spIHsKICAgICAgICBuID0gTnVtYmVyLmlzRmluaXRlKG4pID8gbiA6IGZhbGxiYWNrOwogICAgICAgIHJldHVybiBNYXRoLm1heChsbywgTWF0aC5taW4oaGksIG4pKTsKICAgICAgfQoKICAgICAgLy8gRHJpZnQgYSBodWUgdmFsdWUgdG93YXJkIGEgdGFyZ2V0IG9uIGEgY2lyY3VsYXIgY29sb3Igd2hlZWwKICAgICAgZnVuY3Rpb24gYXBwcm9hY2hIdWUoaCwgdGFyZ2V0LCByYXRlKSB7CiAgICAgICAgLy8gcmF0ZSBpcyAwLi4xIGZyYWN0aW9uIHRvd2FyZCB0YXJnZXQgcGVyIGNhbGwKICAgICAgICBsZXQgZCA9ICgodGFyZ2V0IC0gaCArIDU0MCkgJSAzNjApIC0gMTgwOyAvLyBzaG9ydGVzdCBzaWduZWQgZGVsdGEgWy0xODAsMTgwKQogICAgICAgIHJldHVybiAoaCArIGQgKiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCByYXRlKSkgKyAzNjApICUgMzYwOwogICAgICB9CgogICAgICAvLyBMaWdodHdlaWdodCAyRCB2YWx1ZSBub2lzZSAoZm9yIHBlcmxpbi1saWtlIGRyYWcpCiAgICAgIGxldCBub2lzZVNlZWQgPSAoQkFTRV9IVUUgKiAxNjY0NTI1ICsgMTAxMzkwNDIyMykgJiAweGZmZmZmZmZmOwogICAgICBmdW5jdGlvbiBmcmFjdCh4KXsgcmV0dXJuIHggLSBNYXRoLmZsb29yKHgpOyB9CiAgICAgIGZ1bmN0aW9uIF9yYW5kKGl4LCBpeSl7CiAgICAgICAgY29uc3QgayA9IChpeCAqIDM3NDc2MTM5MyArIGl5ICogNjY4MjY1MjYzICsgbm9pc2VTZWVkKSA+Pj4gMDsKICAgICAgICByZXR1cm4gZnJhY3QoTWF0aC5zaW4oaykgKiA0Mzc1OC41NDUzKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBub2lzZTIoeCwgeSl7CiAgICAgICAgY29uc3QgeGkgPSBNYXRoLmZsb29yKHgpLCB5aSA9IE1hdGguZmxvb3IoeSk7CiAgICAgICAgY29uc3QgeGYgPSB4IC0geGksIHlmID0geSAtIHlpOwogICAgICAgIGNvbnN0IHUgPSB4Zip4ZiooMy0yKnhmKSwgdiA9IHlmKnlmKigzLTIqeWYpOwogICAgICAgIGNvbnN0IHYwMCA9IF9yYW5kKHhpLCB5aSksIHYxMCA9IF9yYW5kKHhpKzEsIHlpKSwgdjAxID0gX3JhbmQoeGksIHlpKzEpLCB2MTEgPSBfcmFuZCh4aSsxLCB5aSsxKTsKICAgICAgICBjb25zdCB4MSA9IHYwMCooMS11KSArIHYxMCp1LCB4MiA9IHYwMSooMS11KSArIHYxMSp1OwogICAgICAgIHJldHVybiB4MSooMS12KSArIHgyKnY7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gcGVybGluVmVjKHgsIHksIHNjYWxlLCBhbXApewogICAgICAgIGNvbnN0IG4gPSBub2lzZTIoeCpzY2FsZSwgeSpzY2FsZSk7CiAgICAgICAgY29uc3QgYSA9IG4gKiBUQVU7CiAgICAgICAgcmV0dXJuIFtNYXRoLmNvcyhhKSphbXAsIE1hdGguc2luKGEpKmFtcF07CiAgICAgIH0KCiAgICAgIC8vIFNlZWRlZCBQUk5HIGZvciBzdWJ0bGUgZGV0ZXJtaW5pc20gZnJvbSBCQVNFX0hVRQogICAgICBsZXQgX3NlZWQgPSAoQkFTRV9IVUUgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwOwogICAgICBmdW5jdGlvbiBybmQoKSB7IF9zZWVkID0gKDExMDM1MTUyNDUgKiBfc2VlZCArIDEyMzQ1KSAmIDB4N2ZmZmZmZmY7IHJldHVybiAoX3NlZWQgPj4+IDgpIC8gMHg3ZmZmZmY7IH0KICAgICAgZnVuY3Rpb24gcmFuZChtaW4sIG1heCkgeyByZXR1cm4gcm5kKCkgKiAobWF4IC0gbWluKSArIG1pbjsgfQoKICAgICAgLy8gRGF0YS1PcmllbnRlZCBTdGF0ZSAoU29BKSDigJQgZHluYW1pYwogICAgICBsZXQgTiA9IENGRy5jb3VudDsKICAgICAgbGV0IHB4LCBweSwgdngsIHZ5LCBheCwgYXksIGh1ZSwgc3BkLCBwcmV2eCwgcHJldnk7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBtb2RpZmllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBzaXplTXVsLCB2Qm9vc3QsIGh1ZU9mZiwgaml0QW1wOwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgc3RlZXJpbmcgbXVsdGlwbGllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBhbGlnbk11bCwgY29oZXNpb25NdWwsIHNlcGFyYXRpb25NdWw7CgogICAgICBmdW5jdGlvbiBhbGxvYyhuKSB7CiAgICAgICAgcHggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBweSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgdnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYXggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBheSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgaHVlID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc3BkID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBwcmV2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHByZXZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBzaXplTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdkJvb3N0ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaHVlT2ZmID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaml0QW1wID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBhbGlnbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGNvaGVzaW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc2VwYXJhdGlvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHNlZWRCb2lkcygpIHsKICAgICAgICBjb25zdCBtb2RlID0gQ0ZHLnNwYXduIHx8ICdyYW5kb20nOwogICAgICAgIGlmIChtb2RlID09PSAnY2lyY2xlJykgewogICAgICAgICAgY29uc3QgY3ggPSBpbm5lcldpZHRoLzIsIGN5ID0gaW5uZXJIZWlnaHQvMiwgciA9IE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KS8zOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgdCA9IE1hdGgucmFuZG9tKCkqTWF0aC5QSSoyOyBweFtpXT1jeCtNYXRoLmNvcyh0KSpyOyBweVtpXT1jeStNYXRoLnNpbih0KSpyOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnZ3JpZCcpIHsKICAgICAgICAgIGNvbnN0IGNvbHM9TWF0aC5tYXgoMTAsIE1hdGguZmxvb3IoTWF0aC5zcXJ0KE4pKSk7IGNvbnN0IHJvd3M9TWF0aC5jZWlsKE4vY29scyk7CiAgICAgICAgICBjb25zdCBneD1pbm5lcldpZHRoLyhjb2xzKzEpLCBneT1pbm5lckhlaWdodC8ocm93cysxKTsgbGV0IGs9MDsKICAgICAgICAgIGZvciAobGV0IHk9MTt5PD1yb3dzO3krKykgZm9yIChsZXQgeD0xO3g8PWNvbHM7eCsrKSB7IGlmIChrPj1OKSBicmVhazsgcHhba109Z3gqeDsgcHlba109Z3kqeTsgdnhba109cmFuZCgtMSwxKTsgdnlba109cmFuZCgtMSwxKTsgaysrOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnY2VudGVyYnVyc3QnKSB7CiAgICAgICAgICBjb25zdCBjeD1pbm5lcldpZHRoLzIsIGN5PWlubmVySGVpZ2h0LzI7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCBhPU1hdGgucmFuZG9tKCkqTWF0aC5QSSoyLCBkPXJhbmQoMCwgTWF0aC5taW4oaW5uZXJXaWR0aCxpbm5lckhlaWdodCkvMik7IHB4W2ldPWN4K01hdGguY29zKGEpKmQ7IHB5W2ldPWN5K01hdGguc2luKGEpKmQ7IHZ4W2ldPU1hdGguY29zKGEpOyB2eVtpXT1NYXRoLnNpbihhKTsgfQogICAgICAgIH0gZWxzZSB7IC8vIHJhbmRvbQogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgcHhbaV09cmFuZCgwLGlubmVyV2lkdGgpOyBweVtpXT1yYW5kKDAsaW5uZXJIZWlnaHQpOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICBjb25zdCBtPU1hdGguaHlwb3QodnhbaV0sdnlbaV0pfHwxOyB2eFtpXSo9Mi4wL207IHZ5W2ldKj0yLjAvbTsKICAgICAgICAgIGh1ZVtpXSA9IChwYWxldHRlSHVlICsgcmFuZCgtMzAsIDMwKSkgJSAzNjA7IHByZXZ4W2ldPXB4W2ldOyBwcmV2eVtpXT1weVtpXTsKICAgICAgICAgIHNpemVNdWxbaV09MDsgdkJvb3N0W2ldPTA7IGh1ZU9mZltpXT0wOyBqaXRBbXBbaV09MDsKICAgICAgICAgIGFsaWduTXVsW2ldPTA7IGNvaGVzaW9uTXVsW2ldPTA7IHNlcGFyYXRpb25NdWxbaV09MDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHJlc2VlZChuKSB7CiAgICAgICAgTiA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IobikpOwogICAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKICAgICAgfQoKICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwoKICAgICAgLy8gUXVhZHRyZWUgaW1wbGVtZW50YXRpb24KICAgICAgY2xhc3MgUVROb2RlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMueCA9IHg7IHRoaXMueSA9IHk7IHRoaXMudyA9IHc7IHRoaXMuaCA9IGg7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsgdGhpcy5jb3VudCA9IDA7IHRoaXMuaWR4ID0gbmV3IEludDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMucHRzeCA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsgdGhpcy5wdHN5ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5kaXZpZGVkID0gZmFsc2U7IHRoaXMuY2hpbGRyZW4gPSBudWxsOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY2xhc3MgUXVhZHRyZWUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy5yb290ID0gbmV3IFFUTm9kZSh4LCB5LCB3LCBoLCBjYXApOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7CiAgICAgICAgfQoKICAgICAgICBpbnNlcnQoaSwgeCwgeSwgbm9kZSA9IHRoaXMucm9vdCkgewogICAgICAgICAgaWYgKHggPCBub2RlLnggfHwgeSA8IG5vZGUueSB8fCB4ID49IG5vZGUueCArIG5vZGUudyB8fCB5ID49IG5vZGUueSArIG5vZGUuaCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgaWYgKG5vZGUuY291bnQgPCBub2RlLmNhcCAmJiAhbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSBub2RlLmNvdW50Kys7IG5vZGUuaWR4W2pdID0gaTsgbm9kZS5wdHN4W2pdID0geDsgbm9kZS5wdHN5W2pdID0geTsgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgdGhpcy5zdWJkaXZpZGUobm9kZSk7CiAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgfQoKICAgICAgICBzdWJkaXZpZGUobm9kZSkgewogICAgICAgICAgbm9kZS5kaXZpZGVkID0gdHJ1ZTsKICAgICAgICAgIGNvbnN0IGh3ID0gbm9kZS53LzIsIGhoID0gbm9kZS5oLzI7CiAgICAgICAgICBub2RlLmNoaWxkcmVuID0gWwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTlcKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5FCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU0UKICAgICAgICAgIF07CiAgICAgICAgICAvLyByZWluc2VydCBleGlzdGluZyBwb2ludHMKICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbm9kZS5jb3VudDsgaysrKSB7CiAgICAgICAgICAgIGNvbnN0IGkgPSBub2RlLmlkeFtrXTsgY29uc3QgeCA9IG5vZGUucHRzeFtrXTsgY29uc3QgeSA9IG5vZGUucHRzeVtrXTsKICAgICAgICAgICAgdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgICB9CiAgICAgICAgICBub2RlLmNvdW50ID0gMDsgLy8gY2xlYXIgbGVhZiBzdG9yYWdlCiAgICAgICAgfQoKICAgICAgICBxdWVyeShjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgdGhpcy5fcXVlcnlOb2RlKHRoaXMucm9vdCwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KICAgICAgICBfcXVlcnlOb2RlKG5vZGUsIGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICAvLyBjaXJjbGUtcmVjdCBxdWljayByZWplY3QKICAgICAgICAgIGNvbnN0IHJ4PW5vZGUueCwgcnk9bm9kZS55LCBydz1ub2RlLncsIHJoPW5vZGUuaDsKICAgICAgICAgIGxldCBueCA9IE1hdGgubWF4KHJ4LCBNYXRoLm1pbihjeCwgcngrcncpKTsKICAgICAgICAgIGxldCBueSA9IE1hdGgubWF4KHJ5LCBNYXRoLm1pbihjeSwgcnkrcmgpKTsKICAgICAgICAgIGNvbnN0IGRpc3QgPSAoY3gtbngpKihjeC1ueCkrKGN5LW55KSooY3ktbnkpOwogICAgICAgICAgaWYgKGRpc3QgPiByKnIpIHJldHVybjsKCiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBmb3IgKGxldCBrPTA7azxub2RlLmNvdW50O2srKykgeyBvdXQucHVzaChub2RlLmlkeFtrXSk7IH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX3F1ZXJ5Tm9kZShub2RlLmNoaWxkcmVuW2NdLCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQoKICAgICAgICBkcmF3KGN0eCkgewogICAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHsocGFsZXR0ZUh1ZSsxODApJTM2MH0gODAlIDcwJSAvIDAuMTQpYDsKICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgdGhpcy5fZHJhd05vZGUoY3R4LCB0aGlzLnJvb3QpOwogICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICAgICAgX2RyYXdOb2RlKGN0eCwgbm9kZSkgewogICAgICAgICAgY3R4LnN0cm9rZVJlY3Qobm9kZS54LCBub2RlLnksIG5vZGUudywgbm9kZS5oKTsKICAgICAgICAgIGlmIChub2RlLmRpdmlkZWQpIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9kcmF3Tm9kZShjdHgsIG5vZGUuY2hpbGRyZW5bY10pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0cwogICAgICBjb25zdCBlZmZlY3RzID0gW107IC8vIHt4LHksdCxsaWZlLHNpZ24sdHlwZSwuLi5leHRyYXN9CiAgICAgIGxldCBtb3VzZURvd24gPSBmYWxzZTsKICAgICAgY29uc3QgcG9pbnRlciA9IHt4OiBpbm5lcldpZHRoLzIsIHk6IGlubmVySGVpZ2h0LzIsIHZ4OiAwLCB2eTogMCwgdDogcGVyZm9ybWFuY2Uubm93KCl9OwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSB0cnVlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsICAgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IGZhbHNlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgLTEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIGlmIChtb3VzZURvd24pIHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKCiAgICAgIGZ1bmN0aW9uIHBpY2tDbGlja1R5cGUoKSB7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGUgJiYgQ0ZHLmNsaWNrTW9kZSAhPT0gJ3JhbmRvbScpIHJldHVybiBDRkcuY2xpY2tNb2RlOwogICAgICAgIGNvbnN0IGxpc3QgPSBDRkcuY2xpY2tNb2RlcyB8fCBbJ3Nob2NrJ107CiAgICAgICAgcmV0dXJuIGxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmxpc3QubGVuZ3RoKV0gfHwgJ3Nob2NrJzsKICAgICAgfQogICAgICBmdW5jdGlvbiBzcGF3bkVmZmVjdCh4LCB5LCBzaWduKSB7CiAgICAgICAgY29uc3QgdHlwZSA9IHBpY2tDbGlja1R5cGUoKTsKICAgICAgICBjb25zdCBsaWZlID0gKHR5cGU9PT0naW1wbG9zaW9uJykgPyAwLjkgOiAodHlwZT09PSd2b3J0ZXgnIHx8IHR5cGU9PT0nbWV0ZW9yJyA/IDEuOCA6IDEuMik7CiAgICAgICAgY29uc3QgRSA9IHsgeCwgeSwgdDogMCwgbGlmZSwgc2lnbiwgdHlwZSB9OwogICAgICAgIGlmICh0eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgIGNvbnN0IHNwID0gTWF0aC5taW4oMywgTWF0aC5oeXBvdChwb2ludGVyLnZ4LCBwb2ludGVyLnZ5KSoxMjApOwogICAgICAgICAgRS5hID0gMiArIE1hdGguZmxvb3Ioc3AlNCk7IEUuYiA9IDMgKyBNYXRoLmZsb29yKChzcCoxLjcpJTQpOyBFLnBoYXNlID0gTWF0aC5yYW5kb20oKSpUQVU7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgY29uc3Qgc2NhbGUgPSA5MDA7IEUudnggPSBwb2ludGVyLnZ4KnNjYWxlOyBFLnZ5ID0gcG9pbnRlci52eSpzY2FsZTsgRS5tYXNzID0gMjIwICsgTWF0aC5yYW5kb20oKSoxODA7IEUuZHJhZz0wLjk4OwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICBFLnNjYWxlID0gMC4wMDYgKyBNYXRoLnJhbmRvbSgpKjAuMDA2OyBFLmFtcCA9IDEuMiArIE1hdGgucmFuZG9tKCkqMS4yOwogICAgICAgIH0KICAgICAgICBlZmZlY3RzLnB1c2goRSk7CiAgICAgIH0KCiAgICAgIC8vIFBoeXNpY3MgaGVscGVycwogICAgICBmdW5jdGlvbiBsaW1pdCh2eCwgdnksIG1heCkgewogICAgICAgIGNvbnN0IG0yID0gdngqdnggKyB2eSp2eTsgaWYgKG0yID4gbWF4Km1heCkgewogICAgICAgICAgY29uc3QgbSA9IE1hdGguc3FydChtMikgfHwgMTsgY29uc3QgcyA9IG1heCAvIG07IHJldHVybiBbdngqcywgdnkqc107CiAgICAgICAgfSByZXR1cm4gW3Z4LCB2eV07CiAgICAgIH0KCiAgICAgIC8vIE1haW4gbG9vcAogICAgICBsZXQgbGFzdCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICBsZXQgZnBzQXZnID0gMDsKICAgICAgZnVuY3Rpb24gZnJhbWUodCkgewogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5taW4oMzIsIHQgLSBsYXN0KSAqIDAuMDAxOyAvLyBjbGFtcAogICAgICAgIGxhc3QgPSB0OwogICAgICAgIGNvbnN0IGZwc05vdyA9IDEgLyBNYXRoLm1heCgxZS02LCBkdCk7CiAgICAgICAgZnBzQXZnID0gZnBzQXZnID8gKGZwc0F2ZyowLjkgKyBmcHNOb3cqMC4xKSA6IGZwc05vdzsKICAgICAgICBjb25zdCBXID0gaW5uZXJXaWR0aCwgSCA9IGlubmVySGVpZ2h0OwoKICAgICAgICAvLyB0cmFpbHM6IHRyYW5zbHVjZW50IGZpbGwKICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJzsKICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIENGRy50cmFpbEFscGhhKSk7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgVywgSCk7CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gQnVpbGQgcXVhZHRyZWUKICAgICAgICBjb25zdCBxdCA9IG5ldyBRdWFkdHJlZSgwLCAwLCBXLCBILCBDRkcucXRDYXApOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSBxdC5pbnNlcnQoaSwgcHhbaV0sIHB5W2ldKTsKCiAgICAgIC8vIEFwcGx5IGZsb2NraW5nIHZpYSBuZWlnaGJvciBxdWVyaWVzIChhZGFwdGl2ZSB2aXNpb24gdW5kZXIgbG9hZCkKICAgICAgY29uc3QgdmlzaW9uID0gQ0ZHLnZpc2lvbiAqIChmcHNBdmcgPCA1MCA/IDAuOSA6IDEuMCk7IGNvbnN0IHNlcCA9IENGRy5zZXA7CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGF4W2ldPTA7IGF5W2ldPTA7IH0KICAgICAgbGV0IHRtcCA9IFtdOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgIHRtcC5sZW5ndGggPSAwOyBxdC5xdWVyeShweFtpXSwgcHlbaV0sIHZpc2lvbiwgdG1wKTsKICAgICAgICAgIGxldCBjeD0wLCBjeT0wLCB2eHN1bT0wLCB2eXN1bT0wLCBzeD0wLCBzeT0wLCB0b3RhbD0wLCBzY2xvc2U9MDsKICAgICAgICAgIGZvciAobGV0IGs9MDtrPHRtcC5sZW5ndGg7aysrKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSB0bXBba107IGlmIChqPT09aSkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGR4ID0gcHhbal0tcHhbaV07IGNvbnN0IGR5ID0gcHlbal0tcHlbaV07CiAgICAgICAgICAgIGNvbnN0IGQyID0gZHgqZHggKyBkeSpkeTsgaWYgKGQyID09PSAwKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChkMik7CiAgICAgICAgICAgIGlmIChkIDwgdmlzaW9uKSB7IHRvdGFsKys7IGN4ICs9IHB4W2pdOyBjeSArPSBweVtqXTsgdnhzdW0gKz0gdnhbal07IHZ5c3VtICs9IHZ5W2pdOyB9CiAgICAgICAgICAgIGlmIChkIDwgc2VwKSB7IHNjbG9zZSsrOyBzeCAtPSBkeC8oZHx8MSk7IHN5IC09IGR5LyhkfHwxKTsgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKHRvdGFsPjApIHsKICAgICAgICAgICAgLy8gYWxpZ25tZW50CiAgICAgICAgICAgIGxldCBheHYgPSAodnhzdW0vdG90YWwpIC0gdnhbaV07IGxldCBheXYgPSAodnlzdW0vdG90YWwpIC0gdnlbaV07CiAgICAgICAgICAgIGNvbnN0IGFsaWduVyA9IENGRy5hbGlnblcgKiAoMSArIChhbGlnbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbYXh2LCBheXZdID0gbGltaXQoYXh2LCBheXYsIENGRy5tYXhGb3JjZSk7CiAgICAgICAgICAgIGF4W2ldICs9IGF4diAqIGFsaWduVzsgYXlbaV0gKz0gYXl2ICogYWxpZ25XOwogICAgICAgICAgICAvLyBjb2hlc2lvbgogICAgICAgICAgICBsZXQgY3h2ID0gKGN4L3RvdGFsIC0gcHhbaV0pOyBsZXQgY3l2ID0gKGN5L3RvdGFsIC0gcHlbaV0pOwogICAgICAgICAgICBjb25zdCBjb2hXID0gQ0ZHLmNvaGVzaW9uVyAqICgxICsgKGNvaGVzaW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtjeHYsIGN5dl0gPSBsaW1pdChjeHYsIGN5diwgQ0ZHLm1heEZvcmNlKTsgYXhbaV0gKz0gY3h2ICogY29oVzsgYXlbaV0gKz0gY3l2ICogY29oVzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChzY2xvc2U+MCkgewogICAgICAgICAgICBsZXQgc3h2ID0gc3g7IGxldCBzeXYgPSBzeTsgW3N4diwgc3l2XSA9IGxpbWl0KHN4diwgc3l2LCBDRkcubWF4Rm9yY2UqMS41KTsKICAgICAgICAgICAgY29uc3Qgc2VwVyA9IENGRy5zZXBhcmF0aW9uVyAqICgxICsgKHNlcGFyYXRpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgYXhbaV0gKz0gc3h2ICogc2VwVzsgYXlbaV0gKz0gc3l2ICogc2VwVzsKICAgICAgICAgIH0KICAgICAgICAvLyBvcHRpb25hbCBmbG93IGZpZWxkIGZvciBwYXR0ZXJuIHZhcmlldHkKICAgICAgICBpZiAoQ0ZHLmZsb3cpIHsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuZmxvd1NjYWxlIHx8IDAuMDA0OyBjb25zdCBhID0gQ0ZHLmZsb3dBbXAgfHwgMC42OyBjb25zdCBzcCA9IENGRy5mbG93U3BlZWQgfHwgMC42OwogICAgICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKSowLjAwMSpzcDsKICAgICAgICAgIGNvbnN0IGZ4ID0gTWF0aC5zaW4ocHlbaV0qcyArIHQwKSAqIGE7CiAgICAgICAgICBjb25zdCBmeSA9IE1hdGguY29zKHB4W2ldKnMgLSB0MCkgKiBhOwogICAgICAgICAgYXhbaV0gKz0gZng7IGF5W2ldICs9IGZ5OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0czogfjIwKyBtb2RlcyBpbmNsdWRpbmcgcGVybGluRHJhZywgbGlzc2FQdWxzZSwgbWV0ZW9yCiAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcic7CiAgICAgIGxldCB0bXAyID0gW107CiAgICAgIGZvciAobGV0IGU9ZWZmZWN0cy5sZW5ndGgtMTsgZT49MDsgZS0tKSB7CiAgICAgICAgY29uc3QgRSA9IGVmZmVjdHNbZV07IEUudCArPSBkdDsgY29uc3QgayA9IEUudCAvIEUubGlmZTsKICAgICAgICBjb25zdCByID0gMzAgKyBrICogMjYwOyBjb25zdCBzdHIgPSAxLjAgLSBrOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7IEUueCArPSAoRS52eHx8MCkqZHQ7IEUueSArPSAoRS52eXx8MCkqZHQ7IEUudnggKj0gKEUuZHJhZ3x8MSk7IEUudnkgKj0gKEUuZHJhZ3x8MSk7IEUubWFzcyAqPSAwLjk4NTsgfQogICAgICAgIHRtcDIubGVuZ3RoID0gMDsgcXQucXVlcnkoRS54LCBFLnksIHIsIHRtcDIpOwogICAgICAgIGZvciAobGV0IGlpPTA7IGlpPHRtcDIubGVuZ3RoOyBpaSsrKSB7CiAgICAgICAgICBjb25zdCBpID0gdG1wMltpaV07IGNvbnN0IGR4ID0gcHhbaV0tRS54OyBjb25zdCBkeSA9IHB5W2ldLUUueTsgY29uc3QgZCA9IE1hdGguaHlwb3QoZHgsIGR5KXx8MTsKICAgICAgICAgIGNvbnN0IGZhbGwgPSAoMSAtIE1hdGgubWluKDEsIGQvcikpOwogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICAgIGNvbnN0IHYgPSBwZXJsaW5WZWMocHhbaV0tRS54LCBweVtpXS1FLnksIEUuc2NhbGV8fDAuMDA4LCAoRS5hbXB8fDEuNSkgKiBmYWxsKTsKICAgICAgICAgICAgYXhbaV0gKz0gdlswXTsgYXlbaV0gKz0gdlsxXTsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIoZHksIGR4KTsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKEUuYSphbmcgKyBFLnBoYXNlKSAqIE1hdGguY29zKEUuYiphbmcgLSBFLnBoYXNlKTsKICAgICAgICAgICAgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgICAgY29uc3QgRyA9IDgwMDsgY29uc3QgZiA9IE1hdGgubWluKDMuMCwgKEcqKEUubWFzc3x8MjAwKSkvKChkKmQpKzIwMCkpOwogICAgICAgICAgICBheFtpXSAtPSAoZHgvZCkqZipmYWxsOyBheVtpXSAtPSAoZHkvZCkqZipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICd2b3J0ZXgnIHx8IEUudHlwZT09PSdvcmJpdENXJyB8fCBFLnR5cGU9PT0nb3JiaXRDQ1cnIHx8IEUudHlwZT09PSdzcGlyYWxPdXQnIHx8IEUudHlwZT09PSdzcGlyYWxJbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdvcmJpdENDVycpID8gLTEgOiAxOwogICAgICAgICAgICBjb25zdCB0eCA9IC1keS9kLCB0eSA9IGR4L2Q7IGxldCBzID0gKEUuc2lnbj4wPzE6LTEpICogMS4yICogZmFsbCAqIGRpcjsKICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxPdXQnKSB7IHMgPSAxLjIqZmFsbDsgYXhbaV0gKz0gKGR4L2QpKmZhbGwqMC44OyBheVtpXSArPSAoZHkvZCkqZmFsbCowLjg7IH0KICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxJbicpIHsgcyA9IC0xLjIqZmFsbDsgYXhbaV0gLT0gKGR4L2QpKmZhbGwqMC42OyBheVtpXSAtPSAoZHkvZCkqZmFsbCowLjY7IH0KICAgICAgICAgICAgYXhbaV0gKz0gdHgqczsgYXlbaV0gKz0gdHkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdpbXBsb3Npb24nIHx8IEUudHlwZT09PSdhdHRyYWN0JyB8fCBFLnR5cGU9PT0nbWFnbmV0JykgewogICAgICAgICAgICBjb25zdCBzID0gKEUudHlwZT09PSdpbXBsb3Npb24nID8gLTIuMiA6IC0xLjIpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzcHJheScgfHwgRS50eXBlPT09J3NjYXR0ZXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAoRS50eXBlPT09J3NjYXR0ZXInPzMuMDoyLjQpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICB2eFtpXSArPSAoZHgvZCkgKiAwLjI1ICogZmFsbDsgdnlbaV0gKz0gKGR5L2QpICogMC4yNSAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjE1KmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3N0dW4nIHx8IEUudHlwZT09PSdmcmVlemUnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAoRS50eXBlPT09J2ZyZWV6ZSc/MC42OjAuMykgKiBmYWxsOyBzaXplTXVsW2ldICs9IDAuMypmYWxsOyB2eFtpXSAqPSAwLjk2OyB2eVtpXSAqPSAwLjk2OwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdmZWFyJykgewogICAgICAgICAgICBjb25zdCBzID0gMi44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBqaXRBbXBbaV0gKz0gMC4yNSpmYWxsOyBodWVPZmZbaV0gKz0gODAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2NyYW1ibGUnKSB7CiAgICAgICAgICAgIHZ4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgdnlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyBqaXRBbXBbaV0gKz0gMC4zKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3B1bHNlJyB8fCBFLnR5cGU9PT0ncmlwcGxlJykgewogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oaypNYXRoLlBJKjIpOyBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldICs9IDAuOCAqIGZhbGw7IHNlcGFyYXRpb25NdWxbaV0gLT0gMC4zICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZGVhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gLT0gMC44ICogZmFsbDsgY29oZXNpb25NdWxbaV0gKz0gMC4yICogZmFsbDsgaml0QW1wW2ldICs9IDAuMSAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2NvaGVyZScgfHwgRS50eXBlPT09J3RpZ2h0ZW4nIHx8IEUudHlwZT09PSdsb29zZW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nbG9vc2VuJykgPyAtMSA6IDE7IC8vIGxvb3NlbiByZWR1Y2VzIGNvaGVzaW9uCiAgICAgICAgICAgIGNvaGVzaW9uTXVsW2ldICs9IGRpciAqIDAuOSAqIGZhbGw7IGlmIChkaXI+MCkgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjIgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzZXBhcmF0ZScgfHwgRS50eXBlPT09J2Rpc3BlcnNlJykgewogICAgICAgICAgICBzZXBhcmF0aW9uTXVsW2ldICs9IDEuMCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldIC09IDAuNCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3dhcnAnIHx8IEUudHlwZT09PSdzcGVlZHVwJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGh1ZU9mZltpXSArPSA0MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzbG93ZG93bicpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IDAuNSpmYWxsOyBodWVPZmZbaV0gLT0gMjAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZ3JvdycpIHsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjYqZmFsbDsgaHVlT2ZmW2ldICs9IDMwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3R1bm5lbCcpIHsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gciowLjc7IGNvbnN0IHMgPSAoZDx0YXJnZXQ/KzE6LTEpICogMS4yICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdqaXR0ZXJidXJzdCcpIHsKICAgICAgICAgICAgaml0QW1wW2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjaHJvbWFidXJzdCcpIHsKICAgICAgICAgICAgaHVlT2ZmW2ldICs9IDE2MCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzaG9jayAvIGRlZmF1bHQKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8rMTotMSkgKiAxLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGdlbmVyYWwgY29sb3IgZW5lcmd5CiAgICAgICAgICBodWVbaV0gPSAoaHVlW2ldICsgOTAgKiBmYWxsKSAlIDM2MDsKICAgICAgICB9CiAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChFLngsIEUueSwgTWF0aC5tYXgoMSwgciowLjYpLCBFLngsIEUueSwgcik7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsyMCklMzYwfSwgOTUlLCA3MCUsICR7MC4zNCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzYwKSUzNjB9LCA5NSUsIDYwJSwgJHswLjIyKnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjk1LCBgaHNsYSgkeyhwYWxldHRlSHVlKzEwMCklMzYwfSwgOTUlLCA1NSUsIDApYCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHtwYWxldHRlSHVlfSwgOTUlLCA2NSUsICR7MC4yNSpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzQwKSUzNjB9LCA5NSUsIDU1JSwgJHswLjE4KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjksIGBoc2xhKCR7KHBhbGV0dGVIdWUrODApJTM2MH0sIDk1JSwgNjAlLCAwKWApOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKEUueCwgRS55LCByLCAwLCBNYXRoLlBJKjIpOyBjdHguZmlsbCgpOwogICAgICAgIGlmIChrID49IDEpIGVmZmVjdHMuc3BsaWNlKGUsIDEpOwogICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gSW50ZWdyYXRlIGFuZCBkcmF3IGJvaWRzIHdpdGggZ2xvdyBhbmQgdHJhaWxzCiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IENGRy5ibGVuZDsKICAgICAgY3R4LmxpbmVXaWR0aCA9IENGRy5saW5lV2lkdGg7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIC8vIGludGVncmF0ZQogICAgICAgICAgaWYgKGppdEFtcFtpXSA+IDAuMDAwMSkgeyBheFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyBheVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyB9CiAgICAgICAgICB2eFtpXSArPSBheFtpXTsgdnlbaV0gKz0gYXlbaV07CiAgICAgICAgICBjb25zdCB2TWF4ID0gQ0ZHLm1heFNwZWVkICogKDEgKyBNYXRoLm1heCgtMC43LCB2Qm9vc3RbaV0pKjAuOCk7CiAgICAgICAgICBbdnhbaV0sIHZ5W2ldXSA9IGxpbWl0KHZ4W2ldLCB2eVtpXSwgdk1heCk7CiAgICAgICAgICAvLyBlbmZvcmNlIG1pbiBzcGVlZCAod2l0aCBib29zdCkKICAgICAgICAgIHsgY29uc3Qgc3AgPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSkgfHwgMTsgY29uc3Qgdk1pbiA9IENGRy5taW5TcGVlZCAqICgxICsgTWF0aC5tYXgoMCwgdkJvb3N0W2ldKSowLjUpOyBpZiAoc3AgPCB2TWluKSB7IGNvbnN0IHMgPSB2TWluIC8gc3A7IHZ4W2ldICo9IHM7IHZ5W2ldICo9IHM7IH0gfQogICAgICAgICAgcHJldnhbaV0gPSBweFtpXTsgcHJldnlbaV0gPSBweVtpXTsKICAgICAgICAgIHB4W2ldICs9IHZ4W2ldOyBweVtpXSArPSB2eVtpXTsKCiAgICAgICAgICAvLyBib3VuZGFyaWVzCiAgICAgICAgICBpZiAoQ0ZHLndyYXApIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgLTUpIHB4W2ldID0gVyArIDU7IGVsc2UgaWYgKHB4W2ldID4gVys1KSBweFtpXSA9IC01OwogICAgICAgICAgICBpZiAocHlbaV0gPCAtNSkgcHlbaV0gPSBIICsgNTsgZWxzZSBpZiAocHlbaV0gPiBIKzUpIHB5W2ldID0gLTU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAocHhbaV0gPCAwIHx8IHB4W2ldID4gVykgeyB2eFtpXSA9IC12eFtpXTsgfQogICAgICAgICAgICBpZiAocHlbaV0gPCAwIHx8IHB5W2ldID4gSCkgeyB2eVtpXSA9IC12eVtpXTsgfQogICAgICAgICAgICBweFtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKFcsIHB4W2ldKSk7CiAgICAgICAgICAgIHB5W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oSCwgcHlbaV0pKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBkZWNheSBtb2RpZmllcnMgYW5kIGNvbXB1dGUgdGludAogICAgICAgICAgdkJvb3N0W2ldICo9IDAuOTI7IHNpemVNdWxbaV0gKj0gMC45MDsgaHVlT2ZmW2ldICo9IDAuOTQ7IGppdEFtcFtpXSAqPSAwLjg4OwogICAgICAgICAgYWxpZ25NdWxbaV0gKj0gMC45NDsgY29oZXNpb25NdWxbaV0gKj0gMC45NDsgc2VwYXJhdGlvbk11bFtpXSAqPSAwLjk0OwogICAgICAgICAgLy8gc2xvd2x5IGRyaWZ0IGJvaWQgaHVlIGJhY2sgdG93YXJkIGJhc2UgcGFsZXR0ZSBodWUKICAgICAgICAgIGh1ZVtpXSA9IGFwcHJvYWNoSHVlKGh1ZVtpXSwgcGFsZXR0ZUh1ZSwgTWF0aC5taW4oMSwgZHQgKiAoQ0ZHLmh1ZVJlbGF4IHx8IDAuMikpKTsKICAgICAgICAgIHNwZFtpXSA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKTsKICAgICAgICAgIGNvbnN0IEwgPSA1MCArIE1hdGgubWluKDQ1LCBzcGRbaV0qOCk7CiAgICAgICAgICBjb25zdCBTID0gODAgKyBNYXRoLm1pbigyMCwgc3BkW2ldKjYpOwogICAgICAgICAgY29uc3QgZHJhd0h1ZSA9IChodWVbaV0gKyBodWVPZmZbaV0pICUgMzYwOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgke2RyYXdIdWV9LCAke1N9JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IGBoc2woJHtkcmF3SHVlfSwgOTAlLCA2MCUpYDsKICAgICAgICAgIGNvbnN0IGdsb3dRdWFsaXR5ID0gKGZwc0F2ZyA8IDUwID8gMC41IDogMS4wKTsKICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gZ2xvd1F1YWxpdHkgKiAoQ0ZHLmdsb3dCYXNlICsgTWF0aC5taW4oQ0ZHLmdsb3dNYXgsIHNwZFtpXSpDRkcuZ2xvd1NjYWxlKSk7CgogICAgICAgICAgLy8gdHJhaWwgc2VnbWVudAogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY3R4Lm1vdmVUbyhwcmV2eFtpXSwgcHJldnlbaV0pOwogICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSwgcHlbaV0pOwogICAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICAgIC8vIGJvaWQgaGVhZCBzaGFwZQogICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMih2eVtpXSwgdnhbaV0pOwogICAgICAgICAgY29uc3QgY2EgPSBNYXRoLmNvcyhhbmcpLCBzYSA9IE1hdGguc2luKGFuZyk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYGhzbCgke2h1ZVtpXX0sIDk1JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuY29tZXRTaXplICogKDEgKyAoc2l6ZU11bFtpXXx8MCkpOwogICAgICAgICAgaWYgKENGRy5zaGFwZSA9PT0gJ3RyaWFuZ2xlJykgewogICAgICAgICAgICBjb25zdCBDMjYgPSAwLjg1Njg4ODc1MywgUzI2ID0gMC41MTU0OTg7IC8vIGNvcy9zaW4oMi42KQogICAgICAgICAgICBjb25zdCB4MCA9IHB4W2ldICsgY2EqcyoxLjYsIHkwID0gcHlbaV0gKyBzYSpzKjEuNjsKICAgICAgICAgICAgY29uc3QgY2FfcCA9IGNhKkMyNiAtIHNhKlMyNiwgc2FfcCA9IHNhKkMyNiArIGNhKlMyNjsKICAgICAgICAgICAgY29uc3QgY2FfbSA9IGNhKkMyNiArIHNhKlMyNiwgc2FfbSA9IHNhKkMyNiAtIGNhKlMyNjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4MCwgeTApOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcCpzLCAgcHlbaV0gKyBzYV9wKnMpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbSpzLCAgcHlbaV0gKyBzYV9tKnMpOwogICAgICAgICAgfSBlbHNlIGlmIChDRkcuc2hhcGUgPT09ICdvcmInKSB7CiAgICAgICAgICAgIGN0eC5hcmMocHhbaV0sIHB5W2ldLCBzKjAuNiwgMCwgTWF0aC5QSSoyKTsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNwYXJrCiAgICAgICAgICAgIGNvbnN0IEMwMiA9IDAuOTgwMDY2NiwgUzAyID0gMC4xOTg2NjkzOyAvLyBjb3Mvc2luKDAuMikKICAgICAgICAgICAgY29uc3QgeGggPSBweFtpXSArIGNhKnMqMS44LCB5aCA9IHB5W2ldICsgc2EqcyoxLjg7CiAgICAgICAgICAgIGNvbnN0IGNhX3AwMiA9IGNhKkMwMiAtIHNhKlMwMiwgc2FfcDAyID0gc2EqQzAyICsgY2EqUzAyOwogICAgICAgICAgICBjb25zdCBjYV9tMDIgPSBjYSpDMDIgKyBzYSpTMDIsIHNhX20wMiA9IHNhKkMwMiAtIGNhKlMwMjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4aCwgeWgpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcDAyKnMqMC42LCAgcHlbaV0gKyBzYV9wMDIqcyowLjYpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbTAyKnMqMC42LCAgcHlbaV0gKyBzYV9tMDIqcyowLjYpOwogICAgICAgICAgfQogICAgICAgICAgY3R4LmNsb3NlUGF0aCgpOyBjdHguZmlsbCgpOwogICAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBRdWFkdHJlZSB2aXN1YWxpemF0aW9uIChkZWZhdWx0IG9uKQogICAgICAgIGlmIChDRkcucXQpIHF0LmRyYXcoY3R4KTsKCiAgICAgICAgLy8gSFVECiAgICAgICAgaHVkRWwuaW5uZXJIVE1MID0gYDxzdHJvbmc+Qm9pZHM8L3N0cm9uZz4gwrcgTj0ke059IHZpc2lvbj0ke0NGRy52aXNpb259IHNlcD0ke0NGRy5zZXB9IGAgKwogICAgICAgICAgYMK3IHF0Q2FwPSR7Q0ZHLnF0Q2FwfSDCtyBodWU9JHtwYWxldHRlSHVlfSDCtyBxdFZpej0ke0NGRy5xdD8nb24nOidvZmYnfSDCtyBjbGljaz0ke0NGRy5jbGlja01vZGV9IMK3IGZwcz0ke2Zwc0F2Zy50b0ZpeGVkKDApfWA7CgogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CiAgICAgIH0KICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKCiAgICAgIC8vIENvbmZpZyBVSSBidWlsZCBhbmQgd2lyaW5nCiAgICAgIGNvbnN0IGNmZ0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdCdG4nKTsKICAgICAgY29uc3QgY2ZnQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQ2xvc2UnKTsKICAgICAgY29uc3QgY2ZnUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnJyk7CiAgICAgIGNvbnN0IGNmZ0JvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnQm9keScpOwogICAgICBjZmdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpKTsKICAgICAgY2ZnQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsJycpKTsKCiAgICAgIGNvbnN0IHNjaGVtYSA9IFsKICAgICAgICB7a2V5OidodWUnLCBsYWJlbDonSHVlJywgdHlwZTonaW50JywgbWluOjAsIG1heDozNjAsIHN0ZXA6MSwgdmFsdWU6QkFTRV9IVUV9LAogICAgICAgIHtrZXk6J2hlYWRlcicsIGxhYmVsOidIZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6SEVBREVSfSwKICAgICAgICB7a2V5OidzdWJoZWFkZXInLCBsYWJlbDonU3ViaGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOlNVQkhFQURFUn0sCiAgICAgICAge2tleToncXQnLCBsYWJlbDonU2hvdyBRdWFkdHJlZScsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaG93SHVkJywgbGFiZWw6J1Nob3cgSFVEJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NwYXduJywgbGFiZWw6J1NwYXduJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ2NpcmNsZScsJ2dyaWQnLCdjZW50ZXJidXJzdCddfSwKICAgICAgICB7a2V5Oidjb3VudCcsIGxhYmVsOidDb3VudCcsIHR5cGU6J2ludCcsIG1pbjo1MCwgbWF4OjEwMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTondmlzaW9uJywgbGFiZWw6J1Zpc2lvbicsIHR5cGU6J2ludCcsIG1pbjoyMCwgbWF4OjIwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidzZXAnLCBsYWJlbDonU2VwYXJhdGlvbiBEaXN0JywgdHlwZTonaW50JywgbWluOjQsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidtYXhTcGVlZCcsIGxhYmVsOidNYXggU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4xLCBtYXg6MTIsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtaW5TcGVlZCcsIGxhYmVsOidNaW4gU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4wLCBtYXg6Niwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21heEZvcmNlJywgbGFiZWw6J01heCBTdGVlcmluZyBGb3JjZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMSwgbWF4OjAuNSwgc3RlcDowLjAwMX0sCiAgICAgICAge2tleTonYWxpZ25XJywgbGFiZWw6J0FsaWduIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oidjb2hlc2lvblcnLCBsYWJlbDonQ29oZXNpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3NlcGFyYXRpb25XJywgbGFiZWw6J1NlcGFyYXRpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3RyYWlsQWxwaGEnLCBsYWJlbDonVHJhaWwgQWxwaGEnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjEsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleToncXRDYXAnLCBsYWJlbDonUXVhZHRyZWUgQ2FwYWNpdHknLCB0eXBlOidpbnQnLCBtaW46MiwgbWF4OjMyLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3dyYXAnLCBsYWJlbDonV3JhcCBCb3VuZHMnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hhcGUnLCBsYWJlbDonU2hhcGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsndHJpYW5nbGUnLCdzcGFyaycsJ29yYiddfSwKICAgICAgICB7a2V5OidibGVuZCcsIGxhYmVsOidCbGVuZCcsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydsaWdodGVyJywnc2NyZWVuJywnb3ZlcmxheScsJ3BsdXMtbGlnaHRlciddfSwKICAgICAgICB7a2V5OidsaW5lV2lkdGgnLCBsYWJlbDonTGluZSBXaWR0aCcsIHR5cGU6J251bWJlcicsIG1pbjowLjIsIG1heDo0LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonZ2xvd0Jhc2UnLCBsYWJlbDonR2xvdyBCYXNlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo2MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93TWF4JywgbGFiZWw6J0dsb3cgTWF4JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93U2NhbGUnLCBsYWJlbDonR2xvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NDAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5Oidjb21ldFNpemUnLCBsYWJlbDonQ29tZXQgU2l6ZScsIHR5cGU6J251bWJlcicsIG1pbjoxLCBtYXg6MjAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidiZ0dyYWRpZW50JywgbGFiZWw6J0JHIEdyYWRpZW50JywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQxJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAxJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDInLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDInLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MycsIGxhYmVsOidCRyBIdWUgU2hpZnQgMycsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2Zsb3cnLCBsYWJlbDonRmxvdyBGaWVsZCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidmbG93QW1wJywgbGFiZWw6J0Zsb3cgQW1wJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTY2FsZScsIGxhYmVsOidGbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAwNSwgbWF4OjAuMDIsIHN0ZXA6MC4wMDA1fSwKICAgICAgICB7a2V5OidmbG93U3BlZWQnLCBsYWJlbDonRmxvdyBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6Mywgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidjbGlja01vZGUnLCBsYWJlbDonQ2xpY2sgTW9kZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5J119LAogICAgICBdOwoKICAgICAgZnVuY3Rpb24gbWFrZVJvdyhsYWJlbCwgaW5wdXQpIHsKICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgcm93LmNsYXNzTmFtZSA9ICdyb3cnOwogICAgICAgIGNvbnN0IGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOyBsLnRleHRDb250ZW50ID0gbGFiZWw7IHJvdy5hcHBlbmRDaGlsZChsKTsKICAgICAgICByb3cuYXBwZW5kQ2hpbGQoaW5wdXQpOyByZXR1cm4gcm93OwogICAgICB9CgogICAgICBmdW5jdGlvbiBhZGRJbnB1dChpdGVtKSB7CiAgICAgICAgbGV0IGlucHV0OwogICAgICAgIGNvbnN0IHYwID0gKGl0ZW0ua2V5IGluIENGRykgPyBDRkdbaXRlbS5rZXldIDogaXRlbS52YWx1ZTsKICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vbCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0nY2hlY2tib3gnOyBpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LmNoZWNrZWQ7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzZWxlY3QnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpOwogICAgICAgICAgZm9yIChjb25zdCBvcHQgb2YgaXRlbS5vcHRpb25zKSB7IGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsgby52YWx1ZT1vcHQ7IG8udGV4dENvbnRlbnQ9b3B0OyBpZiAob3B0PT09djApIG8uc2VsZWN0ZWQ9dHJ1ZTsgaW5wdXQuYXBwZW5kQ2hpbGQobyk7IH0KICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQudmFsdWU7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSd0ZXh0JzsgaW5wdXQudmFsdWUgPSBTdHJpbmcodjB8fCcnKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpZiAoaXRlbS5rZXk9PT0naGVhZGVyJykgeyB0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmtleT09PSdzdWJoZWFkZXInKSB7IHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIGlucHV0LnZhbHVlKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmtleSA9PT0gJ2h1ZScpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5taW49JzAnOyBpbnB1dC5tYXg9JzM2MCc7IGlucHV0LnN0ZXA9JzEnOyBpbnB1dC52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5taW49JzAnOyBudW1iZXIubWF4PSczNjAnOyBudW1iZXIuc3RlcD0nMSc7IG51bWJlci52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZT1pbnB1dC52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWU9bnVtYmVyLnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBodWVDaGFuZ2VkKHZhbCl7CiAgICAgICAgICAgIC8vIHNoaWZ0IHBhbGV0dGUgaW1tZWRpYXRlbHkKICAgICAgICAgICAgY29uc3QgZGVsdGEgPSAodmFsIC0gcGFsZXR0ZUh1ZSk7CiAgICAgICAgICAgIHBhbGV0dGVIdWUgPSB2YWw7CiAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGh1ZVtpXSA9IChodWVbaV0gKyBkZWx0YSkgJSAzNjA7IH0KICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHt2YWx9LCA4NSUsIDYyJSlgKTsKICAgICAgICAgICAgdXBkYXRlVXJsRnJvbUNmZyh7aHVlOlN0cmluZyh2YWwpfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsgLy8gbnVtZXJpYyAocmFuZ2UgKyBudW1iZXIgcGFpcikKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBpbnB1dC5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBpbnB1dC5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgbnVtYmVyLm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIG51bWJlci5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGlucHV0LnZhbHVlID0gU3RyaW5nKHYwKTsgbnVtYmVyLnZhbHVlID0gU3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWUgPSBpbnB1dC52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZSA9IG51bWJlci52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBudW1DaGFuZ2VkKHZhbCl7IENGR1tpdGVtLmtleV0gPSB2YWw7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCB2YWwpOyB9CiAgICAgICAgfQogICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCBpbnB1dCkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBhcHBseUNoYW5nZShrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSA9PT0gJ2NvdW50JyB8fCBrZXkgPT09ICdzcGF3bicpIHsgcmVzZWVkKENGRy5jb3VudCk7IH0KICAgICAgICBpZiAoa2V5ID09PSAncXQnKSB7IC8qIGltbWVkaWF0ZSBkcmF3IHRvZ2dsZSB2aWEgQ0ZHICovIH0KICAgICAgICBpZiAoa2V5ID09PSAnc2hvd0h1ZCcpIHsgaHVkRWwuc3R5bGUuZGlzcGxheSA9IENGRy5zaG93SHVkID8gJycgOiAnbm9uZSc7IH0KICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKCk7CiAgICAgIH0KCiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzY2hlbWEpIGFkZElucHV0KGl0ZW0pOwogICAgICAvLyBpbml0aWFsIEhVRCB2aXNpYmlsaXR5CiAgICAgIGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSAoQ0ZHLnNob3dIdWQ9PT1mYWxzZSkgPyAnbm9uZScgOiAnJzsKCiAgICAgIC8vIGtleWJvYXJkIHRvZ2dsZXMgKGFmdGVyIGJ1aWxkaW5nIHBhbmVsKQogICAgICBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHsKICAgICAgICBjb25zdCBrID0gZS5rZXkudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoayA9PT0gJ3EnKSB7IENGRy5xdCA9ICFDRkcucXQ7IHVwZGF0ZVVybEZyb21DZmcoKTsgfQogICAgICAgIGlmIChrID09PSAnYycpIHsgY2ZnUGFuZWwudG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nKTsgfQogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4K" download="boids-dod-quadtree-11-impl.html" class="download-btn" title="Download boids-dod-quadtree-11-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=214 · spawn=random · bounce · spark · overlay · hue=357 · qtCap=6" data-filename="boids-dod-quadtree-2-impl.html"><a href="boids-dod-quadtree-2-impl.html" target="viewer"><strong>Boids DOD+QT · N=214 · spawn=random · bounce · spark · overlay · hue=357 · qtCap=6</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTIxNCDCtyBzcGF3bj1yYW5kb20gwrcgYm91bmNlIMK3IHNwYXJrIMK3IG92ZXJsYXkgwrcgaHVlPTM1NyDCtyBxdENhcD02PC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgaHRtbCwgYm9keSB7IGhlaWdodDogMTAwJTsgbWFyZ2luOiAwOyB9CiAgICAgIGJvZHkgewogICAgICAgIGJhY2tncm91bmQ6ICMwNTA3MGE7CiAgICAgICAgY29sb3I6ICNlNmVkZjM7CiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICBmb250LWZhbWlseTogdWktc2Fucy1zZXJpZiwgc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBTZWdvZSBVSSwgUm9ib3RvLCBIZWx2ZXRpY2EsIEFyaWFsLCAiQXBwbGUgQ29sb3IgRW1vamkiLCAiU2Vnb2UgVUkgRW1vamkiOwogICAgICB9CiAgICAgICNzY2VuZSB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMTAwdnc7IGhlaWdodDogMTAwdmg7IH0KICAgICAgLm92ZXJsYXkgeyBwb3NpdGlvbjogZml4ZWQ7IGluc2V0OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmciBhdXRvOyB9CiAgICAgIC50aXRsZSB7IG1hcmdpbjogMThweCAyMHB4IDJweDsgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1zaXplOiBjbGFtcCgxOHB4LCAzdncsIDI4cHgpOyBsZXR0ZXItc3BhY2luZzogMC4ycHg7IGNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyB0ZXh0LXNoYWRvdzogMCAwIDEwcHggY29sb3ItbWl4KGluIG9rbGFiLCB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpIDgwJSwgIzAwMCAyMCUpOyB9CiAgICAgIC5zdWJ0aXRsZSB7IG1hcmdpbjogMCAyMHB4IDEwcHg7IGZvbnQtd2VpZ2h0OiA1MDA7IGZvbnQtc2l6ZTogY2xhbXAoMTJweCwgMnZ3LCAxNnB4KTsgb3BhY2l0eTogMC44NTsgfQogICAgICAuaHVkIHsgcG9zaXRpb246IGZpeGVkOyBsZWZ0OiAxMnB4OyBib3R0b206IDEycHg7IHBhZGRpbmc6IDhweCAxMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNDA7IGJhY2tncm91bmQ6ICMwYjEyMjBjYzsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDhweCkgc2F0dXJhdGUoMTIwJSk7IGZvbnQtc2l6ZTogMTJweDsgbGluZS1oZWlnaHQ6IDEuNDsgfQogICAgICAuaHVkIHN0cm9uZyB7IGNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyB9CiAgICAgIC5jZmdCdG4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMTJweDsgcmlnaHQ6IDEycHg7IHotaW5kZXg6IDEwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDZweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnUGFuZWwgeyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogNTZweDsgcmlnaHQ6IDEycHg7IHdpZHRoOiBtaW4oMzgwcHgsIDkwdncpOyBtYXgtaGVpZ2h0OiA4MHZoOyBvdmVyZmxvdzogYXV0bzsgei1pbmRleDogMjA7IHBvaW50ZXItZXZlbnRzOiBhdXRvOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZTY7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGJveC1zaGFkb3c6IDAgMTBweCA0MHB4ICMwMDA4OyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCkgc2F0dXJhdGUoMTIwJSk7IH0KICAgICAgLmNvbmZpZ0hlYWRlciB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgcGFkZGluZzogMTBweCAxMnB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMDAwMDU1OyBwb3NpdGlvbjogc3RpY2t5OyB0b3A6IDA7IGJhY2tncm91bmQ6ICMwYjEyMjBmMjsgfQogICAgICAuY29uZmlnQm9keSB7IHBhZGRpbmc6IDEwcHggMTJweDsgZGlzcGxheTogZ3JpZDsgZ2FwOiAxMHB4OyB9CiAgICAgIC5jb25maWdCb2R5IC5yb3cgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciBhdXRvOyBnYXA6IDhweDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgfQogICAgICAuY29uZmlnQm9keSAucmFuZ2VSb3cgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA3MnB4OyBnYXA6IDhweDsgfQogICAgICAuY2ZnQ2xvc2UgeyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJhY2tncm91bmQ6ICMxMjFhMmJjYzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlci1yYWRpdXM6IDZweDsgcGFkZGluZzogNHB4IDhweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgIC5jb25maWdCb2R5IGlucHV0LCAuY29uZmlnQm9keSBzZWxlY3QgeyBmb250LXNpemU6IDE0cHg7IHBhZGRpbmc6IDZweCA4cHg7IGJhY2tncm91bmQ6ICMxMDE4Mjc7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJvcmRlci1yYWRpdXM6IDZweDsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dFt0eXBlPXJhbmdlXSB7IHBhZGRpbmc6IDA7IGhlaWdodDogMjhweDsgYWNjZW50LWNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgfQogICAgPC9zdHlsZT4KICA8L2hlYWQ+CiAgPGJvZHk+CiAgICA8Y2FudmFzIGlkPSJzY2VuZSI+PC9jYW52YXM+CiAgICA8ZGl2IGNsYXNzPSJvdmVybGF5Ij4KICAgICAgPGRpdiBjbGFzcz0idGl0bGUiIGlkPSJ0aXRsZSI+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InN1YnRpdGxlIiBpZD0ic3VidGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJodWQiIGlkPSJodWQiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8YnV0dG9uIGlkPSJjZmdCdG4iIGNsYXNzPSJjZmdCdG4iIGFyaWEtbGFiZWw9Ik9wZW4gY29uZmlnIj7impnvuI48L2J1dHRvbj4KICAgIDxkaXYgaWQ9ImNvbmZpZyIgY2xhc3M9ImNvbmZpZ1BhbmVsIiBoaWRkZW4+CiAgICAgIDxkaXYgY2xhc3M9ImNvbmZpZ0hlYWRlciI+CiAgICAgICAgPHN0cm9uZz5Db25maWc8L3N0cm9uZz4KICAgICAgICA8YnV0dG9uIGlkPSJjZmdDbG9zZSIgY2xhc3M9ImNmZ0Nsb3NlIiBhcmlhLWxhYmVsPSJDbG9zZSI+4pyVPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGlkPSJjb25maWdCb2R5IiBjbGFzcz0iY29uZmlnQm9keSI+PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxzY3JpcHQ+CiAgICAgICd1c2Ugc3RyaWN0JzsKCiAgICAgIC8vIFVSTCBwYXJhbWV0ZXJzCiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24uc2VhcmNoKTsKICAgICAgY29uc3QgREVGQVVMVF9IVUUgPSAzNTc7CiAgICAgIGNvbnN0IEJBU0VfSFVFID0gY2xhbXBJbnQocGFyc2VJbnQocGFyYW1zLmdldCgnaHVlJykpLCAwLCAzNjAsIERFRkFVTFRfSFVFKTsKICAgICAgbGV0IHBhbGV0dGVIdWUgPSBCQVNFX0hVRTsKICAgICAgY29uc3QgSEVBREVSID0gcGFyYW1zLmdldCgnaGVhZGVyJykgfHwgJ0JvaWRzIOKAlCBEYXRhLU9yaWVudGVkICsgUXVhZHRyZWUnOwogICAgICBjb25zdCBTVUJIRUFERVIgPSBwYXJhbXMuZ2V0KCdzdWJoZWFkZXInKSB8fCAnU2hvY2t3YXZlcyBvbiBjbGljay9kcmFnIMK3IHF1YWR0cmVlIHZpeiBvbic7CiAgICAgIC8vIFF1YWR0cmVlIHZpeiBpcyBoYW5kbGVkIGJ5IENGRy5xdDsgVVJMIHBhcmFtICdxdCcgb3ZlcnJpZGVzIGl0LgoKICAgICAgLy8gRE9NCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2VuZScpOwogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBmYWxzZSB9KTsKICAgICAgY29uc3QgdGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpOwogICAgICBjb25zdCBzdWJ0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YnRpdGxlJyk7CiAgICAgIGNvbnN0IGh1ZEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h1ZCcpOwoKICAgICAgLy8gU3R5bGUgaG9vawogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3BhbGV0dGVIdWV9LCA4NSUsIDYyJSlgKTsKICAgICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IEhFQURFUjsKICAgICAgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IFNVQkhFQURFUjsKCiAgICAgIC8vIENvbmZpZyAoaW5qZWN0ZWQgYnkgZ2VuZXJhdG9yKSDigJQgbXV0YWJsZSBhdCBydW50aW1lCiAgICAgIGxldCBDRkcgPSB7ImNvdW50IjogMjE0LCAidmlzaW9uIjogNjAsICJzZXAiOiAxNCwgIm1heFNwZWVkIjogMy42OSwgIm1heEZvcmNlIjogMC4wNDUsICJtaW5TcGVlZCI6IDAuODYsICJhbGlnblciOiAwLjg3LCAiY29oZXNpb25XIjogMC43MiwgInNlcGFyYXRpb25XIjogMi43NywgInRyYWlsQWxwaGEiOiAwLjE4LCAicXRDYXAiOiA2LCAid3JhcCI6IGZhbHNlLCAic2hhcGUiOiAic3BhcmsiLCAiYmxlbmQiOiAib3ZlcmxheSIsICJsaW5lV2lkdGgiOiAxLjAyLCAiZ2xvd0Jhc2UiOiAyMywgImdsb3dNYXgiOiAzOCwgImdsb3dTY2FsZSI6IDEwLjksICJjb21ldFNpemUiOiA3Ljg2LCAiYmdHcmFkaWVudCI6IGZhbHNlLCAiYmdIdWVTaGlmdDEiOiAtMjgsICJiZ0h1ZVNoaWZ0MiI6IDU1LCAiYmdIdWVTaGlmdDMiOiAxMzYsICJzcGF3biI6ICJyYW5kb20iLCAicXQiOiB0cnVlLCAic2hvd0h1ZCI6IHRydWUsICJmbG93IjogZmFsc2UsICJmbG93QW1wIjogMC45NiwgImZsb3dTY2FsZSI6IDAuMDA1NywgImZsb3dTcGVlZCI6IDEuMTMsICJjbGlja01vZGUiOiAicmFuZG9tIn07CiAgICAgIENGRy5taW5TcGVlZCA9IENGRy5taW5TcGVlZCA/PyAwLjg7CiAgICAgIENGRy5xdCA9ICh0eXBlb2YgQ0ZHLnF0ID09PSAnYm9vbGVhbicpID8gQ0ZHLnF0IDogdHJ1ZTsKICAgICAgQ0ZHLmNsaWNrTW9kZSA9IENGRy5jbGlja01vZGUgfHwgJ3JhbmRvbSc7CiAgICAgIENGRy5jbGlja01vZGVzID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWwogICAgICAgICdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5Jywnc3R1bicsJ2ZlYXInLCdhdHRyYWN0Jywnb3JiaXRDVycsJ29yYml0Q0NXJywKICAgICAgICAnc3BpcmFsT3V0Jywnc3BpcmFsSW4nLCdmcmVlemUnLCdzY3JhbWJsZScsJ3NjYXR0ZXInLCdtYWduZXQnLCdwdWxzZScsCiAgICAgICAgJ3dhcnAnLCdncm93JywndHVubmVsJywncmlwcGxlJywnaml0dGVyYnVyc3QnLCdjaHJvbWFidXJzdCcsJ3Nsb3dkb3duJywnc3BlZWR1cCcsCiAgICAgICAgJ3BlcmxpbkRyYWcnLCdsaXNzYVB1bHNlJywnbWV0ZW9yJywKICAgICAgICAvLyBzdGVlcmluZy13ZWlnaHQgZWZmZWN0cwogICAgICAgICdhbGlnbicsJ2RlYWxpZ24nLCdjb2hlcmUnLCdsb29zZW4nLCdzZXBhcmF0ZScsJ2Rpc3BlcnNlJwogICAgICBdOwoKICAgICAgZnVuY3Rpb24gcGFyc2VCb29sKHYsIGQpIHsKICAgICAgICBpZiAodiA9PSBudWxsKSByZXR1cm4gZDsKICAgICAgICBjb25zdCBzID0gU3RyaW5nKHYpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKFsnMScsJ3RydWUnLCd5ZXMnLCdvbiddLmluY2x1ZGVzKHMpKSByZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAoWycwJywnZmFsc2UnLCdubycsJ29mZiddLmluY2x1ZGVzKHMpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIGQ7CiAgICAgIH0KCiAgICAgIC8vIFVSTCBvdmVycmlkZXMgZm9yIGNvbmZpZwogICAgICAoZnVuY3Rpb24gdXJsT3ZlcnJpZGUoKXsKICAgICAgICBjb25zdCBpbnRLZXlzID0gWydjb3VudCcsJ3Zpc2lvbicsJ3NlcCcsJ3F0Q2FwJywnYmdIdWVTaGlmdDEnLCdiZ0h1ZVNoaWZ0MicsJ2JnSHVlU2hpZnQzJ107CiAgICAgICAgY29uc3QgbnVtS2V5cyA9IFsnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCddOwogICAgICAgIGNvbnN0IGJvb2xLZXlzID0gWyd3cmFwJywnYmdHcmFkaWVudCcsJ3F0JywnZmxvdycsJ3Nob3dIdWQnXTsKICAgICAgICBjb25zdCBzdHJLZXlzID0gWydzaGFwZScsJ2JsZW5kJywnc3Bhd24nXTsKICAgICAgICBmb3IgKGNvbnN0IGsgb2YgaW50S2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBNYXRoLm1heCgtOTk5OTksIE1hdGgubWluKDk5OTk5LCBwYXJzZUludCh2KSkpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIG51bUtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gTnVtYmVyKHYpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGJvb2xLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IHBhcnNlQm9vbCh2LCBDRkdba10pOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIHN0cktleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gdjsgfQogICAgICAgIGNvbnN0IGNtID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlJyk7IGlmIChjbSkgQ0ZHLmNsaWNrTW9kZSA9IGNtOwogICAgICAgIGNvbnN0IGNtcyA9IHBhcmFtcy5nZXQoJ2NsaWNrTW9kZXMnKTsgaWYgKGNtcykgQ0ZHLmNsaWNrTW9kZXMgPSBjbXMuc3BsaXQoJywnKTsKICAgICAgfSkoKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVVybEZyb21DZmcoZXh0cmE9e30pIHsKICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdodWUnLCBwYWxldHRlSHVlKTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaGVhZGVyJywgdGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N1YmhlYWRlcicsIHN1YnRpdGxlRWwudGV4dENvbnRlbnQpOwogICAgICAgIGNvbnN0IGtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywncXRDYXAnLCd3cmFwJywnc2hhcGUnLCdibGVuZCcsJ2xpbmVXaWR0aCcsJ2dsb3dCYXNlJywnZ2xvd01heCcsJ2dsb3dTY2FsZScsJ2NvbWV0U2l6ZScsJ2JnR3JhZGllbnQnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnLCdxdCcsJ2NsaWNrTW9kZScsJ2NsaWNrTW9kZXMnLCdmbG93JywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCcsJ3NwYXduJywnc2hvd0h1ZCddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB1cmwuc2VhcmNoUGFyYW1zLnNldChrLCBTdHJpbmcoQ0ZHW2tdKSk7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGVzICYmIEFycmF5LmlzQXJyYXkoQ0ZHLmNsaWNrTW9kZXMpKSB1cmwuc2VhcmNoUGFyYW1zLnNldCgnY2xpY2tNb2RlcycsIENGRy5jbGlja01vZGVzLmpvaW4oJywnKSk7CiAgICAgICAgZm9yIChjb25zdCBbayx2XSBvZiBPYmplY3QuZW50cmllcyhleHRyYSkpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIHYpOwogICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsICcnLCB1cmwudG9TdHJpbmcoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IFRBVSA9IE1hdGguUEkgKiAyOwoKICAgICAgLy8gQ2FudmFzIHNpemluZyB3aXRoIERQUgogICAgICBsZXQgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgICAgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3IoaW5uZXJXaWR0aCAqIERQUik7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IoaW5uZXJIZWlnaHQgKiBEUFIpOwogICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oRFBSLCAwLCAwLCBEUFIsIDAsIDApOwogICAgICAgIGNsZWFySGFyZCgpOwogICAgICB9CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZSk7CiAgICAgIHJlc2l6ZSgpOwoKICAgICAgZnVuY3Rpb24gY2xlYXJIYXJkKCkgewogICAgICAgIGlmIChDRkcuYmdHcmFkaWVudCkgewogICAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChpbm5lcldpZHRoKjAuNjUsIGlubmVySGVpZ2h0KjAuMzUsIE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjE1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lcldpZHRoKjAuNSwgaW5uZXJIZWlnaHQqMC41LCBNYXRoLmh5cG90KGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjcpOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQxKSUzNjB9IDgwJSAxMCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjUsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDIpJTM2MH0gNzAlIDglKWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMS4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQzKSUzNjB9IDYwJSA2JSlgKTsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwNTA3MGEnOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBjbGFtcEludChuLCBsbywgaGksIGZhbGxiYWNrKSB7CiAgICAgICAgbiA9IE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiBmYWxsYmFjazsKICAgICAgICByZXR1cm4gTWF0aC5tYXgobG8sIE1hdGgubWluKGhpLCBuKSk7CiAgICAgIH0KCiAgICAgIC8vIERyaWZ0IGEgaHVlIHZhbHVlIHRvd2FyZCBhIHRhcmdldCBvbiBhIGNpcmN1bGFyIGNvbG9yIHdoZWVsCiAgICAgIGZ1bmN0aW9uIGFwcHJvYWNoSHVlKGgsIHRhcmdldCwgcmF0ZSkgewogICAgICAgIC8vIHJhdGUgaXMgMC4uMSBmcmFjdGlvbiB0b3dhcmQgdGFyZ2V0IHBlciBjYWxsCiAgICAgICAgbGV0IGQgPSAoKHRhcmdldCAtIGggKyA1NDApICUgMzYwKSAtIDE4MDsgLy8gc2hvcnRlc3Qgc2lnbmVkIGRlbHRhIFstMTgwLDE4MCkKICAgICAgICByZXR1cm4gKGggKyBkICogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcmF0ZSkpICsgMzYwKSAlIDM2MDsKICAgICAgfQoKICAgICAgLy8gTGlnaHR3ZWlnaHQgMkQgdmFsdWUgbm9pc2UgKGZvciBwZXJsaW4tbGlrZSBkcmFnKQogICAgICBsZXQgbm9pc2VTZWVkID0gKEJBU0VfSFVFICogMTY2NDUyNSArIDEwMTM5MDQyMjMpICYgMHhmZmZmZmZmZjsKICAgICAgZnVuY3Rpb24gZnJhY3QoeCl7IHJldHVybiB4IC0gTWF0aC5mbG9vcih4KTsgfQogICAgICBmdW5jdGlvbiBfcmFuZChpeCwgaXkpewogICAgICAgIGNvbnN0IGsgPSAoaXggKiAzNzQ3NjEzOTMgKyBpeSAqIDY2ODI2NTI2MyArIG5vaXNlU2VlZCkgPj4+IDA7CiAgICAgICAgcmV0dXJuIGZyYWN0KE1hdGguc2luKGspICogNDM3NTguNTQ1Myk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gbm9pc2UyKHgsIHkpewogICAgICAgIGNvbnN0IHhpID0gTWF0aC5mbG9vcih4KSwgeWkgPSBNYXRoLmZsb29yKHkpOwogICAgICAgIGNvbnN0IHhmID0geCAtIHhpLCB5ZiA9IHkgLSB5aTsKICAgICAgICBjb25zdCB1ID0geGYqeGYqKDMtMip4ZiksIHYgPSB5Zip5ZiooMy0yKnlmKTsKICAgICAgICBjb25zdCB2MDAgPSBfcmFuZCh4aSwgeWkpLCB2MTAgPSBfcmFuZCh4aSsxLCB5aSksIHYwMSA9IF9yYW5kKHhpLCB5aSsxKSwgdjExID0gX3JhbmQoeGkrMSwgeWkrMSk7CiAgICAgICAgY29uc3QgeDEgPSB2MDAqKDEtdSkgKyB2MTAqdSwgeDIgPSB2MDEqKDEtdSkgKyB2MTEqdTsKICAgICAgICByZXR1cm4geDEqKDEtdikgKyB4Mip2OwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHBlcmxpblZlYyh4LCB5LCBzY2FsZSwgYW1wKXsKICAgICAgICBjb25zdCBuID0gbm9pc2UyKHgqc2NhbGUsIHkqc2NhbGUpOwogICAgICAgIGNvbnN0IGEgPSBuICogVEFVOwogICAgICAgIHJldHVybiBbTWF0aC5jb3MoYSkqYW1wLCBNYXRoLnNpbihhKSphbXBdOwogICAgICB9CgogICAgICAvLyBTZWVkZWQgUFJORyBmb3Igc3VidGxlIGRldGVybWluaXNtIGZyb20gQkFTRV9IVUUKICAgICAgbGV0IF9zZWVkID0gKEJBU0VfSFVFICogOTMwMSArIDQ5Mjk3KSAlIDIzMzI4MDsKICAgICAgZnVuY3Rpb24gcm5kKCkgeyBfc2VlZCA9ICgxMTAzNTE1MjQ1ICogX3NlZWQgKyAxMjM0NSkgJiAweDdmZmZmZmZmOyByZXR1cm4gKF9zZWVkID4+PiA4KSAvIDB4N2ZmZmZmOyB9CiAgICAgIGZ1bmN0aW9uIHJhbmQobWluLCBtYXgpIHsgcmV0dXJuIHJuZCgpICogKG1heCAtIG1pbikgKyBtaW47IH0KCiAgICAgIC8vIERhdGEtT3JpZW50ZWQgU3RhdGUgKFNvQSkg4oCUIGR5bmFtaWMKICAgICAgbGV0IE4gPSBDRkcuY291bnQ7CiAgICAgIGxldCBweCwgcHksIHZ4LCB2eSwgYXgsIGF5LCBodWUsIHNwZCwgcHJldngsIHByZXZ5OwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgbW9kaWZpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgc2l6ZU11bCwgdkJvb3N0LCBodWVPZmYsIGppdEFtcDsKICAgICAgLy8gdHJhbnNpZW50IHBlci1ib2lkIHN0ZWVyaW5nIG11bHRpcGxpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgYWxpZ25NdWwsIGNvaGVzaW9uTXVsLCBzZXBhcmF0aW9uTXVsOwoKICAgICAgZnVuY3Rpb24gYWxsb2MobikgewogICAgICAgIHB4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgcHkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHZ4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdnkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGF4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgYXkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGh1ZSA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNwZCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgcHJldnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBwcmV2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgc2l6ZU11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHZCb29zdCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGh1ZU9mZiA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGppdEFtcCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYWxpZ25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBjb2hlc2lvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNlcGFyYXRpb25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzZWVkQm9pZHMoKSB7CiAgICAgICAgY29uc3QgbW9kZSA9IENGRy5zcGF3biB8fCAncmFuZG9tJzsKICAgICAgICBpZiAobW9kZSA9PT0gJ2NpcmNsZScpIHsKICAgICAgICAgIGNvbnN0IGN4ID0gaW5uZXJXaWR0aC8yLCBjeSA9IGlubmVySGVpZ2h0LzIsIHIgPSBNYXRoLm1pbihpbm5lcldpZHRoLCBpbm5lckhlaWdodCkvMzsKICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGNvbnN0IHQgPSBNYXRoLnJhbmRvbSgpKk1hdGguUEkqMjsgcHhbaV09Y3grTWF0aC5jb3ModCkqcjsgcHlbaV09Y3krTWF0aC5zaW4odCkqcjsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2dyaWQnKSB7CiAgICAgICAgICBjb25zdCBjb2xzPU1hdGgubWF4KDEwLCBNYXRoLmZsb29yKE1hdGguc3FydChOKSkpOyBjb25zdCByb3dzPU1hdGguY2VpbChOL2NvbHMpOwogICAgICAgICAgY29uc3QgZ3g9aW5uZXJXaWR0aC8oY29scysxKSwgZ3k9aW5uZXJIZWlnaHQvKHJvd3MrMSk7IGxldCBrPTA7CiAgICAgICAgICBmb3IgKGxldCB5PTE7eTw9cm93czt5KyspIGZvciAobGV0IHg9MTt4PD1jb2xzO3grKykgeyBpZiAoaz49TikgYnJlYWs7IHB4W2tdPWd4Kng7IHB5W2tdPWd5Knk7IHZ4W2tdPXJhbmQoLTEsMSk7IHZ5W2tdPXJhbmQoLTEsMSk7IGsrKzsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2NlbnRlcmJ1cnN0JykgewogICAgICAgICAgY29uc3QgY3g9aW5uZXJXaWR0aC8yLCBjeT1pbm5lckhlaWdodC8yOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgYT1NYXRoLnJhbmRvbSgpKk1hdGguUEkqMiwgZD1yYW5kKDAsIE1hdGgubWluKGlubmVyV2lkdGgsaW5uZXJIZWlnaHQpLzIpOyBweFtpXT1jeCtNYXRoLmNvcyhhKSpkOyBweVtpXT1jeStNYXRoLnNpbihhKSpkOyB2eFtpXT1NYXRoLmNvcyhhKTsgdnlbaV09TWF0aC5zaW4oYSk7IH0KICAgICAgICB9IGVsc2UgeyAvLyByYW5kb20KICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IHB4W2ldPXJhbmQoMCxpbm5lcldpZHRoKTsgcHlbaV09cmFuZCgwLGlubmVySGVpZ2h0KTsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0KICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgICAgY29uc3QgbT1NYXRoLmh5cG90KHZ4W2ldLHZ5W2ldKXx8MTsgdnhbaV0qPTIuMC9tOyB2eVtpXSo9Mi4wL207CiAgICAgICAgICBodWVbaV0gPSAocGFsZXR0ZUh1ZSArIHJhbmQoLTMwLCAzMCkpICUgMzYwOyBwcmV2eFtpXT1weFtpXTsgcHJldnlbaV09cHlbaV07CiAgICAgICAgICBzaXplTXVsW2ldPTA7IHZCb29zdFtpXT0wOyBodWVPZmZbaV09MDsgaml0QW1wW2ldPTA7CiAgICAgICAgICBhbGlnbk11bFtpXT0wOyBjb2hlc2lvbk11bFtpXT0wOyBzZXBhcmF0aW9uTXVsW2ldPTA7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiByZXNlZWQobikgewogICAgICAgIE4gPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKG4pKTsKICAgICAgICBhbGxvYyhOKTsgc2VlZEJvaWRzKCk7CiAgICAgIH0KCiAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKCiAgICAgIC8vIFF1YWR0cmVlIGltcGxlbWVudGF0aW9uCiAgICAgIGNsYXNzIFFUTm9kZSB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCwgY2FwKSB7CiAgICAgICAgICB0aGlzLnggPSB4OyB0aGlzLnkgPSB5OyB0aGlzLncgPSB3OyB0aGlzLmggPSBoOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7IHRoaXMuY291bnQgPSAwOyB0aGlzLmlkeCA9IG5ldyBJbnQzMkFycmF5KGNhcCk7CiAgICAgICAgICB0aGlzLnB0c3ggPSBuZXcgRmxvYXQzMkFycmF5KGNhcCk7IHRoaXMucHRzeSA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMuZGl2aWRlZCA9IGZhbHNlOyB0aGlzLmNoaWxkcmVuID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNsYXNzIFF1YWR0cmVlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMucm9vdCA9IG5ldyBRVE5vZGUoeCwgeSwgdywgaCwgY2FwKTsKICAgICAgICAgIHRoaXMuY2FwID0gY2FwOwogICAgICAgIH0KCiAgICAgICAgaW5zZXJ0KGksIHgsIHksIG5vZGUgPSB0aGlzLnJvb3QpIHsKICAgICAgICAgIGlmICh4IDwgbm9kZS54IHx8IHkgPCBub2RlLnkgfHwgeCA+PSBub2RlLnggKyBub2RlLncgfHwgeSA+PSBub2RlLnkgKyBub2RlLmgpIHJldHVybiBmYWxzZTsKICAgICAgICAgIGlmIChub2RlLmNvdW50IDwgbm9kZS5jYXAgJiYgIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBjb25zdCBqID0gbm9kZS5jb3VudCsrOyBub2RlLmlkeFtqXSA9IGk7IG5vZGUucHRzeFtqXSA9IHg7IG5vZGUucHRzeVtqXSA9IHk7IHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHRoaXMuc3ViZGl2aWRlKG5vZGUpOwogICAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgIH0KCiAgICAgICAgc3ViZGl2aWRlKG5vZGUpIHsKICAgICAgICAgIG5vZGUuZGl2aWRlZCA9IHRydWU7CiAgICAgICAgICBjb25zdCBodyA9IG5vZGUudy8yLCBoaCA9IG5vZGUuaC8yOwogICAgICAgICAgbm9kZS5jaGlsZHJlbiA9IFsKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngsICAgICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5XCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54K2h3LCAgICBub2RlLnksICAgICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBORQogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU1cKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueStoaCwgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIFNFCiAgICAgICAgICBdOwogICAgICAgICAgLy8gcmVpbnNlcnQgZXhpc3RpbmcgcG9pbnRzCiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG5vZGUuY291bnQ7IGsrKykgewogICAgICAgICAgICBjb25zdCBpID0gbm9kZS5pZHhba107IGNvbnN0IHggPSBub2RlLnB0c3hba107IGNvbnN0IHkgPSBub2RlLnB0c3lba107CiAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgICAgfQogICAgICAgICAgbm9kZS5jb3VudCA9IDA7IC8vIGNsZWFyIGxlYWYgc3RvcmFnZQogICAgICAgIH0KCiAgICAgICAgcXVlcnkoY3gsIGN5LCByLCBvdXQpIHsKICAgICAgICAgIHRoaXMuX3F1ZXJ5Tm9kZSh0aGlzLnJvb3QsIGN4LCBjeSwgciwgb3V0KTsKICAgICAgICB9CiAgICAgICAgX3F1ZXJ5Tm9kZShub2RlLCBjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgLy8gY2lyY2xlLXJlY3QgcXVpY2sgcmVqZWN0CiAgICAgICAgICBjb25zdCByeD1ub2RlLngsIHJ5PW5vZGUueSwgcnc9bm9kZS53LCByaD1ub2RlLmg7CiAgICAgICAgICBsZXQgbnggPSBNYXRoLm1heChyeCwgTWF0aC5taW4oY3gsIHJ4K3J3KSk7CiAgICAgICAgICBsZXQgbnkgPSBNYXRoLm1heChyeSwgTWF0aC5taW4oY3ksIHJ5K3JoKSk7CiAgICAgICAgICBjb25zdCBkaXN0ID0gKGN4LW54KSooY3gtbngpKyhjeS1ueSkqKGN5LW55KTsKICAgICAgICAgIGlmIChkaXN0ID4gcipyKSByZXR1cm47CgogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHsKICAgICAgICAgICAgZm9yIChsZXQgaz0wO2s8bm9kZS5jb3VudDtrKyspIHsgb3V0LnB1c2gobm9kZS5pZHhba10pOyB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9xdWVyeU5vZGUobm9kZS5jaGlsZHJlbltjXSwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KCiAgICAgICAgZHJhdyhjdHgpIHsKICAgICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgaHNsKCR7KHBhbGV0dGVIdWUrMTgwKSUzNjB9IDgwJSA3MCUgLyAwLjE0KWA7CiAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTsKICAgICAgICAgIHRoaXMuX2RyYXdOb2RlKGN0eCwgdGhpcy5yb290KTsKICAgICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgfQogICAgICAgIF9kcmF3Tm9kZShjdHgsIG5vZGUpIHsKICAgICAgICAgIGN0eC5zdHJva2VSZWN0KG5vZGUueCwgbm9kZS55LCBub2RlLncsIG5vZGUuaCk7CiAgICAgICAgICBpZiAobm9kZS5kaXZpZGVkKSBmb3IgKGxldCBjPTA7Yzw0O2MrKykgdGhpcy5fZHJhd05vZGUoY3R4LCBub2RlLmNoaWxkcmVuW2NdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHMKICAgICAgY29uc3QgZWZmZWN0cyA9IFtdOyAvLyB7eCx5LHQsbGlmZSxzaWduLHR5cGUsLi4uZXh0cmFzfQogICAgICBsZXQgbW91c2VEb3duID0gZmFsc2U7CiAgICAgIGNvbnN0IHBvaW50ZXIgPSB7eDogaW5uZXJXaWR0aC8yLCB5OiBpbm5lckhlaWdodC8yLCB2eDogMCwgdnk6IDAsIHQ6IHBlcmZvcm1hbmNlLm5vdygpfTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksICsxKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCAgIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSBmYWxzZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksIC0xKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBpZiAobW91c2VEb3duKSBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CgogICAgICBmdW5jdGlvbiBwaWNrQ2xpY2tUeXBlKCkgewogICAgICAgIGlmIChDRkcuY2xpY2tNb2RlICYmIENGRy5jbGlja01vZGUgIT09ICdyYW5kb20nKSByZXR1cm4gQ0ZHLmNsaWNrTW9kZTsKICAgICAgICBjb25zdCBsaXN0ID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWydzaG9jayddOwogICAgICAgIHJldHVybiBsaXN0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpsaXN0Lmxlbmd0aCldIHx8ICdzaG9jayc7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gc3Bhd25FZmZlY3QoeCwgeSwgc2lnbikgewogICAgICAgIGNvbnN0IHR5cGUgPSBwaWNrQ2xpY2tUeXBlKCk7CiAgICAgICAgY29uc3QgbGlmZSA9ICh0eXBlPT09J2ltcGxvc2lvbicpID8gMC45IDogKHR5cGU9PT0ndm9ydGV4JyB8fCB0eXBlPT09J21ldGVvcicgPyAxLjggOiAxLjIpOwogICAgICAgIGNvbnN0IEUgPSB7IHgsIHksIHQ6IDAsIGxpZmUsIHNpZ24sIHR5cGUgfTsKICAgICAgICBpZiAodHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICBjb25zdCBzcCA9IE1hdGgubWluKDMsIE1hdGguaHlwb3QocG9pbnRlci52eCwgcG9pbnRlci52eSkqMTIwKTsKICAgICAgICAgIEUuYSA9IDIgKyBNYXRoLmZsb29yKHNwJTQpOyBFLmIgPSAzICsgTWF0aC5mbG9vcigoc3AqMS43KSU0KTsgRS5waGFzZSA9IE1hdGgucmFuZG9tKCkqVEFVOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGNvbnN0IHNjYWxlID0gOTAwOyBFLnZ4ID0gcG9pbnRlci52eCpzY2FsZTsgRS52eSA9IHBvaW50ZXIudnkqc2NhbGU7IEUubWFzcyA9IDIyMCArIE1hdGgucmFuZG9tKCkqMTgwOyBFLmRyYWc9MC45ODsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgRS5zY2FsZSA9IDAuMDA2ICsgTWF0aC5yYW5kb20oKSowLjAwNjsgRS5hbXAgPSAxLjIgKyBNYXRoLnJhbmRvbSgpKjEuMjsKICAgICAgICB9CiAgICAgICAgZWZmZWN0cy5wdXNoKEUpOwogICAgICB9CgogICAgICAvLyBQaHlzaWNzIGhlbHBlcnMKICAgICAgZnVuY3Rpb24gbGltaXQodngsIHZ5LCBtYXgpIHsKICAgICAgICBjb25zdCBtMiA9IHZ4KnZ4ICsgdnkqdnk7IGlmIChtMiA+IG1heCptYXgpIHsKICAgICAgICAgIGNvbnN0IG0gPSBNYXRoLnNxcnQobTIpIHx8IDE7IGNvbnN0IHMgPSBtYXggLyBtOyByZXR1cm4gW3Z4KnMsIHZ5KnNdOwogICAgICAgIH0gcmV0dXJuIFt2eCwgdnldOwogICAgICB9CgogICAgICAvLyBNYWluIGxvb3AKICAgICAgbGV0IGxhc3QgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgbGV0IGZwc0F2ZyA9IDA7CiAgICAgIGZ1bmN0aW9uIGZyYW1lKHQpIHsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWluKDMyLCB0IC0gbGFzdCkgKiAwLjAwMTsgLy8gY2xhbXAKICAgICAgICBsYXN0ID0gdDsKICAgICAgICBjb25zdCBmcHNOb3cgPSAxIC8gTWF0aC5tYXgoMWUtNiwgZHQpOwogICAgICAgIGZwc0F2ZyA9IGZwc0F2ZyA/IChmcHNBdmcqMC45ICsgZnBzTm93KjAuMSkgOiBmcHNOb3c7CiAgICAgICAgY29uc3QgVyA9IGlubmVyV2lkdGgsIEggPSBpbm5lckhlaWdodDsKCiAgICAgICAgLy8gdHJhaWxzOiB0cmFuc2x1Y2VudCBmaWxsCiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7CiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBDRkcudHJhaWxBbHBoYSkpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIFcsIEgpOwogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEJ1aWxkIHF1YWR0cmVlCiAgICAgICAgY29uc3QgcXQgPSBuZXcgUXVhZHRyZWUoMCwgMCwgVywgSCwgQ0ZHLnF0Q2FwKTsKICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgcXQuaW5zZXJ0KGksIHB4W2ldLCBweVtpXSk7CgogICAgICAvLyBBcHBseSBmbG9ja2luZyB2aWEgbmVpZ2hib3IgcXVlcmllcyAoYWRhcHRpdmUgdmlzaW9uIHVuZGVyIGxvYWQpCiAgICAgIGNvbnN0IHZpc2lvbiA9IENGRy52aXNpb24gKiAoZnBzQXZnIDwgNTAgPyAwLjkgOiAxLjApOyBjb25zdCBzZXAgPSBDRkcuc2VwOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBheFtpXT0wOyBheVtpXT0wOyB9CiAgICAgIGxldCB0bXAgPSBbXTsKICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICB0bXAubGVuZ3RoID0gMDsgcXQucXVlcnkocHhbaV0sIHB5W2ldLCB2aXNpb24sIHRtcCk7CiAgICAgICAgICBsZXQgY3g9MCwgY3k9MCwgdnhzdW09MCwgdnlzdW09MCwgc3g9MCwgc3k9MCwgdG90YWw9MCwgc2Nsb3NlPTA7CiAgICAgICAgICBmb3IgKGxldCBrPTA7azx0bXAubGVuZ3RoO2srKykgewogICAgICAgICAgICBjb25zdCBqID0gdG1wW2tdOyBpZiAoaj09PWkpIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBkeCA9IHB4W2pdLXB4W2ldOyBjb25zdCBkeSA9IHB5W2pdLXB5W2ldOwogICAgICAgICAgICBjb25zdCBkMiA9IGR4KmR4ICsgZHkqZHk7IGlmIChkMiA9PT0gMCkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGQgPSBNYXRoLnNxcnQoZDIpOwogICAgICAgICAgICBpZiAoZCA8IHZpc2lvbikgeyB0b3RhbCsrOyBjeCArPSBweFtqXTsgY3kgKz0gcHlbal07IHZ4c3VtICs9IHZ4W2pdOyB2eXN1bSArPSB2eVtqXTsgfQogICAgICAgICAgICBpZiAoZCA8IHNlcCkgeyBzY2xvc2UrKzsgc3ggLT0gZHgvKGR8fDEpOyBzeSAtPSBkeS8oZHx8MSk7IH0KICAgICAgICAgIH0KICAgICAgICAgIGlmICh0b3RhbD4wKSB7CiAgICAgICAgICAgIC8vIGFsaWdubWVudAogICAgICAgICAgICBsZXQgYXh2ID0gKHZ4c3VtL3RvdGFsKSAtIHZ4W2ldOyBsZXQgYXl2ID0gKHZ5c3VtL3RvdGFsKSAtIHZ5W2ldOwogICAgICAgICAgICBjb25zdCBhbGlnblcgPSBDRkcuYWxpZ25XICogKDEgKyAoYWxpZ25NdWxbaV18fDApKTsKICAgICAgICAgICAgW2F4diwgYXl2XSA9IGxpbWl0KGF4diwgYXl2LCBDRkcubWF4Rm9yY2UpOwogICAgICAgICAgICBheFtpXSArPSBheHYgKiBhbGlnblc7IGF5W2ldICs9IGF5diAqIGFsaWduVzsKICAgICAgICAgICAgLy8gY29oZXNpb24KICAgICAgICAgICAgbGV0IGN4diA9IChjeC90b3RhbCAtIHB4W2ldKTsgbGV0IGN5diA9IChjeS90b3RhbCAtIHB5W2ldKTsKICAgICAgICAgICAgY29uc3QgY29oVyA9IENGRy5jb2hlc2lvblcgKiAoMSArIChjb2hlc2lvbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbY3h2LCBjeXZdID0gbGltaXQoY3h2LCBjeXYsIENGRy5tYXhGb3JjZSk7IGF4W2ldICs9IGN4diAqIGNvaFc7IGF5W2ldICs9IGN5diAqIGNvaFc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc2Nsb3NlPjApIHsKICAgICAgICAgICAgbGV0IHN4diA9IHN4OyBsZXQgc3l2ID0gc3k7IFtzeHYsIHN5dl0gPSBsaW1pdChzeHYsIHN5diwgQ0ZHLm1heEZvcmNlKjEuNSk7CiAgICAgICAgICAgIGNvbnN0IHNlcFcgPSBDRkcuc2VwYXJhdGlvblcgKiAoMSArIChzZXBhcmF0aW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIGF4W2ldICs9IHN4diAqIHNlcFc7IGF5W2ldICs9IHN5diAqIHNlcFc7CiAgICAgICAgICB9CiAgICAgICAgLy8gb3B0aW9uYWwgZmxvdyBmaWVsZCBmb3IgcGF0dGVybiB2YXJpZXR5CiAgICAgICAgaWYgKENGRy5mbG93KSB7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmZsb3dTY2FsZSB8fCAwLjAwNDsgY29uc3QgYSA9IENGRy5mbG93QW1wIHx8IDAuNjsgY29uc3Qgc3AgPSBDRkcuZmxvd1NwZWVkIHx8IDAuNjsKICAgICAgICAgIGNvbnN0IHQwID0gcGVyZm9ybWFuY2Uubm93KCkqMC4wMDEqc3A7CiAgICAgICAgICBjb25zdCBmeCA9IE1hdGguc2luKHB5W2ldKnMgKyB0MCkgKiBhOwogICAgICAgICAgY29uc3QgZnkgPSBNYXRoLmNvcyhweFtpXSpzIC0gdDApICogYTsKICAgICAgICAgIGF4W2ldICs9IGZ4OyBheVtpXSArPSBmeTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHM6IH4yMCsgbW9kZXMgaW5jbHVkaW5nIHBlcmxpbkRyYWcsIGxpc3NhUHVsc2UsIG1ldGVvcgogICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInOwogICAgICBsZXQgdG1wMiA9IFtdOwogICAgICBmb3IgKGxldCBlPWVmZmVjdHMubGVuZ3RoLTE7IGU+PTA7IGUtLSkgewogICAgICAgIGNvbnN0IEUgPSBlZmZlY3RzW2VdOyBFLnQgKz0gZHQ7IGNvbnN0IGsgPSBFLnQgLyBFLmxpZmU7CiAgICAgICAgY29uc3QgciA9IDMwICsgayAqIDI2MDsgY29uc3Qgc3RyID0gMS4wIC0gazsKICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgeyBFLnggKz0gKEUudnh8fDApKmR0OyBFLnkgKz0gKEUudnl8fDApKmR0OyBFLnZ4ICo9IChFLmRyYWd8fDEpOyBFLnZ5ICo9IChFLmRyYWd8fDEpOyBFLm1hc3MgKj0gMC45ODU7IH0KICAgICAgICB0bXAyLmxlbmd0aCA9IDA7IHF0LnF1ZXJ5KEUueCwgRS55LCByLCB0bXAyKTsKICAgICAgICBmb3IgKGxldCBpaT0wOyBpaTx0bXAyLmxlbmd0aDsgaWkrKykgewogICAgICAgICAgY29uc3QgaSA9IHRtcDJbaWldOyBjb25zdCBkeCA9IHB4W2ldLUUueDsgY29uc3QgZHkgPSBweVtpXS1FLnk7IGNvbnN0IGQgPSBNYXRoLmh5cG90KGR4LCBkeSl8fDE7CiAgICAgICAgICBjb25zdCBmYWxsID0gKDEgLSBNYXRoLm1pbigxLCBkL3IpKTsKICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgICBjb25zdCB2ID0gcGVybGluVmVjKHB4W2ldLUUueCwgcHlbaV0tRS55LCBFLnNjYWxlfHwwLjAwOCwgKEUuYW1wfHwxLjUpICogZmFsbCk7CiAgICAgICAgICAgIGF4W2ldICs9IHZbMF07IGF5W2ldICs9IHZbMV07IGh1ZU9mZltpXSArPSA0MCpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdsaXNzYVB1bHNlJykgewogICAgICAgICAgICBjb25zdCBhbmcgPSBNYXRoLmF0YW4yKGR5LCBkeCk7CiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNpbihFLmEqYW5nICsgRS5waGFzZSkgKiBNYXRoLmNvcyhFLmIqYW5nIC0gRS5waGFzZSk7CiAgICAgICAgICAgIGNvbnN0IHMgPSB3ICogMi4wICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICAgIGNvbnN0IEcgPSA4MDA7IGNvbnN0IGYgPSBNYXRoLm1pbigzLjAsIChHKihFLm1hc3N8fDIwMCkpLygoZCpkKSsyMDApKTsKICAgICAgICAgICAgYXhbaV0gLT0gKGR4L2QpKmYqZmFsbDsgYXlbaV0gLT0gKGR5L2QpKmYqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOyBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAndm9ydGV4JyB8fCBFLnR5cGU9PT0nb3JiaXRDVycgfHwgRS50eXBlPT09J29yYml0Q0NXJyB8fCBFLnR5cGU9PT0nc3BpcmFsT3V0JyB8fCBFLnR5cGU9PT0nc3BpcmFsSW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nb3JiaXRDQ1cnKSA/IC0xIDogMTsKICAgICAgICAgICAgY29uc3QgdHggPSAtZHkvZCwgdHkgPSBkeC9kOyBsZXQgcyA9IChFLnNpZ24+MD8xOi0xKSAqIDEuMiAqIGZhbGwgKiBkaXI7CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsT3V0JykgeyBzID0gMS4yKmZhbGw7IGF4W2ldICs9IChkeC9kKSpmYWxsKjAuODsgYXlbaV0gKz0gKGR5L2QpKmZhbGwqMC44OyB9CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsSW4nKSB7IHMgPSAtMS4yKmZhbGw7IGF4W2ldIC09IChkeC9kKSpmYWxsKjAuNjsgYXlbaV0gLT0gKGR5L2QpKmZhbGwqMC42OyB9CiAgICAgICAgICAgIGF4W2ldICs9IHR4KnM7IGF5W2ldICs9IHR5KnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IHZCb29zdFtpXSArPSAwLjIqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaW1wbG9zaW9uJyB8fCBFLnR5cGU9PT0nYXR0cmFjdCcgfHwgRS50eXBlPT09J21hZ25ldCcpIHsKICAgICAgICAgICAgY29uc3QgcyA9IChFLnR5cGU9PT0naW1wbG9zaW9uJyA/IC0yLjIgOiAtMS4yKSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjE1KmZhbGw7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc3ByYXknIHx8IEUudHlwZT09PSdzY2F0dGVyJykgewogICAgICAgICAgICBjb25zdCBzID0gKEUuc2lnbj4wPzE6LTEpICogKEUudHlwZT09PSdzY2F0dGVyJz8zLjA6Mi40KSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgdnhbaV0gKz0gKGR4L2QpICogMC4yNSAqIGZhbGw7IHZ5W2ldICs9IChkeS9kKSAqIDAuMjUgKiBmYWxsOyBqaXRBbXBbaV0gKz0gMC4xNSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzdHVuJyB8fCBFLnR5cGU9PT0nZnJlZXplJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gLT0gKEUudHlwZT09PSdmcmVlemUnPzAuNjowLjMpICogZmFsbDsgc2l6ZU11bFtpXSArPSAwLjMqZmFsbDsgdnhbaV0gKj0gMC45NjsgdnlbaV0gKj0gMC45NjsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZmVhcicpIHsKICAgICAgICAgICAgY29uc3QgcyA9IDIuOCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgaml0QW1wW2ldICs9IDAuMjUqZmFsbDsgaHVlT2ZmW2ldICs9IDgwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NjcmFtYmxlJykgewogICAgICAgICAgICB2eFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMS41KmZhbGw7IHZ5W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgaml0QW1wW2ldICs9IDAuMypmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdwdWxzZScgfHwgRS50eXBlPT09J3JpcHBsZScpIHsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKGsqTWF0aC5QSSoyKTsgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2FsaWduJykgewogICAgICAgICAgICBhbGlnbk11bFtpXSArPSAwLjggKiBmYWxsOyBzZXBhcmF0aW9uTXVsW2ldIC09IDAuMyAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2RlYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldIC09IDAuOCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldICs9IDAuMiAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjEgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjb2hlcmUnIHx8IEUudHlwZT09PSd0aWdodGVuJyB8fCBFLnR5cGU9PT0nbG9vc2VuJykgewogICAgICAgICAgICBjb25zdCBkaXIgPSAoRS50eXBlPT09J2xvb3NlbicpID8gLTEgOiAxOyAvLyBsb29zZW4gcmVkdWNlcyBjb2hlc2lvbgogICAgICAgICAgICBjb2hlc2lvbk11bFtpXSArPSBkaXIgKiAwLjkgKiBmYWxsOyBpZiAoZGlyPjApIHNlcGFyYXRpb25NdWxbaV0gLT0gMC4yICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2VwYXJhdGUnIHx8IEUudHlwZT09PSdkaXNwZXJzZScpIHsKICAgICAgICAgICAgc2VwYXJhdGlvbk11bFtpXSArPSAxLjAgKiBmYWxsOyBjb2hlc2lvbk11bFtpXSAtPSAwLjQgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd3YXJwJyB8fCBFLnR5cGU9PT0nc3BlZWR1cCcpIHsKICAgICAgICAgICAgdkJvb3N0W2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBodWVPZmZbaV0gKz0gNDAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2xvd2Rvd24nKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAwLjUqZmFsbDsgaHVlT2ZmW2ldIC09IDIwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2dyb3cnKSB7CiAgICAgICAgICAgIHNpemVNdWxbaV0gKz0gMC42KmZhbGw7IGh1ZU9mZltpXSArPSAzMCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd0dW5uZWwnKSB7CiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHIqMC43OyBjb25zdCBzID0gKGQ8dGFyZ2V0PysxOi0xKSAqIDEuMiAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaml0dGVyYnVyc3QnKSB7CiAgICAgICAgICAgIGppdEFtcFtpXSArPSAwLjYqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnY2hyb21hYnVyc3QnKSB7CiAgICAgICAgICAgIGh1ZU9mZltpXSArPSAxNjAgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIHsgLy8gc2hvY2sgLyBkZWZhdWx0CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/KzE6LTEpICogMS44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyB2Qm9vc3RbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBnZW5lcmFsIGNvbG9yIGVuZXJneQogICAgICAgICAgaHVlW2ldID0gKGh1ZVtpXSArIDkwICogZmFsbCkgJSAzNjA7CiAgICAgICAgfQogICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoRS54LCBFLnksIE1hdGgubWF4KDEsIHIqMC42KSwgRS54LCBFLnksIHIpOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7KHBhbGV0dGVIdWUrMjApJTM2MH0sIDk1JSwgNzAlLCAkezAuMzQqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs2MCklMzYwfSwgOTUlLCA2MCUsICR7MC4yMipzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45NSwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsxMDApJTM2MH0sIDk1JSwgNTUlLCAwKWApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7cGFsZXR0ZUh1ZX0sIDk1JSwgNjUlLCAkezAuMjUqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs0MCklMzYwfSwgOTUlLCA1NSUsICR7MC4xOCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45LCBgaHNsYSgkeyhwYWxldHRlSHVlKzgwKSUzNjB9LCA5NSUsIDYwJSwgMClgKTsKICAgICAgICB9CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYyhFLngsIEUueSwgciwgMCwgTWF0aC5QSSoyKTsgY3R4LmZpbGwoKTsKICAgICAgICBpZiAoayA+PSAxKSBlZmZlY3RzLnNwbGljZShlLCAxKTsKICAgICAgfQogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEludGVncmF0ZSBhbmQgZHJhdyBib2lkcyB3aXRoIGdsb3cgYW5kIHRyYWlscwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBDRkcuYmxlbmQ7CiAgICAgIGN0eC5saW5lV2lkdGggPSBDRkcubGluZVdpZHRoOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICAvLyBpbnRlZ3JhdGUKICAgICAgICAgIGlmIChqaXRBbXBbaV0gPiAwLjAwMDEpIHsgYXhbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgYXlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgfQogICAgICAgICAgdnhbaV0gKz0gYXhbaV07IHZ5W2ldICs9IGF5W2ldOwogICAgICAgICAgY29uc3Qgdk1heCA9IENGRy5tYXhTcGVlZCAqICgxICsgTWF0aC5tYXgoLTAuNywgdkJvb3N0W2ldKSowLjgpOwogICAgICAgICAgW3Z4W2ldLCB2eVtpXV0gPSBsaW1pdCh2eFtpXSwgdnlbaV0sIHZNYXgpOwogICAgICAgICAgLy8gZW5mb3JjZSBtaW4gc3BlZWQgKHdpdGggYm9vc3QpCiAgICAgICAgICB7IGNvbnN0IHNwID0gTWF0aC5oeXBvdCh2eFtpXSwgdnlbaV0pIHx8IDE7IGNvbnN0IHZNaW4gPSBDRkcubWluU3BlZWQgKiAoMSArIE1hdGgubWF4KDAsIHZCb29zdFtpXSkqMC41KTsgaWYgKHNwIDwgdk1pbikgeyBjb25zdCBzID0gdk1pbiAvIHNwOyB2eFtpXSAqPSBzOyB2eVtpXSAqPSBzOyB9IH0KICAgICAgICAgIHByZXZ4W2ldID0gcHhbaV07IHByZXZ5W2ldID0gcHlbaV07CiAgICAgICAgICBweFtpXSArPSB2eFtpXTsgcHlbaV0gKz0gdnlbaV07CgogICAgICAgICAgLy8gYm91bmRhcmllcwogICAgICAgICAgaWYgKENGRy53cmFwKSB7CiAgICAgICAgICAgIGlmIChweFtpXSA8IC01KSBweFtpXSA9IFcgKyA1OyBlbHNlIGlmIChweFtpXSA+IFcrNSkgcHhbaV0gPSAtNTsKICAgICAgICAgICAgaWYgKHB5W2ldIDwgLTUpIHB5W2ldID0gSCArIDU7IGVsc2UgaWYgKHB5W2ldID4gSCs1KSBweVtpXSA9IC01OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgMCB8fCBweFtpXSA+IFcpIHsgdnhbaV0gPSAtdnhbaV07IH0KICAgICAgICAgICAgaWYgKHB5W2ldIDwgMCB8fCBweVtpXSA+IEgpIHsgdnlbaV0gPSAtdnlbaV07IH0KICAgICAgICAgICAgcHhbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihXLCBweFtpXSkpOwogICAgICAgICAgICBweVtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKEgsIHB5W2ldKSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZGVjYXkgbW9kaWZpZXJzIGFuZCBjb21wdXRlIHRpbnQKICAgICAgICAgIHZCb29zdFtpXSAqPSAwLjkyOyBzaXplTXVsW2ldICo9IDAuOTA7IGh1ZU9mZltpXSAqPSAwLjk0OyBqaXRBbXBbaV0gKj0gMC44ODsKICAgICAgICAgIGFsaWduTXVsW2ldICo9IDAuOTQ7IGNvaGVzaW9uTXVsW2ldICo9IDAuOTQ7IHNlcGFyYXRpb25NdWxbaV0gKj0gMC45NDsKICAgICAgICAgIC8vIHNsb3dseSBkcmlmdCBib2lkIGh1ZSBiYWNrIHRvd2FyZCBiYXNlIHBhbGV0dGUgaHVlCiAgICAgICAgICBodWVbaV0gPSBhcHByb2FjaEh1ZShodWVbaV0sIHBhbGV0dGVIdWUsIE1hdGgubWluKDEsIGR0ICogKENGRy5odWVSZWxheCB8fCAwLjIpKSk7CiAgICAgICAgICBzcGRbaV0gPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSk7CiAgICAgICAgICBjb25zdCBMID0gNTAgKyBNYXRoLm1pbig0NSwgc3BkW2ldKjgpOwogICAgICAgICAgY29uc3QgUyA9IDgwICsgTWF0aC5taW4oMjAsIHNwZFtpXSo2KTsKICAgICAgICAgIGNvbnN0IGRyYXdIdWUgPSAoaHVlW2ldICsgaHVlT2ZmW2ldKSAlIDM2MDsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHtkcmF3SHVlfSwgJHtTfSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguc2hhZG93Q29sb3IgPSBgaHNsKCR7ZHJhd0h1ZX0sIDkwJSwgNjAlKWA7CiAgICAgICAgICBjb25zdCBnbG93UXVhbGl0eSA9IChmcHNBdmcgPCA1MCA/IDAuNSA6IDEuMCk7CiAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IGdsb3dRdWFsaXR5ICogKENGRy5nbG93QmFzZSArIE1hdGgubWluKENGRy5nbG93TWF4LCBzcGRbaV0qQ0ZHLmdsb3dTY2FsZSkpOwoKICAgICAgICAgIC8vIHRyYWlsIHNlZ21lbnQKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5tb3ZlVG8ocHJldnhbaV0sIHByZXZ5W2ldKTsKICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0sIHB5W2ldKTsKICAgICAgICAgIGN0eC5zdHJva2UoKTsKCiAgICAgICAgICAvLyBib2lkIGhlYWQgc2hhcGUKICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIodnlbaV0sIHZ4W2ldKTsKICAgICAgICAgIGNvbnN0IGNhID0gTWF0aC5jb3MoYW5nKSwgc2EgPSBNYXRoLnNpbihhbmcpOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGBoc2woJHtodWVbaV19LCA5NSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmNvbWV0U2l6ZSAqICgxICsgKHNpemVNdWxbaV18fDApKTsKICAgICAgICAgIGlmIChDRkcuc2hhcGUgPT09ICd0cmlhbmdsZScpIHsKICAgICAgICAgICAgY29uc3QgQzI2ID0gMC44NTY4ODg3NTMsIFMyNiA9IDAuNTE1NDk4OyAvLyBjb3Mvc2luKDIuNikKICAgICAgICAgICAgY29uc3QgeDAgPSBweFtpXSArIGNhKnMqMS42LCB5MCA9IHB5W2ldICsgc2EqcyoxLjY7CiAgICAgICAgICAgIGNvbnN0IGNhX3AgPSBjYSpDMjYgLSBzYSpTMjYsIHNhX3AgPSBzYSpDMjYgKyBjYSpTMjY7CiAgICAgICAgICAgIGNvbnN0IGNhX20gPSBjYSpDMjYgKyBzYSpTMjYsIHNhX20gPSBzYSpDMjYgLSBjYSpTMjY7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeDAsIHkwKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AqcywgIHB5W2ldICsgc2FfcCpzKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20qcywgIHB5W2ldICsgc2FfbSpzKTsKICAgICAgICAgIH0gZWxzZSBpZiAoQ0ZHLnNoYXBlID09PSAnb3JiJykgewogICAgICAgICAgICBjdHguYXJjKHB4W2ldLCBweVtpXSwgcyowLjYsIDAsIE1hdGguUEkqMik7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzcGFyawogICAgICAgICAgICBjb25zdCBDMDIgPSAwLjk4MDA2NjYsIFMwMiA9IDAuMTk4NjY5MzsgLy8gY29zL3NpbigwLjIpCiAgICAgICAgICAgIGNvbnN0IHhoID0gcHhbaV0gKyBjYSpzKjEuOCwgeWggPSBweVtpXSArIHNhKnMqMS44OwogICAgICAgICAgICBjb25zdCBjYV9wMDIgPSBjYSpDMDIgLSBzYSpTMDIsIHNhX3AwMiA9IHNhKkMwMiArIGNhKlMwMjsKICAgICAgICAgICAgY29uc3QgY2FfbTAyID0gY2EqQzAyICsgc2EqUzAyLCBzYV9tMDIgPSBzYSpDMDIgLSBjYSpTMDI7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeGgsIHloKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AwMipzKjAuNiwgIHB5W2ldICsgc2FfcDAyKnMqMC42KTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20wMipzKjAuNiwgIHB5W2ldICsgc2FfbTAyKnMqMC42KTsKICAgICAgICAgIH0KICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTsgY3R4LmZpbGwoKTsKICAgICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gUXVhZHRyZWUgdmlzdWFsaXphdGlvbiAoZGVmYXVsdCBvbikKICAgICAgICBpZiAoQ0ZHLnF0KSBxdC5kcmF3KGN0eCk7CgogICAgICAgIC8vIEhVRAogICAgICAgIGh1ZEVsLmlubmVySFRNTCA9IGA8c3Ryb25nPkJvaWRzPC9zdHJvbmc+IMK3IE49JHtOfSB2aXNpb249JHtDRkcudmlzaW9ufSBzZXA9JHtDRkcuc2VwfSBgICsKICAgICAgICAgIGDCtyBxdENhcD0ke0NGRy5xdENhcH0gwrcgaHVlPSR7cGFsZXR0ZUh1ZX0gwrcgcXRWaXo9JHtDRkcucXQ/J29uJzonb2ZmJ30gwrcgY2xpY2s9JHtDRkcuY2xpY2tNb2RlfSDCtyBmcHM9JHtmcHNBdmcudG9GaXhlZCgwKX1gOwoKICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpOwogICAgICB9CiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CgogICAgICAvLyBDb25maWcgVUkgYnVpbGQgYW5kIHdpcmluZwogICAgICBjb25zdCBjZmdCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQnRuJyk7CiAgICAgIGNvbnN0IGNmZ0Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmZ0Nsb3NlJyk7CiAgICAgIGNvbnN0IGNmZ1BhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZycpOwogICAgICBjb25zdCBjZmdCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZ0JvZHknKTsKICAgICAgY2ZnQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKSk7CiAgICAgIGNmZ0Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCcnKSk7CgogICAgICBjb25zdCBzY2hlbWEgPSBbCiAgICAgICAge2tleTonaHVlJywgbGFiZWw6J0h1ZScsIHR5cGU6J2ludCcsIG1pbjowLCBtYXg6MzYwLCBzdGVwOjEsIHZhbHVlOkJBU0VfSFVFfSwKICAgICAgICB7a2V5OidoZWFkZXInLCBsYWJlbDonSGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOkhFQURFUn0sCiAgICAgICAge2tleTonc3ViaGVhZGVyJywgbGFiZWw6J1N1YmhlYWRlcicsIHR5cGU6J3RleHQnLCB2YWx1ZTpTVUJIRUFERVJ9LAogICAgICAgIHtrZXk6J3F0JywgbGFiZWw6J1Nob3cgUXVhZHRyZWUnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hvd0h1ZCcsIGxhYmVsOidTaG93IEhVRCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzcGF3bicsIGxhYmVsOidTcGF3bicsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdjaXJjbGUnLCdncmlkJywnY2VudGVyYnVyc3QnXX0sCiAgICAgICAge2tleTonY291bnQnLCBsYWJlbDonQ291bnQnLCB0eXBlOidpbnQnLCBtaW46NTAsIG1heDoxMDAwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3Zpc2lvbicsIGxhYmVsOidWaXNpb24nLCB0eXBlOidpbnQnLCBtaW46MjAsIG1heDoyMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonc2VwJywgbGFiZWw6J1NlcGFyYXRpb24gRGlzdCcsIHR5cGU6J2ludCcsIG1pbjo0LCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonbWF4U3BlZWQnLCBsYWJlbDonTWF4IFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMSwgbWF4OjEyLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonbWluU3BlZWQnLCBsYWJlbDonTWluIFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMCwgbWF4OjYsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtYXhGb3JjZScsIGxhYmVsOidNYXggU3RlZXJpbmcgRm9yY2UnLCB0eXBlOidudW1iZXInLCBtaW46MC4wMDEsIG1heDowLjUsIHN0ZXA6MC4wMDF9LAogICAgICAgIHtrZXk6J2FsaWduVycsIGxhYmVsOidBbGlnbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY29oZXNpb25XJywgbGFiZWw6J0NvaGVzaW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidzZXBhcmF0aW9uVycsIGxhYmVsOidTZXBhcmF0aW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oid0cmFpbEFscGhhJywgbGFiZWw6J1RyYWlsIEFscGhhJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDoxLCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3F0Q2FwJywgbGFiZWw6J1F1YWR0cmVlIENhcGFjaXR5JywgdHlwZTonaW50JywgbWluOjIsIG1heDozMiwgc3RlcDoxfSwKICAgICAgICB7a2V5Oid3cmFwJywgbGFiZWw6J1dyYXAgQm91bmRzJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NoYXBlJywgbGFiZWw6J1NoYXBlJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3RyaWFuZ2xlJywnc3BhcmsnLCdvcmInXX0sCiAgICAgICAge2tleTonYmxlbmQnLCBsYWJlbDonQmxlbmQnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsnbGlnaHRlcicsJ3NjcmVlbicsJ292ZXJsYXknLCdwbHVzLWxpZ2h0ZXInXX0sCiAgICAgICAge2tleTonbGluZVdpZHRoJywgbGFiZWw6J0xpbmUgV2lkdGgnLCB0eXBlOidudW1iZXInLCBtaW46MC4yLCBtYXg6NCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2dsb3dCYXNlJywgbGFiZWw6J0dsb3cgQmFzZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NjAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd01heCcsIGxhYmVsOidHbG93IE1heCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd1NjYWxlJywgbGFiZWw6J0dsb3cgU2NhbGUnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonY29tZXRTaXplJywgbGFiZWw6J0NvbWV0IFNpemUnLCB0eXBlOidudW1iZXInLCBtaW46MSwgbWF4OjIwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonYmdHcmFkaWVudCcsIGxhYmVsOidCRyBHcmFkaWVudCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MScsIGxhYmVsOidCRyBIdWUgU2hpZnQgMScsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQyJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAyJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDMnLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDMnLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidmbG93JywgbGFiZWw6J0Zsb3cgRmllbGQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonZmxvd0FtcCcsIGxhYmVsOidGbG93IEFtcCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjA1fSwKICAgICAgICB7a2V5OidmbG93U2NhbGUnLCBsYWJlbDonRmxvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMDUsIG1heDowLjAyLCBzdGVwOjAuMDAwNX0sCiAgICAgICAge2tleTonZmxvd1NwZWVkJywgbGFiZWw6J0Zsb3cgU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjMsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY2xpY2tNb2RlJywgbGFiZWw6J0NsaWNrIE1vZGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsncmFuZG9tJywnc2hvY2snLCd2b3J0ZXgnLCdpbXBsb3Npb24nLCdzcHJheSddfSwKICAgICAgXTsKCiAgICAgIGZ1bmN0aW9uIG1ha2VSb3cobGFiZWwsIGlucHV0KSB7CiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHJvdy5jbGFzc05hbWUgPSAncm93JzsKICAgICAgICBjb25zdCBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsgbC50ZXh0Q29udGVudCA9IGxhYmVsOyByb3cuYXBwZW5kQ2hpbGQobCk7CiAgICAgICAgcm93LmFwcGVuZENoaWxkKGlucHV0KTsgcmV0dXJuIHJvdzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYWRkSW5wdXQoaXRlbSkgewogICAgICAgIGxldCBpbnB1dDsKICAgICAgICBjb25zdCB2MCA9IChpdGVtLmtleSBpbiBDRkcpID8gQ0ZHW2l0ZW0ua2V5XSA6IGl0ZW0udmFsdWU7CiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Jvb2wnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J2NoZWNrYm94JzsgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IENGR1tpdGVtLmtleV0gPSBpbnB1dC5jaGVja2VkOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnc2VsZWN0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTsKICAgICAgICAgIGZvciAoY29uc3Qgb3B0IG9mIGl0ZW0ub3B0aW9ucykgeyBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7IG8udmFsdWU9b3B0OyBvLnRleHRDb250ZW50PW9wdDsgaWYgKG9wdD09PXYwKSBvLnNlbGVjdGVkPXRydWU7IGlucHV0LmFwcGVuZENoaWxkKG8pOyB9CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LnZhbHVlOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAndGV4dCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ndGV4dCc7IGlucHV0LnZhbHVlID0gU3RyaW5nKHYwfHwnJyk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaWYgKGl0ZW0ua2V5PT09J2hlYWRlcicpIHsgdGl0bGVFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5rZXk9PT0nc3ViaGVhZGVyJykgeyBzdWJ0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBpbnB1dC52YWx1ZSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5rZXkgPT09ICdodWUnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQubWluPScwJzsgaW5wdXQubWF4PSczNjAnOyBpbnB1dC5zdGVwPScxJzsgaW5wdXQudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIubWluPScwJzsgbnVtYmVyLm1heD0nMzYwJzsgbnVtYmVyLnN0ZXA9JzEnOyBudW1iZXIudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWU9aW5wdXQudmFsdWU7IGh1ZUNoYW5nZWQocGFyc2VJbnQoaW5wdXQudmFsdWUpKTsgfSk7CiAgICAgICAgICBudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlucHV0LnZhbHVlPW51bWJlci52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gaHVlQ2hhbmdlZCh2YWwpewogICAgICAgICAgICAvLyBzaGlmdCBwYWxldHRlIGltbWVkaWF0ZWx5CiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gKHZhbCAtIHBhbGV0dGVIdWUpOwogICAgICAgICAgICBwYWxldHRlSHVlID0gdmFsOwogICAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBodWVbaV0gPSAoaHVlW2ldICsgZGVsdGEpICUgMzYwOyB9CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQnLCBgaHNsKCR7dmFsfSwgODUlLCA2MiUpYCk7CiAgICAgICAgICAgIHVwZGF0ZVVybEZyb21DZmcoe2h1ZTpTdHJpbmcodmFsKX0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG51bWVyaWMgKHJhbmdlICsgbnVtYmVyIHBhaXIpCiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgaW5wdXQubWluPVN0cmluZyhpdGVtLm1pbik7IGlmIChpdGVtLm1heCE9bnVsbCkgaW5wdXQubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBudW1iZXIudHlwZT0nbnVtYmVyJzsgbnVtYmVyLnN0ZXA9U3RyaW5nKGl0ZW0uc3RlcHx8MSk7CiAgICAgICAgICBpZiAoaXRlbS5taW4hPW51bGwpIG51bWJlci5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBudW1iZXIubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBpbnB1dC52YWx1ZSA9IFN0cmluZyh2MCk7IG51bWJlci52YWx1ZSA9IFN0cmluZyh2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgbnVtYmVyLnZhbHVlID0gaW5wdXQudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWUgPSBudW1iZXIudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gbnVtQ2hhbmdlZCh2YWwpeyBDRkdbaXRlbS5rZXldID0gdmFsOyBhcHBseUNoYW5nZShpdGVtLmtleSwgdmFsKTsgfQogICAgICAgIH0KICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgaW5wdXQpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYXBwbHlDaGFuZ2Uoa2V5LCB2YWx1ZSkgewogICAgICAgIGlmIChrZXkgPT09ICdjb3VudCcgfHwga2V5ID09PSAnc3Bhd24nKSB7IHJlc2VlZChDRkcuY291bnQpOyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3F0JykgeyAvKiBpbW1lZGlhdGUgZHJhdyB0b2dnbGUgdmlhIENGRyAqLyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3Nob3dIdWQnKSB7IGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSBDRkcuc2hvd0h1ZCA/ICcnIDogJ25vbmUnOyB9CiAgICAgICAgdXBkYXRlVXJsRnJvbUNmZygpOwogICAgICB9CgogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc2NoZW1hKSBhZGRJbnB1dChpdGVtKTsKICAgICAgLy8gaW5pdGlhbCBIVUQgdmlzaWJpbGl0eQogICAgICBodWRFbC5zdHlsZS5kaXNwbGF5ID0gKENGRy5zaG93SHVkPT09ZmFsc2UpID8gJ25vbmUnIDogJyc7CgogICAgICAvLyBrZXlib2FyZCB0b2dnbGVzIChhZnRlciBidWlsZGluZyBwYW5lbCkKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7CiAgICAgICAgY29uc3QgayA9IGUua2V5LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKGsgPT09ICdxJykgeyBDRkcucXQgPSAhQ0ZHLnF0OyB1cGRhdGVVcmxGcm9tQ2ZnKCk7IH0KICAgICAgICBpZiAoayA9PT0gJ2MnKSB7IGNmZ1BhbmVsLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJyk7IH0KICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgPC9zY3JpcHQ+CiAgPC9ib2R5Pgo8L2h0bWw+Cg==" download="boids-dod-quadtree-2-impl.html" class="download-btn" title="Download boids-dod-quadtree-2-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=242 · spawn=centerburst · wrap · spark · screen · hue=132 · qtCap=12 · flow" data-filename="boids-dod-quadtree-7-impl.html"><a href="boids-dod-quadtree-7-impl.html" target="viewer"><strong>Boids DOD+QT · N=242 · spawn=centerburst · wrap · spark · screen · hue=132 · qtCap=12 · flow</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTI0MiDCtyBzcGF3bj1jZW50ZXJidXJzdCDCtyB3cmFwIMK3IHNwYXJrIMK3IHNjcmVlbiDCtyBodWU9MTMyIMK3IHF0Q2FwPTEyIMK3IGZsb3c8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICBodG1sLCBib2R5IHsgaGVpZ2h0OiAxMDAlOyBtYXJnaW46IDA7IH0KICAgICAgYm9keSB7CiAgICAgICAgYmFja2dyb3VuZDogIzA1MDcwYTsKICAgICAgICBjb2xvcjogI2U2ZWRmMzsKICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIGZvbnQtZmFtaWx5OiB1aS1zYW5zLXNlcmlmLCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIFNlZ29lIFVJLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsICJBcHBsZSBDb2xvciBFbW9qaSIsICJTZWdvZSBVSSBFbW9qaSI7CiAgICAgIH0KICAgICAgI3NjZW5lIHsgZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMDB2dzsgaGVpZ2h0OiAxMDB2aDsgfQogICAgICAub3ZlcmxheSB7IHBvc2l0aW9uOiBmaXhlZDsgaW5zZXQ6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gMWZyIGF1dG87IH0KICAgICAgLnRpdGxlIHsgbWFyZ2luOiAxOHB4IDIwcHggMnB4OyBmb250LXdlaWdodDogNzAwOyBmb250LXNpemU6IGNsYW1wKDE4cHgsIDN2dywgMjhweCk7IGxldHRlci1zcGFjaW5nOiAwLjJweDsgY29sb3I6IHZhcigtLWFjY2VudCwgIzdkZDNmYyk7IHRleHQtc2hhZG93OiAwIDAgMTBweCBjb2xvci1taXgoaW4gb2tsYWIsIHZhcigtLWFjY2VudCwgIzdkZDNmYykgODAlLCAjMDAwIDIwJSk7IH0KICAgICAgLnN1YnRpdGxlIHsgbWFyZ2luOiAwIDIwcHggMTBweDsgZm9udC13ZWlnaHQ6IDUwMDsgZm9udC1zaXplOiBjbGFtcCgxMnB4LCAydncsIDE2cHgpOyBvcGFjaXR5OiAwLjg1OyB9CiAgICAgIC5odWQgeyBwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IDEycHg7IGJvdHRvbTogMTJweDsgcGFkZGluZzogOHB4IDEwcHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA0MDsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoOHB4KSBzYXR1cmF0ZSgxMjAlKTsgZm9udC1zaXplOiAxMnB4OyBsaW5lLWhlaWdodDogMS40OyB9CiAgICAgIC5odWQgc3Ryb25nIHsgY29sb3I6IHZhcigtLWFjY2VudCwgIzdkZDNmYyk7IH0KICAgICAgLmNmZ0J0biB7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAxMnB4OyByaWdodDogMTJweDsgei1pbmRleDogMTA7IHBvaW50ZXItZXZlbnRzOiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJhY2tncm91bmQ6ICMwYjEyMjBjYzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlci1yYWRpdXM6IDhweDsgcGFkZGluZzogNnB4IDhweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgIC5jb25maWdQYW5lbCB7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiA1NnB4OyByaWdodDogMTJweDsgd2lkdGg6IG1pbigzODBweCwgOTB2dyk7IG1heC1oZWlnaHQ6IDgwdmg7IG92ZXJmbG93OiBhdXRvOyB6LWluZGV4OiAyMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJhY2tncm91bmQ6ICMwYjEyMjBlNjsgY29sb3I6ICNlNmVkZjM7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYm9yZGVyLXJhZGl1czogMTBweDsgYm94LXNoYWRvdzogMCAxMHB4IDQwcHggIzAwMDg7IGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KSBzYXR1cmF0ZSgxMjAlKTsgfQogICAgICAuY29uZmlnSGVhZGVyIHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBwYWRkaW5nOiAxMHB4IDEycHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMDAwMDAwNTU7IHBvc2l0aW9uOiBzdGlja3k7IHRvcDogMDsgYmFja2dyb3VuZDogIzBiMTIyMGYyOyB9CiAgICAgIC5jb25maWdCb2R5IHsgcGFkZGluZzogMTBweCAxMnB4OyBkaXNwbGF5OiBncmlkOyBnYXA6IDEwcHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJvdyB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIGF1dG87IGdhcDogOHB4OyBhbGlnbi1pdGVtczogY2VudGVyOyB9CiAgICAgIC5jb25maWdCb2R5IC5yYW5nZVJvdyB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDcycHg7IGdhcDogOHB4OyB9CiAgICAgIC5jZmdDbG9zZSB7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzEyMWEyYmNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogNnB4OyBwYWRkaW5nOiA0cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXQsIC5jb25maWdCb2R5IHNlbGVjdCB7IGZvbnQtc2l6ZTogMTRweDsgcGFkZGluZzogNnB4IDhweDsgYmFja2dyb3VuZDogIzEwMTgyNzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYm9yZGVyLXJhZGl1czogNnB4OyB9CiAgICAgIC5jb25maWdCb2R5IGlucHV0W3R5cGU9cmFuZ2VdIHsgcGFkZGluZzogMDsgaGVpZ2h0OiAyOHB4OyBhY2NlbnQtY29sb3I6IHZhcigtLWFjY2VudCwgIzdkZDNmYyk7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyB9CiAgICA8L3N0eWxlPgogIDwvaGVhZD4KICA8Ym9keT4KICAgIDxjYW52YXMgaWQ9InNjZW5lIj48L2NhbnZhcz4KICAgIDxkaXYgY2xhc3M9Im92ZXJsYXkiPgogICAgICA8ZGl2IGNsYXNzPSJ0aXRsZSIgaWQ9InRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ic3VidGl0bGUiIGlkPSJzdWJ0aXRsZSI+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9Imh1ZCIgaWQ9Imh1ZCI+PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxidXR0b24gaWQ9ImNmZ0J0biIgY2xhc3M9ImNmZ0J0biIgYXJpYS1sYWJlbD0iT3BlbiBjb25maWciPuKame+4jjwvYnV0dG9uPgogICAgPGRpdiBpZD0iY29uZmlnIiBjbGFzcz0iY29uZmlnUGFuZWwiIGhpZGRlbj4KICAgICAgPGRpdiBjbGFzcz0iY29uZmlnSGVhZGVyIj4KICAgICAgICA8c3Ryb25nPkNvbmZpZzwvc3Ryb25nPgogICAgICAgIDxidXR0b24gaWQ9ImNmZ0Nsb3NlIiBjbGFzcz0iY2ZnQ2xvc2UiIGFyaWEtbGFiZWw9IkNsb3NlIj7inJU8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgaWQ9ImNvbmZpZ0JvZHkiIGNsYXNzPSJjb25maWdCb2R5Ij48L2Rpdj4KICAgIDwvZGl2PgogICAgPHNjcmlwdD4KICAgICAgJ3VzZSBzdHJpY3QnOwoKICAgICAgLy8gVVJMIHBhcmFtZXRlcnMKICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpOwogICAgICBjb25zdCBERUZBVUxUX0hVRSA9IDEzMjsKICAgICAgY29uc3QgQkFTRV9IVUUgPSBjbGFtcEludChwYXJzZUludChwYXJhbXMuZ2V0KCdodWUnKSksIDAsIDM2MCwgREVGQVVMVF9IVUUpOwogICAgICBsZXQgcGFsZXR0ZUh1ZSA9IEJBU0VfSFVFOwogICAgICBjb25zdCBIRUFERVIgPSBwYXJhbXMuZ2V0KCdoZWFkZXInKSB8fCAnQm9pZHMg4oCUIERhdGEtT3JpZW50ZWQgKyBRdWFkdHJlZSc7CiAgICAgIGNvbnN0IFNVQkhFQURFUiA9IHBhcmFtcy5nZXQoJ3N1YmhlYWRlcicpIHx8ICdTaG9ja3dhdmVzIG9uIGNsaWNrL2RyYWcgwrcgcXVhZHRyZWUgdml6IG9uJzsKICAgICAgLy8gUXVhZHRyZWUgdml6IGlzIGhhbmRsZWQgYnkgQ0ZHLnF0OyBVUkwgcGFyYW0gJ3F0JyBvdmVycmlkZXMgaXQuCgogICAgICAvLyBET00KICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjZW5lJyk7CiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pOwogICAgICBjb25zdCB0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJyk7CiAgICAgIGNvbnN0IHN1YnRpdGxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VidGl0bGUnKTsKICAgICAgY29uc3QgaHVkRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHVkJyk7CgogICAgICAvLyBTdHlsZSBob29rCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQnLCBgaHNsKCR7cGFsZXR0ZUh1ZX0sIDg1JSwgNjIlKWApOwogICAgICB0aXRsZUVsLnRleHRDb250ZW50ID0gSEVBREVSOwogICAgICBzdWJ0aXRsZUVsLnRleHRDb250ZW50ID0gU1VCSEVBREVSOwoKICAgICAgLy8gQ29uZmlnIChpbmplY3RlZCBieSBnZW5lcmF0b3IpIOKAlCBtdXRhYmxlIGF0IHJ1bnRpbWUKICAgICAgbGV0IENGRyA9IHsiY291bnQiOiAyNDIsICJ2aXNpb24iOiA3NiwgInNlcCI6IDIwLCAibWF4U3BlZWQiOiAzLjYzLCAibWF4Rm9yY2UiOiAwLjA3OCwgIm1pblNwZWVkIjogMC44NiwgImFsaWduVyI6IDAuNzksICJjb2hlc2lvblciOiAwLjUyLCAic2VwYXJhdGlvblciOiAyLjQ2LCAidHJhaWxBbHBoYSI6IDAuMSwgInF0Q2FwIjogMTIsICJ3cmFwIjogdHJ1ZSwgInNoYXBlIjogInNwYXJrIiwgImJsZW5kIjogInNjcmVlbiIsICJsaW5lV2lkdGgiOiAxLjU4LCAiZ2xvd0Jhc2UiOiAyNCwgImdsb3dNYXgiOiA0MSwgImdsb3dTY2FsZSI6IDExLjAsICJjb21ldFNpemUiOiA1Ljk5LCAiYmdHcmFkaWVudCI6IGZhbHNlLCAiYmdIdWVTaGlmdDEiOiAzOSwgImJnSHVlU2hpZnQyIjogNzgsICJiZ0h1ZVNoaWZ0MyI6IDExMywgInNwYXduIjogImNlbnRlcmJ1cnN0IiwgInF0IjogdHJ1ZSwgInNob3dIdWQiOiB0cnVlLCAiZmxvdyI6IHRydWUsICJmbG93QW1wIjogMS4wNSwgImZsb3dTY2FsZSI6IDAuMDA1MywgImZsb3dTcGVlZCI6IDAuMywgImNsaWNrTW9kZSI6ICJyYW5kb20ifTsKICAgICAgQ0ZHLm1pblNwZWVkID0gQ0ZHLm1pblNwZWVkID8/IDAuODsKICAgICAgQ0ZHLnF0ID0gKHR5cGVvZiBDRkcucXQgPT09ICdib29sZWFuJykgPyBDRkcucXQgOiB0cnVlOwogICAgICBDRkcuY2xpY2tNb2RlID0gQ0ZHLmNsaWNrTW9kZSB8fCAncmFuZG9tJzsKICAgICAgQ0ZHLmNsaWNrTW9kZXMgPSBDRkcuY2xpY2tNb2RlcyB8fCBbCiAgICAgICAgJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknLCdzdHVuJywnZmVhcicsJ2F0dHJhY3QnLCdvcmJpdENXJywnb3JiaXRDQ1cnLAogICAgICAgICdzcGlyYWxPdXQnLCdzcGlyYWxJbicsJ2ZyZWV6ZScsJ3NjcmFtYmxlJywnc2NhdHRlcicsJ21hZ25ldCcsJ3B1bHNlJywKICAgICAgICAnd2FycCcsJ2dyb3cnLCd0dW5uZWwnLCdyaXBwbGUnLCdqaXR0ZXJidXJzdCcsJ2Nocm9tYWJ1cnN0Jywnc2xvd2Rvd24nLCdzcGVlZHVwJywKICAgICAgICAncGVybGluRHJhZycsJ2xpc3NhUHVsc2UnLCdtZXRlb3InLAogICAgICAgIC8vIHN0ZWVyaW5nLXdlaWdodCBlZmZlY3RzCiAgICAgICAgJ2FsaWduJywnZGVhbGlnbicsJ2NvaGVyZScsJ2xvb3NlbicsJ3NlcGFyYXRlJywnZGlzcGVyc2UnCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBwYXJzZUJvb2wodiwgZCkgewogICAgICAgIGlmICh2ID09IG51bGwpIHJldHVybiBkOwogICAgICAgIGNvbnN0IHMgPSBTdHJpbmcodikudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoWycxJywndHJ1ZScsJ3llcycsJ29uJ10uaW5jbHVkZXMocykpIHJldHVybiB0cnVlOwogICAgICAgIGlmIChbJzAnLCdmYWxzZScsJ25vJywnb2ZmJ10uaW5jbHVkZXMocykpIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gZDsKICAgICAgfQoKICAgICAgLy8gVVJMIG92ZXJyaWRlcyBmb3IgY29uZmlnCiAgICAgIChmdW5jdGlvbiB1cmxPdmVycmlkZSgpewogICAgICAgIGNvbnN0IGludEtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywncXRDYXAnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnXTsKICAgICAgICBjb25zdCBudW1LZXlzID0gWydtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJ107CiAgICAgICAgY29uc3QgYm9vbEtleXMgPSBbJ3dyYXAnLCdiZ0dyYWRpZW50JywncXQnLCdmbG93Jywnc2hvd0h1ZCddOwogICAgICAgIGNvbnN0IHN0cktleXMgPSBbJ3NoYXBlJywnYmxlbmQnLCdzcGF3biddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBpbnRLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE1hdGgubWF4KC05OTk5OSwgTWF0aC5taW4oOTk5OTksIHBhcnNlSW50KHYpKSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgbnVtS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBOdW1iZXIodik7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgYm9vbEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gcGFyc2VCb29sKHYsIENGR1trXSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2Ygc3RyS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSB2OyB9CiAgICAgICAgY29uc3QgY20gPSBwYXJhbXMuZ2V0KCdjbGlja01vZGUnKTsgaWYgKGNtKSBDRkcuY2xpY2tNb2RlID0gY207CiAgICAgICAgY29uc3QgY21zID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlcycpOyBpZiAoY21zKSBDRkcuY2xpY2tNb2RlcyA9IGNtcy5zcGxpdCgnLCcpOwogICAgICB9KSgpOwoKICAgICAgZnVuY3Rpb24gdXBkYXRlVXJsRnJvbUNmZyhleHRyYT17fSkgewogICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwobG9jYXRpb24uaHJlZik7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2h1ZScsIHBhbGV0dGVIdWUpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdoZWFkZXInLCB0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3ViaGVhZGVyJywgc3VidGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qga2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdxdENhcCcsJ3dyYXAnLCdzaGFwZScsJ2JsZW5kJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnYmdHcmFkaWVudCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MycsJ3F0JywnY2xpY2tNb2RlJywnY2xpY2tNb2RlcycsJ2Zsb3cnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJywnc3Bhd24nLCdzaG93SHVkJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIFN0cmluZyhDRkdba10pKTsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZXMgJiYgQXJyYXkuaXNBcnJheShDRkcuY2xpY2tNb2RlcykpIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdjbGlja01vZGVzJywgQ0ZHLmNsaWNrTW9kZXMuam9pbignLCcpKTsKICAgICAgICBmb3IgKGNvbnN0IFtrLHZdIG9mIE9iamVjdC5lbnRyaWVzKGV4dHJhKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgdik7CiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgJycsIHVybC50b1N0cmluZygpKTsKICAgICAgfQoKICAgICAgY29uc3QgVEFVID0gTWF0aC5QSSAqIDI7CgogICAgICAvLyBDYW52YXMgc2l6aW5nIHdpdGggRFBSCiAgICAgIGxldCBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgICBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcihpbm5lcldpZHRoICogRFBSKTsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihpbm5lckhlaWdodCAqIERQUik7CiAgICAgICAgY3R4LnNldFRyYW5zZm9ybShEUFIsIDAsIDAsIERQUiwgMCwgMCk7CiAgICAgICAgY2xlYXJIYXJkKCk7CiAgICAgIH0KICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKTsKICAgICAgcmVzaXplKCk7CgogICAgICBmdW5jdGlvbiBjbGVhckhhcmQoKSB7CiAgICAgICAgaWYgKENGRy5iZ0dyYWRpZW50KSB7CiAgICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGlubmVyV2lkdGgqMC42NSwgaW5uZXJIZWlnaHQqMC4zNSwgTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuMTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyV2lkdGgqMC41LCBpbm5lckhlaWdodCowLjUsIE1hdGguaHlwb3QoaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuNyk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDEpJTM2MH0gODAlIDEwJSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNSwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MiklMzYwfSA3MCUgOCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgxLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDMpJTM2MH0gNjAlIDYlKWApOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBpbm5lcldpZHRoLCBpbm5lckhlaWdodCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNsYW1wSW50KG4sIGxvLCBoaSwgZmFsbGJhY2spIHsKICAgICAgICBuID0gTnVtYmVyLmlzRmluaXRlKG4pID8gbiA6IGZhbGxiYWNrOwogICAgICAgIHJldHVybiBNYXRoLm1heChsbywgTWF0aC5taW4oaGksIG4pKTsKICAgICAgfQoKICAgICAgLy8gRHJpZnQgYSBodWUgdmFsdWUgdG93YXJkIGEgdGFyZ2V0IG9uIGEgY2lyY3VsYXIgY29sb3Igd2hlZWwKICAgICAgZnVuY3Rpb24gYXBwcm9hY2hIdWUoaCwgdGFyZ2V0LCByYXRlKSB7CiAgICAgICAgLy8gcmF0ZSBpcyAwLi4xIGZyYWN0aW9uIHRvd2FyZCB0YXJnZXQgcGVyIGNhbGwKICAgICAgICBsZXQgZCA9ICgodGFyZ2V0IC0gaCArIDU0MCkgJSAzNjApIC0gMTgwOyAvLyBzaG9ydGVzdCBzaWduZWQgZGVsdGEgWy0xODAsMTgwKQogICAgICAgIHJldHVybiAoaCArIGQgKiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCByYXRlKSkgKyAzNjApICUgMzYwOwogICAgICB9CgogICAgICAvLyBMaWdodHdlaWdodCAyRCB2YWx1ZSBub2lzZSAoZm9yIHBlcmxpbi1saWtlIGRyYWcpCiAgICAgIGxldCBub2lzZVNlZWQgPSAoQkFTRV9IVUUgKiAxNjY0NTI1ICsgMTAxMzkwNDIyMykgJiAweGZmZmZmZmZmOwogICAgICBmdW5jdGlvbiBmcmFjdCh4KXsgcmV0dXJuIHggLSBNYXRoLmZsb29yKHgpOyB9CiAgICAgIGZ1bmN0aW9uIF9yYW5kKGl4LCBpeSl7CiAgICAgICAgY29uc3QgayA9IChpeCAqIDM3NDc2MTM5MyArIGl5ICogNjY4MjY1MjYzICsgbm9pc2VTZWVkKSA+Pj4gMDsKICAgICAgICByZXR1cm4gZnJhY3QoTWF0aC5zaW4oaykgKiA0Mzc1OC41NDUzKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBub2lzZTIoeCwgeSl7CiAgICAgICAgY29uc3QgeGkgPSBNYXRoLmZsb29yKHgpLCB5aSA9IE1hdGguZmxvb3IoeSk7CiAgICAgICAgY29uc3QgeGYgPSB4IC0geGksIHlmID0geSAtIHlpOwogICAgICAgIGNvbnN0IHUgPSB4Zip4ZiooMy0yKnhmKSwgdiA9IHlmKnlmKigzLTIqeWYpOwogICAgICAgIGNvbnN0IHYwMCA9IF9yYW5kKHhpLCB5aSksIHYxMCA9IF9yYW5kKHhpKzEsIHlpKSwgdjAxID0gX3JhbmQoeGksIHlpKzEpLCB2MTEgPSBfcmFuZCh4aSsxLCB5aSsxKTsKICAgICAgICBjb25zdCB4MSA9IHYwMCooMS11KSArIHYxMCp1LCB4MiA9IHYwMSooMS11KSArIHYxMSp1OwogICAgICAgIHJldHVybiB4MSooMS12KSArIHgyKnY7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gcGVybGluVmVjKHgsIHksIHNjYWxlLCBhbXApewogICAgICAgIGNvbnN0IG4gPSBub2lzZTIoeCpzY2FsZSwgeSpzY2FsZSk7CiAgICAgICAgY29uc3QgYSA9IG4gKiBUQVU7CiAgICAgICAgcmV0dXJuIFtNYXRoLmNvcyhhKSphbXAsIE1hdGguc2luKGEpKmFtcF07CiAgICAgIH0KCiAgICAgIC8vIFNlZWRlZCBQUk5HIGZvciBzdWJ0bGUgZGV0ZXJtaW5pc20gZnJvbSBCQVNFX0hVRQogICAgICBsZXQgX3NlZWQgPSAoQkFTRV9IVUUgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwOwogICAgICBmdW5jdGlvbiBybmQoKSB7IF9zZWVkID0gKDExMDM1MTUyNDUgKiBfc2VlZCArIDEyMzQ1KSAmIDB4N2ZmZmZmZmY7IHJldHVybiAoX3NlZWQgPj4+IDgpIC8gMHg3ZmZmZmY7IH0KICAgICAgZnVuY3Rpb24gcmFuZChtaW4sIG1heCkgeyByZXR1cm4gcm5kKCkgKiAobWF4IC0gbWluKSArIG1pbjsgfQoKICAgICAgLy8gRGF0YS1PcmllbnRlZCBTdGF0ZSAoU29BKSDigJQgZHluYW1pYwogICAgICBsZXQgTiA9IENGRy5jb3VudDsKICAgICAgbGV0IHB4LCBweSwgdngsIHZ5LCBheCwgYXksIGh1ZSwgc3BkLCBwcmV2eCwgcHJldnk7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBtb2RpZmllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBzaXplTXVsLCB2Qm9vc3QsIGh1ZU9mZiwgaml0QW1wOwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgc3RlZXJpbmcgbXVsdGlwbGllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBhbGlnbk11bCwgY29oZXNpb25NdWwsIHNlcGFyYXRpb25NdWw7CgogICAgICBmdW5jdGlvbiBhbGxvYyhuKSB7CiAgICAgICAgcHggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBweSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgdnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYXggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBheSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgaHVlID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc3BkID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBwcmV2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHByZXZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBzaXplTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdkJvb3N0ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaHVlT2ZmID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaml0QW1wID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBhbGlnbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGNvaGVzaW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc2VwYXJhdGlvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHNlZWRCb2lkcygpIHsKICAgICAgICBjb25zdCBtb2RlID0gQ0ZHLnNwYXduIHx8ICdyYW5kb20nOwogICAgICAgIGlmIChtb2RlID09PSAnY2lyY2xlJykgewogICAgICAgICAgY29uc3QgY3ggPSBpbm5lcldpZHRoLzIsIGN5ID0gaW5uZXJIZWlnaHQvMiwgciA9IE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KS8zOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgdCA9IE1hdGgucmFuZG9tKCkqTWF0aC5QSSoyOyBweFtpXT1jeCtNYXRoLmNvcyh0KSpyOyBweVtpXT1jeStNYXRoLnNpbih0KSpyOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnZ3JpZCcpIHsKICAgICAgICAgIGNvbnN0IGNvbHM9TWF0aC5tYXgoMTAsIE1hdGguZmxvb3IoTWF0aC5zcXJ0KE4pKSk7IGNvbnN0IHJvd3M9TWF0aC5jZWlsKE4vY29scyk7CiAgICAgICAgICBjb25zdCBneD1pbm5lcldpZHRoLyhjb2xzKzEpLCBneT1pbm5lckhlaWdodC8ocm93cysxKTsgbGV0IGs9MDsKICAgICAgICAgIGZvciAobGV0IHk9MTt5PD1yb3dzO3krKykgZm9yIChsZXQgeD0xO3g8PWNvbHM7eCsrKSB7IGlmIChrPj1OKSBicmVhazsgcHhba109Z3gqeDsgcHlba109Z3kqeTsgdnhba109cmFuZCgtMSwxKTsgdnlba109cmFuZCgtMSwxKTsgaysrOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnY2VudGVyYnVyc3QnKSB7CiAgICAgICAgICBjb25zdCBjeD1pbm5lcldpZHRoLzIsIGN5PWlubmVySGVpZ2h0LzI7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCBhPU1hdGgucmFuZG9tKCkqTWF0aC5QSSoyLCBkPXJhbmQoMCwgTWF0aC5taW4oaW5uZXJXaWR0aCxpbm5lckhlaWdodCkvMik7IHB4W2ldPWN4K01hdGguY29zKGEpKmQ7IHB5W2ldPWN5K01hdGguc2luKGEpKmQ7IHZ4W2ldPU1hdGguY29zKGEpOyB2eVtpXT1NYXRoLnNpbihhKTsgfQogICAgICAgIH0gZWxzZSB7IC8vIHJhbmRvbQogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgcHhbaV09cmFuZCgwLGlubmVyV2lkdGgpOyBweVtpXT1yYW5kKDAsaW5uZXJIZWlnaHQpOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICBjb25zdCBtPU1hdGguaHlwb3QodnhbaV0sdnlbaV0pfHwxOyB2eFtpXSo9Mi4wL207IHZ5W2ldKj0yLjAvbTsKICAgICAgICAgIGh1ZVtpXSA9IChwYWxldHRlSHVlICsgcmFuZCgtMzAsIDMwKSkgJSAzNjA7IHByZXZ4W2ldPXB4W2ldOyBwcmV2eVtpXT1weVtpXTsKICAgICAgICAgIHNpemVNdWxbaV09MDsgdkJvb3N0W2ldPTA7IGh1ZU9mZltpXT0wOyBqaXRBbXBbaV09MDsKICAgICAgICAgIGFsaWduTXVsW2ldPTA7IGNvaGVzaW9uTXVsW2ldPTA7IHNlcGFyYXRpb25NdWxbaV09MDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHJlc2VlZChuKSB7CiAgICAgICAgTiA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IobikpOwogICAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKICAgICAgfQoKICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwoKICAgICAgLy8gUXVhZHRyZWUgaW1wbGVtZW50YXRpb24KICAgICAgY2xhc3MgUVROb2RlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMueCA9IHg7IHRoaXMueSA9IHk7IHRoaXMudyA9IHc7IHRoaXMuaCA9IGg7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsgdGhpcy5jb3VudCA9IDA7IHRoaXMuaWR4ID0gbmV3IEludDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMucHRzeCA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsgdGhpcy5wdHN5ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5kaXZpZGVkID0gZmFsc2U7IHRoaXMuY2hpbGRyZW4gPSBudWxsOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY2xhc3MgUXVhZHRyZWUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy5yb290ID0gbmV3IFFUTm9kZSh4LCB5LCB3LCBoLCBjYXApOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7CiAgICAgICAgfQoKICAgICAgICBpbnNlcnQoaSwgeCwgeSwgbm9kZSA9IHRoaXMucm9vdCkgewogICAgICAgICAgaWYgKHggPCBub2RlLnggfHwgeSA8IG5vZGUueSB8fCB4ID49IG5vZGUueCArIG5vZGUudyB8fCB5ID49IG5vZGUueSArIG5vZGUuaCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgaWYgKG5vZGUuY291bnQgPCBub2RlLmNhcCAmJiAhbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSBub2RlLmNvdW50Kys7IG5vZGUuaWR4W2pdID0gaTsgbm9kZS5wdHN4W2pdID0geDsgbm9kZS5wdHN5W2pdID0geTsgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgdGhpcy5zdWJkaXZpZGUobm9kZSk7CiAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgfQoKICAgICAgICBzdWJkaXZpZGUobm9kZSkgewogICAgICAgICAgbm9kZS5kaXZpZGVkID0gdHJ1ZTsKICAgICAgICAgIGNvbnN0IGh3ID0gbm9kZS53LzIsIGhoID0gbm9kZS5oLzI7CiAgICAgICAgICBub2RlLmNoaWxkcmVuID0gWwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTlcKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5FCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU0UKICAgICAgICAgIF07CiAgICAgICAgICAvLyByZWluc2VydCBleGlzdGluZyBwb2ludHMKICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbm9kZS5jb3VudDsgaysrKSB7CiAgICAgICAgICAgIGNvbnN0IGkgPSBub2RlLmlkeFtrXTsgY29uc3QgeCA9IG5vZGUucHRzeFtrXTsgY29uc3QgeSA9IG5vZGUucHRzeVtrXTsKICAgICAgICAgICAgdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgICB9CiAgICAgICAgICBub2RlLmNvdW50ID0gMDsgLy8gY2xlYXIgbGVhZiBzdG9yYWdlCiAgICAgICAgfQoKICAgICAgICBxdWVyeShjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgdGhpcy5fcXVlcnlOb2RlKHRoaXMucm9vdCwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KICAgICAgICBfcXVlcnlOb2RlKG5vZGUsIGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICAvLyBjaXJjbGUtcmVjdCBxdWljayByZWplY3QKICAgICAgICAgIGNvbnN0IHJ4PW5vZGUueCwgcnk9bm9kZS55LCBydz1ub2RlLncsIHJoPW5vZGUuaDsKICAgICAgICAgIGxldCBueCA9IE1hdGgubWF4KHJ4LCBNYXRoLm1pbihjeCwgcngrcncpKTsKICAgICAgICAgIGxldCBueSA9IE1hdGgubWF4KHJ5LCBNYXRoLm1pbihjeSwgcnkrcmgpKTsKICAgICAgICAgIGNvbnN0IGRpc3QgPSAoY3gtbngpKihjeC1ueCkrKGN5LW55KSooY3ktbnkpOwogICAgICAgICAgaWYgKGRpc3QgPiByKnIpIHJldHVybjsKCiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBmb3IgKGxldCBrPTA7azxub2RlLmNvdW50O2srKykgeyBvdXQucHVzaChub2RlLmlkeFtrXSk7IH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX3F1ZXJ5Tm9kZShub2RlLmNoaWxkcmVuW2NdLCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQoKICAgICAgICBkcmF3KGN0eCkgewogICAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHsocGFsZXR0ZUh1ZSsxODApJTM2MH0gODAlIDcwJSAvIDAuMTQpYDsKICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgdGhpcy5fZHJhd05vZGUoY3R4LCB0aGlzLnJvb3QpOwogICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICAgICAgX2RyYXdOb2RlKGN0eCwgbm9kZSkgewogICAgICAgICAgY3R4LnN0cm9rZVJlY3Qobm9kZS54LCBub2RlLnksIG5vZGUudywgbm9kZS5oKTsKICAgICAgICAgIGlmIChub2RlLmRpdmlkZWQpIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9kcmF3Tm9kZShjdHgsIG5vZGUuY2hpbGRyZW5bY10pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0cwogICAgICBjb25zdCBlZmZlY3RzID0gW107IC8vIHt4LHksdCxsaWZlLHNpZ24sdHlwZSwuLi5leHRyYXN9CiAgICAgIGxldCBtb3VzZURvd24gPSBmYWxzZTsKICAgICAgY29uc3QgcG9pbnRlciA9IHt4OiBpbm5lcldpZHRoLzIsIHk6IGlubmVySGVpZ2h0LzIsIHZ4OiAwLCB2eTogMCwgdDogcGVyZm9ybWFuY2Uubm93KCl9OwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSB0cnVlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsICAgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IGZhbHNlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgLTEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIGlmIChtb3VzZURvd24pIHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKCiAgICAgIGZ1bmN0aW9uIHBpY2tDbGlja1R5cGUoKSB7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGUgJiYgQ0ZHLmNsaWNrTW9kZSAhPT0gJ3JhbmRvbScpIHJldHVybiBDRkcuY2xpY2tNb2RlOwogICAgICAgIGNvbnN0IGxpc3QgPSBDRkcuY2xpY2tNb2RlcyB8fCBbJ3Nob2NrJ107CiAgICAgICAgcmV0dXJuIGxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmxpc3QubGVuZ3RoKV0gfHwgJ3Nob2NrJzsKICAgICAgfQogICAgICBmdW5jdGlvbiBzcGF3bkVmZmVjdCh4LCB5LCBzaWduKSB7CiAgICAgICAgY29uc3QgdHlwZSA9IHBpY2tDbGlja1R5cGUoKTsKICAgICAgICBjb25zdCBsaWZlID0gKHR5cGU9PT0naW1wbG9zaW9uJykgPyAwLjkgOiAodHlwZT09PSd2b3J0ZXgnIHx8IHR5cGU9PT0nbWV0ZW9yJyA/IDEuOCA6IDEuMik7CiAgICAgICAgY29uc3QgRSA9IHsgeCwgeSwgdDogMCwgbGlmZSwgc2lnbiwgdHlwZSB9OwogICAgICAgIGlmICh0eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgIGNvbnN0IHNwID0gTWF0aC5taW4oMywgTWF0aC5oeXBvdChwb2ludGVyLnZ4LCBwb2ludGVyLnZ5KSoxMjApOwogICAgICAgICAgRS5hID0gMiArIE1hdGguZmxvb3Ioc3AlNCk7IEUuYiA9IDMgKyBNYXRoLmZsb29yKChzcCoxLjcpJTQpOyBFLnBoYXNlID0gTWF0aC5yYW5kb20oKSpUQVU7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgY29uc3Qgc2NhbGUgPSA5MDA7IEUudnggPSBwb2ludGVyLnZ4KnNjYWxlOyBFLnZ5ID0gcG9pbnRlci52eSpzY2FsZTsgRS5tYXNzID0gMjIwICsgTWF0aC5yYW5kb20oKSoxODA7IEUuZHJhZz0wLjk4OwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICBFLnNjYWxlID0gMC4wMDYgKyBNYXRoLnJhbmRvbSgpKjAuMDA2OyBFLmFtcCA9IDEuMiArIE1hdGgucmFuZG9tKCkqMS4yOwogICAgICAgIH0KICAgICAgICBlZmZlY3RzLnB1c2goRSk7CiAgICAgIH0KCiAgICAgIC8vIFBoeXNpY3MgaGVscGVycwogICAgICBmdW5jdGlvbiBsaW1pdCh2eCwgdnksIG1heCkgewogICAgICAgIGNvbnN0IG0yID0gdngqdnggKyB2eSp2eTsgaWYgKG0yID4gbWF4Km1heCkgewogICAgICAgICAgY29uc3QgbSA9IE1hdGguc3FydChtMikgfHwgMTsgY29uc3QgcyA9IG1heCAvIG07IHJldHVybiBbdngqcywgdnkqc107CiAgICAgICAgfSByZXR1cm4gW3Z4LCB2eV07CiAgICAgIH0KCiAgICAgIC8vIE1haW4gbG9vcAogICAgICBsZXQgbGFzdCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICBsZXQgZnBzQXZnID0gMDsKICAgICAgZnVuY3Rpb24gZnJhbWUodCkgewogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5taW4oMzIsIHQgLSBsYXN0KSAqIDAuMDAxOyAvLyBjbGFtcAogICAgICAgIGxhc3QgPSB0OwogICAgICAgIGNvbnN0IGZwc05vdyA9IDEgLyBNYXRoLm1heCgxZS02LCBkdCk7CiAgICAgICAgZnBzQXZnID0gZnBzQXZnID8gKGZwc0F2ZyowLjkgKyBmcHNOb3cqMC4xKSA6IGZwc05vdzsKICAgICAgICBjb25zdCBXID0gaW5uZXJXaWR0aCwgSCA9IGlubmVySGVpZ2h0OwoKICAgICAgICAvLyB0cmFpbHM6IHRyYW5zbHVjZW50IGZpbGwKICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJzsKICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIENGRy50cmFpbEFscGhhKSk7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgVywgSCk7CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gQnVpbGQgcXVhZHRyZWUKICAgICAgICBjb25zdCBxdCA9IG5ldyBRdWFkdHJlZSgwLCAwLCBXLCBILCBDRkcucXRDYXApOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSBxdC5pbnNlcnQoaSwgcHhbaV0sIHB5W2ldKTsKCiAgICAgIC8vIEFwcGx5IGZsb2NraW5nIHZpYSBuZWlnaGJvciBxdWVyaWVzIChhZGFwdGl2ZSB2aXNpb24gdW5kZXIgbG9hZCkKICAgICAgY29uc3QgdmlzaW9uID0gQ0ZHLnZpc2lvbiAqIChmcHNBdmcgPCA1MCA/IDAuOSA6IDEuMCk7IGNvbnN0IHNlcCA9IENGRy5zZXA7CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGF4W2ldPTA7IGF5W2ldPTA7IH0KICAgICAgbGV0IHRtcCA9IFtdOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgIHRtcC5sZW5ndGggPSAwOyBxdC5xdWVyeShweFtpXSwgcHlbaV0sIHZpc2lvbiwgdG1wKTsKICAgICAgICAgIGxldCBjeD0wLCBjeT0wLCB2eHN1bT0wLCB2eXN1bT0wLCBzeD0wLCBzeT0wLCB0b3RhbD0wLCBzY2xvc2U9MDsKICAgICAgICAgIGZvciAobGV0IGs9MDtrPHRtcC5sZW5ndGg7aysrKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSB0bXBba107IGlmIChqPT09aSkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGR4ID0gcHhbal0tcHhbaV07IGNvbnN0IGR5ID0gcHlbal0tcHlbaV07CiAgICAgICAgICAgIGNvbnN0IGQyID0gZHgqZHggKyBkeSpkeTsgaWYgKGQyID09PSAwKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChkMik7CiAgICAgICAgICAgIGlmIChkIDwgdmlzaW9uKSB7IHRvdGFsKys7IGN4ICs9IHB4W2pdOyBjeSArPSBweVtqXTsgdnhzdW0gKz0gdnhbal07IHZ5c3VtICs9IHZ5W2pdOyB9CiAgICAgICAgICAgIGlmIChkIDwgc2VwKSB7IHNjbG9zZSsrOyBzeCAtPSBkeC8oZHx8MSk7IHN5IC09IGR5LyhkfHwxKTsgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKHRvdGFsPjApIHsKICAgICAgICAgICAgLy8gYWxpZ25tZW50CiAgICAgICAgICAgIGxldCBheHYgPSAodnhzdW0vdG90YWwpIC0gdnhbaV07IGxldCBheXYgPSAodnlzdW0vdG90YWwpIC0gdnlbaV07CiAgICAgICAgICAgIGNvbnN0IGFsaWduVyA9IENGRy5hbGlnblcgKiAoMSArIChhbGlnbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbYXh2LCBheXZdID0gbGltaXQoYXh2LCBheXYsIENGRy5tYXhGb3JjZSk7CiAgICAgICAgICAgIGF4W2ldICs9IGF4diAqIGFsaWduVzsgYXlbaV0gKz0gYXl2ICogYWxpZ25XOwogICAgICAgICAgICAvLyBjb2hlc2lvbgogICAgICAgICAgICBsZXQgY3h2ID0gKGN4L3RvdGFsIC0gcHhbaV0pOyBsZXQgY3l2ID0gKGN5L3RvdGFsIC0gcHlbaV0pOwogICAgICAgICAgICBjb25zdCBjb2hXID0gQ0ZHLmNvaGVzaW9uVyAqICgxICsgKGNvaGVzaW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtjeHYsIGN5dl0gPSBsaW1pdChjeHYsIGN5diwgQ0ZHLm1heEZvcmNlKTsgYXhbaV0gKz0gY3h2ICogY29oVzsgYXlbaV0gKz0gY3l2ICogY29oVzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChzY2xvc2U+MCkgewogICAgICAgICAgICBsZXQgc3h2ID0gc3g7IGxldCBzeXYgPSBzeTsgW3N4diwgc3l2XSA9IGxpbWl0KHN4diwgc3l2LCBDRkcubWF4Rm9yY2UqMS41KTsKICAgICAgICAgICAgY29uc3Qgc2VwVyA9IENGRy5zZXBhcmF0aW9uVyAqICgxICsgKHNlcGFyYXRpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgYXhbaV0gKz0gc3h2ICogc2VwVzsgYXlbaV0gKz0gc3l2ICogc2VwVzsKICAgICAgICAgIH0KICAgICAgICAvLyBvcHRpb25hbCBmbG93IGZpZWxkIGZvciBwYXR0ZXJuIHZhcmlldHkKICAgICAgICBpZiAoQ0ZHLmZsb3cpIHsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuZmxvd1NjYWxlIHx8IDAuMDA0OyBjb25zdCBhID0gQ0ZHLmZsb3dBbXAgfHwgMC42OyBjb25zdCBzcCA9IENGRy5mbG93U3BlZWQgfHwgMC42OwogICAgICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKSowLjAwMSpzcDsKICAgICAgICAgIGNvbnN0IGZ4ID0gTWF0aC5zaW4ocHlbaV0qcyArIHQwKSAqIGE7CiAgICAgICAgICBjb25zdCBmeSA9IE1hdGguY29zKHB4W2ldKnMgLSB0MCkgKiBhOwogICAgICAgICAgYXhbaV0gKz0gZng7IGF5W2ldICs9IGZ5OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0czogfjIwKyBtb2RlcyBpbmNsdWRpbmcgcGVybGluRHJhZywgbGlzc2FQdWxzZSwgbWV0ZW9yCiAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcic7CiAgICAgIGxldCB0bXAyID0gW107CiAgICAgIGZvciAobGV0IGU9ZWZmZWN0cy5sZW5ndGgtMTsgZT49MDsgZS0tKSB7CiAgICAgICAgY29uc3QgRSA9IGVmZmVjdHNbZV07IEUudCArPSBkdDsgY29uc3QgayA9IEUudCAvIEUubGlmZTsKICAgICAgICBjb25zdCByID0gMzAgKyBrICogMjYwOyBjb25zdCBzdHIgPSAxLjAgLSBrOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7IEUueCArPSAoRS52eHx8MCkqZHQ7IEUueSArPSAoRS52eXx8MCkqZHQ7IEUudnggKj0gKEUuZHJhZ3x8MSk7IEUudnkgKj0gKEUuZHJhZ3x8MSk7IEUubWFzcyAqPSAwLjk4NTsgfQogICAgICAgIHRtcDIubGVuZ3RoID0gMDsgcXQucXVlcnkoRS54LCBFLnksIHIsIHRtcDIpOwogICAgICAgIGZvciAobGV0IGlpPTA7IGlpPHRtcDIubGVuZ3RoOyBpaSsrKSB7CiAgICAgICAgICBjb25zdCBpID0gdG1wMltpaV07IGNvbnN0IGR4ID0gcHhbaV0tRS54OyBjb25zdCBkeSA9IHB5W2ldLUUueTsgY29uc3QgZCA9IE1hdGguaHlwb3QoZHgsIGR5KXx8MTsKICAgICAgICAgIGNvbnN0IGZhbGwgPSAoMSAtIE1hdGgubWluKDEsIGQvcikpOwogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICAgIGNvbnN0IHYgPSBwZXJsaW5WZWMocHhbaV0tRS54LCBweVtpXS1FLnksIEUuc2NhbGV8fDAuMDA4LCAoRS5hbXB8fDEuNSkgKiBmYWxsKTsKICAgICAgICAgICAgYXhbaV0gKz0gdlswXTsgYXlbaV0gKz0gdlsxXTsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIoZHksIGR4KTsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKEUuYSphbmcgKyBFLnBoYXNlKSAqIE1hdGguY29zKEUuYiphbmcgLSBFLnBoYXNlKTsKICAgICAgICAgICAgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgICAgY29uc3QgRyA9IDgwMDsgY29uc3QgZiA9IE1hdGgubWluKDMuMCwgKEcqKEUubWFzc3x8MjAwKSkvKChkKmQpKzIwMCkpOwogICAgICAgICAgICBheFtpXSAtPSAoZHgvZCkqZipmYWxsOyBheVtpXSAtPSAoZHkvZCkqZipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICd2b3J0ZXgnIHx8IEUudHlwZT09PSdvcmJpdENXJyB8fCBFLnR5cGU9PT0nb3JiaXRDQ1cnIHx8IEUudHlwZT09PSdzcGlyYWxPdXQnIHx8IEUudHlwZT09PSdzcGlyYWxJbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdvcmJpdENDVycpID8gLTEgOiAxOwogICAgICAgICAgICBjb25zdCB0eCA9IC1keS9kLCB0eSA9IGR4L2Q7IGxldCBzID0gKEUuc2lnbj4wPzE6LTEpICogMS4yICogZmFsbCAqIGRpcjsKICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxPdXQnKSB7IHMgPSAxLjIqZmFsbDsgYXhbaV0gKz0gKGR4L2QpKmZhbGwqMC44OyBheVtpXSArPSAoZHkvZCkqZmFsbCowLjg7IH0KICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxJbicpIHsgcyA9IC0xLjIqZmFsbDsgYXhbaV0gLT0gKGR4L2QpKmZhbGwqMC42OyBheVtpXSAtPSAoZHkvZCkqZmFsbCowLjY7IH0KICAgICAgICAgICAgYXhbaV0gKz0gdHgqczsgYXlbaV0gKz0gdHkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdpbXBsb3Npb24nIHx8IEUudHlwZT09PSdhdHRyYWN0JyB8fCBFLnR5cGU9PT0nbWFnbmV0JykgewogICAgICAgICAgICBjb25zdCBzID0gKEUudHlwZT09PSdpbXBsb3Npb24nID8gLTIuMiA6IC0xLjIpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzcHJheScgfHwgRS50eXBlPT09J3NjYXR0ZXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAoRS50eXBlPT09J3NjYXR0ZXInPzMuMDoyLjQpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICB2eFtpXSArPSAoZHgvZCkgKiAwLjI1ICogZmFsbDsgdnlbaV0gKz0gKGR5L2QpICogMC4yNSAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjE1KmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3N0dW4nIHx8IEUudHlwZT09PSdmcmVlemUnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAoRS50eXBlPT09J2ZyZWV6ZSc/MC42OjAuMykgKiBmYWxsOyBzaXplTXVsW2ldICs9IDAuMypmYWxsOyB2eFtpXSAqPSAwLjk2OyB2eVtpXSAqPSAwLjk2OwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdmZWFyJykgewogICAgICAgICAgICBjb25zdCBzID0gMi44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBqaXRBbXBbaV0gKz0gMC4yNSpmYWxsOyBodWVPZmZbaV0gKz0gODAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2NyYW1ibGUnKSB7CiAgICAgICAgICAgIHZ4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgdnlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyBqaXRBbXBbaV0gKz0gMC4zKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3B1bHNlJyB8fCBFLnR5cGU9PT0ncmlwcGxlJykgewogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oaypNYXRoLlBJKjIpOyBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldICs9IDAuOCAqIGZhbGw7IHNlcGFyYXRpb25NdWxbaV0gLT0gMC4zICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZGVhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gLT0gMC44ICogZmFsbDsgY29oZXNpb25NdWxbaV0gKz0gMC4yICogZmFsbDsgaml0QW1wW2ldICs9IDAuMSAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2NvaGVyZScgfHwgRS50eXBlPT09J3RpZ2h0ZW4nIHx8IEUudHlwZT09PSdsb29zZW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nbG9vc2VuJykgPyAtMSA6IDE7IC8vIGxvb3NlbiByZWR1Y2VzIGNvaGVzaW9uCiAgICAgICAgICAgIGNvaGVzaW9uTXVsW2ldICs9IGRpciAqIDAuOSAqIGZhbGw7IGlmIChkaXI+MCkgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjIgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzZXBhcmF0ZScgfHwgRS50eXBlPT09J2Rpc3BlcnNlJykgewogICAgICAgICAgICBzZXBhcmF0aW9uTXVsW2ldICs9IDEuMCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldIC09IDAuNCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3dhcnAnIHx8IEUudHlwZT09PSdzcGVlZHVwJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGh1ZU9mZltpXSArPSA0MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzbG93ZG93bicpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IDAuNSpmYWxsOyBodWVPZmZbaV0gLT0gMjAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZ3JvdycpIHsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjYqZmFsbDsgaHVlT2ZmW2ldICs9IDMwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3R1bm5lbCcpIHsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gciowLjc7IGNvbnN0IHMgPSAoZDx0YXJnZXQ/KzE6LTEpICogMS4yICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdqaXR0ZXJidXJzdCcpIHsKICAgICAgICAgICAgaml0QW1wW2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjaHJvbWFidXJzdCcpIHsKICAgICAgICAgICAgaHVlT2ZmW2ldICs9IDE2MCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzaG9jayAvIGRlZmF1bHQKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8rMTotMSkgKiAxLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGdlbmVyYWwgY29sb3IgZW5lcmd5CiAgICAgICAgICBodWVbaV0gPSAoaHVlW2ldICsgOTAgKiBmYWxsKSAlIDM2MDsKICAgICAgICB9CiAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChFLngsIEUueSwgTWF0aC5tYXgoMSwgciowLjYpLCBFLngsIEUueSwgcik7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsyMCklMzYwfSwgOTUlLCA3MCUsICR7MC4zNCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzYwKSUzNjB9LCA5NSUsIDYwJSwgJHswLjIyKnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjk1LCBgaHNsYSgkeyhwYWxldHRlSHVlKzEwMCklMzYwfSwgOTUlLCA1NSUsIDApYCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHtwYWxldHRlSHVlfSwgOTUlLCA2NSUsICR7MC4yNSpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzQwKSUzNjB9LCA5NSUsIDU1JSwgJHswLjE4KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjksIGBoc2xhKCR7KHBhbGV0dGVIdWUrODApJTM2MH0sIDk1JSwgNjAlLCAwKWApOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKEUueCwgRS55LCByLCAwLCBNYXRoLlBJKjIpOyBjdHguZmlsbCgpOwogICAgICAgIGlmIChrID49IDEpIGVmZmVjdHMuc3BsaWNlKGUsIDEpOwogICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gSW50ZWdyYXRlIGFuZCBkcmF3IGJvaWRzIHdpdGggZ2xvdyBhbmQgdHJhaWxzCiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IENGRy5ibGVuZDsKICAgICAgY3R4LmxpbmVXaWR0aCA9IENGRy5saW5lV2lkdGg7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIC8vIGludGVncmF0ZQogICAgICAgICAgaWYgKGppdEFtcFtpXSA+IDAuMDAwMSkgeyBheFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyBheVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyB9CiAgICAgICAgICB2eFtpXSArPSBheFtpXTsgdnlbaV0gKz0gYXlbaV07CiAgICAgICAgICBjb25zdCB2TWF4ID0gQ0ZHLm1heFNwZWVkICogKDEgKyBNYXRoLm1heCgtMC43LCB2Qm9vc3RbaV0pKjAuOCk7CiAgICAgICAgICBbdnhbaV0sIHZ5W2ldXSA9IGxpbWl0KHZ4W2ldLCB2eVtpXSwgdk1heCk7CiAgICAgICAgICAvLyBlbmZvcmNlIG1pbiBzcGVlZCAod2l0aCBib29zdCkKICAgICAgICAgIHsgY29uc3Qgc3AgPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSkgfHwgMTsgY29uc3Qgdk1pbiA9IENGRy5taW5TcGVlZCAqICgxICsgTWF0aC5tYXgoMCwgdkJvb3N0W2ldKSowLjUpOyBpZiAoc3AgPCB2TWluKSB7IGNvbnN0IHMgPSB2TWluIC8gc3A7IHZ4W2ldICo9IHM7IHZ5W2ldICo9IHM7IH0gfQogICAgICAgICAgcHJldnhbaV0gPSBweFtpXTsgcHJldnlbaV0gPSBweVtpXTsKICAgICAgICAgIHB4W2ldICs9IHZ4W2ldOyBweVtpXSArPSB2eVtpXTsKCiAgICAgICAgICAvLyBib3VuZGFyaWVzCiAgICAgICAgICBpZiAoQ0ZHLndyYXApIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgLTUpIHB4W2ldID0gVyArIDU7IGVsc2UgaWYgKHB4W2ldID4gVys1KSBweFtpXSA9IC01OwogICAgICAgICAgICBpZiAocHlbaV0gPCAtNSkgcHlbaV0gPSBIICsgNTsgZWxzZSBpZiAocHlbaV0gPiBIKzUpIHB5W2ldID0gLTU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAocHhbaV0gPCAwIHx8IHB4W2ldID4gVykgeyB2eFtpXSA9IC12eFtpXTsgfQogICAgICAgICAgICBpZiAocHlbaV0gPCAwIHx8IHB5W2ldID4gSCkgeyB2eVtpXSA9IC12eVtpXTsgfQogICAgICAgICAgICBweFtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKFcsIHB4W2ldKSk7CiAgICAgICAgICAgIHB5W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oSCwgcHlbaV0pKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBkZWNheSBtb2RpZmllcnMgYW5kIGNvbXB1dGUgdGludAogICAgICAgICAgdkJvb3N0W2ldICo9IDAuOTI7IHNpemVNdWxbaV0gKj0gMC45MDsgaHVlT2ZmW2ldICo9IDAuOTQ7IGppdEFtcFtpXSAqPSAwLjg4OwogICAgICAgICAgYWxpZ25NdWxbaV0gKj0gMC45NDsgY29oZXNpb25NdWxbaV0gKj0gMC45NDsgc2VwYXJhdGlvbk11bFtpXSAqPSAwLjk0OwogICAgICAgICAgLy8gc2xvd2x5IGRyaWZ0IGJvaWQgaHVlIGJhY2sgdG93YXJkIGJhc2UgcGFsZXR0ZSBodWUKICAgICAgICAgIGh1ZVtpXSA9IGFwcHJvYWNoSHVlKGh1ZVtpXSwgcGFsZXR0ZUh1ZSwgTWF0aC5taW4oMSwgZHQgKiAoQ0ZHLmh1ZVJlbGF4IHx8IDAuMikpKTsKICAgICAgICAgIHNwZFtpXSA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKTsKICAgICAgICAgIGNvbnN0IEwgPSA1MCArIE1hdGgubWluKDQ1LCBzcGRbaV0qOCk7CiAgICAgICAgICBjb25zdCBTID0gODAgKyBNYXRoLm1pbigyMCwgc3BkW2ldKjYpOwogICAgICAgICAgY29uc3QgZHJhd0h1ZSA9IChodWVbaV0gKyBodWVPZmZbaV0pICUgMzYwOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgke2RyYXdIdWV9LCAke1N9JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IGBoc2woJHtkcmF3SHVlfSwgOTAlLCA2MCUpYDsKICAgICAgICAgIGNvbnN0IGdsb3dRdWFsaXR5ID0gKGZwc0F2ZyA8IDUwID8gMC41IDogMS4wKTsKICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gZ2xvd1F1YWxpdHkgKiAoQ0ZHLmdsb3dCYXNlICsgTWF0aC5taW4oQ0ZHLmdsb3dNYXgsIHNwZFtpXSpDRkcuZ2xvd1NjYWxlKSk7CgogICAgICAgICAgLy8gdHJhaWwgc2VnbWVudAogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY3R4Lm1vdmVUbyhwcmV2eFtpXSwgcHJldnlbaV0pOwogICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSwgcHlbaV0pOwogICAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICAgIC8vIGJvaWQgaGVhZCBzaGFwZQogICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMih2eVtpXSwgdnhbaV0pOwogICAgICAgICAgY29uc3QgY2EgPSBNYXRoLmNvcyhhbmcpLCBzYSA9IE1hdGguc2luKGFuZyk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYGhzbCgke2h1ZVtpXX0sIDk1JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuY29tZXRTaXplICogKDEgKyAoc2l6ZU11bFtpXXx8MCkpOwogICAgICAgICAgaWYgKENGRy5zaGFwZSA9PT0gJ3RyaWFuZ2xlJykgewogICAgICAgICAgICBjb25zdCBDMjYgPSAwLjg1Njg4ODc1MywgUzI2ID0gMC41MTU0OTg7IC8vIGNvcy9zaW4oMi42KQogICAgICAgICAgICBjb25zdCB4MCA9IHB4W2ldICsgY2EqcyoxLjYsIHkwID0gcHlbaV0gKyBzYSpzKjEuNjsKICAgICAgICAgICAgY29uc3QgY2FfcCA9IGNhKkMyNiAtIHNhKlMyNiwgc2FfcCA9IHNhKkMyNiArIGNhKlMyNjsKICAgICAgICAgICAgY29uc3QgY2FfbSA9IGNhKkMyNiArIHNhKlMyNiwgc2FfbSA9IHNhKkMyNiAtIGNhKlMyNjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4MCwgeTApOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcCpzLCAgcHlbaV0gKyBzYV9wKnMpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbSpzLCAgcHlbaV0gKyBzYV9tKnMpOwogICAgICAgICAgfSBlbHNlIGlmIChDRkcuc2hhcGUgPT09ICdvcmInKSB7CiAgICAgICAgICAgIGN0eC5hcmMocHhbaV0sIHB5W2ldLCBzKjAuNiwgMCwgTWF0aC5QSSoyKTsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNwYXJrCiAgICAgICAgICAgIGNvbnN0IEMwMiA9IDAuOTgwMDY2NiwgUzAyID0gMC4xOTg2NjkzOyAvLyBjb3Mvc2luKDAuMikKICAgICAgICAgICAgY29uc3QgeGggPSBweFtpXSArIGNhKnMqMS44LCB5aCA9IHB5W2ldICsgc2EqcyoxLjg7CiAgICAgICAgICAgIGNvbnN0IGNhX3AwMiA9IGNhKkMwMiAtIHNhKlMwMiwgc2FfcDAyID0gc2EqQzAyICsgY2EqUzAyOwogICAgICAgICAgICBjb25zdCBjYV9tMDIgPSBjYSpDMDIgKyBzYSpTMDIsIHNhX20wMiA9IHNhKkMwMiAtIGNhKlMwMjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4aCwgeWgpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcDAyKnMqMC42LCAgcHlbaV0gKyBzYV9wMDIqcyowLjYpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbTAyKnMqMC42LCAgcHlbaV0gKyBzYV9tMDIqcyowLjYpOwogICAgICAgICAgfQogICAgICAgICAgY3R4LmNsb3NlUGF0aCgpOyBjdHguZmlsbCgpOwogICAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBRdWFkdHJlZSB2aXN1YWxpemF0aW9uIChkZWZhdWx0IG9uKQogICAgICAgIGlmIChDRkcucXQpIHF0LmRyYXcoY3R4KTsKCiAgICAgICAgLy8gSFVECiAgICAgICAgaHVkRWwuaW5uZXJIVE1MID0gYDxzdHJvbmc+Qm9pZHM8L3N0cm9uZz4gwrcgTj0ke059IHZpc2lvbj0ke0NGRy52aXNpb259IHNlcD0ke0NGRy5zZXB9IGAgKwogICAgICAgICAgYMK3IHF0Q2FwPSR7Q0ZHLnF0Q2FwfSDCtyBodWU9JHtwYWxldHRlSHVlfSDCtyBxdFZpej0ke0NGRy5xdD8nb24nOidvZmYnfSDCtyBjbGljaz0ke0NGRy5jbGlja01vZGV9IMK3IGZwcz0ke2Zwc0F2Zy50b0ZpeGVkKDApfWA7CgogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CiAgICAgIH0KICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKCiAgICAgIC8vIENvbmZpZyBVSSBidWlsZCBhbmQgd2lyaW5nCiAgICAgIGNvbnN0IGNmZ0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdCdG4nKTsKICAgICAgY29uc3QgY2ZnQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQ2xvc2UnKTsKICAgICAgY29uc3QgY2ZnUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnJyk7CiAgICAgIGNvbnN0IGNmZ0JvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnQm9keScpOwogICAgICBjZmdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpKTsKICAgICAgY2ZnQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsJycpKTsKCiAgICAgIGNvbnN0IHNjaGVtYSA9IFsKICAgICAgICB7a2V5OidodWUnLCBsYWJlbDonSHVlJywgdHlwZTonaW50JywgbWluOjAsIG1heDozNjAsIHN0ZXA6MSwgdmFsdWU6QkFTRV9IVUV9LAogICAgICAgIHtrZXk6J2hlYWRlcicsIGxhYmVsOidIZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6SEVBREVSfSwKICAgICAgICB7a2V5OidzdWJoZWFkZXInLCBsYWJlbDonU3ViaGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOlNVQkhFQURFUn0sCiAgICAgICAge2tleToncXQnLCBsYWJlbDonU2hvdyBRdWFkdHJlZScsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaG93SHVkJywgbGFiZWw6J1Nob3cgSFVEJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NwYXduJywgbGFiZWw6J1NwYXduJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ2NpcmNsZScsJ2dyaWQnLCdjZW50ZXJidXJzdCddfSwKICAgICAgICB7a2V5Oidjb3VudCcsIGxhYmVsOidDb3VudCcsIHR5cGU6J2ludCcsIG1pbjo1MCwgbWF4OjEwMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTondmlzaW9uJywgbGFiZWw6J1Zpc2lvbicsIHR5cGU6J2ludCcsIG1pbjoyMCwgbWF4OjIwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidzZXAnLCBsYWJlbDonU2VwYXJhdGlvbiBEaXN0JywgdHlwZTonaW50JywgbWluOjQsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidtYXhTcGVlZCcsIGxhYmVsOidNYXggU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4xLCBtYXg6MTIsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtaW5TcGVlZCcsIGxhYmVsOidNaW4gU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4wLCBtYXg6Niwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21heEZvcmNlJywgbGFiZWw6J01heCBTdGVlcmluZyBGb3JjZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMSwgbWF4OjAuNSwgc3RlcDowLjAwMX0sCiAgICAgICAge2tleTonYWxpZ25XJywgbGFiZWw6J0FsaWduIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oidjb2hlc2lvblcnLCBsYWJlbDonQ29oZXNpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3NlcGFyYXRpb25XJywgbGFiZWw6J1NlcGFyYXRpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3RyYWlsQWxwaGEnLCBsYWJlbDonVHJhaWwgQWxwaGEnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjEsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleToncXRDYXAnLCBsYWJlbDonUXVhZHRyZWUgQ2FwYWNpdHknLCB0eXBlOidpbnQnLCBtaW46MiwgbWF4OjMyLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3dyYXAnLCBsYWJlbDonV3JhcCBCb3VuZHMnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hhcGUnLCBsYWJlbDonU2hhcGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsndHJpYW5nbGUnLCdzcGFyaycsJ29yYiddfSwKICAgICAgICB7a2V5OidibGVuZCcsIGxhYmVsOidCbGVuZCcsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydsaWdodGVyJywnc2NyZWVuJywnb3ZlcmxheScsJ3BsdXMtbGlnaHRlciddfSwKICAgICAgICB7a2V5OidsaW5lV2lkdGgnLCBsYWJlbDonTGluZSBXaWR0aCcsIHR5cGU6J251bWJlcicsIG1pbjowLjIsIG1heDo0LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonZ2xvd0Jhc2UnLCBsYWJlbDonR2xvdyBCYXNlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo2MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93TWF4JywgbGFiZWw6J0dsb3cgTWF4JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93U2NhbGUnLCBsYWJlbDonR2xvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NDAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5Oidjb21ldFNpemUnLCBsYWJlbDonQ29tZXQgU2l6ZScsIHR5cGU6J251bWJlcicsIG1pbjoxLCBtYXg6MjAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidiZ0dyYWRpZW50JywgbGFiZWw6J0JHIEdyYWRpZW50JywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQxJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAxJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDInLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDInLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MycsIGxhYmVsOidCRyBIdWUgU2hpZnQgMycsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2Zsb3cnLCBsYWJlbDonRmxvdyBGaWVsZCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidmbG93QW1wJywgbGFiZWw6J0Zsb3cgQW1wJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTY2FsZScsIGxhYmVsOidGbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAwNSwgbWF4OjAuMDIsIHN0ZXA6MC4wMDA1fSwKICAgICAgICB7a2V5OidmbG93U3BlZWQnLCBsYWJlbDonRmxvdyBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6Mywgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidjbGlja01vZGUnLCBsYWJlbDonQ2xpY2sgTW9kZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5J119LAogICAgICBdOwoKICAgICAgZnVuY3Rpb24gbWFrZVJvdyhsYWJlbCwgaW5wdXQpIHsKICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgcm93LmNsYXNzTmFtZSA9ICdyb3cnOwogICAgICAgIGNvbnN0IGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOyBsLnRleHRDb250ZW50ID0gbGFiZWw7IHJvdy5hcHBlbmRDaGlsZChsKTsKICAgICAgICByb3cuYXBwZW5kQ2hpbGQoaW5wdXQpOyByZXR1cm4gcm93OwogICAgICB9CgogICAgICBmdW5jdGlvbiBhZGRJbnB1dChpdGVtKSB7CiAgICAgICAgbGV0IGlucHV0OwogICAgICAgIGNvbnN0IHYwID0gKGl0ZW0ua2V5IGluIENGRykgPyBDRkdbaXRlbS5rZXldIDogaXRlbS52YWx1ZTsKICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vbCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0nY2hlY2tib3gnOyBpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LmNoZWNrZWQ7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzZWxlY3QnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpOwogICAgICAgICAgZm9yIChjb25zdCBvcHQgb2YgaXRlbS5vcHRpb25zKSB7IGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsgby52YWx1ZT1vcHQ7IG8udGV4dENvbnRlbnQ9b3B0OyBpZiAob3B0PT09djApIG8uc2VsZWN0ZWQ9dHJ1ZTsgaW5wdXQuYXBwZW5kQ2hpbGQobyk7IH0KICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQudmFsdWU7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSd0ZXh0JzsgaW5wdXQudmFsdWUgPSBTdHJpbmcodjB8fCcnKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpZiAoaXRlbS5rZXk9PT0naGVhZGVyJykgeyB0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmtleT09PSdzdWJoZWFkZXInKSB7IHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIGlucHV0LnZhbHVlKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmtleSA9PT0gJ2h1ZScpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5taW49JzAnOyBpbnB1dC5tYXg9JzM2MCc7IGlucHV0LnN0ZXA9JzEnOyBpbnB1dC52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5taW49JzAnOyBudW1iZXIubWF4PSczNjAnOyBudW1iZXIuc3RlcD0nMSc7IG51bWJlci52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZT1pbnB1dC52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWU9bnVtYmVyLnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBodWVDaGFuZ2VkKHZhbCl7CiAgICAgICAgICAgIC8vIHNoaWZ0IHBhbGV0dGUgaW1tZWRpYXRlbHkKICAgICAgICAgICAgY29uc3QgZGVsdGEgPSAodmFsIC0gcGFsZXR0ZUh1ZSk7CiAgICAgICAgICAgIHBhbGV0dGVIdWUgPSB2YWw7CiAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGh1ZVtpXSA9IChodWVbaV0gKyBkZWx0YSkgJSAzNjA7IH0KICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHt2YWx9LCA4NSUsIDYyJSlgKTsKICAgICAgICAgICAgdXBkYXRlVXJsRnJvbUNmZyh7aHVlOlN0cmluZyh2YWwpfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsgLy8gbnVtZXJpYyAocmFuZ2UgKyBudW1iZXIgcGFpcikKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBpbnB1dC5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBpbnB1dC5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgbnVtYmVyLm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIG51bWJlci5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGlucHV0LnZhbHVlID0gU3RyaW5nKHYwKTsgbnVtYmVyLnZhbHVlID0gU3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWUgPSBpbnB1dC52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZSA9IG51bWJlci52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBudW1DaGFuZ2VkKHZhbCl7IENGR1tpdGVtLmtleV0gPSB2YWw7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCB2YWwpOyB9CiAgICAgICAgfQogICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCBpbnB1dCkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBhcHBseUNoYW5nZShrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSA9PT0gJ2NvdW50JyB8fCBrZXkgPT09ICdzcGF3bicpIHsgcmVzZWVkKENGRy5jb3VudCk7IH0KICAgICAgICBpZiAoa2V5ID09PSAncXQnKSB7IC8qIGltbWVkaWF0ZSBkcmF3IHRvZ2dsZSB2aWEgQ0ZHICovIH0KICAgICAgICBpZiAoa2V5ID09PSAnc2hvd0h1ZCcpIHsgaHVkRWwuc3R5bGUuZGlzcGxheSA9IENGRy5zaG93SHVkID8gJycgOiAnbm9uZSc7IH0KICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKCk7CiAgICAgIH0KCiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzY2hlbWEpIGFkZElucHV0KGl0ZW0pOwogICAgICAvLyBpbml0aWFsIEhVRCB2aXNpYmlsaXR5CiAgICAgIGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSAoQ0ZHLnNob3dIdWQ9PT1mYWxzZSkgPyAnbm9uZScgOiAnJzsKCiAgICAgIC8vIGtleWJvYXJkIHRvZ2dsZXMgKGFmdGVyIGJ1aWxkaW5nIHBhbmVsKQogICAgICBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHsKICAgICAgICBjb25zdCBrID0gZS5rZXkudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoayA9PT0gJ3EnKSB7IENGRy5xdCA9ICFDRkcucXQ7IHVwZGF0ZVVybEZyb21DZmcoKTsgfQogICAgICAgIGlmIChrID09PSAnYycpIHsgY2ZnUGFuZWwudG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nKTsgfQogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4K" download="boids-dod-quadtree-7-impl.html" class="download-btn" title="Download boids-dod-quadtree-7-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=250 · spawn=centerburst · bounce · orb · overlay · hue=248 · qtCap=12 · flow" data-filename="boids-dod-quadtree-5-impl.html"><a href="boids-dod-quadtree-5-impl.html" target="viewer"><strong>Boids DOD+QT · N=250 · spawn=centerburst · bounce · orb · overlay · hue=248 · qtCap=12 · flow</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTI1MCDCtyBzcGF3bj1jZW50ZXJidXJzdCDCtyBib3VuY2Ugwrcgb3JiIMK3IG92ZXJsYXkgwrcgaHVlPTI0OCDCtyBxdENhcD0xMiDCtyBmbG93PC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgaHRtbCwgYm9keSB7IGhlaWdodDogMTAwJTsgbWFyZ2luOiAwOyB9CiAgICAgIGJvZHkgewogICAgICAgIGJhY2tncm91bmQ6ICMwNTA3MGE7CiAgICAgICAgY29sb3I6ICNlNmVkZjM7CiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICBmb250LWZhbWlseTogdWktc2Fucy1zZXJpZiwgc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBTZWdvZSBVSSwgUm9ib3RvLCBIZWx2ZXRpY2EsIEFyaWFsLCAiQXBwbGUgQ29sb3IgRW1vamkiLCAiU2Vnb2UgVUkgRW1vamkiOwogICAgICB9CiAgICAgICNzY2VuZSB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMTAwdnc7IGhlaWdodDogMTAwdmg7IH0KICAgICAgLm92ZXJsYXkgeyBwb3NpdGlvbjogZml4ZWQ7IGluc2V0OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmciBhdXRvOyB9CiAgICAgIC50aXRsZSB7IG1hcmdpbjogMThweCAyMHB4IDJweDsgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1zaXplOiBjbGFtcCgxOHB4LCAzdncsIDI4cHgpOyBsZXR0ZXItc3BhY2luZzogMC4ycHg7IGNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyB0ZXh0LXNoYWRvdzogMCAwIDEwcHggY29sb3ItbWl4KGluIG9rbGFiLCB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpIDgwJSwgIzAwMCAyMCUpOyB9CiAgICAgIC5zdWJ0aXRsZSB7IG1hcmdpbjogMCAyMHB4IDEwcHg7IGZvbnQtd2VpZ2h0OiA1MDA7IGZvbnQtc2l6ZTogY2xhbXAoMTJweCwgMnZ3LCAxNnB4KTsgb3BhY2l0eTogMC44NTsgfQogICAgICAuaHVkIHsgcG9zaXRpb246IGZpeGVkOyBsZWZ0OiAxMnB4OyBib3R0b206IDEycHg7IHBhZGRpbmc6IDhweCAxMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNDA7IGJhY2tncm91bmQ6ICMwYjEyMjBjYzsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDhweCkgc2F0dXJhdGUoMTIwJSk7IGZvbnQtc2l6ZTogMTJweDsgbGluZS1oZWlnaHQ6IDEuNDsgfQogICAgICAuaHVkIHN0cm9uZyB7IGNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyB9CiAgICAgIC5jZmdCdG4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMTJweDsgcmlnaHQ6IDEycHg7IHotaW5kZXg6IDEwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDZweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnUGFuZWwgeyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogNTZweDsgcmlnaHQ6IDEycHg7IHdpZHRoOiBtaW4oMzgwcHgsIDkwdncpOyBtYXgtaGVpZ2h0OiA4MHZoOyBvdmVyZmxvdzogYXV0bzsgei1pbmRleDogMjA7IHBvaW50ZXItZXZlbnRzOiBhdXRvOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZTY7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGJveC1zaGFkb3c6IDAgMTBweCA0MHB4ICMwMDA4OyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCkgc2F0dXJhdGUoMTIwJSk7IH0KICAgICAgLmNvbmZpZ0hlYWRlciB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgcGFkZGluZzogMTBweCAxMnB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMDAwMDU1OyBwb3NpdGlvbjogc3RpY2t5OyB0b3A6IDA7IGJhY2tncm91bmQ6ICMwYjEyMjBmMjsgfQogICAgICAuY29uZmlnQm9keSB7IHBhZGRpbmc6IDEwcHggMTJweDsgZGlzcGxheTogZ3JpZDsgZ2FwOiAxMHB4OyB9CiAgICAgIC5jb25maWdCb2R5IC5yb3cgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciBhdXRvOyBnYXA6IDhweDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgfQogICAgICAuY29uZmlnQm9keSAucmFuZ2VSb3cgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA3MnB4OyBnYXA6IDhweDsgfQogICAgICAuY2ZnQ2xvc2UgeyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJhY2tncm91bmQ6ICMxMjFhMmJjYzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlci1yYWRpdXM6IDZweDsgcGFkZGluZzogNHB4IDhweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgIC5jb25maWdCb2R5IGlucHV0LCAuY29uZmlnQm9keSBzZWxlY3QgeyBmb250LXNpemU6IDE0cHg7IHBhZGRpbmc6IDZweCA4cHg7IGJhY2tncm91bmQ6ICMxMDE4Mjc7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJvcmRlci1yYWRpdXM6IDZweDsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dFt0eXBlPXJhbmdlXSB7IHBhZGRpbmc6IDA7IGhlaWdodDogMjhweDsgYWNjZW50LWNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgfQogICAgPC9zdHlsZT4KICA8L2hlYWQ+CiAgPGJvZHk+CiAgICA8Y2FudmFzIGlkPSJzY2VuZSI+PC9jYW52YXM+CiAgICA8ZGl2IGNsYXNzPSJvdmVybGF5Ij4KICAgICAgPGRpdiBjbGFzcz0idGl0bGUiIGlkPSJ0aXRsZSI+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InN1YnRpdGxlIiBpZD0ic3VidGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJodWQiIGlkPSJodWQiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8YnV0dG9uIGlkPSJjZmdCdG4iIGNsYXNzPSJjZmdCdG4iIGFyaWEtbGFiZWw9Ik9wZW4gY29uZmlnIj7impnvuI48L2J1dHRvbj4KICAgIDxkaXYgaWQ9ImNvbmZpZyIgY2xhc3M9ImNvbmZpZ1BhbmVsIiBoaWRkZW4+CiAgICAgIDxkaXYgY2xhc3M9ImNvbmZpZ0hlYWRlciI+CiAgICAgICAgPHN0cm9uZz5Db25maWc8L3N0cm9uZz4KICAgICAgICA8YnV0dG9uIGlkPSJjZmdDbG9zZSIgY2xhc3M9ImNmZ0Nsb3NlIiBhcmlhLWxhYmVsPSJDbG9zZSI+4pyVPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGlkPSJjb25maWdCb2R5IiBjbGFzcz0iY29uZmlnQm9keSI+PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxzY3JpcHQ+CiAgICAgICd1c2Ugc3RyaWN0JzsKCiAgICAgIC8vIFVSTCBwYXJhbWV0ZXJzCiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24uc2VhcmNoKTsKICAgICAgY29uc3QgREVGQVVMVF9IVUUgPSAyNDg7CiAgICAgIGNvbnN0IEJBU0VfSFVFID0gY2xhbXBJbnQocGFyc2VJbnQocGFyYW1zLmdldCgnaHVlJykpLCAwLCAzNjAsIERFRkFVTFRfSFVFKTsKICAgICAgbGV0IHBhbGV0dGVIdWUgPSBCQVNFX0hVRTsKICAgICAgY29uc3QgSEVBREVSID0gcGFyYW1zLmdldCgnaGVhZGVyJykgfHwgJ0JvaWRzIOKAlCBEYXRhLU9yaWVudGVkICsgUXVhZHRyZWUnOwogICAgICBjb25zdCBTVUJIRUFERVIgPSBwYXJhbXMuZ2V0KCdzdWJoZWFkZXInKSB8fCAnU2hvY2t3YXZlcyBvbiBjbGljay9kcmFnIMK3IHF1YWR0cmVlIHZpeiBvbic7CiAgICAgIC8vIFF1YWR0cmVlIHZpeiBpcyBoYW5kbGVkIGJ5IENGRy5xdDsgVVJMIHBhcmFtICdxdCcgb3ZlcnJpZGVzIGl0LgoKICAgICAgLy8gRE9NCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2VuZScpOwogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBmYWxzZSB9KTsKICAgICAgY29uc3QgdGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpOwogICAgICBjb25zdCBzdWJ0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YnRpdGxlJyk7CiAgICAgIGNvbnN0IGh1ZEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h1ZCcpOwoKICAgICAgLy8gU3R5bGUgaG9vawogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3BhbGV0dGVIdWV9LCA4NSUsIDYyJSlgKTsKICAgICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IEhFQURFUjsKICAgICAgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IFNVQkhFQURFUjsKCiAgICAgIC8vIENvbmZpZyAoaW5qZWN0ZWQgYnkgZ2VuZXJhdG9yKSDigJQgbXV0YWJsZSBhdCBydW50aW1lCiAgICAgIGxldCBDRkcgPSB7ImNvdW50IjogMjUwLCAidmlzaW9uIjogMTA2LCAic2VwIjogMTgsICJtYXhTcGVlZCI6IDMuOTMsICJtYXhGb3JjZSI6IDAuMDU0LCAibWluU3BlZWQiOiAwLjgyLCAiYWxpZ25XIjogMC44NSwgImNvaGVzaW9uVyI6IDAuOTcsICJzZXBhcmF0aW9uVyI6IDIuMDYsICJ0cmFpbEFscGhhIjogMC4wOCwgInF0Q2FwIjogMTIsICJ3cmFwIjogZmFsc2UsICJzaGFwZSI6ICJvcmIiLCAiYmxlbmQiOiAib3ZlcmxheSIsICJsaW5lV2lkdGgiOiAxLjIzLCAiZ2xvd0Jhc2UiOiAyMywgImdsb3dNYXgiOiA0MiwgImdsb3dTY2FsZSI6IDkuNCwgImNvbWV0U2l6ZSI6IDYuNTEsICJiZ0dyYWRpZW50IjogdHJ1ZSwgImJnSHVlU2hpZnQxIjogNCwgImJnSHVlU2hpZnQyIjogMzgsICJiZ0h1ZVNoaWZ0MyI6IDEzNywgInNwYXduIjogImNlbnRlcmJ1cnN0IiwgInF0IjogdHJ1ZSwgInNob3dIdWQiOiB0cnVlLCAiZmxvdyI6IHRydWUsICJmbG93QW1wIjogMC40OCwgImZsb3dTY2FsZSI6IDAuMDAzNCwgImZsb3dTcGVlZCI6IDAuOCwgImNsaWNrTW9kZSI6ICJyYW5kb20ifTsKICAgICAgQ0ZHLm1pblNwZWVkID0gQ0ZHLm1pblNwZWVkID8/IDAuODsKICAgICAgQ0ZHLnF0ID0gKHR5cGVvZiBDRkcucXQgPT09ICdib29sZWFuJykgPyBDRkcucXQgOiB0cnVlOwogICAgICBDRkcuY2xpY2tNb2RlID0gQ0ZHLmNsaWNrTW9kZSB8fCAncmFuZG9tJzsKICAgICAgQ0ZHLmNsaWNrTW9kZXMgPSBDRkcuY2xpY2tNb2RlcyB8fCBbCiAgICAgICAgJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknLCdzdHVuJywnZmVhcicsJ2F0dHJhY3QnLCdvcmJpdENXJywnb3JiaXRDQ1cnLAogICAgICAgICdzcGlyYWxPdXQnLCdzcGlyYWxJbicsJ2ZyZWV6ZScsJ3NjcmFtYmxlJywnc2NhdHRlcicsJ21hZ25ldCcsJ3B1bHNlJywKICAgICAgICAnd2FycCcsJ2dyb3cnLCd0dW5uZWwnLCdyaXBwbGUnLCdqaXR0ZXJidXJzdCcsJ2Nocm9tYWJ1cnN0Jywnc2xvd2Rvd24nLCdzcGVlZHVwJywKICAgICAgICAncGVybGluRHJhZycsJ2xpc3NhUHVsc2UnLCdtZXRlb3InLAogICAgICAgIC8vIHN0ZWVyaW5nLXdlaWdodCBlZmZlY3RzCiAgICAgICAgJ2FsaWduJywnZGVhbGlnbicsJ2NvaGVyZScsJ2xvb3NlbicsJ3NlcGFyYXRlJywnZGlzcGVyc2UnCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBwYXJzZUJvb2wodiwgZCkgewogICAgICAgIGlmICh2ID09IG51bGwpIHJldHVybiBkOwogICAgICAgIGNvbnN0IHMgPSBTdHJpbmcodikudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoWycxJywndHJ1ZScsJ3llcycsJ29uJ10uaW5jbHVkZXMocykpIHJldHVybiB0cnVlOwogICAgICAgIGlmIChbJzAnLCdmYWxzZScsJ25vJywnb2ZmJ10uaW5jbHVkZXMocykpIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gZDsKICAgICAgfQoKICAgICAgLy8gVVJMIG92ZXJyaWRlcyBmb3IgY29uZmlnCiAgICAgIChmdW5jdGlvbiB1cmxPdmVycmlkZSgpewogICAgICAgIGNvbnN0IGludEtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywncXRDYXAnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnXTsKICAgICAgICBjb25zdCBudW1LZXlzID0gWydtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJ107CiAgICAgICAgY29uc3QgYm9vbEtleXMgPSBbJ3dyYXAnLCdiZ0dyYWRpZW50JywncXQnLCdmbG93Jywnc2hvd0h1ZCddOwogICAgICAgIGNvbnN0IHN0cktleXMgPSBbJ3NoYXBlJywnYmxlbmQnLCdzcGF3biddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBpbnRLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE1hdGgubWF4KC05OTk5OSwgTWF0aC5taW4oOTk5OTksIHBhcnNlSW50KHYpKSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgbnVtS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBOdW1iZXIodik7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgYm9vbEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gcGFyc2VCb29sKHYsIENGR1trXSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2Ygc3RyS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSB2OyB9CiAgICAgICAgY29uc3QgY20gPSBwYXJhbXMuZ2V0KCdjbGlja01vZGUnKTsgaWYgKGNtKSBDRkcuY2xpY2tNb2RlID0gY207CiAgICAgICAgY29uc3QgY21zID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlcycpOyBpZiAoY21zKSBDRkcuY2xpY2tNb2RlcyA9IGNtcy5zcGxpdCgnLCcpOwogICAgICB9KSgpOwoKICAgICAgZnVuY3Rpb24gdXBkYXRlVXJsRnJvbUNmZyhleHRyYT17fSkgewogICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwobG9jYXRpb24uaHJlZik7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2h1ZScsIHBhbGV0dGVIdWUpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdoZWFkZXInLCB0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3ViaGVhZGVyJywgc3VidGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qga2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdxdENhcCcsJ3dyYXAnLCdzaGFwZScsJ2JsZW5kJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnYmdHcmFkaWVudCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MycsJ3F0JywnY2xpY2tNb2RlJywnY2xpY2tNb2RlcycsJ2Zsb3cnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJywnc3Bhd24nLCdzaG93SHVkJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIFN0cmluZyhDRkdba10pKTsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZXMgJiYgQXJyYXkuaXNBcnJheShDRkcuY2xpY2tNb2RlcykpIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdjbGlja01vZGVzJywgQ0ZHLmNsaWNrTW9kZXMuam9pbignLCcpKTsKICAgICAgICBmb3IgKGNvbnN0IFtrLHZdIG9mIE9iamVjdC5lbnRyaWVzKGV4dHJhKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgdik7CiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgJycsIHVybC50b1N0cmluZygpKTsKICAgICAgfQoKICAgICAgY29uc3QgVEFVID0gTWF0aC5QSSAqIDI7CgogICAgICAvLyBDYW52YXMgc2l6aW5nIHdpdGggRFBSCiAgICAgIGxldCBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgICBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcihpbm5lcldpZHRoICogRFBSKTsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihpbm5lckhlaWdodCAqIERQUik7CiAgICAgICAgY3R4LnNldFRyYW5zZm9ybShEUFIsIDAsIDAsIERQUiwgMCwgMCk7CiAgICAgICAgY2xlYXJIYXJkKCk7CiAgICAgIH0KICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKTsKICAgICAgcmVzaXplKCk7CgogICAgICBmdW5jdGlvbiBjbGVhckhhcmQoKSB7CiAgICAgICAgaWYgKENGRy5iZ0dyYWRpZW50KSB7CiAgICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGlubmVyV2lkdGgqMC42NSwgaW5uZXJIZWlnaHQqMC4zNSwgTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuMTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyV2lkdGgqMC41LCBpbm5lckhlaWdodCowLjUsIE1hdGguaHlwb3QoaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuNyk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDEpJTM2MH0gODAlIDEwJSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNSwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MiklMzYwfSA3MCUgOCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgxLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDMpJTM2MH0gNjAlIDYlKWApOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBpbm5lcldpZHRoLCBpbm5lckhlaWdodCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNsYW1wSW50KG4sIGxvLCBoaSwgZmFsbGJhY2spIHsKICAgICAgICBuID0gTnVtYmVyLmlzRmluaXRlKG4pID8gbiA6IGZhbGxiYWNrOwogICAgICAgIHJldHVybiBNYXRoLm1heChsbywgTWF0aC5taW4oaGksIG4pKTsKICAgICAgfQoKICAgICAgLy8gRHJpZnQgYSBodWUgdmFsdWUgdG93YXJkIGEgdGFyZ2V0IG9uIGEgY2lyY3VsYXIgY29sb3Igd2hlZWwKICAgICAgZnVuY3Rpb24gYXBwcm9hY2hIdWUoaCwgdGFyZ2V0LCByYXRlKSB7CiAgICAgICAgLy8gcmF0ZSBpcyAwLi4xIGZyYWN0aW9uIHRvd2FyZCB0YXJnZXQgcGVyIGNhbGwKICAgICAgICBsZXQgZCA9ICgodGFyZ2V0IC0gaCArIDU0MCkgJSAzNjApIC0gMTgwOyAvLyBzaG9ydGVzdCBzaWduZWQgZGVsdGEgWy0xODAsMTgwKQogICAgICAgIHJldHVybiAoaCArIGQgKiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCByYXRlKSkgKyAzNjApICUgMzYwOwogICAgICB9CgogICAgICAvLyBMaWdodHdlaWdodCAyRCB2YWx1ZSBub2lzZSAoZm9yIHBlcmxpbi1saWtlIGRyYWcpCiAgICAgIGxldCBub2lzZVNlZWQgPSAoQkFTRV9IVUUgKiAxNjY0NTI1ICsgMTAxMzkwNDIyMykgJiAweGZmZmZmZmZmOwogICAgICBmdW5jdGlvbiBmcmFjdCh4KXsgcmV0dXJuIHggLSBNYXRoLmZsb29yKHgpOyB9CiAgICAgIGZ1bmN0aW9uIF9yYW5kKGl4LCBpeSl7CiAgICAgICAgY29uc3QgayA9IChpeCAqIDM3NDc2MTM5MyArIGl5ICogNjY4MjY1MjYzICsgbm9pc2VTZWVkKSA+Pj4gMDsKICAgICAgICByZXR1cm4gZnJhY3QoTWF0aC5zaW4oaykgKiA0Mzc1OC41NDUzKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBub2lzZTIoeCwgeSl7CiAgICAgICAgY29uc3QgeGkgPSBNYXRoLmZsb29yKHgpLCB5aSA9IE1hdGguZmxvb3IoeSk7CiAgICAgICAgY29uc3QgeGYgPSB4IC0geGksIHlmID0geSAtIHlpOwogICAgICAgIGNvbnN0IHUgPSB4Zip4ZiooMy0yKnhmKSwgdiA9IHlmKnlmKigzLTIqeWYpOwogICAgICAgIGNvbnN0IHYwMCA9IF9yYW5kKHhpLCB5aSksIHYxMCA9IF9yYW5kKHhpKzEsIHlpKSwgdjAxID0gX3JhbmQoeGksIHlpKzEpLCB2MTEgPSBfcmFuZCh4aSsxLCB5aSsxKTsKICAgICAgICBjb25zdCB4MSA9IHYwMCooMS11KSArIHYxMCp1LCB4MiA9IHYwMSooMS11KSArIHYxMSp1OwogICAgICAgIHJldHVybiB4MSooMS12KSArIHgyKnY7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gcGVybGluVmVjKHgsIHksIHNjYWxlLCBhbXApewogICAgICAgIGNvbnN0IG4gPSBub2lzZTIoeCpzY2FsZSwgeSpzY2FsZSk7CiAgICAgICAgY29uc3QgYSA9IG4gKiBUQVU7CiAgICAgICAgcmV0dXJuIFtNYXRoLmNvcyhhKSphbXAsIE1hdGguc2luKGEpKmFtcF07CiAgICAgIH0KCiAgICAgIC8vIFNlZWRlZCBQUk5HIGZvciBzdWJ0bGUgZGV0ZXJtaW5pc20gZnJvbSBCQVNFX0hVRQogICAgICBsZXQgX3NlZWQgPSAoQkFTRV9IVUUgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwOwogICAgICBmdW5jdGlvbiBybmQoKSB7IF9zZWVkID0gKDExMDM1MTUyNDUgKiBfc2VlZCArIDEyMzQ1KSAmIDB4N2ZmZmZmZmY7IHJldHVybiAoX3NlZWQgPj4+IDgpIC8gMHg3ZmZmZmY7IH0KICAgICAgZnVuY3Rpb24gcmFuZChtaW4sIG1heCkgeyByZXR1cm4gcm5kKCkgKiAobWF4IC0gbWluKSArIG1pbjsgfQoKICAgICAgLy8gRGF0YS1PcmllbnRlZCBTdGF0ZSAoU29BKSDigJQgZHluYW1pYwogICAgICBsZXQgTiA9IENGRy5jb3VudDsKICAgICAgbGV0IHB4LCBweSwgdngsIHZ5LCBheCwgYXksIGh1ZSwgc3BkLCBwcmV2eCwgcHJldnk7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBtb2RpZmllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBzaXplTXVsLCB2Qm9vc3QsIGh1ZU9mZiwgaml0QW1wOwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgc3RlZXJpbmcgbXVsdGlwbGllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBhbGlnbk11bCwgY29oZXNpb25NdWwsIHNlcGFyYXRpb25NdWw7CgogICAgICBmdW5jdGlvbiBhbGxvYyhuKSB7CiAgICAgICAgcHggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBweSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgdnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYXggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBheSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgaHVlID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc3BkID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBwcmV2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHByZXZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBzaXplTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdkJvb3N0ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaHVlT2ZmID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaml0QW1wID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBhbGlnbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGNvaGVzaW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc2VwYXJhdGlvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHNlZWRCb2lkcygpIHsKICAgICAgICBjb25zdCBtb2RlID0gQ0ZHLnNwYXduIHx8ICdyYW5kb20nOwogICAgICAgIGlmIChtb2RlID09PSAnY2lyY2xlJykgewogICAgICAgICAgY29uc3QgY3ggPSBpbm5lcldpZHRoLzIsIGN5ID0gaW5uZXJIZWlnaHQvMiwgciA9IE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KS8zOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgdCA9IE1hdGgucmFuZG9tKCkqTWF0aC5QSSoyOyBweFtpXT1jeCtNYXRoLmNvcyh0KSpyOyBweVtpXT1jeStNYXRoLnNpbih0KSpyOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnZ3JpZCcpIHsKICAgICAgICAgIGNvbnN0IGNvbHM9TWF0aC5tYXgoMTAsIE1hdGguZmxvb3IoTWF0aC5zcXJ0KE4pKSk7IGNvbnN0IHJvd3M9TWF0aC5jZWlsKE4vY29scyk7CiAgICAgICAgICBjb25zdCBneD1pbm5lcldpZHRoLyhjb2xzKzEpLCBneT1pbm5lckhlaWdodC8ocm93cysxKTsgbGV0IGs9MDsKICAgICAgICAgIGZvciAobGV0IHk9MTt5PD1yb3dzO3krKykgZm9yIChsZXQgeD0xO3g8PWNvbHM7eCsrKSB7IGlmIChrPj1OKSBicmVhazsgcHhba109Z3gqeDsgcHlba109Z3kqeTsgdnhba109cmFuZCgtMSwxKTsgdnlba109cmFuZCgtMSwxKTsgaysrOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnY2VudGVyYnVyc3QnKSB7CiAgICAgICAgICBjb25zdCBjeD1pbm5lcldpZHRoLzIsIGN5PWlubmVySGVpZ2h0LzI7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCBhPU1hdGgucmFuZG9tKCkqTWF0aC5QSSoyLCBkPXJhbmQoMCwgTWF0aC5taW4oaW5uZXJXaWR0aCxpbm5lckhlaWdodCkvMik7IHB4W2ldPWN4K01hdGguY29zKGEpKmQ7IHB5W2ldPWN5K01hdGguc2luKGEpKmQ7IHZ4W2ldPU1hdGguY29zKGEpOyB2eVtpXT1NYXRoLnNpbihhKTsgfQogICAgICAgIH0gZWxzZSB7IC8vIHJhbmRvbQogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgcHhbaV09cmFuZCgwLGlubmVyV2lkdGgpOyBweVtpXT1yYW5kKDAsaW5uZXJIZWlnaHQpOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICBjb25zdCBtPU1hdGguaHlwb3QodnhbaV0sdnlbaV0pfHwxOyB2eFtpXSo9Mi4wL207IHZ5W2ldKj0yLjAvbTsKICAgICAgICAgIGh1ZVtpXSA9IChwYWxldHRlSHVlICsgcmFuZCgtMzAsIDMwKSkgJSAzNjA7IHByZXZ4W2ldPXB4W2ldOyBwcmV2eVtpXT1weVtpXTsKICAgICAgICAgIHNpemVNdWxbaV09MDsgdkJvb3N0W2ldPTA7IGh1ZU9mZltpXT0wOyBqaXRBbXBbaV09MDsKICAgICAgICAgIGFsaWduTXVsW2ldPTA7IGNvaGVzaW9uTXVsW2ldPTA7IHNlcGFyYXRpb25NdWxbaV09MDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHJlc2VlZChuKSB7CiAgICAgICAgTiA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IobikpOwogICAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKICAgICAgfQoKICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwoKICAgICAgLy8gUXVhZHRyZWUgaW1wbGVtZW50YXRpb24KICAgICAgY2xhc3MgUVROb2RlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMueCA9IHg7IHRoaXMueSA9IHk7IHRoaXMudyA9IHc7IHRoaXMuaCA9IGg7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsgdGhpcy5jb3VudCA9IDA7IHRoaXMuaWR4ID0gbmV3IEludDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMucHRzeCA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsgdGhpcy5wdHN5ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5kaXZpZGVkID0gZmFsc2U7IHRoaXMuY2hpbGRyZW4gPSBudWxsOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY2xhc3MgUXVhZHRyZWUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy5yb290ID0gbmV3IFFUTm9kZSh4LCB5LCB3LCBoLCBjYXApOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7CiAgICAgICAgfQoKICAgICAgICBpbnNlcnQoaSwgeCwgeSwgbm9kZSA9IHRoaXMucm9vdCkgewogICAgICAgICAgaWYgKHggPCBub2RlLnggfHwgeSA8IG5vZGUueSB8fCB4ID49IG5vZGUueCArIG5vZGUudyB8fCB5ID49IG5vZGUueSArIG5vZGUuaCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgaWYgKG5vZGUuY291bnQgPCBub2RlLmNhcCAmJiAhbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSBub2RlLmNvdW50Kys7IG5vZGUuaWR4W2pdID0gaTsgbm9kZS5wdHN4W2pdID0geDsgbm9kZS5wdHN5W2pdID0geTsgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgdGhpcy5zdWJkaXZpZGUobm9kZSk7CiAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgfQoKICAgICAgICBzdWJkaXZpZGUobm9kZSkgewogICAgICAgICAgbm9kZS5kaXZpZGVkID0gdHJ1ZTsKICAgICAgICAgIGNvbnN0IGh3ID0gbm9kZS53LzIsIGhoID0gbm9kZS5oLzI7CiAgICAgICAgICBub2RlLmNoaWxkcmVuID0gWwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTlcKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5FCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU0UKICAgICAgICAgIF07CiAgICAgICAgICAvLyByZWluc2VydCBleGlzdGluZyBwb2ludHMKICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbm9kZS5jb3VudDsgaysrKSB7CiAgICAgICAgICAgIGNvbnN0IGkgPSBub2RlLmlkeFtrXTsgY29uc3QgeCA9IG5vZGUucHRzeFtrXTsgY29uc3QgeSA9IG5vZGUucHRzeVtrXTsKICAgICAgICAgICAgdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgICB9CiAgICAgICAgICBub2RlLmNvdW50ID0gMDsgLy8gY2xlYXIgbGVhZiBzdG9yYWdlCiAgICAgICAgfQoKICAgICAgICBxdWVyeShjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgdGhpcy5fcXVlcnlOb2RlKHRoaXMucm9vdCwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KICAgICAgICBfcXVlcnlOb2RlKG5vZGUsIGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICAvLyBjaXJjbGUtcmVjdCBxdWljayByZWplY3QKICAgICAgICAgIGNvbnN0IHJ4PW5vZGUueCwgcnk9bm9kZS55LCBydz1ub2RlLncsIHJoPW5vZGUuaDsKICAgICAgICAgIGxldCBueCA9IE1hdGgubWF4KHJ4LCBNYXRoLm1pbihjeCwgcngrcncpKTsKICAgICAgICAgIGxldCBueSA9IE1hdGgubWF4KHJ5LCBNYXRoLm1pbihjeSwgcnkrcmgpKTsKICAgICAgICAgIGNvbnN0IGRpc3QgPSAoY3gtbngpKihjeC1ueCkrKGN5LW55KSooY3ktbnkpOwogICAgICAgICAgaWYgKGRpc3QgPiByKnIpIHJldHVybjsKCiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBmb3IgKGxldCBrPTA7azxub2RlLmNvdW50O2srKykgeyBvdXQucHVzaChub2RlLmlkeFtrXSk7IH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX3F1ZXJ5Tm9kZShub2RlLmNoaWxkcmVuW2NdLCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQoKICAgICAgICBkcmF3KGN0eCkgewogICAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHsocGFsZXR0ZUh1ZSsxODApJTM2MH0gODAlIDcwJSAvIDAuMTQpYDsKICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgdGhpcy5fZHJhd05vZGUoY3R4LCB0aGlzLnJvb3QpOwogICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICAgICAgX2RyYXdOb2RlKGN0eCwgbm9kZSkgewogICAgICAgICAgY3R4LnN0cm9rZVJlY3Qobm9kZS54LCBub2RlLnksIG5vZGUudywgbm9kZS5oKTsKICAgICAgICAgIGlmIChub2RlLmRpdmlkZWQpIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9kcmF3Tm9kZShjdHgsIG5vZGUuY2hpbGRyZW5bY10pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0cwogICAgICBjb25zdCBlZmZlY3RzID0gW107IC8vIHt4LHksdCxsaWZlLHNpZ24sdHlwZSwuLi5leHRyYXN9CiAgICAgIGxldCBtb3VzZURvd24gPSBmYWxzZTsKICAgICAgY29uc3QgcG9pbnRlciA9IHt4OiBpbm5lcldpZHRoLzIsIHk6IGlubmVySGVpZ2h0LzIsIHZ4OiAwLCB2eTogMCwgdDogcGVyZm9ybWFuY2Uubm93KCl9OwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSB0cnVlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsICAgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IGZhbHNlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgLTEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIGlmIChtb3VzZURvd24pIHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKCiAgICAgIGZ1bmN0aW9uIHBpY2tDbGlja1R5cGUoKSB7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGUgJiYgQ0ZHLmNsaWNrTW9kZSAhPT0gJ3JhbmRvbScpIHJldHVybiBDRkcuY2xpY2tNb2RlOwogICAgICAgIGNvbnN0IGxpc3QgPSBDRkcuY2xpY2tNb2RlcyB8fCBbJ3Nob2NrJ107CiAgICAgICAgcmV0dXJuIGxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmxpc3QubGVuZ3RoKV0gfHwgJ3Nob2NrJzsKICAgICAgfQogICAgICBmdW5jdGlvbiBzcGF3bkVmZmVjdCh4LCB5LCBzaWduKSB7CiAgICAgICAgY29uc3QgdHlwZSA9IHBpY2tDbGlja1R5cGUoKTsKICAgICAgICBjb25zdCBsaWZlID0gKHR5cGU9PT0naW1wbG9zaW9uJykgPyAwLjkgOiAodHlwZT09PSd2b3J0ZXgnIHx8IHR5cGU9PT0nbWV0ZW9yJyA/IDEuOCA6IDEuMik7CiAgICAgICAgY29uc3QgRSA9IHsgeCwgeSwgdDogMCwgbGlmZSwgc2lnbiwgdHlwZSB9OwogICAgICAgIGlmICh0eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgIGNvbnN0IHNwID0gTWF0aC5taW4oMywgTWF0aC5oeXBvdChwb2ludGVyLnZ4LCBwb2ludGVyLnZ5KSoxMjApOwogICAgICAgICAgRS5hID0gMiArIE1hdGguZmxvb3Ioc3AlNCk7IEUuYiA9IDMgKyBNYXRoLmZsb29yKChzcCoxLjcpJTQpOyBFLnBoYXNlID0gTWF0aC5yYW5kb20oKSpUQVU7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgY29uc3Qgc2NhbGUgPSA5MDA7IEUudnggPSBwb2ludGVyLnZ4KnNjYWxlOyBFLnZ5ID0gcG9pbnRlci52eSpzY2FsZTsgRS5tYXNzID0gMjIwICsgTWF0aC5yYW5kb20oKSoxODA7IEUuZHJhZz0wLjk4OwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICBFLnNjYWxlID0gMC4wMDYgKyBNYXRoLnJhbmRvbSgpKjAuMDA2OyBFLmFtcCA9IDEuMiArIE1hdGgucmFuZG9tKCkqMS4yOwogICAgICAgIH0KICAgICAgICBlZmZlY3RzLnB1c2goRSk7CiAgICAgIH0KCiAgICAgIC8vIFBoeXNpY3MgaGVscGVycwogICAgICBmdW5jdGlvbiBsaW1pdCh2eCwgdnksIG1heCkgewogICAgICAgIGNvbnN0IG0yID0gdngqdnggKyB2eSp2eTsgaWYgKG0yID4gbWF4Km1heCkgewogICAgICAgICAgY29uc3QgbSA9IE1hdGguc3FydChtMikgfHwgMTsgY29uc3QgcyA9IG1heCAvIG07IHJldHVybiBbdngqcywgdnkqc107CiAgICAgICAgfSByZXR1cm4gW3Z4LCB2eV07CiAgICAgIH0KCiAgICAgIC8vIE1haW4gbG9vcAogICAgICBsZXQgbGFzdCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICBsZXQgZnBzQXZnID0gMDsKICAgICAgZnVuY3Rpb24gZnJhbWUodCkgewogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5taW4oMzIsIHQgLSBsYXN0KSAqIDAuMDAxOyAvLyBjbGFtcAogICAgICAgIGxhc3QgPSB0OwogICAgICAgIGNvbnN0IGZwc05vdyA9IDEgLyBNYXRoLm1heCgxZS02LCBkdCk7CiAgICAgICAgZnBzQXZnID0gZnBzQXZnID8gKGZwc0F2ZyowLjkgKyBmcHNOb3cqMC4xKSA6IGZwc05vdzsKICAgICAgICBjb25zdCBXID0gaW5uZXJXaWR0aCwgSCA9IGlubmVySGVpZ2h0OwoKICAgICAgICAvLyB0cmFpbHM6IHRyYW5zbHVjZW50IGZpbGwKICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJzsKICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIENGRy50cmFpbEFscGhhKSk7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgVywgSCk7CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gQnVpbGQgcXVhZHRyZWUKICAgICAgICBjb25zdCBxdCA9IG5ldyBRdWFkdHJlZSgwLCAwLCBXLCBILCBDRkcucXRDYXApOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSBxdC5pbnNlcnQoaSwgcHhbaV0sIHB5W2ldKTsKCiAgICAgIC8vIEFwcGx5IGZsb2NraW5nIHZpYSBuZWlnaGJvciBxdWVyaWVzIChhZGFwdGl2ZSB2aXNpb24gdW5kZXIgbG9hZCkKICAgICAgY29uc3QgdmlzaW9uID0gQ0ZHLnZpc2lvbiAqIChmcHNBdmcgPCA1MCA/IDAuOSA6IDEuMCk7IGNvbnN0IHNlcCA9IENGRy5zZXA7CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGF4W2ldPTA7IGF5W2ldPTA7IH0KICAgICAgbGV0IHRtcCA9IFtdOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgIHRtcC5sZW5ndGggPSAwOyBxdC5xdWVyeShweFtpXSwgcHlbaV0sIHZpc2lvbiwgdG1wKTsKICAgICAgICAgIGxldCBjeD0wLCBjeT0wLCB2eHN1bT0wLCB2eXN1bT0wLCBzeD0wLCBzeT0wLCB0b3RhbD0wLCBzY2xvc2U9MDsKICAgICAgICAgIGZvciAobGV0IGs9MDtrPHRtcC5sZW5ndGg7aysrKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSB0bXBba107IGlmIChqPT09aSkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGR4ID0gcHhbal0tcHhbaV07IGNvbnN0IGR5ID0gcHlbal0tcHlbaV07CiAgICAgICAgICAgIGNvbnN0IGQyID0gZHgqZHggKyBkeSpkeTsgaWYgKGQyID09PSAwKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChkMik7CiAgICAgICAgICAgIGlmIChkIDwgdmlzaW9uKSB7IHRvdGFsKys7IGN4ICs9IHB4W2pdOyBjeSArPSBweVtqXTsgdnhzdW0gKz0gdnhbal07IHZ5c3VtICs9IHZ5W2pdOyB9CiAgICAgICAgICAgIGlmIChkIDwgc2VwKSB7IHNjbG9zZSsrOyBzeCAtPSBkeC8oZHx8MSk7IHN5IC09IGR5LyhkfHwxKTsgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKHRvdGFsPjApIHsKICAgICAgICAgICAgLy8gYWxpZ25tZW50CiAgICAgICAgICAgIGxldCBheHYgPSAodnhzdW0vdG90YWwpIC0gdnhbaV07IGxldCBheXYgPSAodnlzdW0vdG90YWwpIC0gdnlbaV07CiAgICAgICAgICAgIGNvbnN0IGFsaWduVyA9IENGRy5hbGlnblcgKiAoMSArIChhbGlnbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbYXh2LCBheXZdID0gbGltaXQoYXh2LCBheXYsIENGRy5tYXhGb3JjZSk7CiAgICAgICAgICAgIGF4W2ldICs9IGF4diAqIGFsaWduVzsgYXlbaV0gKz0gYXl2ICogYWxpZ25XOwogICAgICAgICAgICAvLyBjb2hlc2lvbgogICAgICAgICAgICBsZXQgY3h2ID0gKGN4L3RvdGFsIC0gcHhbaV0pOyBsZXQgY3l2ID0gKGN5L3RvdGFsIC0gcHlbaV0pOwogICAgICAgICAgICBjb25zdCBjb2hXID0gQ0ZHLmNvaGVzaW9uVyAqICgxICsgKGNvaGVzaW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtjeHYsIGN5dl0gPSBsaW1pdChjeHYsIGN5diwgQ0ZHLm1heEZvcmNlKTsgYXhbaV0gKz0gY3h2ICogY29oVzsgYXlbaV0gKz0gY3l2ICogY29oVzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChzY2xvc2U+MCkgewogICAgICAgICAgICBsZXQgc3h2ID0gc3g7IGxldCBzeXYgPSBzeTsgW3N4diwgc3l2XSA9IGxpbWl0KHN4diwgc3l2LCBDRkcubWF4Rm9yY2UqMS41KTsKICAgICAgICAgICAgY29uc3Qgc2VwVyA9IENGRy5zZXBhcmF0aW9uVyAqICgxICsgKHNlcGFyYXRpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgYXhbaV0gKz0gc3h2ICogc2VwVzsgYXlbaV0gKz0gc3l2ICogc2VwVzsKICAgICAgICAgIH0KICAgICAgICAvLyBvcHRpb25hbCBmbG93IGZpZWxkIGZvciBwYXR0ZXJuIHZhcmlldHkKICAgICAgICBpZiAoQ0ZHLmZsb3cpIHsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuZmxvd1NjYWxlIHx8IDAuMDA0OyBjb25zdCBhID0gQ0ZHLmZsb3dBbXAgfHwgMC42OyBjb25zdCBzcCA9IENGRy5mbG93U3BlZWQgfHwgMC42OwogICAgICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKSowLjAwMSpzcDsKICAgICAgICAgIGNvbnN0IGZ4ID0gTWF0aC5zaW4ocHlbaV0qcyArIHQwKSAqIGE7CiAgICAgICAgICBjb25zdCBmeSA9IE1hdGguY29zKHB4W2ldKnMgLSB0MCkgKiBhOwogICAgICAgICAgYXhbaV0gKz0gZng7IGF5W2ldICs9IGZ5OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0czogfjIwKyBtb2RlcyBpbmNsdWRpbmcgcGVybGluRHJhZywgbGlzc2FQdWxzZSwgbWV0ZW9yCiAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcic7CiAgICAgIGxldCB0bXAyID0gW107CiAgICAgIGZvciAobGV0IGU9ZWZmZWN0cy5sZW5ndGgtMTsgZT49MDsgZS0tKSB7CiAgICAgICAgY29uc3QgRSA9IGVmZmVjdHNbZV07IEUudCArPSBkdDsgY29uc3QgayA9IEUudCAvIEUubGlmZTsKICAgICAgICBjb25zdCByID0gMzAgKyBrICogMjYwOyBjb25zdCBzdHIgPSAxLjAgLSBrOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7IEUueCArPSAoRS52eHx8MCkqZHQ7IEUueSArPSAoRS52eXx8MCkqZHQ7IEUudnggKj0gKEUuZHJhZ3x8MSk7IEUudnkgKj0gKEUuZHJhZ3x8MSk7IEUubWFzcyAqPSAwLjk4NTsgfQogICAgICAgIHRtcDIubGVuZ3RoID0gMDsgcXQucXVlcnkoRS54LCBFLnksIHIsIHRtcDIpOwogICAgICAgIGZvciAobGV0IGlpPTA7IGlpPHRtcDIubGVuZ3RoOyBpaSsrKSB7CiAgICAgICAgICBjb25zdCBpID0gdG1wMltpaV07IGNvbnN0IGR4ID0gcHhbaV0tRS54OyBjb25zdCBkeSA9IHB5W2ldLUUueTsgY29uc3QgZCA9IE1hdGguaHlwb3QoZHgsIGR5KXx8MTsKICAgICAgICAgIGNvbnN0IGZhbGwgPSAoMSAtIE1hdGgubWluKDEsIGQvcikpOwogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICAgIGNvbnN0IHYgPSBwZXJsaW5WZWMocHhbaV0tRS54LCBweVtpXS1FLnksIEUuc2NhbGV8fDAuMDA4LCAoRS5hbXB8fDEuNSkgKiBmYWxsKTsKICAgICAgICAgICAgYXhbaV0gKz0gdlswXTsgYXlbaV0gKz0gdlsxXTsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIoZHksIGR4KTsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKEUuYSphbmcgKyBFLnBoYXNlKSAqIE1hdGguY29zKEUuYiphbmcgLSBFLnBoYXNlKTsKICAgICAgICAgICAgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgICAgY29uc3QgRyA9IDgwMDsgY29uc3QgZiA9IE1hdGgubWluKDMuMCwgKEcqKEUubWFzc3x8MjAwKSkvKChkKmQpKzIwMCkpOwogICAgICAgICAgICBheFtpXSAtPSAoZHgvZCkqZipmYWxsOyBheVtpXSAtPSAoZHkvZCkqZipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICd2b3J0ZXgnIHx8IEUudHlwZT09PSdvcmJpdENXJyB8fCBFLnR5cGU9PT0nb3JiaXRDQ1cnIHx8IEUudHlwZT09PSdzcGlyYWxPdXQnIHx8IEUudHlwZT09PSdzcGlyYWxJbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdvcmJpdENDVycpID8gLTEgOiAxOwogICAgICAgICAgICBjb25zdCB0eCA9IC1keS9kLCB0eSA9IGR4L2Q7IGxldCBzID0gKEUuc2lnbj4wPzE6LTEpICogMS4yICogZmFsbCAqIGRpcjsKICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxPdXQnKSB7IHMgPSAxLjIqZmFsbDsgYXhbaV0gKz0gKGR4L2QpKmZhbGwqMC44OyBheVtpXSArPSAoZHkvZCkqZmFsbCowLjg7IH0KICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxJbicpIHsgcyA9IC0xLjIqZmFsbDsgYXhbaV0gLT0gKGR4L2QpKmZhbGwqMC42OyBheVtpXSAtPSAoZHkvZCkqZmFsbCowLjY7IH0KICAgICAgICAgICAgYXhbaV0gKz0gdHgqczsgYXlbaV0gKz0gdHkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdpbXBsb3Npb24nIHx8IEUudHlwZT09PSdhdHRyYWN0JyB8fCBFLnR5cGU9PT0nbWFnbmV0JykgewogICAgICAgICAgICBjb25zdCBzID0gKEUudHlwZT09PSdpbXBsb3Npb24nID8gLTIuMiA6IC0xLjIpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzcHJheScgfHwgRS50eXBlPT09J3NjYXR0ZXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAoRS50eXBlPT09J3NjYXR0ZXInPzMuMDoyLjQpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICB2eFtpXSArPSAoZHgvZCkgKiAwLjI1ICogZmFsbDsgdnlbaV0gKz0gKGR5L2QpICogMC4yNSAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjE1KmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3N0dW4nIHx8IEUudHlwZT09PSdmcmVlemUnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAoRS50eXBlPT09J2ZyZWV6ZSc/MC42OjAuMykgKiBmYWxsOyBzaXplTXVsW2ldICs9IDAuMypmYWxsOyB2eFtpXSAqPSAwLjk2OyB2eVtpXSAqPSAwLjk2OwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdmZWFyJykgewogICAgICAgICAgICBjb25zdCBzID0gMi44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBqaXRBbXBbaV0gKz0gMC4yNSpmYWxsOyBodWVPZmZbaV0gKz0gODAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2NyYW1ibGUnKSB7CiAgICAgICAgICAgIHZ4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgdnlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyBqaXRBbXBbaV0gKz0gMC4zKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3B1bHNlJyB8fCBFLnR5cGU9PT0ncmlwcGxlJykgewogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oaypNYXRoLlBJKjIpOyBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldICs9IDAuOCAqIGZhbGw7IHNlcGFyYXRpb25NdWxbaV0gLT0gMC4zICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZGVhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gLT0gMC44ICogZmFsbDsgY29oZXNpb25NdWxbaV0gKz0gMC4yICogZmFsbDsgaml0QW1wW2ldICs9IDAuMSAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2NvaGVyZScgfHwgRS50eXBlPT09J3RpZ2h0ZW4nIHx8IEUudHlwZT09PSdsb29zZW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nbG9vc2VuJykgPyAtMSA6IDE7IC8vIGxvb3NlbiByZWR1Y2VzIGNvaGVzaW9uCiAgICAgICAgICAgIGNvaGVzaW9uTXVsW2ldICs9IGRpciAqIDAuOSAqIGZhbGw7IGlmIChkaXI+MCkgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjIgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzZXBhcmF0ZScgfHwgRS50eXBlPT09J2Rpc3BlcnNlJykgewogICAgICAgICAgICBzZXBhcmF0aW9uTXVsW2ldICs9IDEuMCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldIC09IDAuNCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3dhcnAnIHx8IEUudHlwZT09PSdzcGVlZHVwJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGh1ZU9mZltpXSArPSA0MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzbG93ZG93bicpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IDAuNSpmYWxsOyBodWVPZmZbaV0gLT0gMjAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZ3JvdycpIHsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjYqZmFsbDsgaHVlT2ZmW2ldICs9IDMwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3R1bm5lbCcpIHsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gciowLjc7IGNvbnN0IHMgPSAoZDx0YXJnZXQ/KzE6LTEpICogMS4yICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdqaXR0ZXJidXJzdCcpIHsKICAgICAgICAgICAgaml0QW1wW2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjaHJvbWFidXJzdCcpIHsKICAgICAgICAgICAgaHVlT2ZmW2ldICs9IDE2MCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzaG9jayAvIGRlZmF1bHQKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8rMTotMSkgKiAxLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGdlbmVyYWwgY29sb3IgZW5lcmd5CiAgICAgICAgICBodWVbaV0gPSAoaHVlW2ldICsgOTAgKiBmYWxsKSAlIDM2MDsKICAgICAgICB9CiAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChFLngsIEUueSwgTWF0aC5tYXgoMSwgciowLjYpLCBFLngsIEUueSwgcik7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsyMCklMzYwfSwgOTUlLCA3MCUsICR7MC4zNCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzYwKSUzNjB9LCA5NSUsIDYwJSwgJHswLjIyKnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjk1LCBgaHNsYSgkeyhwYWxldHRlSHVlKzEwMCklMzYwfSwgOTUlLCA1NSUsIDApYCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHtwYWxldHRlSHVlfSwgOTUlLCA2NSUsICR7MC4yNSpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzQwKSUzNjB9LCA5NSUsIDU1JSwgJHswLjE4KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjksIGBoc2xhKCR7KHBhbGV0dGVIdWUrODApJTM2MH0sIDk1JSwgNjAlLCAwKWApOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKEUueCwgRS55LCByLCAwLCBNYXRoLlBJKjIpOyBjdHguZmlsbCgpOwogICAgICAgIGlmIChrID49IDEpIGVmZmVjdHMuc3BsaWNlKGUsIDEpOwogICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gSW50ZWdyYXRlIGFuZCBkcmF3IGJvaWRzIHdpdGggZ2xvdyBhbmQgdHJhaWxzCiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IENGRy5ibGVuZDsKICAgICAgY3R4LmxpbmVXaWR0aCA9IENGRy5saW5lV2lkdGg7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIC8vIGludGVncmF0ZQogICAgICAgICAgaWYgKGppdEFtcFtpXSA+IDAuMDAwMSkgeyBheFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyBheVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyB9CiAgICAgICAgICB2eFtpXSArPSBheFtpXTsgdnlbaV0gKz0gYXlbaV07CiAgICAgICAgICBjb25zdCB2TWF4ID0gQ0ZHLm1heFNwZWVkICogKDEgKyBNYXRoLm1heCgtMC43LCB2Qm9vc3RbaV0pKjAuOCk7CiAgICAgICAgICBbdnhbaV0sIHZ5W2ldXSA9IGxpbWl0KHZ4W2ldLCB2eVtpXSwgdk1heCk7CiAgICAgICAgICAvLyBlbmZvcmNlIG1pbiBzcGVlZCAod2l0aCBib29zdCkKICAgICAgICAgIHsgY29uc3Qgc3AgPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSkgfHwgMTsgY29uc3Qgdk1pbiA9IENGRy5taW5TcGVlZCAqICgxICsgTWF0aC5tYXgoMCwgdkJvb3N0W2ldKSowLjUpOyBpZiAoc3AgPCB2TWluKSB7IGNvbnN0IHMgPSB2TWluIC8gc3A7IHZ4W2ldICo9IHM7IHZ5W2ldICo9IHM7IH0gfQogICAgICAgICAgcHJldnhbaV0gPSBweFtpXTsgcHJldnlbaV0gPSBweVtpXTsKICAgICAgICAgIHB4W2ldICs9IHZ4W2ldOyBweVtpXSArPSB2eVtpXTsKCiAgICAgICAgICAvLyBib3VuZGFyaWVzCiAgICAgICAgICBpZiAoQ0ZHLndyYXApIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgLTUpIHB4W2ldID0gVyArIDU7IGVsc2UgaWYgKHB4W2ldID4gVys1KSBweFtpXSA9IC01OwogICAgICAgICAgICBpZiAocHlbaV0gPCAtNSkgcHlbaV0gPSBIICsgNTsgZWxzZSBpZiAocHlbaV0gPiBIKzUpIHB5W2ldID0gLTU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAocHhbaV0gPCAwIHx8IHB4W2ldID4gVykgeyB2eFtpXSA9IC12eFtpXTsgfQogICAgICAgICAgICBpZiAocHlbaV0gPCAwIHx8IHB5W2ldID4gSCkgeyB2eVtpXSA9IC12eVtpXTsgfQogICAgICAgICAgICBweFtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKFcsIHB4W2ldKSk7CiAgICAgICAgICAgIHB5W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oSCwgcHlbaV0pKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBkZWNheSBtb2RpZmllcnMgYW5kIGNvbXB1dGUgdGludAogICAgICAgICAgdkJvb3N0W2ldICo9IDAuOTI7IHNpemVNdWxbaV0gKj0gMC45MDsgaHVlT2ZmW2ldICo9IDAuOTQ7IGppdEFtcFtpXSAqPSAwLjg4OwogICAgICAgICAgYWxpZ25NdWxbaV0gKj0gMC45NDsgY29oZXNpb25NdWxbaV0gKj0gMC45NDsgc2VwYXJhdGlvbk11bFtpXSAqPSAwLjk0OwogICAgICAgICAgLy8gc2xvd2x5IGRyaWZ0IGJvaWQgaHVlIGJhY2sgdG93YXJkIGJhc2UgcGFsZXR0ZSBodWUKICAgICAgICAgIGh1ZVtpXSA9IGFwcHJvYWNoSHVlKGh1ZVtpXSwgcGFsZXR0ZUh1ZSwgTWF0aC5taW4oMSwgZHQgKiAoQ0ZHLmh1ZVJlbGF4IHx8IDAuMikpKTsKICAgICAgICAgIHNwZFtpXSA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKTsKICAgICAgICAgIGNvbnN0IEwgPSA1MCArIE1hdGgubWluKDQ1LCBzcGRbaV0qOCk7CiAgICAgICAgICBjb25zdCBTID0gODAgKyBNYXRoLm1pbigyMCwgc3BkW2ldKjYpOwogICAgICAgICAgY29uc3QgZHJhd0h1ZSA9IChodWVbaV0gKyBodWVPZmZbaV0pICUgMzYwOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgke2RyYXdIdWV9LCAke1N9JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IGBoc2woJHtkcmF3SHVlfSwgOTAlLCA2MCUpYDsKICAgICAgICAgIGNvbnN0IGdsb3dRdWFsaXR5ID0gKGZwc0F2ZyA8IDUwID8gMC41IDogMS4wKTsKICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gZ2xvd1F1YWxpdHkgKiAoQ0ZHLmdsb3dCYXNlICsgTWF0aC5taW4oQ0ZHLmdsb3dNYXgsIHNwZFtpXSpDRkcuZ2xvd1NjYWxlKSk7CgogICAgICAgICAgLy8gdHJhaWwgc2VnbWVudAogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY3R4Lm1vdmVUbyhwcmV2eFtpXSwgcHJldnlbaV0pOwogICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSwgcHlbaV0pOwogICAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICAgIC8vIGJvaWQgaGVhZCBzaGFwZQogICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMih2eVtpXSwgdnhbaV0pOwogICAgICAgICAgY29uc3QgY2EgPSBNYXRoLmNvcyhhbmcpLCBzYSA9IE1hdGguc2luKGFuZyk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYGhzbCgke2h1ZVtpXX0sIDk1JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuY29tZXRTaXplICogKDEgKyAoc2l6ZU11bFtpXXx8MCkpOwogICAgICAgICAgaWYgKENGRy5zaGFwZSA9PT0gJ3RyaWFuZ2xlJykgewogICAgICAgICAgICBjb25zdCBDMjYgPSAwLjg1Njg4ODc1MywgUzI2ID0gMC41MTU0OTg7IC8vIGNvcy9zaW4oMi42KQogICAgICAgICAgICBjb25zdCB4MCA9IHB4W2ldICsgY2EqcyoxLjYsIHkwID0gcHlbaV0gKyBzYSpzKjEuNjsKICAgICAgICAgICAgY29uc3QgY2FfcCA9IGNhKkMyNiAtIHNhKlMyNiwgc2FfcCA9IHNhKkMyNiArIGNhKlMyNjsKICAgICAgICAgICAgY29uc3QgY2FfbSA9IGNhKkMyNiArIHNhKlMyNiwgc2FfbSA9IHNhKkMyNiAtIGNhKlMyNjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4MCwgeTApOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcCpzLCAgcHlbaV0gKyBzYV9wKnMpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbSpzLCAgcHlbaV0gKyBzYV9tKnMpOwogICAgICAgICAgfSBlbHNlIGlmIChDRkcuc2hhcGUgPT09ICdvcmInKSB7CiAgICAgICAgICAgIGN0eC5hcmMocHhbaV0sIHB5W2ldLCBzKjAuNiwgMCwgTWF0aC5QSSoyKTsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNwYXJrCiAgICAgICAgICAgIGNvbnN0IEMwMiA9IDAuOTgwMDY2NiwgUzAyID0gMC4xOTg2NjkzOyAvLyBjb3Mvc2luKDAuMikKICAgICAgICAgICAgY29uc3QgeGggPSBweFtpXSArIGNhKnMqMS44LCB5aCA9IHB5W2ldICsgc2EqcyoxLjg7CiAgICAgICAgICAgIGNvbnN0IGNhX3AwMiA9IGNhKkMwMiAtIHNhKlMwMiwgc2FfcDAyID0gc2EqQzAyICsgY2EqUzAyOwogICAgICAgICAgICBjb25zdCBjYV9tMDIgPSBjYSpDMDIgKyBzYSpTMDIsIHNhX20wMiA9IHNhKkMwMiAtIGNhKlMwMjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4aCwgeWgpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcDAyKnMqMC42LCAgcHlbaV0gKyBzYV9wMDIqcyowLjYpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbTAyKnMqMC42LCAgcHlbaV0gKyBzYV9tMDIqcyowLjYpOwogICAgICAgICAgfQogICAgICAgICAgY3R4LmNsb3NlUGF0aCgpOyBjdHguZmlsbCgpOwogICAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBRdWFkdHJlZSB2aXN1YWxpemF0aW9uIChkZWZhdWx0IG9uKQogICAgICAgIGlmIChDRkcucXQpIHF0LmRyYXcoY3R4KTsKCiAgICAgICAgLy8gSFVECiAgICAgICAgaHVkRWwuaW5uZXJIVE1MID0gYDxzdHJvbmc+Qm9pZHM8L3N0cm9uZz4gwrcgTj0ke059IHZpc2lvbj0ke0NGRy52aXNpb259IHNlcD0ke0NGRy5zZXB9IGAgKwogICAgICAgICAgYMK3IHF0Q2FwPSR7Q0ZHLnF0Q2FwfSDCtyBodWU9JHtwYWxldHRlSHVlfSDCtyBxdFZpej0ke0NGRy5xdD8nb24nOidvZmYnfSDCtyBjbGljaz0ke0NGRy5jbGlja01vZGV9IMK3IGZwcz0ke2Zwc0F2Zy50b0ZpeGVkKDApfWA7CgogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CiAgICAgIH0KICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKCiAgICAgIC8vIENvbmZpZyBVSSBidWlsZCBhbmQgd2lyaW5nCiAgICAgIGNvbnN0IGNmZ0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdCdG4nKTsKICAgICAgY29uc3QgY2ZnQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQ2xvc2UnKTsKICAgICAgY29uc3QgY2ZnUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnJyk7CiAgICAgIGNvbnN0IGNmZ0JvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnQm9keScpOwogICAgICBjZmdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpKTsKICAgICAgY2ZnQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsJycpKTsKCiAgICAgIGNvbnN0IHNjaGVtYSA9IFsKICAgICAgICB7a2V5OidodWUnLCBsYWJlbDonSHVlJywgdHlwZTonaW50JywgbWluOjAsIG1heDozNjAsIHN0ZXA6MSwgdmFsdWU6QkFTRV9IVUV9LAogICAgICAgIHtrZXk6J2hlYWRlcicsIGxhYmVsOidIZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6SEVBREVSfSwKICAgICAgICB7a2V5OidzdWJoZWFkZXInLCBsYWJlbDonU3ViaGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOlNVQkhFQURFUn0sCiAgICAgICAge2tleToncXQnLCBsYWJlbDonU2hvdyBRdWFkdHJlZScsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaG93SHVkJywgbGFiZWw6J1Nob3cgSFVEJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NwYXduJywgbGFiZWw6J1NwYXduJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ2NpcmNsZScsJ2dyaWQnLCdjZW50ZXJidXJzdCddfSwKICAgICAgICB7a2V5Oidjb3VudCcsIGxhYmVsOidDb3VudCcsIHR5cGU6J2ludCcsIG1pbjo1MCwgbWF4OjEwMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTondmlzaW9uJywgbGFiZWw6J1Zpc2lvbicsIHR5cGU6J2ludCcsIG1pbjoyMCwgbWF4OjIwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidzZXAnLCBsYWJlbDonU2VwYXJhdGlvbiBEaXN0JywgdHlwZTonaW50JywgbWluOjQsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidtYXhTcGVlZCcsIGxhYmVsOidNYXggU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4xLCBtYXg6MTIsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtaW5TcGVlZCcsIGxhYmVsOidNaW4gU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4wLCBtYXg6Niwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21heEZvcmNlJywgbGFiZWw6J01heCBTdGVlcmluZyBGb3JjZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMSwgbWF4OjAuNSwgc3RlcDowLjAwMX0sCiAgICAgICAge2tleTonYWxpZ25XJywgbGFiZWw6J0FsaWduIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oidjb2hlc2lvblcnLCBsYWJlbDonQ29oZXNpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3NlcGFyYXRpb25XJywgbGFiZWw6J1NlcGFyYXRpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3RyYWlsQWxwaGEnLCBsYWJlbDonVHJhaWwgQWxwaGEnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjEsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleToncXRDYXAnLCBsYWJlbDonUXVhZHRyZWUgQ2FwYWNpdHknLCB0eXBlOidpbnQnLCBtaW46MiwgbWF4OjMyLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3dyYXAnLCBsYWJlbDonV3JhcCBCb3VuZHMnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hhcGUnLCBsYWJlbDonU2hhcGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsndHJpYW5nbGUnLCdzcGFyaycsJ29yYiddfSwKICAgICAgICB7a2V5OidibGVuZCcsIGxhYmVsOidCbGVuZCcsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydsaWdodGVyJywnc2NyZWVuJywnb3ZlcmxheScsJ3BsdXMtbGlnaHRlciddfSwKICAgICAgICB7a2V5OidsaW5lV2lkdGgnLCBsYWJlbDonTGluZSBXaWR0aCcsIHR5cGU6J251bWJlcicsIG1pbjowLjIsIG1heDo0LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonZ2xvd0Jhc2UnLCBsYWJlbDonR2xvdyBCYXNlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo2MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93TWF4JywgbGFiZWw6J0dsb3cgTWF4JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93U2NhbGUnLCBsYWJlbDonR2xvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NDAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5Oidjb21ldFNpemUnLCBsYWJlbDonQ29tZXQgU2l6ZScsIHR5cGU6J251bWJlcicsIG1pbjoxLCBtYXg6MjAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidiZ0dyYWRpZW50JywgbGFiZWw6J0JHIEdyYWRpZW50JywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQxJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAxJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDInLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDInLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MycsIGxhYmVsOidCRyBIdWUgU2hpZnQgMycsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2Zsb3cnLCBsYWJlbDonRmxvdyBGaWVsZCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidmbG93QW1wJywgbGFiZWw6J0Zsb3cgQW1wJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTY2FsZScsIGxhYmVsOidGbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAwNSwgbWF4OjAuMDIsIHN0ZXA6MC4wMDA1fSwKICAgICAgICB7a2V5OidmbG93U3BlZWQnLCBsYWJlbDonRmxvdyBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6Mywgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidjbGlja01vZGUnLCBsYWJlbDonQ2xpY2sgTW9kZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5J119LAogICAgICBdOwoKICAgICAgZnVuY3Rpb24gbWFrZVJvdyhsYWJlbCwgaW5wdXQpIHsKICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgcm93LmNsYXNzTmFtZSA9ICdyb3cnOwogICAgICAgIGNvbnN0IGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOyBsLnRleHRDb250ZW50ID0gbGFiZWw7IHJvdy5hcHBlbmRDaGlsZChsKTsKICAgICAgICByb3cuYXBwZW5kQ2hpbGQoaW5wdXQpOyByZXR1cm4gcm93OwogICAgICB9CgogICAgICBmdW5jdGlvbiBhZGRJbnB1dChpdGVtKSB7CiAgICAgICAgbGV0IGlucHV0OwogICAgICAgIGNvbnN0IHYwID0gKGl0ZW0ua2V5IGluIENGRykgPyBDRkdbaXRlbS5rZXldIDogaXRlbS52YWx1ZTsKICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vbCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0nY2hlY2tib3gnOyBpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LmNoZWNrZWQ7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzZWxlY3QnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpOwogICAgICAgICAgZm9yIChjb25zdCBvcHQgb2YgaXRlbS5vcHRpb25zKSB7IGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsgby52YWx1ZT1vcHQ7IG8udGV4dENvbnRlbnQ9b3B0OyBpZiAob3B0PT09djApIG8uc2VsZWN0ZWQ9dHJ1ZTsgaW5wdXQuYXBwZW5kQ2hpbGQobyk7IH0KICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQudmFsdWU7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSd0ZXh0JzsgaW5wdXQudmFsdWUgPSBTdHJpbmcodjB8fCcnKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpZiAoaXRlbS5rZXk9PT0naGVhZGVyJykgeyB0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmtleT09PSdzdWJoZWFkZXInKSB7IHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIGlucHV0LnZhbHVlKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmtleSA9PT0gJ2h1ZScpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5taW49JzAnOyBpbnB1dC5tYXg9JzM2MCc7IGlucHV0LnN0ZXA9JzEnOyBpbnB1dC52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5taW49JzAnOyBudW1iZXIubWF4PSczNjAnOyBudW1iZXIuc3RlcD0nMSc7IG51bWJlci52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZT1pbnB1dC52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWU9bnVtYmVyLnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBodWVDaGFuZ2VkKHZhbCl7CiAgICAgICAgICAgIC8vIHNoaWZ0IHBhbGV0dGUgaW1tZWRpYXRlbHkKICAgICAgICAgICAgY29uc3QgZGVsdGEgPSAodmFsIC0gcGFsZXR0ZUh1ZSk7CiAgICAgICAgICAgIHBhbGV0dGVIdWUgPSB2YWw7CiAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGh1ZVtpXSA9IChodWVbaV0gKyBkZWx0YSkgJSAzNjA7IH0KICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHt2YWx9LCA4NSUsIDYyJSlgKTsKICAgICAgICAgICAgdXBkYXRlVXJsRnJvbUNmZyh7aHVlOlN0cmluZyh2YWwpfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsgLy8gbnVtZXJpYyAocmFuZ2UgKyBudW1iZXIgcGFpcikKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBpbnB1dC5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBpbnB1dC5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgbnVtYmVyLm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIG51bWJlci5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGlucHV0LnZhbHVlID0gU3RyaW5nKHYwKTsgbnVtYmVyLnZhbHVlID0gU3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWUgPSBpbnB1dC52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZSA9IG51bWJlci52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBudW1DaGFuZ2VkKHZhbCl7IENGR1tpdGVtLmtleV0gPSB2YWw7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCB2YWwpOyB9CiAgICAgICAgfQogICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCBpbnB1dCkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBhcHBseUNoYW5nZShrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSA9PT0gJ2NvdW50JyB8fCBrZXkgPT09ICdzcGF3bicpIHsgcmVzZWVkKENGRy5jb3VudCk7IH0KICAgICAgICBpZiAoa2V5ID09PSAncXQnKSB7IC8qIGltbWVkaWF0ZSBkcmF3IHRvZ2dsZSB2aWEgQ0ZHICovIH0KICAgICAgICBpZiAoa2V5ID09PSAnc2hvd0h1ZCcpIHsgaHVkRWwuc3R5bGUuZGlzcGxheSA9IENGRy5zaG93SHVkID8gJycgOiAnbm9uZSc7IH0KICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKCk7CiAgICAgIH0KCiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzY2hlbWEpIGFkZElucHV0KGl0ZW0pOwogICAgICAvLyBpbml0aWFsIEhVRCB2aXNpYmlsaXR5CiAgICAgIGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSAoQ0ZHLnNob3dIdWQ9PT1mYWxzZSkgPyAnbm9uZScgOiAnJzsKCiAgICAgIC8vIGtleWJvYXJkIHRvZ2dsZXMgKGFmdGVyIGJ1aWxkaW5nIHBhbmVsKQogICAgICBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHsKICAgICAgICBjb25zdCBrID0gZS5rZXkudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoayA9PT0gJ3EnKSB7IENGRy5xdCA9ICFDRkcucXQ7IHVwZGF0ZVVybEZyb21DZmcoKTsgfQogICAgICAgIGlmIChrID09PSAnYycpIHsgY2ZnUGFuZWwudG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nKTsgfQogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4K" download="boids-dod-quadtree-5-impl.html" class="download-btn" title="Download boids-dod-quadtree-5-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=266 · spawn=centerburst · bounce · triangle · plus-lighter · hue=248 · qtCap=16" data-filename="boids-dod-quadtree-17-impl.html"><a href="boids-dod-quadtree-17-impl.html" target="viewer"><strong>Boids DOD+QT · N=266 · spawn=centerburst · bounce · triangle · plus-lighter · hue=248 · qtCap=16</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTI2NiDCtyBzcGF3bj1jZW50ZXJidXJzdCDCtyBib3VuY2UgwrcgdHJpYW5nbGUgwrcgcGx1cy1saWdodGVyIMK3IGh1ZT0yNDggwrcgcXRDYXA9MTY8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICBodG1sLCBib2R5IHsgaGVpZ2h0OiAxMDAlOyBtYXJnaW46IDA7IH0KICAgICAgYm9keSB7CiAgICAgICAgYmFja2dyb3VuZDogIzA1MDcwYTsKICAgICAgICBjb2xvcjogI2U2ZWRmMzsKICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIGZvbnQtZmFtaWx5OiB1aS1zYW5zLXNlcmlmLCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIFNlZ29lIFVJLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsICJBcHBsZSBDb2xvciBFbW9qaSIsICJTZWdvZSBVSSBFbW9qaSI7CiAgICAgIH0KICAgICAgI3NjZW5lIHsgZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMDB2dzsgaGVpZ2h0OiAxMDB2aDsgfQogICAgICAub3ZlcmxheSB7IHBvc2l0aW9uOiBmaXhlZDsgaW5zZXQ6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gMWZyIGF1dG87IH0KICAgICAgLnRpdGxlIHsgbWFyZ2luOiAxOHB4IDIwcHggMnB4OyBmb250LXdlaWdodDogNzAwOyBmb250LXNpemU6IGNsYW1wKDE4cHgsIDN2dywgMjhweCk7IGxldHRlci1zcGFjaW5nOiAwLjJweDsgY29sb3I6IHZhcigtLWFjY2VudCwgIzdkZDNmYyk7IHRleHQtc2hhZG93OiAwIDAgMTBweCBjb2xvci1taXgoaW4gb2tsYWIsIHZhcigtLWFjY2VudCwgIzdkZDNmYykgODAlLCAjMDAwIDIwJSk7IH0KICAgICAgLnN1YnRpdGxlIHsgbWFyZ2luOiAwIDIwcHggMTBweDsgZm9udC13ZWlnaHQ6IDUwMDsgZm9udC1zaXplOiBjbGFtcCgxMnB4LCAydncsIDE2cHgpOyBvcGFjaXR5OiAwLjg1OyB9CiAgICAgIC5odWQgeyBwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IDEycHg7IGJvdHRvbTogMTJweDsgcGFkZGluZzogOHB4IDEwcHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA0MDsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoOHB4KSBzYXR1cmF0ZSgxMjAlKTsgZm9udC1zaXplOiAxMnB4OyBsaW5lLWhlaWdodDogMS40OyB9CiAgICAgIC5odWQgc3Ryb25nIHsgY29sb3I6IHZhcigtLWFjY2VudCwgIzdkZDNmYyk7IH0KICAgICAgLmNmZ0J0biB7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAxMnB4OyByaWdodDogMTJweDsgei1pbmRleDogMTA7IHBvaW50ZXItZXZlbnRzOiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJhY2tncm91bmQ6ICMwYjEyMjBjYzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlci1yYWRpdXM6IDhweDsgcGFkZGluZzogNnB4IDhweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgIC5jb25maWdQYW5lbCB7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiA1NnB4OyByaWdodDogMTJweDsgd2lkdGg6IG1pbigzODBweCwgOTB2dyk7IG1heC1oZWlnaHQ6IDgwdmg7IG92ZXJmbG93OiBhdXRvOyB6LWluZGV4OiAyMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJhY2tncm91bmQ6ICMwYjEyMjBlNjsgY29sb3I6ICNlNmVkZjM7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYm9yZGVyLXJhZGl1czogMTBweDsgYm94LXNoYWRvdzogMCAxMHB4IDQwcHggIzAwMDg7IGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KSBzYXR1cmF0ZSgxMjAlKTsgfQogICAgICAuY29uZmlnSGVhZGVyIHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBwYWRkaW5nOiAxMHB4IDEycHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMDAwMDAwNTU7IHBvc2l0aW9uOiBzdGlja3k7IHRvcDogMDsgYmFja2dyb3VuZDogIzBiMTIyMGYyOyB9CiAgICAgIC5jb25maWdCb2R5IHsgcGFkZGluZzogMTBweCAxMnB4OyBkaXNwbGF5OiBncmlkOyBnYXA6IDEwcHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJvdyB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIGF1dG87IGdhcDogOHB4OyBhbGlnbi1pdGVtczogY2VudGVyOyB9CiAgICAgIC5jb25maWdCb2R5IC5yYW5nZVJvdyB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDcycHg7IGdhcDogOHB4OyB9CiAgICAgIC5jZmdDbG9zZSB7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzEyMWEyYmNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogNnB4OyBwYWRkaW5nOiA0cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXQsIC5jb25maWdCb2R5IHNlbGVjdCB7IGZvbnQtc2l6ZTogMTRweDsgcGFkZGluZzogNnB4IDhweDsgYmFja2dyb3VuZDogIzEwMTgyNzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYm9yZGVyLXJhZGl1czogNnB4OyB9CiAgICAgIC5jb25maWdCb2R5IGlucHV0W3R5cGU9cmFuZ2VdIHsgcGFkZGluZzogMDsgaGVpZ2h0OiAyOHB4OyBhY2NlbnQtY29sb3I6IHZhcigtLWFjY2VudCwgIzdkZDNmYyk7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyB9CiAgICA8L3N0eWxlPgogIDwvaGVhZD4KICA8Ym9keT4KICAgIDxjYW52YXMgaWQ9InNjZW5lIj48L2NhbnZhcz4KICAgIDxkaXYgY2xhc3M9Im92ZXJsYXkiPgogICAgICA8ZGl2IGNsYXNzPSJ0aXRsZSIgaWQ9InRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ic3VidGl0bGUiIGlkPSJzdWJ0aXRsZSI+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9Imh1ZCIgaWQ9Imh1ZCI+PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxidXR0b24gaWQ9ImNmZ0J0biIgY2xhc3M9ImNmZ0J0biIgYXJpYS1sYWJlbD0iT3BlbiBjb25maWciPuKame+4jjwvYnV0dG9uPgogICAgPGRpdiBpZD0iY29uZmlnIiBjbGFzcz0iY29uZmlnUGFuZWwiIGhpZGRlbj4KICAgICAgPGRpdiBjbGFzcz0iY29uZmlnSGVhZGVyIj4KICAgICAgICA8c3Ryb25nPkNvbmZpZzwvc3Ryb25nPgogICAgICAgIDxidXR0b24gaWQ9ImNmZ0Nsb3NlIiBjbGFzcz0iY2ZnQ2xvc2UiIGFyaWEtbGFiZWw9IkNsb3NlIj7inJU8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgaWQ9ImNvbmZpZ0JvZHkiIGNsYXNzPSJjb25maWdCb2R5Ij48L2Rpdj4KICAgIDwvZGl2PgogICAgPHNjcmlwdD4KICAgICAgJ3VzZSBzdHJpY3QnOwoKICAgICAgLy8gVVJMIHBhcmFtZXRlcnMKICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpOwogICAgICBjb25zdCBERUZBVUxUX0hVRSA9IDI0ODsKICAgICAgY29uc3QgQkFTRV9IVUUgPSBjbGFtcEludChwYXJzZUludChwYXJhbXMuZ2V0KCdodWUnKSksIDAsIDM2MCwgREVGQVVMVF9IVUUpOwogICAgICBsZXQgcGFsZXR0ZUh1ZSA9IEJBU0VfSFVFOwogICAgICBjb25zdCBIRUFERVIgPSBwYXJhbXMuZ2V0KCdoZWFkZXInKSB8fCAnQm9pZHMg4oCUIERhdGEtT3JpZW50ZWQgKyBRdWFkdHJlZSc7CiAgICAgIGNvbnN0IFNVQkhFQURFUiA9IHBhcmFtcy5nZXQoJ3N1YmhlYWRlcicpIHx8ICdTaG9ja3dhdmVzIG9uIGNsaWNrL2RyYWcgwrcgcXVhZHRyZWUgdml6IG9uJzsKICAgICAgLy8gUXVhZHRyZWUgdml6IGlzIGhhbmRsZWQgYnkgQ0ZHLnF0OyBVUkwgcGFyYW0gJ3F0JyBvdmVycmlkZXMgaXQuCgogICAgICAvLyBET00KICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjZW5lJyk7CiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pOwogICAgICBjb25zdCB0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJyk7CiAgICAgIGNvbnN0IHN1YnRpdGxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VidGl0bGUnKTsKICAgICAgY29uc3QgaHVkRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHVkJyk7CgogICAgICAvLyBTdHlsZSBob29rCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQnLCBgaHNsKCR7cGFsZXR0ZUh1ZX0sIDg1JSwgNjIlKWApOwogICAgICB0aXRsZUVsLnRleHRDb250ZW50ID0gSEVBREVSOwogICAgICBzdWJ0aXRsZUVsLnRleHRDb250ZW50ID0gU1VCSEVBREVSOwoKICAgICAgLy8gQ29uZmlnIChpbmplY3RlZCBieSBnZW5lcmF0b3IpIOKAlCBtdXRhYmxlIGF0IHJ1bnRpbWUKICAgICAgbGV0IENGRyA9IHsiY291bnQiOiAyNjYsICJ2aXNpb24iOiAxMDAsICJzZXAiOiAyMCwgIm1heFNwZWVkIjogMi41NywgIm1heEZvcmNlIjogMC4wODksICJtaW5TcGVlZCI6IDAuOTQsICJhbGlnblciOiAxLjExLCAiY29oZXNpb25XIjogMC42NCwgInNlcGFyYXRpb25XIjogMS42OCwgInRyYWlsQWxwaGEiOiAwLjE0LCAicXRDYXAiOiAxNiwgIndyYXAiOiBmYWxzZSwgInNoYXBlIjogInRyaWFuZ2xlIiwgImJsZW5kIjogInBsdXMtbGlnaHRlciIsICJsaW5lV2lkdGgiOiAxLjEyLCAiZ2xvd0Jhc2UiOiAxOSwgImdsb3dNYXgiOiAyOSwgImdsb3dTY2FsZSI6IDEwLjIsICJjb21ldFNpemUiOiA4LjMxLCAiYmdHcmFkaWVudCI6IHRydWUsICJiZ0h1ZVNoaWZ0MSI6IC0zNCwgImJnSHVlU2hpZnQyIjogNTgsICJiZ0h1ZVNoaWZ0MyI6IDgzLCAic3Bhd24iOiAiY2VudGVyYnVyc3QiLCAicXQiOiB0cnVlLCAic2hvd0h1ZCI6IHRydWUsICJmbG93IjogZmFsc2UsICJmbG93QW1wIjogMC45OSwgImZsb3dTY2FsZSI6IDAuMDA3NiwgImZsb3dTcGVlZCI6IDEuMTUsICJjbGlja01vZGUiOiAicmFuZG9tIn07CiAgICAgIENGRy5taW5TcGVlZCA9IENGRy5taW5TcGVlZCA/PyAwLjg7CiAgICAgIENGRy5xdCA9ICh0eXBlb2YgQ0ZHLnF0ID09PSAnYm9vbGVhbicpID8gQ0ZHLnF0IDogdHJ1ZTsKICAgICAgQ0ZHLmNsaWNrTW9kZSA9IENGRy5jbGlja01vZGUgfHwgJ3JhbmRvbSc7CiAgICAgIENGRy5jbGlja01vZGVzID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWwogICAgICAgICdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5Jywnc3R1bicsJ2ZlYXInLCdhdHRyYWN0Jywnb3JiaXRDVycsJ29yYml0Q0NXJywKICAgICAgICAnc3BpcmFsT3V0Jywnc3BpcmFsSW4nLCdmcmVlemUnLCdzY3JhbWJsZScsJ3NjYXR0ZXInLCdtYWduZXQnLCdwdWxzZScsCiAgICAgICAgJ3dhcnAnLCdncm93JywndHVubmVsJywncmlwcGxlJywnaml0dGVyYnVyc3QnLCdjaHJvbWFidXJzdCcsJ3Nsb3dkb3duJywnc3BlZWR1cCcsCiAgICAgICAgJ3BlcmxpbkRyYWcnLCdsaXNzYVB1bHNlJywnbWV0ZW9yJywKICAgICAgICAvLyBzdGVlcmluZy13ZWlnaHQgZWZmZWN0cwogICAgICAgICdhbGlnbicsJ2RlYWxpZ24nLCdjb2hlcmUnLCdsb29zZW4nLCdzZXBhcmF0ZScsJ2Rpc3BlcnNlJwogICAgICBdOwoKICAgICAgZnVuY3Rpb24gcGFyc2VCb29sKHYsIGQpIHsKICAgICAgICBpZiAodiA9PSBudWxsKSByZXR1cm4gZDsKICAgICAgICBjb25zdCBzID0gU3RyaW5nKHYpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKFsnMScsJ3RydWUnLCd5ZXMnLCdvbiddLmluY2x1ZGVzKHMpKSByZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAoWycwJywnZmFsc2UnLCdubycsJ29mZiddLmluY2x1ZGVzKHMpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIGQ7CiAgICAgIH0KCiAgICAgIC8vIFVSTCBvdmVycmlkZXMgZm9yIGNvbmZpZwogICAgICAoZnVuY3Rpb24gdXJsT3ZlcnJpZGUoKXsKICAgICAgICBjb25zdCBpbnRLZXlzID0gWydjb3VudCcsJ3Zpc2lvbicsJ3NlcCcsJ3F0Q2FwJywnYmdIdWVTaGlmdDEnLCdiZ0h1ZVNoaWZ0MicsJ2JnSHVlU2hpZnQzJ107CiAgICAgICAgY29uc3QgbnVtS2V5cyA9IFsnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCddOwogICAgICAgIGNvbnN0IGJvb2xLZXlzID0gWyd3cmFwJywnYmdHcmFkaWVudCcsJ3F0JywnZmxvdycsJ3Nob3dIdWQnXTsKICAgICAgICBjb25zdCBzdHJLZXlzID0gWydzaGFwZScsJ2JsZW5kJywnc3Bhd24nXTsKICAgICAgICBmb3IgKGNvbnN0IGsgb2YgaW50S2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBNYXRoLm1heCgtOTk5OTksIE1hdGgubWluKDk5OTk5LCBwYXJzZUludCh2KSkpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIG51bUtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gTnVtYmVyKHYpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGJvb2xLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IHBhcnNlQm9vbCh2LCBDRkdba10pOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIHN0cktleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gdjsgfQogICAgICAgIGNvbnN0IGNtID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlJyk7IGlmIChjbSkgQ0ZHLmNsaWNrTW9kZSA9IGNtOwogICAgICAgIGNvbnN0IGNtcyA9IHBhcmFtcy5nZXQoJ2NsaWNrTW9kZXMnKTsgaWYgKGNtcykgQ0ZHLmNsaWNrTW9kZXMgPSBjbXMuc3BsaXQoJywnKTsKICAgICAgfSkoKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVVybEZyb21DZmcoZXh0cmE9e30pIHsKICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdodWUnLCBwYWxldHRlSHVlKTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaGVhZGVyJywgdGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N1YmhlYWRlcicsIHN1YnRpdGxlRWwudGV4dENvbnRlbnQpOwogICAgICAgIGNvbnN0IGtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywncXRDYXAnLCd3cmFwJywnc2hhcGUnLCdibGVuZCcsJ2xpbmVXaWR0aCcsJ2dsb3dCYXNlJywnZ2xvd01heCcsJ2dsb3dTY2FsZScsJ2NvbWV0U2l6ZScsJ2JnR3JhZGllbnQnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnLCdxdCcsJ2NsaWNrTW9kZScsJ2NsaWNrTW9kZXMnLCdmbG93JywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCcsJ3NwYXduJywnc2hvd0h1ZCddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB1cmwuc2VhcmNoUGFyYW1zLnNldChrLCBTdHJpbmcoQ0ZHW2tdKSk7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGVzICYmIEFycmF5LmlzQXJyYXkoQ0ZHLmNsaWNrTW9kZXMpKSB1cmwuc2VhcmNoUGFyYW1zLnNldCgnY2xpY2tNb2RlcycsIENGRy5jbGlja01vZGVzLmpvaW4oJywnKSk7CiAgICAgICAgZm9yIChjb25zdCBbayx2XSBvZiBPYmplY3QuZW50cmllcyhleHRyYSkpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIHYpOwogICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsICcnLCB1cmwudG9TdHJpbmcoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IFRBVSA9IE1hdGguUEkgKiAyOwoKICAgICAgLy8gQ2FudmFzIHNpemluZyB3aXRoIERQUgogICAgICBsZXQgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgICAgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3IoaW5uZXJXaWR0aCAqIERQUik7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IoaW5uZXJIZWlnaHQgKiBEUFIpOwogICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oRFBSLCAwLCAwLCBEUFIsIDAsIDApOwogICAgICAgIGNsZWFySGFyZCgpOwogICAgICB9CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZSk7CiAgICAgIHJlc2l6ZSgpOwoKICAgICAgZnVuY3Rpb24gY2xlYXJIYXJkKCkgewogICAgICAgIGlmIChDRkcuYmdHcmFkaWVudCkgewogICAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChpbm5lcldpZHRoKjAuNjUsIGlubmVySGVpZ2h0KjAuMzUsIE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjE1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lcldpZHRoKjAuNSwgaW5uZXJIZWlnaHQqMC41LCBNYXRoLmh5cG90KGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjcpOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQxKSUzNjB9IDgwJSAxMCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjUsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDIpJTM2MH0gNzAlIDglKWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMS4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQzKSUzNjB9IDYwJSA2JSlgKTsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwNTA3MGEnOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBjbGFtcEludChuLCBsbywgaGksIGZhbGxiYWNrKSB7CiAgICAgICAgbiA9IE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiBmYWxsYmFjazsKICAgICAgICByZXR1cm4gTWF0aC5tYXgobG8sIE1hdGgubWluKGhpLCBuKSk7CiAgICAgIH0KCiAgICAgIC8vIERyaWZ0IGEgaHVlIHZhbHVlIHRvd2FyZCBhIHRhcmdldCBvbiBhIGNpcmN1bGFyIGNvbG9yIHdoZWVsCiAgICAgIGZ1bmN0aW9uIGFwcHJvYWNoSHVlKGgsIHRhcmdldCwgcmF0ZSkgewogICAgICAgIC8vIHJhdGUgaXMgMC4uMSBmcmFjdGlvbiB0b3dhcmQgdGFyZ2V0IHBlciBjYWxsCiAgICAgICAgbGV0IGQgPSAoKHRhcmdldCAtIGggKyA1NDApICUgMzYwKSAtIDE4MDsgLy8gc2hvcnRlc3Qgc2lnbmVkIGRlbHRhIFstMTgwLDE4MCkKICAgICAgICByZXR1cm4gKGggKyBkICogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcmF0ZSkpICsgMzYwKSAlIDM2MDsKICAgICAgfQoKICAgICAgLy8gTGlnaHR3ZWlnaHQgMkQgdmFsdWUgbm9pc2UgKGZvciBwZXJsaW4tbGlrZSBkcmFnKQogICAgICBsZXQgbm9pc2VTZWVkID0gKEJBU0VfSFVFICogMTY2NDUyNSArIDEwMTM5MDQyMjMpICYgMHhmZmZmZmZmZjsKICAgICAgZnVuY3Rpb24gZnJhY3QoeCl7IHJldHVybiB4IC0gTWF0aC5mbG9vcih4KTsgfQogICAgICBmdW5jdGlvbiBfcmFuZChpeCwgaXkpewogICAgICAgIGNvbnN0IGsgPSAoaXggKiAzNzQ3NjEzOTMgKyBpeSAqIDY2ODI2NTI2MyArIG5vaXNlU2VlZCkgPj4+IDA7CiAgICAgICAgcmV0dXJuIGZyYWN0KE1hdGguc2luKGspICogNDM3NTguNTQ1Myk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gbm9pc2UyKHgsIHkpewogICAgICAgIGNvbnN0IHhpID0gTWF0aC5mbG9vcih4KSwgeWkgPSBNYXRoLmZsb29yKHkpOwogICAgICAgIGNvbnN0IHhmID0geCAtIHhpLCB5ZiA9IHkgLSB5aTsKICAgICAgICBjb25zdCB1ID0geGYqeGYqKDMtMip4ZiksIHYgPSB5Zip5ZiooMy0yKnlmKTsKICAgICAgICBjb25zdCB2MDAgPSBfcmFuZCh4aSwgeWkpLCB2MTAgPSBfcmFuZCh4aSsxLCB5aSksIHYwMSA9IF9yYW5kKHhpLCB5aSsxKSwgdjExID0gX3JhbmQoeGkrMSwgeWkrMSk7CiAgICAgICAgY29uc3QgeDEgPSB2MDAqKDEtdSkgKyB2MTAqdSwgeDIgPSB2MDEqKDEtdSkgKyB2MTEqdTsKICAgICAgICByZXR1cm4geDEqKDEtdikgKyB4Mip2OwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHBlcmxpblZlYyh4LCB5LCBzY2FsZSwgYW1wKXsKICAgICAgICBjb25zdCBuID0gbm9pc2UyKHgqc2NhbGUsIHkqc2NhbGUpOwogICAgICAgIGNvbnN0IGEgPSBuICogVEFVOwogICAgICAgIHJldHVybiBbTWF0aC5jb3MoYSkqYW1wLCBNYXRoLnNpbihhKSphbXBdOwogICAgICB9CgogICAgICAvLyBTZWVkZWQgUFJORyBmb3Igc3VidGxlIGRldGVybWluaXNtIGZyb20gQkFTRV9IVUUKICAgICAgbGV0IF9zZWVkID0gKEJBU0VfSFVFICogOTMwMSArIDQ5Mjk3KSAlIDIzMzI4MDsKICAgICAgZnVuY3Rpb24gcm5kKCkgeyBfc2VlZCA9ICgxMTAzNTE1MjQ1ICogX3NlZWQgKyAxMjM0NSkgJiAweDdmZmZmZmZmOyByZXR1cm4gKF9zZWVkID4+PiA4KSAvIDB4N2ZmZmZmOyB9CiAgICAgIGZ1bmN0aW9uIHJhbmQobWluLCBtYXgpIHsgcmV0dXJuIHJuZCgpICogKG1heCAtIG1pbikgKyBtaW47IH0KCiAgICAgIC8vIERhdGEtT3JpZW50ZWQgU3RhdGUgKFNvQSkg4oCUIGR5bmFtaWMKICAgICAgbGV0IE4gPSBDRkcuY291bnQ7CiAgICAgIGxldCBweCwgcHksIHZ4LCB2eSwgYXgsIGF5LCBodWUsIHNwZCwgcHJldngsIHByZXZ5OwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgbW9kaWZpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgc2l6ZU11bCwgdkJvb3N0LCBodWVPZmYsIGppdEFtcDsKICAgICAgLy8gdHJhbnNpZW50IHBlci1ib2lkIHN0ZWVyaW5nIG11bHRpcGxpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgYWxpZ25NdWwsIGNvaGVzaW9uTXVsLCBzZXBhcmF0aW9uTXVsOwoKICAgICAgZnVuY3Rpb24gYWxsb2MobikgewogICAgICAgIHB4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgcHkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHZ4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdnkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGF4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgYXkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGh1ZSA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNwZCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgcHJldnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBwcmV2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgc2l6ZU11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHZCb29zdCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGh1ZU9mZiA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGppdEFtcCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYWxpZ25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBjb2hlc2lvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNlcGFyYXRpb25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzZWVkQm9pZHMoKSB7CiAgICAgICAgY29uc3QgbW9kZSA9IENGRy5zcGF3biB8fCAncmFuZG9tJzsKICAgICAgICBpZiAobW9kZSA9PT0gJ2NpcmNsZScpIHsKICAgICAgICAgIGNvbnN0IGN4ID0gaW5uZXJXaWR0aC8yLCBjeSA9IGlubmVySGVpZ2h0LzIsIHIgPSBNYXRoLm1pbihpbm5lcldpZHRoLCBpbm5lckhlaWdodCkvMzsKICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGNvbnN0IHQgPSBNYXRoLnJhbmRvbSgpKk1hdGguUEkqMjsgcHhbaV09Y3grTWF0aC5jb3ModCkqcjsgcHlbaV09Y3krTWF0aC5zaW4odCkqcjsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2dyaWQnKSB7CiAgICAgICAgICBjb25zdCBjb2xzPU1hdGgubWF4KDEwLCBNYXRoLmZsb29yKE1hdGguc3FydChOKSkpOyBjb25zdCByb3dzPU1hdGguY2VpbChOL2NvbHMpOwogICAgICAgICAgY29uc3QgZ3g9aW5uZXJXaWR0aC8oY29scysxKSwgZ3k9aW5uZXJIZWlnaHQvKHJvd3MrMSk7IGxldCBrPTA7CiAgICAgICAgICBmb3IgKGxldCB5PTE7eTw9cm93czt5KyspIGZvciAobGV0IHg9MTt4PD1jb2xzO3grKykgeyBpZiAoaz49TikgYnJlYWs7IHB4W2tdPWd4Kng7IHB5W2tdPWd5Knk7IHZ4W2tdPXJhbmQoLTEsMSk7IHZ5W2tdPXJhbmQoLTEsMSk7IGsrKzsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2NlbnRlcmJ1cnN0JykgewogICAgICAgICAgY29uc3QgY3g9aW5uZXJXaWR0aC8yLCBjeT1pbm5lckhlaWdodC8yOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgYT1NYXRoLnJhbmRvbSgpKk1hdGguUEkqMiwgZD1yYW5kKDAsIE1hdGgubWluKGlubmVyV2lkdGgsaW5uZXJIZWlnaHQpLzIpOyBweFtpXT1jeCtNYXRoLmNvcyhhKSpkOyBweVtpXT1jeStNYXRoLnNpbihhKSpkOyB2eFtpXT1NYXRoLmNvcyhhKTsgdnlbaV09TWF0aC5zaW4oYSk7IH0KICAgICAgICB9IGVsc2UgeyAvLyByYW5kb20KICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IHB4W2ldPXJhbmQoMCxpbm5lcldpZHRoKTsgcHlbaV09cmFuZCgwLGlubmVySGVpZ2h0KTsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0KICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgICAgY29uc3QgbT1NYXRoLmh5cG90KHZ4W2ldLHZ5W2ldKXx8MTsgdnhbaV0qPTIuMC9tOyB2eVtpXSo9Mi4wL207CiAgICAgICAgICBodWVbaV0gPSAocGFsZXR0ZUh1ZSArIHJhbmQoLTMwLCAzMCkpICUgMzYwOyBwcmV2eFtpXT1weFtpXTsgcHJldnlbaV09cHlbaV07CiAgICAgICAgICBzaXplTXVsW2ldPTA7IHZCb29zdFtpXT0wOyBodWVPZmZbaV09MDsgaml0QW1wW2ldPTA7CiAgICAgICAgICBhbGlnbk11bFtpXT0wOyBjb2hlc2lvbk11bFtpXT0wOyBzZXBhcmF0aW9uTXVsW2ldPTA7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiByZXNlZWQobikgewogICAgICAgIE4gPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKG4pKTsKICAgICAgICBhbGxvYyhOKTsgc2VlZEJvaWRzKCk7CiAgICAgIH0KCiAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKCiAgICAgIC8vIFF1YWR0cmVlIGltcGxlbWVudGF0aW9uCiAgICAgIGNsYXNzIFFUTm9kZSB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCwgY2FwKSB7CiAgICAgICAgICB0aGlzLnggPSB4OyB0aGlzLnkgPSB5OyB0aGlzLncgPSB3OyB0aGlzLmggPSBoOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7IHRoaXMuY291bnQgPSAwOyB0aGlzLmlkeCA9IG5ldyBJbnQzMkFycmF5KGNhcCk7CiAgICAgICAgICB0aGlzLnB0c3ggPSBuZXcgRmxvYXQzMkFycmF5KGNhcCk7IHRoaXMucHRzeSA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMuZGl2aWRlZCA9IGZhbHNlOyB0aGlzLmNoaWxkcmVuID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNsYXNzIFF1YWR0cmVlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMucm9vdCA9IG5ldyBRVE5vZGUoeCwgeSwgdywgaCwgY2FwKTsKICAgICAgICAgIHRoaXMuY2FwID0gY2FwOwogICAgICAgIH0KCiAgICAgICAgaW5zZXJ0KGksIHgsIHksIG5vZGUgPSB0aGlzLnJvb3QpIHsKICAgICAgICAgIGlmICh4IDwgbm9kZS54IHx8IHkgPCBub2RlLnkgfHwgeCA+PSBub2RlLnggKyBub2RlLncgfHwgeSA+PSBub2RlLnkgKyBub2RlLmgpIHJldHVybiBmYWxzZTsKICAgICAgICAgIGlmIChub2RlLmNvdW50IDwgbm9kZS5jYXAgJiYgIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBjb25zdCBqID0gbm9kZS5jb3VudCsrOyBub2RlLmlkeFtqXSA9IGk7IG5vZGUucHRzeFtqXSA9IHg7IG5vZGUucHRzeVtqXSA9IHk7IHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHRoaXMuc3ViZGl2aWRlKG5vZGUpOwogICAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgIH0KCiAgICAgICAgc3ViZGl2aWRlKG5vZGUpIHsKICAgICAgICAgIG5vZGUuZGl2aWRlZCA9IHRydWU7CiAgICAgICAgICBjb25zdCBodyA9IG5vZGUudy8yLCBoaCA9IG5vZGUuaC8yOwogICAgICAgICAgbm9kZS5jaGlsZHJlbiA9IFsKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngsICAgICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5XCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54K2h3LCAgICBub2RlLnksICAgICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBORQogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU1cKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueStoaCwgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIFNFCiAgICAgICAgICBdOwogICAgICAgICAgLy8gcmVpbnNlcnQgZXhpc3RpbmcgcG9pbnRzCiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG5vZGUuY291bnQ7IGsrKykgewogICAgICAgICAgICBjb25zdCBpID0gbm9kZS5pZHhba107IGNvbnN0IHggPSBub2RlLnB0c3hba107IGNvbnN0IHkgPSBub2RlLnB0c3lba107CiAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgICAgfQogICAgICAgICAgbm9kZS5jb3VudCA9IDA7IC8vIGNsZWFyIGxlYWYgc3RvcmFnZQogICAgICAgIH0KCiAgICAgICAgcXVlcnkoY3gsIGN5LCByLCBvdXQpIHsKICAgICAgICAgIHRoaXMuX3F1ZXJ5Tm9kZSh0aGlzLnJvb3QsIGN4LCBjeSwgciwgb3V0KTsKICAgICAgICB9CiAgICAgICAgX3F1ZXJ5Tm9kZShub2RlLCBjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgLy8gY2lyY2xlLXJlY3QgcXVpY2sgcmVqZWN0CiAgICAgICAgICBjb25zdCByeD1ub2RlLngsIHJ5PW5vZGUueSwgcnc9bm9kZS53LCByaD1ub2RlLmg7CiAgICAgICAgICBsZXQgbnggPSBNYXRoLm1heChyeCwgTWF0aC5taW4oY3gsIHJ4K3J3KSk7CiAgICAgICAgICBsZXQgbnkgPSBNYXRoLm1heChyeSwgTWF0aC5taW4oY3ksIHJ5K3JoKSk7CiAgICAgICAgICBjb25zdCBkaXN0ID0gKGN4LW54KSooY3gtbngpKyhjeS1ueSkqKGN5LW55KTsKICAgICAgICAgIGlmIChkaXN0ID4gcipyKSByZXR1cm47CgogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHsKICAgICAgICAgICAgZm9yIChsZXQgaz0wO2s8bm9kZS5jb3VudDtrKyspIHsgb3V0LnB1c2gobm9kZS5pZHhba10pOyB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9xdWVyeU5vZGUobm9kZS5jaGlsZHJlbltjXSwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KCiAgICAgICAgZHJhdyhjdHgpIHsKICAgICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgaHNsKCR7KHBhbGV0dGVIdWUrMTgwKSUzNjB9IDgwJSA3MCUgLyAwLjE0KWA7CiAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTsKICAgICAgICAgIHRoaXMuX2RyYXdOb2RlKGN0eCwgdGhpcy5yb290KTsKICAgICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgfQogICAgICAgIF9kcmF3Tm9kZShjdHgsIG5vZGUpIHsKICAgICAgICAgIGN0eC5zdHJva2VSZWN0KG5vZGUueCwgbm9kZS55LCBub2RlLncsIG5vZGUuaCk7CiAgICAgICAgICBpZiAobm9kZS5kaXZpZGVkKSBmb3IgKGxldCBjPTA7Yzw0O2MrKykgdGhpcy5fZHJhd05vZGUoY3R4LCBub2RlLmNoaWxkcmVuW2NdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHMKICAgICAgY29uc3QgZWZmZWN0cyA9IFtdOyAvLyB7eCx5LHQsbGlmZSxzaWduLHR5cGUsLi4uZXh0cmFzfQogICAgICBsZXQgbW91c2VEb3duID0gZmFsc2U7CiAgICAgIGNvbnN0IHBvaW50ZXIgPSB7eDogaW5uZXJXaWR0aC8yLCB5OiBpbm5lckhlaWdodC8yLCB2eDogMCwgdnk6IDAsIHQ6IHBlcmZvcm1hbmNlLm5vdygpfTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksICsxKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCAgIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSBmYWxzZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksIC0xKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBpZiAobW91c2VEb3duKSBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CgogICAgICBmdW5jdGlvbiBwaWNrQ2xpY2tUeXBlKCkgewogICAgICAgIGlmIChDRkcuY2xpY2tNb2RlICYmIENGRy5jbGlja01vZGUgIT09ICdyYW5kb20nKSByZXR1cm4gQ0ZHLmNsaWNrTW9kZTsKICAgICAgICBjb25zdCBsaXN0ID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWydzaG9jayddOwogICAgICAgIHJldHVybiBsaXN0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpsaXN0Lmxlbmd0aCldIHx8ICdzaG9jayc7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gc3Bhd25FZmZlY3QoeCwgeSwgc2lnbikgewogICAgICAgIGNvbnN0IHR5cGUgPSBwaWNrQ2xpY2tUeXBlKCk7CiAgICAgICAgY29uc3QgbGlmZSA9ICh0eXBlPT09J2ltcGxvc2lvbicpID8gMC45IDogKHR5cGU9PT0ndm9ydGV4JyB8fCB0eXBlPT09J21ldGVvcicgPyAxLjggOiAxLjIpOwogICAgICAgIGNvbnN0IEUgPSB7IHgsIHksIHQ6IDAsIGxpZmUsIHNpZ24sIHR5cGUgfTsKICAgICAgICBpZiAodHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICBjb25zdCBzcCA9IE1hdGgubWluKDMsIE1hdGguaHlwb3QocG9pbnRlci52eCwgcG9pbnRlci52eSkqMTIwKTsKICAgICAgICAgIEUuYSA9IDIgKyBNYXRoLmZsb29yKHNwJTQpOyBFLmIgPSAzICsgTWF0aC5mbG9vcigoc3AqMS43KSU0KTsgRS5waGFzZSA9IE1hdGgucmFuZG9tKCkqVEFVOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGNvbnN0IHNjYWxlID0gOTAwOyBFLnZ4ID0gcG9pbnRlci52eCpzY2FsZTsgRS52eSA9IHBvaW50ZXIudnkqc2NhbGU7IEUubWFzcyA9IDIyMCArIE1hdGgucmFuZG9tKCkqMTgwOyBFLmRyYWc9MC45ODsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgRS5zY2FsZSA9IDAuMDA2ICsgTWF0aC5yYW5kb20oKSowLjAwNjsgRS5hbXAgPSAxLjIgKyBNYXRoLnJhbmRvbSgpKjEuMjsKICAgICAgICB9CiAgICAgICAgZWZmZWN0cy5wdXNoKEUpOwogICAgICB9CgogICAgICAvLyBQaHlzaWNzIGhlbHBlcnMKICAgICAgZnVuY3Rpb24gbGltaXQodngsIHZ5LCBtYXgpIHsKICAgICAgICBjb25zdCBtMiA9IHZ4KnZ4ICsgdnkqdnk7IGlmIChtMiA+IG1heCptYXgpIHsKICAgICAgICAgIGNvbnN0IG0gPSBNYXRoLnNxcnQobTIpIHx8IDE7IGNvbnN0IHMgPSBtYXggLyBtOyByZXR1cm4gW3Z4KnMsIHZ5KnNdOwogICAgICAgIH0gcmV0dXJuIFt2eCwgdnldOwogICAgICB9CgogICAgICAvLyBNYWluIGxvb3AKICAgICAgbGV0IGxhc3QgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgbGV0IGZwc0F2ZyA9IDA7CiAgICAgIGZ1bmN0aW9uIGZyYW1lKHQpIHsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWluKDMyLCB0IC0gbGFzdCkgKiAwLjAwMTsgLy8gY2xhbXAKICAgICAgICBsYXN0ID0gdDsKICAgICAgICBjb25zdCBmcHNOb3cgPSAxIC8gTWF0aC5tYXgoMWUtNiwgZHQpOwogICAgICAgIGZwc0F2ZyA9IGZwc0F2ZyA/IChmcHNBdmcqMC45ICsgZnBzTm93KjAuMSkgOiBmcHNOb3c7CiAgICAgICAgY29uc3QgVyA9IGlubmVyV2lkdGgsIEggPSBpbm5lckhlaWdodDsKCiAgICAgICAgLy8gdHJhaWxzOiB0cmFuc2x1Y2VudCBmaWxsCiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7CiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBDRkcudHJhaWxBbHBoYSkpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIFcsIEgpOwogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEJ1aWxkIHF1YWR0cmVlCiAgICAgICAgY29uc3QgcXQgPSBuZXcgUXVhZHRyZWUoMCwgMCwgVywgSCwgQ0ZHLnF0Q2FwKTsKICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgcXQuaW5zZXJ0KGksIHB4W2ldLCBweVtpXSk7CgogICAgICAvLyBBcHBseSBmbG9ja2luZyB2aWEgbmVpZ2hib3IgcXVlcmllcyAoYWRhcHRpdmUgdmlzaW9uIHVuZGVyIGxvYWQpCiAgICAgIGNvbnN0IHZpc2lvbiA9IENGRy52aXNpb24gKiAoZnBzQXZnIDwgNTAgPyAwLjkgOiAxLjApOyBjb25zdCBzZXAgPSBDRkcuc2VwOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBheFtpXT0wOyBheVtpXT0wOyB9CiAgICAgIGxldCB0bXAgPSBbXTsKICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICB0bXAubGVuZ3RoID0gMDsgcXQucXVlcnkocHhbaV0sIHB5W2ldLCB2aXNpb24sIHRtcCk7CiAgICAgICAgICBsZXQgY3g9MCwgY3k9MCwgdnhzdW09MCwgdnlzdW09MCwgc3g9MCwgc3k9MCwgdG90YWw9MCwgc2Nsb3NlPTA7CiAgICAgICAgICBmb3IgKGxldCBrPTA7azx0bXAubGVuZ3RoO2srKykgewogICAgICAgICAgICBjb25zdCBqID0gdG1wW2tdOyBpZiAoaj09PWkpIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBkeCA9IHB4W2pdLXB4W2ldOyBjb25zdCBkeSA9IHB5W2pdLXB5W2ldOwogICAgICAgICAgICBjb25zdCBkMiA9IGR4KmR4ICsgZHkqZHk7IGlmIChkMiA9PT0gMCkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGQgPSBNYXRoLnNxcnQoZDIpOwogICAgICAgICAgICBpZiAoZCA8IHZpc2lvbikgeyB0b3RhbCsrOyBjeCArPSBweFtqXTsgY3kgKz0gcHlbal07IHZ4c3VtICs9IHZ4W2pdOyB2eXN1bSArPSB2eVtqXTsgfQogICAgICAgICAgICBpZiAoZCA8IHNlcCkgeyBzY2xvc2UrKzsgc3ggLT0gZHgvKGR8fDEpOyBzeSAtPSBkeS8oZHx8MSk7IH0KICAgICAgICAgIH0KICAgICAgICAgIGlmICh0b3RhbD4wKSB7CiAgICAgICAgICAgIC8vIGFsaWdubWVudAogICAgICAgICAgICBsZXQgYXh2ID0gKHZ4c3VtL3RvdGFsKSAtIHZ4W2ldOyBsZXQgYXl2ID0gKHZ5c3VtL3RvdGFsKSAtIHZ5W2ldOwogICAgICAgICAgICBjb25zdCBhbGlnblcgPSBDRkcuYWxpZ25XICogKDEgKyAoYWxpZ25NdWxbaV18fDApKTsKICAgICAgICAgICAgW2F4diwgYXl2XSA9IGxpbWl0KGF4diwgYXl2LCBDRkcubWF4Rm9yY2UpOwogICAgICAgICAgICBheFtpXSArPSBheHYgKiBhbGlnblc7IGF5W2ldICs9IGF5diAqIGFsaWduVzsKICAgICAgICAgICAgLy8gY29oZXNpb24KICAgICAgICAgICAgbGV0IGN4diA9IChjeC90b3RhbCAtIHB4W2ldKTsgbGV0IGN5diA9IChjeS90b3RhbCAtIHB5W2ldKTsKICAgICAgICAgICAgY29uc3QgY29oVyA9IENGRy5jb2hlc2lvblcgKiAoMSArIChjb2hlc2lvbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbY3h2LCBjeXZdID0gbGltaXQoY3h2LCBjeXYsIENGRy5tYXhGb3JjZSk7IGF4W2ldICs9IGN4diAqIGNvaFc7IGF5W2ldICs9IGN5diAqIGNvaFc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc2Nsb3NlPjApIHsKICAgICAgICAgICAgbGV0IHN4diA9IHN4OyBsZXQgc3l2ID0gc3k7IFtzeHYsIHN5dl0gPSBsaW1pdChzeHYsIHN5diwgQ0ZHLm1heEZvcmNlKjEuNSk7CiAgICAgICAgICAgIGNvbnN0IHNlcFcgPSBDRkcuc2VwYXJhdGlvblcgKiAoMSArIChzZXBhcmF0aW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIGF4W2ldICs9IHN4diAqIHNlcFc7IGF5W2ldICs9IHN5diAqIHNlcFc7CiAgICAgICAgICB9CiAgICAgICAgLy8gb3B0aW9uYWwgZmxvdyBmaWVsZCBmb3IgcGF0dGVybiB2YXJpZXR5CiAgICAgICAgaWYgKENGRy5mbG93KSB7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmZsb3dTY2FsZSB8fCAwLjAwNDsgY29uc3QgYSA9IENGRy5mbG93QW1wIHx8IDAuNjsgY29uc3Qgc3AgPSBDRkcuZmxvd1NwZWVkIHx8IDAuNjsKICAgICAgICAgIGNvbnN0IHQwID0gcGVyZm9ybWFuY2Uubm93KCkqMC4wMDEqc3A7CiAgICAgICAgICBjb25zdCBmeCA9IE1hdGguc2luKHB5W2ldKnMgKyB0MCkgKiBhOwogICAgICAgICAgY29uc3QgZnkgPSBNYXRoLmNvcyhweFtpXSpzIC0gdDApICogYTsKICAgICAgICAgIGF4W2ldICs9IGZ4OyBheVtpXSArPSBmeTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHM6IH4yMCsgbW9kZXMgaW5jbHVkaW5nIHBlcmxpbkRyYWcsIGxpc3NhUHVsc2UsIG1ldGVvcgogICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInOwogICAgICBsZXQgdG1wMiA9IFtdOwogICAgICBmb3IgKGxldCBlPWVmZmVjdHMubGVuZ3RoLTE7IGU+PTA7IGUtLSkgewogICAgICAgIGNvbnN0IEUgPSBlZmZlY3RzW2VdOyBFLnQgKz0gZHQ7IGNvbnN0IGsgPSBFLnQgLyBFLmxpZmU7CiAgICAgICAgY29uc3QgciA9IDMwICsgayAqIDI2MDsgY29uc3Qgc3RyID0gMS4wIC0gazsKICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgeyBFLnggKz0gKEUudnh8fDApKmR0OyBFLnkgKz0gKEUudnl8fDApKmR0OyBFLnZ4ICo9IChFLmRyYWd8fDEpOyBFLnZ5ICo9IChFLmRyYWd8fDEpOyBFLm1hc3MgKj0gMC45ODU7IH0KICAgICAgICB0bXAyLmxlbmd0aCA9IDA7IHF0LnF1ZXJ5KEUueCwgRS55LCByLCB0bXAyKTsKICAgICAgICBmb3IgKGxldCBpaT0wOyBpaTx0bXAyLmxlbmd0aDsgaWkrKykgewogICAgICAgICAgY29uc3QgaSA9IHRtcDJbaWldOyBjb25zdCBkeCA9IHB4W2ldLUUueDsgY29uc3QgZHkgPSBweVtpXS1FLnk7IGNvbnN0IGQgPSBNYXRoLmh5cG90KGR4LCBkeSl8fDE7CiAgICAgICAgICBjb25zdCBmYWxsID0gKDEgLSBNYXRoLm1pbigxLCBkL3IpKTsKICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgICBjb25zdCB2ID0gcGVybGluVmVjKHB4W2ldLUUueCwgcHlbaV0tRS55LCBFLnNjYWxlfHwwLjAwOCwgKEUuYW1wfHwxLjUpICogZmFsbCk7CiAgICAgICAgICAgIGF4W2ldICs9IHZbMF07IGF5W2ldICs9IHZbMV07IGh1ZU9mZltpXSArPSA0MCpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdsaXNzYVB1bHNlJykgewogICAgICAgICAgICBjb25zdCBhbmcgPSBNYXRoLmF0YW4yKGR5LCBkeCk7CiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNpbihFLmEqYW5nICsgRS5waGFzZSkgKiBNYXRoLmNvcyhFLmIqYW5nIC0gRS5waGFzZSk7CiAgICAgICAgICAgIGNvbnN0IHMgPSB3ICogMi4wICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICAgIGNvbnN0IEcgPSA4MDA7IGNvbnN0IGYgPSBNYXRoLm1pbigzLjAsIChHKihFLm1hc3N8fDIwMCkpLygoZCpkKSsyMDApKTsKICAgICAgICAgICAgYXhbaV0gLT0gKGR4L2QpKmYqZmFsbDsgYXlbaV0gLT0gKGR5L2QpKmYqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOyBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAndm9ydGV4JyB8fCBFLnR5cGU9PT0nb3JiaXRDVycgfHwgRS50eXBlPT09J29yYml0Q0NXJyB8fCBFLnR5cGU9PT0nc3BpcmFsT3V0JyB8fCBFLnR5cGU9PT0nc3BpcmFsSW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nb3JiaXRDQ1cnKSA/IC0xIDogMTsKICAgICAgICAgICAgY29uc3QgdHggPSAtZHkvZCwgdHkgPSBkeC9kOyBsZXQgcyA9IChFLnNpZ24+MD8xOi0xKSAqIDEuMiAqIGZhbGwgKiBkaXI7CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsT3V0JykgeyBzID0gMS4yKmZhbGw7IGF4W2ldICs9IChkeC9kKSpmYWxsKjAuODsgYXlbaV0gKz0gKGR5L2QpKmZhbGwqMC44OyB9CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsSW4nKSB7IHMgPSAtMS4yKmZhbGw7IGF4W2ldIC09IChkeC9kKSpmYWxsKjAuNjsgYXlbaV0gLT0gKGR5L2QpKmZhbGwqMC42OyB9CiAgICAgICAgICAgIGF4W2ldICs9IHR4KnM7IGF5W2ldICs9IHR5KnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IHZCb29zdFtpXSArPSAwLjIqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaW1wbG9zaW9uJyB8fCBFLnR5cGU9PT0nYXR0cmFjdCcgfHwgRS50eXBlPT09J21hZ25ldCcpIHsKICAgICAgICAgICAgY29uc3QgcyA9IChFLnR5cGU9PT0naW1wbG9zaW9uJyA/IC0yLjIgOiAtMS4yKSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjE1KmZhbGw7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc3ByYXknIHx8IEUudHlwZT09PSdzY2F0dGVyJykgewogICAgICAgICAgICBjb25zdCBzID0gKEUuc2lnbj4wPzE6LTEpICogKEUudHlwZT09PSdzY2F0dGVyJz8zLjA6Mi40KSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgdnhbaV0gKz0gKGR4L2QpICogMC4yNSAqIGZhbGw7IHZ5W2ldICs9IChkeS9kKSAqIDAuMjUgKiBmYWxsOyBqaXRBbXBbaV0gKz0gMC4xNSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzdHVuJyB8fCBFLnR5cGU9PT0nZnJlZXplJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gLT0gKEUudHlwZT09PSdmcmVlemUnPzAuNjowLjMpICogZmFsbDsgc2l6ZU11bFtpXSArPSAwLjMqZmFsbDsgdnhbaV0gKj0gMC45NjsgdnlbaV0gKj0gMC45NjsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZmVhcicpIHsKICAgICAgICAgICAgY29uc3QgcyA9IDIuOCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgaml0QW1wW2ldICs9IDAuMjUqZmFsbDsgaHVlT2ZmW2ldICs9IDgwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NjcmFtYmxlJykgewogICAgICAgICAgICB2eFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMS41KmZhbGw7IHZ5W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgaml0QW1wW2ldICs9IDAuMypmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdwdWxzZScgfHwgRS50eXBlPT09J3JpcHBsZScpIHsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKGsqTWF0aC5QSSoyKTsgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2FsaWduJykgewogICAgICAgICAgICBhbGlnbk11bFtpXSArPSAwLjggKiBmYWxsOyBzZXBhcmF0aW9uTXVsW2ldIC09IDAuMyAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2RlYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldIC09IDAuOCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldICs9IDAuMiAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjEgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjb2hlcmUnIHx8IEUudHlwZT09PSd0aWdodGVuJyB8fCBFLnR5cGU9PT0nbG9vc2VuJykgewogICAgICAgICAgICBjb25zdCBkaXIgPSAoRS50eXBlPT09J2xvb3NlbicpID8gLTEgOiAxOyAvLyBsb29zZW4gcmVkdWNlcyBjb2hlc2lvbgogICAgICAgICAgICBjb2hlc2lvbk11bFtpXSArPSBkaXIgKiAwLjkgKiBmYWxsOyBpZiAoZGlyPjApIHNlcGFyYXRpb25NdWxbaV0gLT0gMC4yICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2VwYXJhdGUnIHx8IEUudHlwZT09PSdkaXNwZXJzZScpIHsKICAgICAgICAgICAgc2VwYXJhdGlvbk11bFtpXSArPSAxLjAgKiBmYWxsOyBjb2hlc2lvbk11bFtpXSAtPSAwLjQgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd3YXJwJyB8fCBFLnR5cGU9PT0nc3BlZWR1cCcpIHsKICAgICAgICAgICAgdkJvb3N0W2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBodWVPZmZbaV0gKz0gNDAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2xvd2Rvd24nKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAwLjUqZmFsbDsgaHVlT2ZmW2ldIC09IDIwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2dyb3cnKSB7CiAgICAgICAgICAgIHNpemVNdWxbaV0gKz0gMC42KmZhbGw7IGh1ZU9mZltpXSArPSAzMCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd0dW5uZWwnKSB7CiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHIqMC43OyBjb25zdCBzID0gKGQ8dGFyZ2V0PysxOi0xKSAqIDEuMiAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaml0dGVyYnVyc3QnKSB7CiAgICAgICAgICAgIGppdEFtcFtpXSArPSAwLjYqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnY2hyb21hYnVyc3QnKSB7CiAgICAgICAgICAgIGh1ZU9mZltpXSArPSAxNjAgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIHsgLy8gc2hvY2sgLyBkZWZhdWx0CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/KzE6LTEpICogMS44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyB2Qm9vc3RbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBnZW5lcmFsIGNvbG9yIGVuZXJneQogICAgICAgICAgaHVlW2ldID0gKGh1ZVtpXSArIDkwICogZmFsbCkgJSAzNjA7CiAgICAgICAgfQogICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoRS54LCBFLnksIE1hdGgubWF4KDEsIHIqMC42KSwgRS54LCBFLnksIHIpOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7KHBhbGV0dGVIdWUrMjApJTM2MH0sIDk1JSwgNzAlLCAkezAuMzQqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs2MCklMzYwfSwgOTUlLCA2MCUsICR7MC4yMipzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45NSwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsxMDApJTM2MH0sIDk1JSwgNTUlLCAwKWApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7cGFsZXR0ZUh1ZX0sIDk1JSwgNjUlLCAkezAuMjUqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs0MCklMzYwfSwgOTUlLCA1NSUsICR7MC4xOCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45LCBgaHNsYSgkeyhwYWxldHRlSHVlKzgwKSUzNjB9LCA5NSUsIDYwJSwgMClgKTsKICAgICAgICB9CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYyhFLngsIEUueSwgciwgMCwgTWF0aC5QSSoyKTsgY3R4LmZpbGwoKTsKICAgICAgICBpZiAoayA+PSAxKSBlZmZlY3RzLnNwbGljZShlLCAxKTsKICAgICAgfQogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEludGVncmF0ZSBhbmQgZHJhdyBib2lkcyB3aXRoIGdsb3cgYW5kIHRyYWlscwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBDRkcuYmxlbmQ7CiAgICAgIGN0eC5saW5lV2lkdGggPSBDRkcubGluZVdpZHRoOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICAvLyBpbnRlZ3JhdGUKICAgICAgICAgIGlmIChqaXRBbXBbaV0gPiAwLjAwMDEpIHsgYXhbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgYXlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgfQogICAgICAgICAgdnhbaV0gKz0gYXhbaV07IHZ5W2ldICs9IGF5W2ldOwogICAgICAgICAgY29uc3Qgdk1heCA9IENGRy5tYXhTcGVlZCAqICgxICsgTWF0aC5tYXgoLTAuNywgdkJvb3N0W2ldKSowLjgpOwogICAgICAgICAgW3Z4W2ldLCB2eVtpXV0gPSBsaW1pdCh2eFtpXSwgdnlbaV0sIHZNYXgpOwogICAgICAgICAgLy8gZW5mb3JjZSBtaW4gc3BlZWQgKHdpdGggYm9vc3QpCiAgICAgICAgICB7IGNvbnN0IHNwID0gTWF0aC5oeXBvdCh2eFtpXSwgdnlbaV0pIHx8IDE7IGNvbnN0IHZNaW4gPSBDRkcubWluU3BlZWQgKiAoMSArIE1hdGgubWF4KDAsIHZCb29zdFtpXSkqMC41KTsgaWYgKHNwIDwgdk1pbikgeyBjb25zdCBzID0gdk1pbiAvIHNwOyB2eFtpXSAqPSBzOyB2eVtpXSAqPSBzOyB9IH0KICAgICAgICAgIHByZXZ4W2ldID0gcHhbaV07IHByZXZ5W2ldID0gcHlbaV07CiAgICAgICAgICBweFtpXSArPSB2eFtpXTsgcHlbaV0gKz0gdnlbaV07CgogICAgICAgICAgLy8gYm91bmRhcmllcwogICAgICAgICAgaWYgKENGRy53cmFwKSB7CiAgICAgICAgICAgIGlmIChweFtpXSA8IC01KSBweFtpXSA9IFcgKyA1OyBlbHNlIGlmIChweFtpXSA+IFcrNSkgcHhbaV0gPSAtNTsKICAgICAgICAgICAgaWYgKHB5W2ldIDwgLTUpIHB5W2ldID0gSCArIDU7IGVsc2UgaWYgKHB5W2ldID4gSCs1KSBweVtpXSA9IC01OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgMCB8fCBweFtpXSA+IFcpIHsgdnhbaV0gPSAtdnhbaV07IH0KICAgICAgICAgICAgaWYgKHB5W2ldIDwgMCB8fCBweVtpXSA+IEgpIHsgdnlbaV0gPSAtdnlbaV07IH0KICAgICAgICAgICAgcHhbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihXLCBweFtpXSkpOwogICAgICAgICAgICBweVtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKEgsIHB5W2ldKSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZGVjYXkgbW9kaWZpZXJzIGFuZCBjb21wdXRlIHRpbnQKICAgICAgICAgIHZCb29zdFtpXSAqPSAwLjkyOyBzaXplTXVsW2ldICo9IDAuOTA7IGh1ZU9mZltpXSAqPSAwLjk0OyBqaXRBbXBbaV0gKj0gMC44ODsKICAgICAgICAgIGFsaWduTXVsW2ldICo9IDAuOTQ7IGNvaGVzaW9uTXVsW2ldICo9IDAuOTQ7IHNlcGFyYXRpb25NdWxbaV0gKj0gMC45NDsKICAgICAgICAgIC8vIHNsb3dseSBkcmlmdCBib2lkIGh1ZSBiYWNrIHRvd2FyZCBiYXNlIHBhbGV0dGUgaHVlCiAgICAgICAgICBodWVbaV0gPSBhcHByb2FjaEh1ZShodWVbaV0sIHBhbGV0dGVIdWUsIE1hdGgubWluKDEsIGR0ICogKENGRy5odWVSZWxheCB8fCAwLjIpKSk7CiAgICAgICAgICBzcGRbaV0gPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSk7CiAgICAgICAgICBjb25zdCBMID0gNTAgKyBNYXRoLm1pbig0NSwgc3BkW2ldKjgpOwogICAgICAgICAgY29uc3QgUyA9IDgwICsgTWF0aC5taW4oMjAsIHNwZFtpXSo2KTsKICAgICAgICAgIGNvbnN0IGRyYXdIdWUgPSAoaHVlW2ldICsgaHVlT2ZmW2ldKSAlIDM2MDsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHtkcmF3SHVlfSwgJHtTfSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguc2hhZG93Q29sb3IgPSBgaHNsKCR7ZHJhd0h1ZX0sIDkwJSwgNjAlKWA7CiAgICAgICAgICBjb25zdCBnbG93UXVhbGl0eSA9IChmcHNBdmcgPCA1MCA/IDAuNSA6IDEuMCk7CiAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IGdsb3dRdWFsaXR5ICogKENGRy5nbG93QmFzZSArIE1hdGgubWluKENGRy5nbG93TWF4LCBzcGRbaV0qQ0ZHLmdsb3dTY2FsZSkpOwoKICAgICAgICAgIC8vIHRyYWlsIHNlZ21lbnQKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5tb3ZlVG8ocHJldnhbaV0sIHByZXZ5W2ldKTsKICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0sIHB5W2ldKTsKICAgICAgICAgIGN0eC5zdHJva2UoKTsKCiAgICAgICAgICAvLyBib2lkIGhlYWQgc2hhcGUKICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIodnlbaV0sIHZ4W2ldKTsKICAgICAgICAgIGNvbnN0IGNhID0gTWF0aC5jb3MoYW5nKSwgc2EgPSBNYXRoLnNpbihhbmcpOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGBoc2woJHtodWVbaV19LCA5NSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmNvbWV0U2l6ZSAqICgxICsgKHNpemVNdWxbaV18fDApKTsKICAgICAgICAgIGlmIChDRkcuc2hhcGUgPT09ICd0cmlhbmdsZScpIHsKICAgICAgICAgICAgY29uc3QgQzI2ID0gMC44NTY4ODg3NTMsIFMyNiA9IDAuNTE1NDk4OyAvLyBjb3Mvc2luKDIuNikKICAgICAgICAgICAgY29uc3QgeDAgPSBweFtpXSArIGNhKnMqMS42LCB5MCA9IHB5W2ldICsgc2EqcyoxLjY7CiAgICAgICAgICAgIGNvbnN0IGNhX3AgPSBjYSpDMjYgLSBzYSpTMjYsIHNhX3AgPSBzYSpDMjYgKyBjYSpTMjY7CiAgICAgICAgICAgIGNvbnN0IGNhX20gPSBjYSpDMjYgKyBzYSpTMjYsIHNhX20gPSBzYSpDMjYgLSBjYSpTMjY7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeDAsIHkwKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AqcywgIHB5W2ldICsgc2FfcCpzKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20qcywgIHB5W2ldICsgc2FfbSpzKTsKICAgICAgICAgIH0gZWxzZSBpZiAoQ0ZHLnNoYXBlID09PSAnb3JiJykgewogICAgICAgICAgICBjdHguYXJjKHB4W2ldLCBweVtpXSwgcyowLjYsIDAsIE1hdGguUEkqMik7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzcGFyawogICAgICAgICAgICBjb25zdCBDMDIgPSAwLjk4MDA2NjYsIFMwMiA9IDAuMTk4NjY5MzsgLy8gY29zL3NpbigwLjIpCiAgICAgICAgICAgIGNvbnN0IHhoID0gcHhbaV0gKyBjYSpzKjEuOCwgeWggPSBweVtpXSArIHNhKnMqMS44OwogICAgICAgICAgICBjb25zdCBjYV9wMDIgPSBjYSpDMDIgLSBzYSpTMDIsIHNhX3AwMiA9IHNhKkMwMiArIGNhKlMwMjsKICAgICAgICAgICAgY29uc3QgY2FfbTAyID0gY2EqQzAyICsgc2EqUzAyLCBzYV9tMDIgPSBzYSpDMDIgLSBjYSpTMDI7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeGgsIHloKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AwMipzKjAuNiwgIHB5W2ldICsgc2FfcDAyKnMqMC42KTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20wMipzKjAuNiwgIHB5W2ldICsgc2FfbTAyKnMqMC42KTsKICAgICAgICAgIH0KICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTsgY3R4LmZpbGwoKTsKICAgICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gUXVhZHRyZWUgdmlzdWFsaXphdGlvbiAoZGVmYXVsdCBvbikKICAgICAgICBpZiAoQ0ZHLnF0KSBxdC5kcmF3KGN0eCk7CgogICAgICAgIC8vIEhVRAogICAgICAgIGh1ZEVsLmlubmVySFRNTCA9IGA8c3Ryb25nPkJvaWRzPC9zdHJvbmc+IMK3IE49JHtOfSB2aXNpb249JHtDRkcudmlzaW9ufSBzZXA9JHtDRkcuc2VwfSBgICsKICAgICAgICAgIGDCtyBxdENhcD0ke0NGRy5xdENhcH0gwrcgaHVlPSR7cGFsZXR0ZUh1ZX0gwrcgcXRWaXo9JHtDRkcucXQ/J29uJzonb2ZmJ30gwrcgY2xpY2s9JHtDRkcuY2xpY2tNb2RlfSDCtyBmcHM9JHtmcHNBdmcudG9GaXhlZCgwKX1gOwoKICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpOwogICAgICB9CiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CgogICAgICAvLyBDb25maWcgVUkgYnVpbGQgYW5kIHdpcmluZwogICAgICBjb25zdCBjZmdCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQnRuJyk7CiAgICAgIGNvbnN0IGNmZ0Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmZ0Nsb3NlJyk7CiAgICAgIGNvbnN0IGNmZ1BhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZycpOwogICAgICBjb25zdCBjZmdCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZ0JvZHknKTsKICAgICAgY2ZnQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKSk7CiAgICAgIGNmZ0Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCcnKSk7CgogICAgICBjb25zdCBzY2hlbWEgPSBbCiAgICAgICAge2tleTonaHVlJywgbGFiZWw6J0h1ZScsIHR5cGU6J2ludCcsIG1pbjowLCBtYXg6MzYwLCBzdGVwOjEsIHZhbHVlOkJBU0VfSFVFfSwKICAgICAgICB7a2V5OidoZWFkZXInLCBsYWJlbDonSGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOkhFQURFUn0sCiAgICAgICAge2tleTonc3ViaGVhZGVyJywgbGFiZWw6J1N1YmhlYWRlcicsIHR5cGU6J3RleHQnLCB2YWx1ZTpTVUJIRUFERVJ9LAogICAgICAgIHtrZXk6J3F0JywgbGFiZWw6J1Nob3cgUXVhZHRyZWUnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hvd0h1ZCcsIGxhYmVsOidTaG93IEhVRCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzcGF3bicsIGxhYmVsOidTcGF3bicsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdjaXJjbGUnLCdncmlkJywnY2VudGVyYnVyc3QnXX0sCiAgICAgICAge2tleTonY291bnQnLCBsYWJlbDonQ291bnQnLCB0eXBlOidpbnQnLCBtaW46NTAsIG1heDoxMDAwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3Zpc2lvbicsIGxhYmVsOidWaXNpb24nLCB0eXBlOidpbnQnLCBtaW46MjAsIG1heDoyMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonc2VwJywgbGFiZWw6J1NlcGFyYXRpb24gRGlzdCcsIHR5cGU6J2ludCcsIG1pbjo0LCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonbWF4U3BlZWQnLCBsYWJlbDonTWF4IFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMSwgbWF4OjEyLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonbWluU3BlZWQnLCBsYWJlbDonTWluIFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMCwgbWF4OjYsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtYXhGb3JjZScsIGxhYmVsOidNYXggU3RlZXJpbmcgRm9yY2UnLCB0eXBlOidudW1iZXInLCBtaW46MC4wMDEsIG1heDowLjUsIHN0ZXA6MC4wMDF9LAogICAgICAgIHtrZXk6J2FsaWduVycsIGxhYmVsOidBbGlnbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY29oZXNpb25XJywgbGFiZWw6J0NvaGVzaW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidzZXBhcmF0aW9uVycsIGxhYmVsOidTZXBhcmF0aW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oid0cmFpbEFscGhhJywgbGFiZWw6J1RyYWlsIEFscGhhJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDoxLCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3F0Q2FwJywgbGFiZWw6J1F1YWR0cmVlIENhcGFjaXR5JywgdHlwZTonaW50JywgbWluOjIsIG1heDozMiwgc3RlcDoxfSwKICAgICAgICB7a2V5Oid3cmFwJywgbGFiZWw6J1dyYXAgQm91bmRzJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NoYXBlJywgbGFiZWw6J1NoYXBlJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3RyaWFuZ2xlJywnc3BhcmsnLCdvcmInXX0sCiAgICAgICAge2tleTonYmxlbmQnLCBsYWJlbDonQmxlbmQnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsnbGlnaHRlcicsJ3NjcmVlbicsJ292ZXJsYXknLCdwbHVzLWxpZ2h0ZXInXX0sCiAgICAgICAge2tleTonbGluZVdpZHRoJywgbGFiZWw6J0xpbmUgV2lkdGgnLCB0eXBlOidudW1iZXInLCBtaW46MC4yLCBtYXg6NCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2dsb3dCYXNlJywgbGFiZWw6J0dsb3cgQmFzZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NjAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd01heCcsIGxhYmVsOidHbG93IE1heCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd1NjYWxlJywgbGFiZWw6J0dsb3cgU2NhbGUnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonY29tZXRTaXplJywgbGFiZWw6J0NvbWV0IFNpemUnLCB0eXBlOidudW1iZXInLCBtaW46MSwgbWF4OjIwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonYmdHcmFkaWVudCcsIGxhYmVsOidCRyBHcmFkaWVudCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MScsIGxhYmVsOidCRyBIdWUgU2hpZnQgMScsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQyJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAyJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDMnLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDMnLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidmbG93JywgbGFiZWw6J0Zsb3cgRmllbGQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonZmxvd0FtcCcsIGxhYmVsOidGbG93IEFtcCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjA1fSwKICAgICAgICB7a2V5OidmbG93U2NhbGUnLCBsYWJlbDonRmxvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMDUsIG1heDowLjAyLCBzdGVwOjAuMDAwNX0sCiAgICAgICAge2tleTonZmxvd1NwZWVkJywgbGFiZWw6J0Zsb3cgU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjMsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY2xpY2tNb2RlJywgbGFiZWw6J0NsaWNrIE1vZGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsncmFuZG9tJywnc2hvY2snLCd2b3J0ZXgnLCdpbXBsb3Npb24nLCdzcHJheSddfSwKICAgICAgXTsKCiAgICAgIGZ1bmN0aW9uIG1ha2VSb3cobGFiZWwsIGlucHV0KSB7CiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHJvdy5jbGFzc05hbWUgPSAncm93JzsKICAgICAgICBjb25zdCBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsgbC50ZXh0Q29udGVudCA9IGxhYmVsOyByb3cuYXBwZW5kQ2hpbGQobCk7CiAgICAgICAgcm93LmFwcGVuZENoaWxkKGlucHV0KTsgcmV0dXJuIHJvdzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYWRkSW5wdXQoaXRlbSkgewogICAgICAgIGxldCBpbnB1dDsKICAgICAgICBjb25zdCB2MCA9IChpdGVtLmtleSBpbiBDRkcpID8gQ0ZHW2l0ZW0ua2V5XSA6IGl0ZW0udmFsdWU7CiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Jvb2wnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J2NoZWNrYm94JzsgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IENGR1tpdGVtLmtleV0gPSBpbnB1dC5jaGVja2VkOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnc2VsZWN0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTsKICAgICAgICAgIGZvciAoY29uc3Qgb3B0IG9mIGl0ZW0ub3B0aW9ucykgeyBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7IG8udmFsdWU9b3B0OyBvLnRleHRDb250ZW50PW9wdDsgaWYgKG9wdD09PXYwKSBvLnNlbGVjdGVkPXRydWU7IGlucHV0LmFwcGVuZENoaWxkKG8pOyB9CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LnZhbHVlOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAndGV4dCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ndGV4dCc7IGlucHV0LnZhbHVlID0gU3RyaW5nKHYwfHwnJyk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaWYgKGl0ZW0ua2V5PT09J2hlYWRlcicpIHsgdGl0bGVFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5rZXk9PT0nc3ViaGVhZGVyJykgeyBzdWJ0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBpbnB1dC52YWx1ZSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5rZXkgPT09ICdodWUnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQubWluPScwJzsgaW5wdXQubWF4PSczNjAnOyBpbnB1dC5zdGVwPScxJzsgaW5wdXQudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIubWluPScwJzsgbnVtYmVyLm1heD0nMzYwJzsgbnVtYmVyLnN0ZXA9JzEnOyBudW1iZXIudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWU9aW5wdXQudmFsdWU7IGh1ZUNoYW5nZWQocGFyc2VJbnQoaW5wdXQudmFsdWUpKTsgfSk7CiAgICAgICAgICBudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlucHV0LnZhbHVlPW51bWJlci52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gaHVlQ2hhbmdlZCh2YWwpewogICAgICAgICAgICAvLyBzaGlmdCBwYWxldHRlIGltbWVkaWF0ZWx5CiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gKHZhbCAtIHBhbGV0dGVIdWUpOwogICAgICAgICAgICBwYWxldHRlSHVlID0gdmFsOwogICAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBodWVbaV0gPSAoaHVlW2ldICsgZGVsdGEpICUgMzYwOyB9CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQnLCBgaHNsKCR7dmFsfSwgODUlLCA2MiUpYCk7CiAgICAgICAgICAgIHVwZGF0ZVVybEZyb21DZmcoe2h1ZTpTdHJpbmcodmFsKX0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG51bWVyaWMgKHJhbmdlICsgbnVtYmVyIHBhaXIpCiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgaW5wdXQubWluPVN0cmluZyhpdGVtLm1pbik7IGlmIChpdGVtLm1heCE9bnVsbCkgaW5wdXQubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBudW1iZXIudHlwZT0nbnVtYmVyJzsgbnVtYmVyLnN0ZXA9U3RyaW5nKGl0ZW0uc3RlcHx8MSk7CiAgICAgICAgICBpZiAoaXRlbS5taW4hPW51bGwpIG51bWJlci5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBudW1iZXIubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBpbnB1dC52YWx1ZSA9IFN0cmluZyh2MCk7IG51bWJlci52YWx1ZSA9IFN0cmluZyh2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgbnVtYmVyLnZhbHVlID0gaW5wdXQudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWUgPSBudW1iZXIudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gbnVtQ2hhbmdlZCh2YWwpeyBDRkdbaXRlbS5rZXldID0gdmFsOyBhcHBseUNoYW5nZShpdGVtLmtleSwgdmFsKTsgfQogICAgICAgIH0KICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgaW5wdXQpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYXBwbHlDaGFuZ2Uoa2V5LCB2YWx1ZSkgewogICAgICAgIGlmIChrZXkgPT09ICdjb3VudCcgfHwga2V5ID09PSAnc3Bhd24nKSB7IHJlc2VlZChDRkcuY291bnQpOyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3F0JykgeyAvKiBpbW1lZGlhdGUgZHJhdyB0b2dnbGUgdmlhIENGRyAqLyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3Nob3dIdWQnKSB7IGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSBDRkcuc2hvd0h1ZCA/ICcnIDogJ25vbmUnOyB9CiAgICAgICAgdXBkYXRlVXJsRnJvbUNmZygpOwogICAgICB9CgogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc2NoZW1hKSBhZGRJbnB1dChpdGVtKTsKICAgICAgLy8gaW5pdGlhbCBIVUQgdmlzaWJpbGl0eQogICAgICBodWRFbC5zdHlsZS5kaXNwbGF5ID0gKENGRy5zaG93SHVkPT09ZmFsc2UpID8gJ25vbmUnIDogJyc7CgogICAgICAvLyBrZXlib2FyZCB0b2dnbGVzIChhZnRlciBidWlsZGluZyBwYW5lbCkKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7CiAgICAgICAgY29uc3QgayA9IGUua2V5LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKGsgPT09ICdxJykgeyBDRkcucXQgPSAhQ0ZHLnF0OyB1cGRhdGVVcmxGcm9tQ2ZnKCk7IH0KICAgICAgICBpZiAoayA9PT0gJ2MnKSB7IGNmZ1BhbmVsLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJyk7IH0KICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgPC9zY3JpcHQ+CiAgPC9ib2R5Pgo8L2h0bWw+Cg==" download="boids-dod-quadtree-17-impl.html" class="download-btn" title="Download boids-dod-quadtree-17-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=270 · spawn=random · bounce · spark · plus-lighter · hue=79 · qtCap=16 · flow" data-filename="boids-dod-quadtree-15-impl.html"><a href="boids-dod-quadtree-15-impl.html" target="viewer"><strong>Boids DOD+QT · N=270 · spawn=random · bounce · spark · plus-lighter · hue=79 · qtCap=16 · flow</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTI3MCDCtyBzcGF3bj1yYW5kb20gwrcgYm91bmNlIMK3IHNwYXJrIMK3IHBsdXMtbGlnaHRlciDCtyBodWU9NzkgwrcgcXRDYXA9MTYgwrcgZmxvdzwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgIGh0bWwsIGJvZHkgeyBoZWlnaHQ6IDEwMCU7IG1hcmdpbjogMDsgfQogICAgICBib2R5IHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMDUwNzBhOwogICAgICAgIGNvbG9yOiAjZTZlZGYzOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgZm9udC1mYW1pbHk6IHVpLXNhbnMtc2VyaWYsIHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgU2Vnb2UgVUksIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIjsKICAgICAgfQogICAgICAjc2NlbmUgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyB9CiAgICAgIC5vdmVybGF5IHsgcG9zaXRpb246IGZpeGVkOyBpbnNldDogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnIgYXV0bzsgfQogICAgICAudGl0bGUgeyBtYXJnaW46IDE4cHggMjBweCAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogY2xhbXAoMThweCwgM3Z3LCAyOHB4KTsgbGV0dGVyLXNwYWNpbmc6IDAuMnB4OyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgdGV4dC1zaGFkb3c6IDAgMCAxMHB4IGNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYWNjZW50LCAjN2RkM2ZjKSA4MCUsICMwMDAgMjAlKTsgfQogICAgICAuc3VidGl0bGUgeyBtYXJnaW46IDAgMjBweCAxMHB4OyBmb250LXdlaWdodDogNTAwOyBmb250LXNpemU6IGNsYW1wKDEycHgsIDJ2dywgMTZweCk7IG9wYWNpdHk6IDAuODU7IH0KICAgICAgLmh1ZCB7IHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMTJweDsgYm90dG9tOiAxMnB4OyBwYWRkaW5nOiA4cHggMTBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDQwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpIHNhdHVyYXRlKDEyMCUpOyBmb250LXNpemU6IDEycHg7IGxpbmUtaGVpZ2h0OiAxLjQ7IH0KICAgICAgLmh1ZCBzdHJvbmcgeyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgfQogICAgICAuY2ZnQnRuIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDEycHg7IHJpZ2h0OiAxMnB4OyB6LWluZGV4OiAxMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiA2cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ1BhbmVsIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDU2cHg7IHJpZ2h0OiAxMnB4OyB3aWR0aDogbWluKDM4MHB4LCA5MHZ3KTsgbWF4LWhlaWdodDogODB2aDsgb3ZlcmZsb3c6IGF1dG87IHotaW5kZXg6IDIwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYmFja2dyb3VuZDogIzBiMTIyMGU2OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3gtc2hhZG93OiAwIDEwcHggNDBweCAjMDAwODsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpIHNhdHVyYXRlKDEyMCUpOyB9CiAgICAgIC5jb25maWdIZWFkZXIgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDEwcHggMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAwMDA1NTsgcG9zaXRpb246IHN0aWNreTsgdG9wOiAwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZjI7IH0KICAgICAgLmNvbmZpZ0JvZHkgeyBwYWRkaW5nOiAxMHB4IDEycHg7IGRpc3BsYXk6IGdyaWQ7IGdhcDogMTBweDsgfQogICAgICAuY29uZmlnQm9keSAucm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bzsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJhbmdlUm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNzJweDsgZ2FwOiA4cHg7IH0KICAgICAgLmNmZ0Nsb3NlIHsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMTIxYTJiY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA2cHg7IHBhZGRpbmc6IDRweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dCwgLmNvbmZpZ0JvZHkgc2VsZWN0IHsgZm9udC1zaXplOiAxNHB4OyBwYWRkaW5nOiA2cHggOHB4OyBiYWNrZ3JvdW5kOiAjMTAxODI3OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiA2cHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXRbdHlwZT1yYW5nZV0geyBwYWRkaW5nOiAwOyBoZWlnaHQ6IDI4cHg7IGFjY2VudC1jb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPGNhbnZhcyBpZD0ic2NlbmUiPjwvY2FudmFzPgogICAgPGRpdiBjbGFzcz0ib3ZlcmxheSI+CiAgICAgIDxkaXYgY2xhc3M9InRpdGxlIiBpZD0idGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJzdWJ0aXRsZSIgaWQ9InN1YnRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaHVkIiBpZD0iaHVkIj48L2Rpdj4KICAgIDwvZGl2PgogICAgPGJ1dHRvbiBpZD0iY2ZnQnRuIiBjbGFzcz0iY2ZnQnRuIiBhcmlhLWxhYmVsPSJPcGVuIGNvbmZpZyI+4pqZ77iOPC9idXR0b24+CiAgICA8ZGl2IGlkPSJjb25maWciIGNsYXNzPSJjb25maWdQYW5lbCIgaGlkZGVuPgogICAgICA8ZGl2IGNsYXNzPSJjb25maWdIZWFkZXIiPgogICAgICAgIDxzdHJvbmc+Q29uZmlnPC9zdHJvbmc+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2ZnQ2xvc2UiIGNsYXNzPSJjZmdDbG9zZSIgYXJpYS1sYWJlbD0iQ2xvc2UiPuKclTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBpZD0iY29uZmlnQm9keSIgY2xhc3M9ImNvbmZpZ0JvZHkiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICAndXNlIHN0cmljdCc7CgogICAgICAvLyBVUkwgcGFyYW1ldGVycwogICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgICAgIGNvbnN0IERFRkFVTFRfSFVFID0gNzk7CiAgICAgIGNvbnN0IEJBU0VfSFVFID0gY2xhbXBJbnQocGFyc2VJbnQocGFyYW1zLmdldCgnaHVlJykpLCAwLCAzNjAsIERFRkFVTFRfSFVFKTsKICAgICAgbGV0IHBhbGV0dGVIdWUgPSBCQVNFX0hVRTsKICAgICAgY29uc3QgSEVBREVSID0gcGFyYW1zLmdldCgnaGVhZGVyJykgfHwgJ0JvaWRzIOKAlCBEYXRhLU9yaWVudGVkICsgUXVhZHRyZWUnOwogICAgICBjb25zdCBTVUJIRUFERVIgPSBwYXJhbXMuZ2V0KCdzdWJoZWFkZXInKSB8fCAnU2hvY2t3YXZlcyBvbiBjbGljay9kcmFnIMK3IHF1YWR0cmVlIHZpeiBvbic7CiAgICAgIC8vIFF1YWR0cmVlIHZpeiBpcyBoYW5kbGVkIGJ5IENGRy5xdDsgVVJMIHBhcmFtICdxdCcgb3ZlcnJpZGVzIGl0LgoKICAgICAgLy8gRE9NCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2VuZScpOwogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBmYWxzZSB9KTsKICAgICAgY29uc3QgdGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpOwogICAgICBjb25zdCBzdWJ0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YnRpdGxlJyk7CiAgICAgIGNvbnN0IGh1ZEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h1ZCcpOwoKICAgICAgLy8gU3R5bGUgaG9vawogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3BhbGV0dGVIdWV9LCA4NSUsIDYyJSlgKTsKICAgICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IEhFQURFUjsKICAgICAgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IFNVQkhFQURFUjsKCiAgICAgIC8vIENvbmZpZyAoaW5qZWN0ZWQgYnkgZ2VuZXJhdG9yKSDigJQgbXV0YWJsZSBhdCBydW50aW1lCiAgICAgIGxldCBDRkcgPSB7ImNvdW50IjogMjcwLCAidmlzaW9uIjogODcsICJzZXAiOiAxMiwgIm1heFNwZWVkIjogMy4yNSwgIm1heEZvcmNlIjogMC4wODUsICJtaW5TcGVlZCI6IDEuMjYsICJhbGlnblciOiAwLjk4LCAiY29oZXNpb25XIjogMC43OCwgInNlcGFyYXRpb25XIjogMi4yNSwgInRyYWlsQWxwaGEiOiAwLjEsICJxdENhcCI6IDE2LCAid3JhcCI6IGZhbHNlLCAic2hhcGUiOiAic3BhcmsiLCAiYmxlbmQiOiAicGx1cy1saWdodGVyIiwgImxpbmVXaWR0aCI6IDEuNjIsICJnbG93QmFzZSI6IDIzLCAiZ2xvd01heCI6IDE5LCAiZ2xvd1NjYWxlIjogNi45LCAiY29tZXRTaXplIjogNi40MywgImJnR3JhZGllbnQiOiB0cnVlLCAiYmdIdWVTaGlmdDEiOiAyNywgImJnSHVlU2hpZnQyIjogNzEsICJiZ0h1ZVNoaWZ0MyI6IDEwMiwgInNwYXduIjogInJhbmRvbSIsICJxdCI6IHRydWUsICJzaG93SHVkIjogdHJ1ZSwgImZsb3ciOiB0cnVlLCAiZmxvd0FtcCI6IDEuMDIsICJmbG93U2NhbGUiOiAwLjAwNzksICJmbG93U3BlZWQiOiAxLjQ0LCAiY2xpY2tNb2RlIjogInJhbmRvbSJ9OwogICAgICBDRkcubWluU3BlZWQgPSBDRkcubWluU3BlZWQgPz8gMC44OwogICAgICBDRkcucXQgPSAodHlwZW9mIENGRy5xdCA9PT0gJ2Jvb2xlYW4nKSA/IENGRy5xdCA6IHRydWU7CiAgICAgIENGRy5jbGlja01vZGUgPSBDRkcuY2xpY2tNb2RlIHx8ICdyYW5kb20nOwogICAgICBDRkcuY2xpY2tNb2RlcyA9IENGRy5jbGlja01vZGVzIHx8IFsKICAgICAgICAnc2hvY2snLCd2b3J0ZXgnLCdpbXBsb3Npb24nLCdzcHJheScsJ3N0dW4nLCdmZWFyJywnYXR0cmFjdCcsJ29yYml0Q1cnLCdvcmJpdENDVycsCiAgICAgICAgJ3NwaXJhbE91dCcsJ3NwaXJhbEluJywnZnJlZXplJywnc2NyYW1ibGUnLCdzY2F0dGVyJywnbWFnbmV0JywncHVsc2UnLAogICAgICAgICd3YXJwJywnZ3JvdycsJ3R1bm5lbCcsJ3JpcHBsZScsJ2ppdHRlcmJ1cnN0JywnY2hyb21hYnVyc3QnLCdzbG93ZG93bicsJ3NwZWVkdXAnLAogICAgICAgICdwZXJsaW5EcmFnJywnbGlzc2FQdWxzZScsJ21ldGVvcicsCiAgICAgICAgLy8gc3RlZXJpbmctd2VpZ2h0IGVmZmVjdHMKICAgICAgICAnYWxpZ24nLCdkZWFsaWduJywnY29oZXJlJywnbG9vc2VuJywnc2VwYXJhdGUnLCdkaXNwZXJzZScKICAgICAgXTsKCiAgICAgIGZ1bmN0aW9uIHBhcnNlQm9vbCh2LCBkKSB7CiAgICAgICAgaWYgKHYgPT0gbnVsbCkgcmV0dXJuIGQ7CiAgICAgICAgY29uc3QgcyA9IFN0cmluZyh2KS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChbJzEnLCd0cnVlJywneWVzJywnb24nXS5pbmNsdWRlcyhzKSkgcmV0dXJuIHRydWU7CiAgICAgICAgaWYgKFsnMCcsJ2ZhbHNlJywnbm8nLCdvZmYnXS5pbmNsdWRlcyhzKSkgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiBkOwogICAgICB9CgogICAgICAvLyBVUkwgb3ZlcnJpZGVzIGZvciBjb25maWcKICAgICAgKGZ1bmN0aW9uIHVybE92ZXJyaWRlKCl7CiAgICAgICAgY29uc3QgaW50S2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdxdENhcCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MyddOwogICAgICAgIGNvbnN0IG51bUtleXMgPSBbJ21heFNwZWVkJywnbWluU3BlZWQnLCdtYXhGb3JjZScsJ2FsaWduVycsJ2NvaGVzaW9uVycsJ3NlcGFyYXRpb25XJywndHJhaWxBbHBoYScsJ2xpbmVXaWR0aCcsJ2dsb3dCYXNlJywnZ2xvd01heCcsJ2dsb3dTY2FsZScsJ2NvbWV0U2l6ZScsJ2Zsb3dBbXAnLCdmbG93U2NhbGUnLCdmbG93U3BlZWQnXTsKICAgICAgICBjb25zdCBib29sS2V5cyA9IFsnd3JhcCcsJ2JnR3JhZGllbnQnLCdxdCcsJ2Zsb3cnLCdzaG93SHVkJ107CiAgICAgICAgY29uc3Qgc3RyS2V5cyA9IFsnc2hhcGUnLCdibGVuZCcsJ3NwYXduJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGludEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gTWF0aC5tYXgoLTk5OTk5LCBNYXRoLm1pbig5OTk5OSwgcGFyc2VJbnQodikpKTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBudW1LZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE51bWJlcih2KTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBib29sS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBwYXJzZUJvb2wodiwgQ0ZHW2tdKTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBzdHJLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IHY7IH0KICAgICAgICBjb25zdCBjbSA9IHBhcmFtcy5nZXQoJ2NsaWNrTW9kZScpOyBpZiAoY20pIENGRy5jbGlja01vZGUgPSBjbTsKICAgICAgICBjb25zdCBjbXMgPSBwYXJhbXMuZ2V0KCdjbGlja01vZGVzJyk7IGlmIChjbXMpIENGRy5jbGlja01vZGVzID0gY21zLnNwbGl0KCcsJyk7CiAgICAgIH0pKCk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVVcmxGcm9tQ2ZnKGV4dHJhPXt9KSB7CiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChsb2NhdGlvbi5ocmVmKTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaHVlJywgcGFsZXR0ZUh1ZSk7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2hlYWRlcicsIHRpdGxlRWwudGV4dENvbnRlbnQpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdWJoZWFkZXInLCBzdWJ0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICBjb25zdCBrZXlzID0gWydjb3VudCcsJ3Zpc2lvbicsJ3NlcCcsJ21heFNwZWVkJywnbWluU3BlZWQnLCdtYXhGb3JjZScsJ2FsaWduVycsJ2NvaGVzaW9uVycsJ3NlcGFyYXRpb25XJywndHJhaWxBbHBoYScsJ3F0Q2FwJywnd3JhcCcsJ3NoYXBlJywnYmxlbmQnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdiZ0dyYWRpZW50JywnYmdIdWVTaGlmdDEnLCdiZ0h1ZVNoaWZ0MicsJ2JnSHVlU2hpZnQzJywncXQnLCdjbGlja01vZGUnLCdjbGlja01vZGVzJywnZmxvdycsJ2Zsb3dBbXAnLCdmbG93U2NhbGUnLCdmbG93U3BlZWQnLCdzcGF3bicsJ3Nob3dIdWQnXTsKICAgICAgICBmb3IgKGNvbnN0IGsgb2Yga2V5cykgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgU3RyaW5nKENGR1trXSkpOwogICAgICAgIGlmIChDRkcuY2xpY2tNb2RlcyAmJiBBcnJheS5pc0FycmF5KENGRy5jbGlja01vZGVzKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NsaWNrTW9kZXMnLCBDRkcuY2xpY2tNb2Rlcy5qb2luKCcsJykpOwogICAgICAgIGZvciAoY29uc3QgW2ssdl0gb2YgT2JqZWN0LmVudHJpZXMoZXh0cmEpKSB1cmwuc2VhcmNoUGFyYW1zLnNldChrLCB2KTsKICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCAnJywgdXJsLnRvU3RyaW5nKCkpOwogICAgICB9CgogICAgICBjb25zdCBUQVUgPSBNYXRoLlBJICogMjsKCiAgICAgIC8vIENhbnZhcyBzaXppbmcgd2l0aCBEUFIKICAgICAgbGV0IERQUiA9IE1hdGgubWF4KDEsIE1hdGgubWluKDIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKTsKICAgICAgZnVuY3Rpb24gcmVzaXplKCkgewogICAgICAgIERQUiA9IE1hdGgubWF4KDEsIE1hdGgubWluKDIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKTsKICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmZsb29yKGlubmVyV2lkdGggKiBEUFIpOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKGlubmVySGVpZ2h0ICogRFBSKTsKICAgICAgICBjdHguc2V0VHJhbnNmb3JtKERQUiwgMCwgMCwgRFBSLCAwLCAwKTsKICAgICAgICBjbGVhckhhcmQoKTsKICAgICAgfQogICAgICBhZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemUpOwogICAgICByZXNpemUoKTsKCiAgICAgIGZ1bmN0aW9uIGNsZWFySGFyZCgpIHsKICAgICAgICBpZiAoQ0ZHLmJnR3JhZGllbnQpIHsKICAgICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoaW5uZXJXaWR0aCowLjY1LCBpbm5lckhlaWdodCowLjM1LCBNYXRoLm1pbihpbm5lcldpZHRoLCBpbm5lckhlaWdodCkqMC4xNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJXaWR0aCowLjUsIGlubmVySGVpZ2h0KjAuNSwgTWF0aC5oeXBvdChpbm5lcldpZHRoLCBpbm5lckhlaWdodCkqMC43KTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MSklMzYwfSA4MCUgMTAlKWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC41LCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQyKSUzNjB9IDcwJSA4JSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDEuMCwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MyklMzYwfSA2MCUgNiUpYCk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICB9CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gY2xhbXBJbnQobiwgbG8sIGhpLCBmYWxsYmFjaykgewogICAgICAgIG4gPSBOdW1iZXIuaXNGaW5pdGUobikgPyBuIDogZmFsbGJhY2s7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KGxvLCBNYXRoLm1pbihoaSwgbikpOwogICAgICB9CgogICAgICAvLyBEcmlmdCBhIGh1ZSB2YWx1ZSB0b3dhcmQgYSB0YXJnZXQgb24gYSBjaXJjdWxhciBjb2xvciB3aGVlbAogICAgICBmdW5jdGlvbiBhcHByb2FjaEh1ZShoLCB0YXJnZXQsIHJhdGUpIHsKICAgICAgICAvLyByYXRlIGlzIDAuLjEgZnJhY3Rpb24gdG93YXJkIHRhcmdldCBwZXIgY2FsbAogICAgICAgIGxldCBkID0gKCh0YXJnZXQgLSBoICsgNTQwKSAlIDM2MCkgLSAxODA7IC8vIHNob3J0ZXN0IHNpZ25lZCBkZWx0YSBbLTE4MCwxODApCiAgICAgICAgcmV0dXJuIChoICsgZCAqIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHJhdGUpKSArIDM2MCkgJSAzNjA7CiAgICAgIH0KCiAgICAgIC8vIExpZ2h0d2VpZ2h0IDJEIHZhbHVlIG5vaXNlIChmb3IgcGVybGluLWxpa2UgZHJhZykKICAgICAgbGV0IG5vaXNlU2VlZCA9IChCQVNFX0hVRSAqIDE2NjQ1MjUgKyAxMDEzOTA0MjIzKSAmIDB4ZmZmZmZmZmY7CiAgICAgIGZ1bmN0aW9uIGZyYWN0KHgpeyByZXR1cm4geCAtIE1hdGguZmxvb3IoeCk7IH0KICAgICAgZnVuY3Rpb24gX3JhbmQoaXgsIGl5KXsKICAgICAgICBjb25zdCBrID0gKGl4ICogMzc0NzYxMzkzICsgaXkgKiA2NjgyNjUyNjMgKyBub2lzZVNlZWQpID4+PiAwOwogICAgICAgIHJldHVybiBmcmFjdChNYXRoLnNpbihrKSAqIDQzNzU4LjU0NTMpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIG5vaXNlMih4LCB5KXsKICAgICAgICBjb25zdCB4aSA9IE1hdGguZmxvb3IoeCksIHlpID0gTWF0aC5mbG9vcih5KTsKICAgICAgICBjb25zdCB4ZiA9IHggLSB4aSwgeWYgPSB5IC0geWk7CiAgICAgICAgY29uc3QgdSA9IHhmKnhmKigzLTIqeGYpLCB2ID0geWYqeWYqKDMtMip5Zik7CiAgICAgICAgY29uc3QgdjAwID0gX3JhbmQoeGksIHlpKSwgdjEwID0gX3JhbmQoeGkrMSwgeWkpLCB2MDEgPSBfcmFuZCh4aSwgeWkrMSksIHYxMSA9IF9yYW5kKHhpKzEsIHlpKzEpOwogICAgICAgIGNvbnN0IHgxID0gdjAwKigxLXUpICsgdjEwKnUsIHgyID0gdjAxKigxLXUpICsgdjExKnU7CiAgICAgICAgcmV0dXJuIHgxKigxLXYpICsgeDIqdjsKICAgICAgfQogICAgICBmdW5jdGlvbiBwZXJsaW5WZWMoeCwgeSwgc2NhbGUsIGFtcCl7CiAgICAgICAgY29uc3QgbiA9IG5vaXNlMih4KnNjYWxlLCB5KnNjYWxlKTsKICAgICAgICBjb25zdCBhID0gbiAqIFRBVTsKICAgICAgICByZXR1cm4gW01hdGguY29zKGEpKmFtcCwgTWF0aC5zaW4oYSkqYW1wXTsKICAgICAgfQoKICAgICAgLy8gU2VlZGVkIFBSTkcgZm9yIHN1YnRsZSBkZXRlcm1pbmlzbSBmcm9tIEJBU0VfSFVFCiAgICAgIGxldCBfc2VlZCA9IChCQVNFX0hVRSAqIDkzMDEgKyA0OTI5NykgJSAyMzMyODA7CiAgICAgIGZ1bmN0aW9uIHJuZCgpIHsgX3NlZWQgPSAoMTEwMzUxNTI0NSAqIF9zZWVkICsgMTIzNDUpICYgMHg3ZmZmZmZmZjsgcmV0dXJuIChfc2VlZCA+Pj4gOCkgLyAweDdmZmZmZjsgfQogICAgICBmdW5jdGlvbiByYW5kKG1pbiwgbWF4KSB7IHJldHVybiBybmQoKSAqIChtYXggLSBtaW4pICsgbWluOyB9CgogICAgICAvLyBEYXRhLU9yaWVudGVkIFN0YXRlIChTb0EpIOKAlCBkeW5hbWljCiAgICAgIGxldCBOID0gQ0ZHLmNvdW50OwogICAgICBsZXQgcHgsIHB5LCB2eCwgdnksIGF4LCBheSwgaHVlLCBzcGQsIHByZXZ4LCBwcmV2eTsKICAgICAgLy8gdHJhbnNpZW50IHBlci1ib2lkIG1vZGlmaWVycyAoZGVjYXkgZWFjaCBmcmFtZSkKICAgICAgbGV0IHNpemVNdWwsIHZCb29zdCwgaHVlT2ZmLCBqaXRBbXA7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBzdGVlcmluZyBtdWx0aXBsaWVycyAoZGVjYXkgZWFjaCBmcmFtZSkKICAgICAgbGV0IGFsaWduTXVsLCBjb2hlc2lvbk11bCwgc2VwYXJhdGlvbk11bDsKCiAgICAgIGZ1bmN0aW9uIGFsbG9jKG4pIHsKICAgICAgICBweCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHB5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICB2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBheCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGF5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBodWUgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBzcGQgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHByZXZ4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgcHJldnkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHNpemVNdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2Qm9vc3QgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBodWVPZmYgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBqaXRBbXAgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGFsaWduTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgY29oZXNpb25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBzZXBhcmF0aW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2VlZEJvaWRzKCkgewogICAgICAgIGNvbnN0IG1vZGUgPSBDRkcuc3Bhd24gfHwgJ3JhbmRvbSc7CiAgICAgICAgaWYgKG1vZGUgPT09ICdjaXJjbGUnKSB7CiAgICAgICAgICBjb25zdCBjeCA9IGlubmVyV2lkdGgvMiwgY3kgPSBpbm5lckhlaWdodC8yLCByID0gTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpLzM7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCB0ID0gTWF0aC5yYW5kb20oKSpNYXRoLlBJKjI7IHB4W2ldPWN4K01hdGguY29zKHQpKnI7IHB5W2ldPWN5K01hdGguc2luKHQpKnI7IHZ4W2ldPXJhbmQoLTEsMSk7IHZ5W2ldPXJhbmQoLTEsMSk7IH0KICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdncmlkJykgewogICAgICAgICAgY29uc3QgY29scz1NYXRoLm1heCgxMCwgTWF0aC5mbG9vcihNYXRoLnNxcnQoTikpKTsgY29uc3Qgcm93cz1NYXRoLmNlaWwoTi9jb2xzKTsKICAgICAgICAgIGNvbnN0IGd4PWlubmVyV2lkdGgvKGNvbHMrMSksIGd5PWlubmVySGVpZ2h0Lyhyb3dzKzEpOyBsZXQgaz0wOwogICAgICAgICAgZm9yIChsZXQgeT0xO3k8PXJvd3M7eSsrKSBmb3IgKGxldCB4PTE7eDw9Y29sczt4KyspIHsgaWYgKGs+PU4pIGJyZWFrOyBweFtrXT1neCp4OyBweVtrXT1neSp5OyB2eFtrXT1yYW5kKC0xLDEpOyB2eVtrXT1yYW5kKC0xLDEpOyBrKys7IH0KICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdjZW50ZXJidXJzdCcpIHsKICAgICAgICAgIGNvbnN0IGN4PWlubmVyV2lkdGgvMiwgY3k9aW5uZXJIZWlnaHQvMjsKICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGNvbnN0IGE9TWF0aC5yYW5kb20oKSpNYXRoLlBJKjIsIGQ9cmFuZCgwLCBNYXRoLm1pbihpbm5lcldpZHRoLGlubmVySGVpZ2h0KS8yKTsgcHhbaV09Y3grTWF0aC5jb3MoYSkqZDsgcHlbaV09Y3krTWF0aC5zaW4oYSkqZDsgdnhbaV09TWF0aC5jb3MoYSk7IHZ5W2ldPU1hdGguc2luKGEpOyB9CiAgICAgICAgfSBlbHNlIHsgLy8gcmFuZG9tCiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBweFtpXT1yYW5kKDAsaW5uZXJXaWR0aCk7IHB5W2ldPXJhbmQoMCxpbm5lckhlaWdodCk7IHZ4W2ldPXJhbmQoLTEsMSk7IHZ5W2ldPXJhbmQoLTEsMSk7IH0KICAgICAgICB9CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIGNvbnN0IG09TWF0aC5oeXBvdCh2eFtpXSx2eVtpXSl8fDE7IHZ4W2ldKj0yLjAvbTsgdnlbaV0qPTIuMC9tOwogICAgICAgICAgaHVlW2ldID0gKHBhbGV0dGVIdWUgKyByYW5kKC0zMCwgMzApKSAlIDM2MDsgcHJldnhbaV09cHhbaV07IHByZXZ5W2ldPXB5W2ldOwogICAgICAgICAgc2l6ZU11bFtpXT0wOyB2Qm9vc3RbaV09MDsgaHVlT2ZmW2ldPTA7IGppdEFtcFtpXT0wOwogICAgICAgICAgYWxpZ25NdWxbaV09MDsgY29oZXNpb25NdWxbaV09MDsgc2VwYXJhdGlvbk11bFtpXT0wOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gcmVzZWVkKG4pIHsKICAgICAgICBOID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihuKSk7CiAgICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwogICAgICB9CgogICAgICBhbGxvYyhOKTsgc2VlZEJvaWRzKCk7CgogICAgICAvLyBRdWFkdHJlZSBpbXBsZW1lbnRhdGlvbgogICAgICBjbGFzcyBRVE5vZGUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy54ID0geDsgdGhpcy55ID0geTsgdGhpcy53ID0gdzsgdGhpcy5oID0gaDsKICAgICAgICAgIHRoaXMuY2FwID0gY2FwOyB0aGlzLmNvdW50ID0gMDsgdGhpcy5pZHggPSBuZXcgSW50MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5wdHN4ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOyB0aGlzLnB0c3kgPSBuZXcgRmxvYXQzMkFycmF5KGNhcCk7CiAgICAgICAgICB0aGlzLmRpdmlkZWQgPSBmYWxzZTsgdGhpcy5jaGlsZHJlbiA9IG51bGw7CiAgICAgICAgfQogICAgICB9CgogICAgICBjbGFzcyBRdWFkdHJlZSB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCwgY2FwKSB7CiAgICAgICAgICB0aGlzLnJvb3QgPSBuZXcgUVROb2RlKHgsIHksIHcsIGgsIGNhcCk7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsKICAgICAgICB9CgogICAgICAgIGluc2VydChpLCB4LCB5LCBub2RlID0gdGhpcy5yb290KSB7CiAgICAgICAgICBpZiAoeCA8IG5vZGUueCB8fCB5IDwgbm9kZS55IHx8IHggPj0gbm9kZS54ICsgbm9kZS53IHx8IHkgPj0gbm9kZS55ICsgbm9kZS5oKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICBpZiAobm9kZS5jb3VudCA8IG5vZGUuY2FwICYmICFub2RlLmRpdmlkZWQpIHsKICAgICAgICAgICAgY29uc3QgaiA9IG5vZGUuY291bnQrKzsgbm9kZS5pZHhbal0gPSBpOyBub2RlLnB0c3hbal0gPSB4OyBub2RlLnB0c3lbal0gPSB5OyByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghbm9kZS5kaXZpZGVkKSB0aGlzLnN1YmRpdmlkZShub2RlKTsKICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydChpLCB4LCB5LCBub2RlLmNoaWxkcmVuWyAoeSA8IG5vZGUueSArIG5vZGUuaC8yID8gMCA6IDIpICsgKHggPCBub2RlLnggKyBub2RlLncvMiA/IDAgOiAxKSBdKTsKICAgICAgICB9CgogICAgICAgIHN1YmRpdmlkZShub2RlKSB7CiAgICAgICAgICBub2RlLmRpdmlkZWQgPSB0cnVlOwogICAgICAgICAgY29uc3QgaHcgPSBub2RlLncvMiwgaGggPSBub2RlLmgvMjsKICAgICAgICAgIG5vZGUuY2hpbGRyZW4gPSBbCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnksICAgICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBOVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTkUKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngsICAgICAgIG5vZGUueStoaCwgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIFNXCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54K2h3LCAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTRQogICAgICAgICAgXTsKICAgICAgICAgIC8vIHJlaW5zZXJ0IGV4aXN0aW5nIHBvaW50cwogICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBub2RlLmNvdW50OyBrKyspIHsKICAgICAgICAgICAgY29uc3QgaSA9IG5vZGUuaWR4W2tdOyBjb25zdCB4ID0gbm9kZS5wdHN4W2tdOyBjb25zdCB5ID0gbm9kZS5wdHN5W2tdOwogICAgICAgICAgICB0aGlzLmluc2VydChpLCB4LCB5LCBub2RlLmNoaWxkcmVuWyAoeSA8IG5vZGUueSArIG5vZGUuaC8yID8gMCA6IDIpICsgKHggPCBub2RlLnggKyBub2RlLncvMiA/IDAgOiAxKSBdKTsKICAgICAgICAgIH0KICAgICAgICAgIG5vZGUuY291bnQgPSAwOyAvLyBjbGVhciBsZWFmIHN0b3JhZ2UKICAgICAgICB9CgogICAgICAgIHF1ZXJ5KGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICB0aGlzLl9xdWVyeU5vZGUodGhpcy5yb290LCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQogICAgICAgIF9xdWVyeU5vZGUobm9kZSwgY3gsIGN5LCByLCBvdXQpIHsKICAgICAgICAgIC8vIGNpcmNsZS1yZWN0IHF1aWNrIHJlamVjdAogICAgICAgICAgY29uc3Qgcng9bm9kZS54LCByeT1ub2RlLnksIHJ3PW5vZGUudywgcmg9bm9kZS5oOwogICAgICAgICAgbGV0IG54ID0gTWF0aC5tYXgocngsIE1hdGgubWluKGN4LCByeCtydykpOwogICAgICAgICAgbGV0IG55ID0gTWF0aC5tYXgocnksIE1hdGgubWluKGN5LCByeStyaCkpOwogICAgICAgICAgY29uc3QgZGlzdCA9IChjeC1ueCkqKGN4LW54KSsoY3ktbnkpKihjeS1ueSk7CiAgICAgICAgICBpZiAoZGlzdCA+IHIqcikgcmV0dXJuOwoKICAgICAgICAgIGlmICghbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGZvciAobGV0IGs9MDtrPG5vZGUuY291bnQ7aysrKSB7IG91dC5wdXNoKG5vZGUuaWR4W2tdKTsgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKGxldCBjPTA7Yzw0O2MrKykgdGhpcy5fcXVlcnlOb2RlKG5vZGUuY2hpbGRyZW5bY10sIGN4LCBjeSwgciwgb3V0KTsKICAgICAgICB9CgogICAgICAgIGRyYXcoY3R4KSB7CiAgICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgkeyhwYWxldHRlSHVlKzE4MCklMzYwfSA4MCUgNzAlIC8gMC4xNClgOwogICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7CiAgICAgICAgICB0aGlzLl9kcmF3Tm9kZShjdHgsIHRoaXMucm9vdCk7CiAgICAgICAgICBjdHgucmVzdG9yZSgpOwogICAgICAgIH0KICAgICAgICBfZHJhd05vZGUoY3R4LCBub2RlKSB7CiAgICAgICAgICBjdHguc3Ryb2tlUmVjdChub2RlLngsIG5vZGUueSwgbm9kZS53LCBub2RlLmgpOwogICAgICAgICAgaWYgKG5vZGUuZGl2aWRlZCkgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX2RyYXdOb2RlKGN0eCwgbm9kZS5jaGlsZHJlbltjXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBJbnRlcmFjdGlvbiBlZmZlY3RzCiAgICAgIGNvbnN0IGVmZmVjdHMgPSBbXTsgLy8ge3gseSx0LGxpZmUsc2lnbix0eXBlLC4uLmV4dHJhc30KICAgICAgbGV0IG1vdXNlRG93biA9IGZhbHNlOwogICAgICBjb25zdCBwb2ludGVyID0ge3g6IGlubmVyV2lkdGgvMiwgeTogaW5uZXJIZWlnaHQvMiwgdng6IDAsIHZ5OiAwLCB0OiBwZXJmb3JtYW5jZS5ub3coKX07CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IHRydWU7IHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgICBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgbW91c2VEb3duID0gZmFsc2U7IHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCAtMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgaWYgKG1vdXNlRG93bikgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksICsxKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwoKICAgICAgZnVuY3Rpb24gcGlja0NsaWNrVHlwZSgpIHsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZSAmJiBDRkcuY2xpY2tNb2RlICE9PSAncmFuZG9tJykgcmV0dXJuIENGRy5jbGlja01vZGU7CiAgICAgICAgY29uc3QgbGlzdCA9IENGRy5jbGlja01vZGVzIHx8IFsnc2hvY2snXTsKICAgICAgICByZXR1cm4gbGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbGlzdC5sZW5ndGgpXSB8fCAnc2hvY2snOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHNwYXduRWZmZWN0KHgsIHksIHNpZ24pIHsKICAgICAgICBjb25zdCB0eXBlID0gcGlja0NsaWNrVHlwZSgpOwogICAgICAgIGNvbnN0IGxpZmUgPSAodHlwZT09PSdpbXBsb3Npb24nKSA/IDAuOSA6ICh0eXBlPT09J3ZvcnRleCcgfHwgdHlwZT09PSdtZXRlb3InID8gMS44IDogMS4yKTsKICAgICAgICBjb25zdCBFID0geyB4LCB5LCB0OiAwLCBsaWZlLCBzaWduLCB0eXBlIH07CiAgICAgICAgaWYgKHR5cGUgPT09ICdsaXNzYVB1bHNlJykgewogICAgICAgICAgY29uc3Qgc3AgPSBNYXRoLm1pbigzLCBNYXRoLmh5cG90KHBvaW50ZXIudngsIHBvaW50ZXIudnkpKjEyMCk7CiAgICAgICAgICBFLmEgPSAyICsgTWF0aC5mbG9vcihzcCU0KTsgRS5iID0gMyArIE1hdGguZmxvb3IoKHNwKjEuNyklNCk7IEUucGhhc2UgPSBNYXRoLnJhbmRvbSgpKlRBVTsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICBjb25zdCBzY2FsZSA9IDkwMDsgRS52eCA9IHBvaW50ZXIudngqc2NhbGU7IEUudnkgPSBwb2ludGVyLnZ5KnNjYWxlOyBFLm1hc3MgPSAyMjAgKyBNYXRoLnJhbmRvbSgpKjE4MDsgRS5kcmFnPTAuOTg7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAncGVybGluRHJhZycpIHsKICAgICAgICAgIEUuc2NhbGUgPSAwLjAwNiArIE1hdGgucmFuZG9tKCkqMC4wMDY7IEUuYW1wID0gMS4yICsgTWF0aC5yYW5kb20oKSoxLjI7CiAgICAgICAgfQogICAgICAgIGVmZmVjdHMucHVzaChFKTsKICAgICAgfQoKICAgICAgLy8gUGh5c2ljcyBoZWxwZXJzCiAgICAgIGZ1bmN0aW9uIGxpbWl0KHZ4LCB2eSwgbWF4KSB7CiAgICAgICAgY29uc3QgbTIgPSB2eCp2eCArIHZ5KnZ5OyBpZiAobTIgPiBtYXgqbWF4KSB7CiAgICAgICAgICBjb25zdCBtID0gTWF0aC5zcXJ0KG0yKSB8fCAxOyBjb25zdCBzID0gbWF4IC8gbTsgcmV0dXJuIFt2eCpzLCB2eSpzXTsKICAgICAgICB9IHJldHVybiBbdngsIHZ5XTsKICAgICAgfQoKICAgICAgLy8gTWFpbiBsb29wCiAgICAgIGxldCBsYXN0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgIGxldCBmcHNBdmcgPSAwOwogICAgICBmdW5jdGlvbiBmcmFtZSh0KSB7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1pbigzMiwgdCAtIGxhc3QpICogMC4wMDE7IC8vIGNsYW1wCiAgICAgICAgbGFzdCA9IHQ7CiAgICAgICAgY29uc3QgZnBzTm93ID0gMSAvIE1hdGgubWF4KDFlLTYsIGR0KTsKICAgICAgICBmcHNBdmcgPSBmcHNBdmcgPyAoZnBzQXZnKjAuOSArIGZwc05vdyowLjEpIDogZnBzTm93OwogICAgICAgIGNvbnN0IFcgPSBpbm5lcldpZHRoLCBIID0gaW5uZXJIZWlnaHQ7CgogICAgICAgIC8vIHRyYWlsczogdHJhbnNsdWNlbnQgZmlsbAogICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInOwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgQ0ZHLnRyYWlsQWxwaGEpKTsKICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwNTA3MGEnOwogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBXLCBIKTsKICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBCdWlsZCBxdWFkdHJlZQogICAgICAgIGNvbnN0IHF0ID0gbmV3IFF1YWR0cmVlKDAsIDAsIFcsIEgsIENGRy5xdENhcCk7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHF0Lmluc2VydChpLCBweFtpXSwgcHlbaV0pOwoKICAgICAgLy8gQXBwbHkgZmxvY2tpbmcgdmlhIG5laWdoYm9yIHF1ZXJpZXMgKGFkYXB0aXZlIHZpc2lvbiB1bmRlciBsb2FkKQogICAgICBjb25zdCB2aXNpb24gPSBDRkcudmlzaW9uICogKGZwc0F2ZyA8IDUwID8gMC45IDogMS4wKTsgY29uc3Qgc2VwID0gQ0ZHLnNlcDsKICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgYXhbaV09MDsgYXlbaV09MDsgfQogICAgICBsZXQgdG1wID0gW107CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgdG1wLmxlbmd0aCA9IDA7IHF0LnF1ZXJ5KHB4W2ldLCBweVtpXSwgdmlzaW9uLCB0bXApOwogICAgICAgICAgbGV0IGN4PTAsIGN5PTAsIHZ4c3VtPTAsIHZ5c3VtPTAsIHN4PTAsIHN5PTAsIHRvdGFsPTAsIHNjbG9zZT0wOwogICAgICAgICAgZm9yIChsZXQgaz0wO2s8dG1wLmxlbmd0aDtrKyspIHsKICAgICAgICAgICAgY29uc3QgaiA9IHRtcFtrXTsgaWYgKGo9PT1pKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZHggPSBweFtqXS1weFtpXTsgY29uc3QgZHkgPSBweVtqXS1weVtpXTsKICAgICAgICAgICAgY29uc3QgZDIgPSBkeCpkeCArIGR5KmR5OyBpZiAoZDIgPT09IDApIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBkID0gTWF0aC5zcXJ0KGQyKTsKICAgICAgICAgICAgaWYgKGQgPCB2aXNpb24pIHsgdG90YWwrKzsgY3ggKz0gcHhbal07IGN5ICs9IHB5W2pdOyB2eHN1bSArPSB2eFtqXTsgdnlzdW0gKz0gdnlbal07IH0KICAgICAgICAgICAgaWYgKGQgPCBzZXApIHsgc2Nsb3NlKys7IHN4IC09IGR4LyhkfHwxKTsgc3kgLT0gZHkvKGR8fDEpOyB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodG90YWw+MCkgewogICAgICAgICAgICAvLyBhbGlnbm1lbnQKICAgICAgICAgICAgbGV0IGF4diA9ICh2eHN1bS90b3RhbCkgLSB2eFtpXTsgbGV0IGF5diA9ICh2eXN1bS90b3RhbCkgLSB2eVtpXTsKICAgICAgICAgICAgY29uc3QgYWxpZ25XID0gQ0ZHLmFsaWduVyAqICgxICsgKGFsaWduTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtheHYsIGF5dl0gPSBsaW1pdChheHYsIGF5diwgQ0ZHLm1heEZvcmNlKTsKICAgICAgICAgICAgYXhbaV0gKz0gYXh2ICogYWxpZ25XOyBheVtpXSArPSBheXYgKiBhbGlnblc7CiAgICAgICAgICAgIC8vIGNvaGVzaW9uCiAgICAgICAgICAgIGxldCBjeHYgPSAoY3gvdG90YWwgLSBweFtpXSk7IGxldCBjeXYgPSAoY3kvdG90YWwgLSBweVtpXSk7CiAgICAgICAgICAgIGNvbnN0IGNvaFcgPSBDRkcuY29oZXNpb25XICogKDEgKyAoY29oZXNpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgW2N4diwgY3l2XSA9IGxpbWl0KGN4diwgY3l2LCBDRkcubWF4Rm9yY2UpOyBheFtpXSArPSBjeHYgKiBjb2hXOyBheVtpXSArPSBjeXYgKiBjb2hXOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHNjbG9zZT4wKSB7CiAgICAgICAgICAgIGxldCBzeHYgPSBzeDsgbGV0IHN5diA9IHN5OyBbc3h2LCBzeXZdID0gbGltaXQoc3h2LCBzeXYsIENGRy5tYXhGb3JjZSoxLjUpOwogICAgICAgICAgICBjb25zdCBzZXBXID0gQ0ZHLnNlcGFyYXRpb25XICogKDEgKyAoc2VwYXJhdGlvbk11bFtpXXx8MCkpOwogICAgICAgICAgICBheFtpXSArPSBzeHYgKiBzZXBXOyBheVtpXSArPSBzeXYgKiBzZXBXOwogICAgICAgICAgfQogICAgICAgIC8vIG9wdGlvbmFsIGZsb3cgZmllbGQgZm9yIHBhdHRlcm4gdmFyaWV0eQogICAgICAgIGlmIChDRkcuZmxvdykgewogICAgICAgICAgY29uc3QgcyA9IENGRy5mbG93U2NhbGUgfHwgMC4wMDQ7IGNvbnN0IGEgPSBDRkcuZmxvd0FtcCB8fCAwLjY7IGNvbnN0IHNwID0gQ0ZHLmZsb3dTcGVlZCB8fCAwLjY7CiAgICAgICAgICBjb25zdCB0MCA9IHBlcmZvcm1hbmNlLm5vdygpKjAuMDAxKnNwOwogICAgICAgICAgY29uc3QgZnggPSBNYXRoLnNpbihweVtpXSpzICsgdDApICogYTsKICAgICAgICAgIGNvbnN0IGZ5ID0gTWF0aC5jb3MocHhbaV0qcyAtIHQwKSAqIGE7CiAgICAgICAgICBheFtpXSArPSBmeDsgYXlbaV0gKz0gZnk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBJbnRlcmFjdGlvbiBlZmZlY3RzOiB+MjArIG1vZGVzIGluY2x1ZGluZyBwZXJsaW5EcmFnLCBsaXNzYVB1bHNlLCBtZXRlb3IKICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdsaWdodGVyJzsKICAgICAgbGV0IHRtcDIgPSBbXTsKICAgICAgZm9yIChsZXQgZT1lZmZlY3RzLmxlbmd0aC0xOyBlPj0wOyBlLS0pIHsKICAgICAgICBjb25zdCBFID0gZWZmZWN0c1tlXTsgRS50ICs9IGR0OyBjb25zdCBrID0gRS50IC8gRS5saWZlOwogICAgICAgIGNvbnN0IHIgPSAzMCArIGsgKiAyNjA7IGNvbnN0IHN0ciA9IDEuMCAtIGs7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsgRS54ICs9IChFLnZ4fHwwKSpkdDsgRS55ICs9IChFLnZ5fHwwKSpkdDsgRS52eCAqPSAoRS5kcmFnfHwxKTsgRS52eSAqPSAoRS5kcmFnfHwxKTsgRS5tYXNzICo9IDAuOTg1OyB9CiAgICAgICAgdG1wMi5sZW5ndGggPSAwOyBxdC5xdWVyeShFLngsIEUueSwgciwgdG1wMik7CiAgICAgICAgZm9yIChsZXQgaWk9MDsgaWk8dG1wMi5sZW5ndGg7IGlpKyspIHsKICAgICAgICAgIGNvbnN0IGkgPSB0bXAyW2lpXTsgY29uc3QgZHggPSBweFtpXS1FLng7IGNvbnN0IGR5ID0gcHlbaV0tRS55OyBjb25zdCBkID0gTWF0aC5oeXBvdChkeCwgZHkpfHwxOwogICAgICAgICAgY29uc3QgZmFsbCA9ICgxIC0gTWF0aC5taW4oMSwgZC9yKSk7CiAgICAgICAgICBpZiAoRS50eXBlID09PSAncGVybGluRHJhZycpIHsKICAgICAgICAgICAgY29uc3QgdiA9IHBlcmxpblZlYyhweFtpXS1FLngsIHB5W2ldLUUueSwgRS5zY2FsZXx8MC4wMDgsIChFLmFtcHx8MS41KSAqIGZhbGwpOwogICAgICAgICAgICBheFtpXSArPSB2WzBdOyBheVtpXSArPSB2WzFdOyBodWVPZmZbaV0gKz0gNDAqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMihkeSwgZHgpOwogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oRS5hKmFuZyArIEUucGhhc2UpICogTWF0aC5jb3MoRS5iKmFuZyAtIEUucGhhc2UpOwogICAgICAgICAgICBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgICBjb25zdCBHID0gODAwOyBjb25zdCBmID0gTWF0aC5taW4oMy4wLCAoRyooRS5tYXNzfHwyMDApKS8oKGQqZCkrMjAwKSk7CiAgICAgICAgICAgIGF4W2ldIC09IChkeC9kKSpmKmZhbGw7IGF5W2ldIC09IChkeS9kKSpmKmZhbGw7IHZCb29zdFtpXSArPSAwLjIqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjE1KmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3ZvcnRleCcgfHwgRS50eXBlPT09J29yYml0Q1cnIHx8IEUudHlwZT09PSdvcmJpdENDVycgfHwgRS50eXBlPT09J3NwaXJhbE91dCcgfHwgRS50eXBlPT09J3NwaXJhbEluJykgewogICAgICAgICAgICBjb25zdCBkaXIgPSAoRS50eXBlPT09J29yYml0Q0NXJykgPyAtMSA6IDE7CiAgICAgICAgICAgIGNvbnN0IHR4ID0gLWR5L2QsIHR5ID0gZHgvZDsgbGV0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAxLjIgKiBmYWxsICogZGlyOwogICAgICAgICAgICBpZiAoRS50eXBlPT09J3NwaXJhbE91dCcpIHsgcyA9IDEuMipmYWxsOyBheFtpXSArPSAoZHgvZCkqZmFsbCowLjg7IGF5W2ldICs9IChkeS9kKSpmYWxsKjAuODsgfQogICAgICAgICAgICBpZiAoRS50eXBlPT09J3NwaXJhbEluJykgeyBzID0gLTEuMipmYWxsOyBheFtpXSAtPSAoZHgvZCkqZmFsbCowLjY7IGF5W2ldIC09IChkeS9kKSpmYWxsKjAuNjsgfQogICAgICAgICAgICBheFtpXSArPSB0eCpzOyBheVtpXSArPSB0eSpzOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ltcGxvc2lvbicgfHwgRS50eXBlPT09J2F0dHJhY3QnIHx8IEUudHlwZT09PSdtYWduZXQnKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS50eXBlPT09J2ltcGxvc2lvbicgPyAtMi4yIDogLTEuMikgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICAgIHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyB2Qm9vc3RbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NwcmF5JyB8fCBFLnR5cGU9PT0nc2NhdHRlcicpIHsKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8xOi0xKSAqIChFLnR5cGU9PT0nc2NhdHRlcic/My4wOjIuNCkgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICAgIHZ4W2ldICs9IChkeC9kKSAqIDAuMjUgKiBmYWxsOyB2eVtpXSArPSAoZHkvZCkgKiAwLjI1ICogZmFsbDsgaml0QW1wW2ldICs9IDAuMTUqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc3R1bicgfHwgRS50eXBlPT09J2ZyZWV6ZScpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IChFLnR5cGU9PT0nZnJlZXplJz8wLjY6MC4zKSAqIGZhbGw7IHNpemVNdWxbaV0gKz0gMC4zKmZhbGw7IHZ4W2ldICo9IDAuOTY7IHZ5W2ldICo9IDAuOTY7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ZlYXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAyLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IGppdEFtcFtpXSArPSAwLjI1KmZhbGw7IGh1ZU9mZltpXSArPSA4MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzY3JhbWJsZScpIHsKICAgICAgICAgICAgdnhbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyB2eVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMS41KmZhbGw7IGppdEFtcFtpXSArPSAwLjMqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAncHVsc2UnIHx8IEUudHlwZT09PSdyaXBwbGUnKSB7CiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNpbihrKk1hdGguUEkqMik7IGNvbnN0IHMgPSB3ICogMi4wICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gKz0gMC44ICogZmFsbDsgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjMgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdkZWFsaWduJykgewogICAgICAgICAgICBhbGlnbk11bFtpXSAtPSAwLjggKiBmYWxsOyBjb2hlc2lvbk11bFtpXSArPSAwLjIgKiBmYWxsOyBqaXRBbXBbaV0gKz0gMC4xICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnY29oZXJlJyB8fCBFLnR5cGU9PT0ndGlnaHRlbicgfHwgRS50eXBlPT09J2xvb3NlbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdsb29zZW4nKSA/IC0xIDogMTsgLy8gbG9vc2VuIHJlZHVjZXMgY29oZXNpb24KICAgICAgICAgICAgY29oZXNpb25NdWxbaV0gKz0gZGlyICogMC45ICogZmFsbDsgaWYgKGRpcj4wKSBzZXBhcmF0aW9uTXVsW2ldIC09IDAuMiAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NlcGFyYXRlJyB8fCBFLnR5cGU9PT0nZGlzcGVyc2UnKSB7CiAgICAgICAgICAgIHNlcGFyYXRpb25NdWxbaV0gKz0gMS4wICogZmFsbDsgY29oZXNpb25NdWxbaV0gLT0gMC40ICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnd2FycCcgfHwgRS50eXBlPT09J3NwZWVkdXAnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSArPSAwLjYqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3Nsb3dkb3duJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gLT0gMC41KmZhbGw7IGh1ZU9mZltpXSAtPSAyMCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdncm93JykgewogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuNipmYWxsOyBodWVPZmZbaV0gKz0gMzAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAndHVubmVsJykgewogICAgICAgICAgICBjb25zdCB0YXJnZXQgPSByKjAuNzsgY29uc3QgcyA9IChkPHRhcmdldD8rMTotMSkgKiAxLjIgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ppdHRlcmJ1cnN0JykgewogICAgICAgICAgICBqaXRBbXBbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2Nocm9tYWJ1cnN0JykgewogICAgICAgICAgICBodWVPZmZbaV0gKz0gMTYwICogZmFsbDsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNob2NrIC8gZGVmYXVsdAogICAgICAgICAgICBjb25zdCBzID0gKEUuc2lnbj4wPysxOi0xKSAqIDEuOCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfQogICAgICAgICAgLy8gZ2VuZXJhbCBjb2xvciBlbmVyZ3kKICAgICAgICAgIGh1ZVtpXSA9IChodWVbaV0gKyA5MCAqIGZhbGwpICUgMzYwOwogICAgICAgIH0KICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KEUueCwgRS55LCBNYXRoLm1heCgxLCByKjAuNiksIEUueCwgRS55LCByKTsKICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsYSgkeyhwYWxldHRlSHVlKzIwKSUzNjB9LCA5NSUsIDcwJSwgJHswLjM0KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjYsIGBoc2xhKCR7KHBhbGV0dGVIdWUrNjApJTM2MH0sIDk1JSwgNjAlLCAkezAuMjIqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuOTUsIGBoc2xhKCR7KHBhbGV0dGVIdWUrMTAwKSUzNjB9LCA5NSUsIDU1JSwgMClgKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsYSgke3BhbGV0dGVIdWV9LCA5NSUsIDY1JSwgJHswLjI1KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjYsIGBoc2xhKCR7KHBhbGV0dGVIdWUrNDApJTM2MH0sIDk1JSwgNTUlLCAkezAuMTgqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuOSwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs4MCklMzYwfSwgOTUlLCA2MCUsIDApYCk7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsU3R5bGUgPSBnOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMoRS54LCBFLnksIHIsIDAsIE1hdGguUEkqMik7IGN0eC5maWxsKCk7CiAgICAgICAgaWYgKGsgPj0gMSkgZWZmZWN0cy5zcGxpY2UoZSwgMSk7CiAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBJbnRlZ3JhdGUgYW5kIGRyYXcgYm9pZHMgd2l0aCBnbG93IGFuZCB0cmFpbHMKICAgICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gQ0ZHLmJsZW5kOwogICAgICBjdHgubGluZVdpZHRoID0gQ0ZHLmxpbmVXaWR0aDsKICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgICAgLy8gaW50ZWdyYXRlCiAgICAgICAgICBpZiAoaml0QW1wW2ldID4gMC4wMDAxKSB7IGF4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAwLjIgKiBqaXRBbXBbaV07IGF5W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAwLjIgKiBqaXRBbXBbaV07IH0KICAgICAgICAgIHZ4W2ldICs9IGF4W2ldOyB2eVtpXSArPSBheVtpXTsKICAgICAgICAgIGNvbnN0IHZNYXggPSBDRkcubWF4U3BlZWQgKiAoMSArIE1hdGgubWF4KC0wLjcsIHZCb29zdFtpXSkqMC44KTsKICAgICAgICAgIFt2eFtpXSwgdnlbaV1dID0gbGltaXQodnhbaV0sIHZ5W2ldLCB2TWF4KTsKICAgICAgICAgIC8vIGVuZm9yY2UgbWluIHNwZWVkICh3aXRoIGJvb3N0KQogICAgICAgICAgeyBjb25zdCBzcCA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKSB8fCAxOyBjb25zdCB2TWluID0gQ0ZHLm1pblNwZWVkICogKDEgKyBNYXRoLm1heCgwLCB2Qm9vc3RbaV0pKjAuNSk7IGlmIChzcCA8IHZNaW4pIHsgY29uc3QgcyA9IHZNaW4gLyBzcDsgdnhbaV0gKj0gczsgdnlbaV0gKj0gczsgfSB9CiAgICAgICAgICBwcmV2eFtpXSA9IHB4W2ldOyBwcmV2eVtpXSA9IHB5W2ldOwogICAgICAgICAgcHhbaV0gKz0gdnhbaV07IHB5W2ldICs9IHZ5W2ldOwoKICAgICAgICAgIC8vIGJvdW5kYXJpZXMKICAgICAgICAgIGlmIChDRkcud3JhcCkgewogICAgICAgICAgICBpZiAocHhbaV0gPCAtNSkgcHhbaV0gPSBXICsgNTsgZWxzZSBpZiAocHhbaV0gPiBXKzUpIHB4W2ldID0gLTU7CiAgICAgICAgICAgIGlmIChweVtpXSA8IC01KSBweVtpXSA9IEggKyA1OyBlbHNlIGlmIChweVtpXSA+IEgrNSkgcHlbaV0gPSAtNTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChweFtpXSA8IDAgfHwgcHhbaV0gPiBXKSB7IHZ4W2ldID0gLXZ4W2ldOyB9CiAgICAgICAgICAgIGlmIChweVtpXSA8IDAgfHwgcHlbaV0gPiBIKSB7IHZ5W2ldID0gLXZ5W2ldOyB9CiAgICAgICAgICAgIHB4W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oVywgcHhbaV0pKTsKICAgICAgICAgICAgcHlbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihILCBweVtpXSkpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIGRlY2F5IG1vZGlmaWVycyBhbmQgY29tcHV0ZSB0aW50CiAgICAgICAgICB2Qm9vc3RbaV0gKj0gMC45Mjsgc2l6ZU11bFtpXSAqPSAwLjkwOyBodWVPZmZbaV0gKj0gMC45NDsgaml0QW1wW2ldICo9IDAuODg7CiAgICAgICAgICBhbGlnbk11bFtpXSAqPSAwLjk0OyBjb2hlc2lvbk11bFtpXSAqPSAwLjk0OyBzZXBhcmF0aW9uTXVsW2ldICo9IDAuOTQ7CiAgICAgICAgICAvLyBzbG93bHkgZHJpZnQgYm9pZCBodWUgYmFjayB0b3dhcmQgYmFzZSBwYWxldHRlIGh1ZQogICAgICAgICAgaHVlW2ldID0gYXBwcm9hY2hIdWUoaHVlW2ldLCBwYWxldHRlSHVlLCBNYXRoLm1pbigxLCBkdCAqIChDRkcuaHVlUmVsYXggfHwgMC4yKSkpOwogICAgICAgICAgc3BkW2ldID0gTWF0aC5oeXBvdCh2eFtpXSwgdnlbaV0pOwogICAgICAgICAgY29uc3QgTCA9IDUwICsgTWF0aC5taW4oNDUsIHNwZFtpXSo4KTsKICAgICAgICAgIGNvbnN0IFMgPSA4MCArIE1hdGgubWluKDIwLCBzcGRbaV0qNik7CiAgICAgICAgICBjb25zdCBkcmF3SHVlID0gKGh1ZVtpXSArIGh1ZU9mZltpXSkgJSAzNjA7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgaHNsKCR7ZHJhd0h1ZX0sICR7U30lLCAke0x9JSlgOwogICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gYGhzbCgke2RyYXdIdWV9LCA5MCUsIDYwJSlgOwogICAgICAgICAgY29uc3QgZ2xvd1F1YWxpdHkgPSAoZnBzQXZnIDwgNTAgPyAwLjUgOiAxLjApOwogICAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSBnbG93UXVhbGl0eSAqIChDRkcuZ2xvd0Jhc2UgKyBNYXRoLm1pbihDRkcuZ2xvd01heCwgc3BkW2ldKkNGRy5nbG93U2NhbGUpKTsKCiAgICAgICAgICAvLyB0cmFpbCBzZWdtZW50CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjdHgubW92ZVRvKHByZXZ4W2ldLCBwcmV2eVtpXSk7CiAgICAgICAgICBjdHgubGluZVRvKHB4W2ldLCBweVtpXSk7CiAgICAgICAgICBjdHguc3Ryb2tlKCk7CgogICAgICAgICAgLy8gYm9pZCBoZWFkIHNoYXBlCiAgICAgICAgICBjb25zdCBhbmcgPSBNYXRoLmF0YW4yKHZ5W2ldLCB2eFtpXSk7CiAgICAgICAgICBjb25zdCBjYSA9IE1hdGguY29zKGFuZyksIHNhID0gTWF0aC5zaW4oYW5nKTsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBgaHNsKCR7aHVlW2ldfSwgOTUlLCAke0x9JSlgOwogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY29uc3QgcyA9IENGRy5jb21ldFNpemUgKiAoMSArIChzaXplTXVsW2ldfHwwKSk7CiAgICAgICAgICBpZiAoQ0ZHLnNoYXBlID09PSAndHJpYW5nbGUnKSB7CiAgICAgICAgICAgIGNvbnN0IEMyNiA9IDAuODU2ODg4NzUzLCBTMjYgPSAwLjUxNTQ5ODsgLy8gY29zL3NpbigyLjYpCiAgICAgICAgICAgIGNvbnN0IHgwID0gcHhbaV0gKyBjYSpzKjEuNiwgeTAgPSBweVtpXSArIHNhKnMqMS42OwogICAgICAgICAgICBjb25zdCBjYV9wID0gY2EqQzI2IC0gc2EqUzI2LCBzYV9wID0gc2EqQzI2ICsgY2EqUzI2OwogICAgICAgICAgICBjb25zdCBjYV9tID0gY2EqQzI2ICsgc2EqUzI2LCBzYV9tID0gc2EqQzI2IC0gY2EqUzI2OwogICAgICAgICAgICBjdHgubW92ZVRvKHgwLCB5MCk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9wKnMsICBweVtpXSArIHNhX3Aqcyk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9tKnMsICBweVtpXSArIHNhX20qcyk7CiAgICAgICAgICB9IGVsc2UgaWYgKENGRy5zaGFwZSA9PT0gJ29yYicpIHsKICAgICAgICAgICAgY3R4LmFyYyhweFtpXSwgcHlbaV0sIHMqMC42LCAwLCBNYXRoLlBJKjIpOwogICAgICAgICAgfSBlbHNlIHsgLy8gc3BhcmsKICAgICAgICAgICAgY29uc3QgQzAyID0gMC45ODAwNjY2LCBTMDIgPSAwLjE5ODY2OTM7IC8vIGNvcy9zaW4oMC4yKQogICAgICAgICAgICBjb25zdCB4aCA9IHB4W2ldICsgY2EqcyoxLjgsIHloID0gcHlbaV0gKyBzYSpzKjEuODsKICAgICAgICAgICAgY29uc3QgY2FfcDAyID0gY2EqQzAyIC0gc2EqUzAyLCBzYV9wMDIgPSBzYSpDMDIgKyBjYSpTMDI7CiAgICAgICAgICAgIGNvbnN0IGNhX20wMiA9IGNhKkMwMiArIHNhKlMwMiwgc2FfbTAyID0gc2EqQzAyIC0gY2EqUzAyOwogICAgICAgICAgICBjdHgubW92ZVRvKHhoLCB5aCk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9wMDIqcyowLjYsICBweVtpXSArIHNhX3AwMipzKjAuNik7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9tMDIqcyowLjYsICBweVtpXSArIHNhX20wMipzKjAuNik7CiAgICAgICAgICB9CiAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7IGN0eC5maWxsKCk7CiAgICAgICAgfQogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIFF1YWR0cmVlIHZpc3VhbGl6YXRpb24gKGRlZmF1bHQgb24pCiAgICAgICAgaWYgKENGRy5xdCkgcXQuZHJhdyhjdHgpOwoKICAgICAgICAvLyBIVUQKICAgICAgICBodWRFbC5pbm5lckhUTUwgPSBgPHN0cm9uZz5Cb2lkczwvc3Ryb25nPiDCtyBOPSR7Tn0gdmlzaW9uPSR7Q0ZHLnZpc2lvbn0gc2VwPSR7Q0ZHLnNlcH0gYCArCiAgICAgICAgICBgwrcgcXRDYXA9JHtDRkcucXRDYXB9IMK3IGh1ZT0ke3BhbGV0dGVIdWV9IMK3IHF0Vml6PSR7Q0ZHLnF0Pydvbic6J29mZid9IMK3IGNsaWNrPSR7Q0ZHLmNsaWNrTW9kZX0gwrcgZnBzPSR7ZnBzQXZnLnRvRml4ZWQoMCl9YDsKCiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKICAgICAgfQogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpOwoKICAgICAgLy8gQ29uZmlnIFVJIGJ1aWxkIGFuZCB3aXJpbmcKICAgICAgY29uc3QgY2ZnQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmZ0J0bicpOwogICAgICBjb25zdCBjZmdDbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdDbG9zZScpOwogICAgICBjb25zdCBjZmdQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maWcnKTsKICAgICAgY29uc3QgY2ZnQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maWdCb2R5Jyk7CiAgICAgIGNmZ0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNmZ1BhbmVsLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJykpOwogICAgICBjZmdDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNmZ1BhbmVsLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywnJykpOwoKICAgICAgY29uc3Qgc2NoZW1hID0gWwogICAgICAgIHtrZXk6J2h1ZScsIGxhYmVsOidIdWUnLCB0eXBlOidpbnQnLCBtaW46MCwgbWF4OjM2MCwgc3RlcDoxLCB2YWx1ZTpCQVNFX0hVRX0sCiAgICAgICAge2tleTonaGVhZGVyJywgbGFiZWw6J0hlYWRlcicsIHR5cGU6J3RleHQnLCB2YWx1ZTpIRUFERVJ9LAogICAgICAgIHtrZXk6J3N1YmhlYWRlcicsIGxhYmVsOidTdWJoZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6U1VCSEVBREVSfSwKICAgICAgICB7a2V5OidxdCcsIGxhYmVsOidTaG93IFF1YWR0cmVlJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3Nob3dIdWQnLCBsYWJlbDonU2hvdyBIVUQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc3Bhd24nLCBsYWJlbDonU3Bhd24nLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsncmFuZG9tJywnY2lyY2xlJywnZ3JpZCcsJ2NlbnRlcmJ1cnN0J119LAogICAgICAgIHtrZXk6J2NvdW50JywgbGFiZWw6J0NvdW50JywgdHlwZTonaW50JywgbWluOjUwLCBtYXg6MTAwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5Oid2aXNpb24nLCBsYWJlbDonVmlzaW9uJywgdHlwZTonaW50JywgbWluOjIwLCBtYXg6MjAwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3NlcCcsIGxhYmVsOidTZXBhcmF0aW9uIERpc3QnLCB0eXBlOidpbnQnLCBtaW46NCwgbWF4OjgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J21heFNwZWVkJywgbGFiZWw6J01heCBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLjEsIG1heDoxMiwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21pblNwZWVkJywgbGFiZWw6J01pbiBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLjAsIG1heDo2LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonbWF4Rm9yY2UnLCBsYWJlbDonTWF4IFN0ZWVyaW5nIEZvcmNlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAxLCBtYXg6MC41LCBzdGVwOjAuMDAxfSwKICAgICAgICB7a2V5OidhbGlnblcnLCBsYWJlbDonQWxpZ24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J2NvaGVzaW9uVycsIGxhYmVsOidDb2hlc2lvbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonc2VwYXJhdGlvblcnLCBsYWJlbDonU2VwYXJhdGlvbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTondHJhaWxBbHBoYScsIGxhYmVsOidUcmFpbCBBbHBoYScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6MSwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidxdENhcCcsIGxhYmVsOidRdWFkdHJlZSBDYXBhY2l0eScsIHR5cGU6J2ludCcsIG1pbjoyLCBtYXg6MzIsIHN0ZXA6MX0sCiAgICAgICAge2tleTond3JhcCcsIGxhYmVsOidXcmFwIEJvdW5kcycsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaGFwZScsIGxhYmVsOidTaGFwZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6Wyd0cmlhbmdsZScsJ3NwYXJrJywnb3JiJ119LAogICAgICAgIHtrZXk6J2JsZW5kJywgbGFiZWw6J0JsZW5kJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ2xpZ2h0ZXInLCdzY3JlZW4nLCdvdmVybGF5JywncGx1cy1saWdodGVyJ119LAogICAgICAgIHtrZXk6J2xpbmVXaWR0aCcsIGxhYmVsOidMaW5lIFdpZHRoJywgdHlwZTonbnVtYmVyJywgbWluOjAuMiwgbWF4OjQsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidnbG93QmFzZScsIGxhYmVsOidHbG93IEJhc2UnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjYwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2dsb3dNYXgnLCBsYWJlbDonR2xvdyBNYXgnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2dsb3dTY2FsZScsIGxhYmVsOidHbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0MCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2NvbWV0U2l6ZScsIGxhYmVsOidDb21ldCBTaXplJywgdHlwZTonbnVtYmVyJywgbWluOjEsIG1heDoyMCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2JnR3JhZGllbnQnLCBsYWJlbDonQkcgR3JhZGllbnQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDEnLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDEnLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MicsIGxhYmVsOidCRyBIdWUgU2hpZnQgMicsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQzJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAzJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZmxvdycsIGxhYmVsOidGbG93IEZpZWxkJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2Zsb3dBbXAnLCBsYWJlbDonRmxvdyBBbXAnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wNX0sCiAgICAgICAge2tleTonZmxvd1NjYWxlJywgbGFiZWw6J0Zsb3cgU2NhbGUnLCB0eXBlOidudW1iZXInLCBtaW46MC4wMDA1LCBtYXg6MC4wMiwgc3RlcDowLjAwMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTcGVlZCcsIGxhYmVsOidGbG93IFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDozLCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J2NsaWNrTW9kZScsIGxhYmVsOidDbGljayBNb2RlJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknXX0sCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBtYWtlUm93KGxhYmVsLCBpbnB1dCkgewogICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyByb3cuY2xhc3NOYW1lID0gJ3Jvdyc7CiAgICAgICAgY29uc3QgbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7IGwudGV4dENvbnRlbnQgPSBsYWJlbDsgcm93LmFwcGVuZENoaWxkKGwpOwogICAgICAgIHJvdy5hcHBlbmRDaGlsZChpbnB1dCk7IHJldHVybiByb3c7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFkZElucHV0KGl0ZW0pIHsKICAgICAgICBsZXQgaW5wdXQ7CiAgICAgICAgY29uc3QgdjAgPSAoaXRlbS5rZXkgaW4gQ0ZHKSA/IENGR1tpdGVtLmtleV0gOiBpdGVtLnZhbHVlOwogICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdib29sJykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdjaGVja2JveCc7IGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQuY2hlY2tlZDsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIENGR1tpdGVtLmtleV0pOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3NlbGVjdCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7CiAgICAgICAgICBmb3IgKGNvbnN0IG9wdCBvZiBpdGVtLm9wdGlvbnMpIHsgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOyBvLnZhbHVlPW9wdDsgby50ZXh0Q29udGVudD1vcHQ7IGlmIChvcHQ9PT12MCkgby5zZWxlY3RlZD10cnVlOyBpbnB1dC5hcHBlbmRDaGlsZChvKTsgfQogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IENGR1tpdGVtLmtleV0gPSBpbnB1dC52YWx1ZTsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIENGR1tpdGVtLmtleV0pOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3RleHQnOyBpbnB1dC52YWx1ZSA9IFN0cmluZyh2MHx8JycpOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlmIChpdGVtLmtleT09PSdoZWFkZXInKSB7IHRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ua2V5PT09J3N1YmhlYWRlcicpIHsgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseUNoYW5nZShpdGVtLmtleSwgaW5wdXQudmFsdWUpOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ua2V5ID09PSAnaHVlJykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdyYW5nZSc7IGlucHV0Lm1pbj0nMCc7IGlucHV0Lm1heD0nMzYwJzsgaW5wdXQuc3RlcD0nMSc7IGlucHV0LnZhbHVlPVN0cmluZyh2MCk7CiAgICAgICAgICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBudW1iZXIudHlwZT0nbnVtYmVyJzsgbnVtYmVyLm1pbj0nMCc7IG51bWJlci5tYXg9JzM2MCc7IG51bWJlci5zdGVwPScxJzsgbnVtYmVyLnZhbHVlPVN0cmluZyh2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgbnVtYmVyLnZhbHVlPWlucHV0LnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZT1udW1iZXIudmFsdWU7IGh1ZUNoYW5nZWQocGFyc2VJbnQobnVtYmVyLnZhbHVlKSk7IH0pOwogICAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyB3cmFwLmNsYXNzTmFtZT0ncmFuZ2VSb3cnOyB3cmFwLmFwcGVuZENoaWxkKGlucHV0KTsgd3JhcC5hcHBlbmRDaGlsZChudW1iZXIpOwogICAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIHdyYXApKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGZ1bmN0aW9uIGh1ZUNoYW5nZWQodmFsKXsKICAgICAgICAgICAgLy8gc2hpZnQgcGFsZXR0ZSBpbW1lZGlhdGVseQogICAgICAgICAgICBjb25zdCBkZWx0YSA9ICh2YWwgLSBwYWxldHRlSHVlKTsKICAgICAgICAgICAgcGFsZXR0ZUh1ZSA9IHZhbDsKICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgaHVlW2ldID0gKGh1ZVtpXSArIGRlbHRhKSAlIDM2MDsgfQogICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3ZhbH0sIDg1JSwgNjIlKWApOwogICAgICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKHtodWU6U3RyaW5nKHZhbCl9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgeyAvLyBudW1lcmljIChyYW5nZSArIG51bWJlciBwYWlyKQogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdyYW5nZSc7IGlucHV0LnN0ZXA9U3RyaW5nKGl0ZW0uc3RlcHx8MSk7CiAgICAgICAgICBpZiAoaXRlbS5taW4hPW51bGwpIGlucHV0Lm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIGlucHV0Lm1heD1TdHJpbmcoaXRlbS5tYXgpOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBudW1iZXIubWluPVN0cmluZyhpdGVtLm1pbik7IGlmIChpdGVtLm1heCE9bnVsbCkgbnVtYmVyLm1heD1TdHJpbmcoaXRlbS5tYXgpOwogICAgICAgICAgaW5wdXQudmFsdWUgPSBTdHJpbmcodjApOyBudW1iZXIudmFsdWUgPSBTdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZSA9IGlucHV0LnZhbHVlOyBudW1DaGFuZ2VkKHBhcnNlRmxvYXQoaW5wdXQudmFsdWUpKTsgfSk7CiAgICAgICAgICBudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlucHV0LnZhbHVlID0gbnVtYmVyLnZhbHVlOyBudW1DaGFuZ2VkKHBhcnNlRmxvYXQobnVtYmVyLnZhbHVlKSk7IH0pOwogICAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyB3cmFwLmNsYXNzTmFtZT0ncmFuZ2VSb3cnOyB3cmFwLmFwcGVuZENoaWxkKGlucHV0KTsgd3JhcC5hcHBlbmRDaGlsZChudW1iZXIpOwogICAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIHdyYXApKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGZ1bmN0aW9uIG51bUNoYW5nZWQodmFsKXsgQ0ZHW2l0ZW0ua2V5XSA9IHZhbDsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIHZhbCk7IH0KICAgICAgICB9CiAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIGlucHV0KSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFwcGx5Q2hhbmdlKGtleSwgdmFsdWUpIHsKICAgICAgICBpZiAoa2V5ID09PSAnY291bnQnIHx8IGtleSA9PT0gJ3NwYXduJykgeyByZXNlZWQoQ0ZHLmNvdW50KTsgfQogICAgICAgIGlmIChrZXkgPT09ICdxdCcpIHsgLyogaW1tZWRpYXRlIGRyYXcgdG9nZ2xlIHZpYSBDRkcgKi8gfQogICAgICAgIGlmIChrZXkgPT09ICdzaG93SHVkJykgeyBodWRFbC5zdHlsZS5kaXNwbGF5ID0gQ0ZHLnNob3dIdWQgPyAnJyA6ICdub25lJzsgfQogICAgICAgIHVwZGF0ZVVybEZyb21DZmcoKTsKICAgICAgfQoKICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNjaGVtYSkgYWRkSW5wdXQoaXRlbSk7CiAgICAgIC8vIGluaXRpYWwgSFVEIHZpc2liaWxpdHkKICAgICAgaHVkRWwuc3R5bGUuZGlzcGxheSA9IChDRkcuc2hvd0h1ZD09PWZhbHNlKSA/ICdub25lJyA6ICcnOwoKICAgICAgLy8ga2V5Ym9hcmQgdG9nZ2xlcyAoYWZ0ZXIgYnVpbGRpbmcgcGFuZWwpCiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gewogICAgICAgIGNvbnN0IGsgPSBlLmtleS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChrID09PSAncScpIHsgQ0ZHLnF0ID0gIUNGRy5xdDsgdXBkYXRlVXJsRnJvbUNmZygpOyB9CiAgICAgICAgaWYgKGsgPT09ICdjJykgeyBjZmdQYW5lbC50b2dnbGVBdHRyaWJ1dGUoJ2hpZGRlbicpOyB9CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgIDwvc2NyaXB0PgogIDwvYm9keT4KPC9odG1sPgo=" download="boids-dod-quadtree-15-impl.html" class="download-btn" title="Download boids-dod-quadtree-15-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=271 · spawn=centerburst · bounce · spark · lighter · hue=285 · qtCap=6 · flow" data-filename="boids-dod-quadtree-18-impl.html"><a href="boids-dod-quadtree-18-impl.html" target="viewer"><strong>Boids DOD+QT · N=271 · spawn=centerburst · bounce · spark · lighter · hue=285 · qtCap=6 · flow</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTI3MSDCtyBzcGF3bj1jZW50ZXJidXJzdCDCtyBib3VuY2Ugwrcgc3BhcmsgwrcgbGlnaHRlciDCtyBodWU9Mjg1IMK3IHF0Q2FwPTYgwrcgZmxvdzwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgIGh0bWwsIGJvZHkgeyBoZWlnaHQ6IDEwMCU7IG1hcmdpbjogMDsgfQogICAgICBib2R5IHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMDUwNzBhOwogICAgICAgIGNvbG9yOiAjZTZlZGYzOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgZm9udC1mYW1pbHk6IHVpLXNhbnMtc2VyaWYsIHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgU2Vnb2UgVUksIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIjsKICAgICAgfQogICAgICAjc2NlbmUgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyB9CiAgICAgIC5vdmVybGF5IHsgcG9zaXRpb246IGZpeGVkOyBpbnNldDogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnIgYXV0bzsgfQogICAgICAudGl0bGUgeyBtYXJnaW46IDE4cHggMjBweCAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogY2xhbXAoMThweCwgM3Z3LCAyOHB4KTsgbGV0dGVyLXNwYWNpbmc6IDAuMnB4OyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgdGV4dC1zaGFkb3c6IDAgMCAxMHB4IGNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYWNjZW50LCAjN2RkM2ZjKSA4MCUsICMwMDAgMjAlKTsgfQogICAgICAuc3VidGl0bGUgeyBtYXJnaW46IDAgMjBweCAxMHB4OyBmb250LXdlaWdodDogNTAwOyBmb250LXNpemU6IGNsYW1wKDEycHgsIDJ2dywgMTZweCk7IG9wYWNpdHk6IDAuODU7IH0KICAgICAgLmh1ZCB7IHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMTJweDsgYm90dG9tOiAxMnB4OyBwYWRkaW5nOiA4cHggMTBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDQwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpIHNhdHVyYXRlKDEyMCUpOyBmb250LXNpemU6IDEycHg7IGxpbmUtaGVpZ2h0OiAxLjQ7IH0KICAgICAgLmh1ZCBzdHJvbmcgeyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgfQogICAgICAuY2ZnQnRuIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDEycHg7IHJpZ2h0OiAxMnB4OyB6LWluZGV4OiAxMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiA2cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ1BhbmVsIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDU2cHg7IHJpZ2h0OiAxMnB4OyB3aWR0aDogbWluKDM4MHB4LCA5MHZ3KTsgbWF4LWhlaWdodDogODB2aDsgb3ZlcmZsb3c6IGF1dG87IHotaW5kZXg6IDIwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYmFja2dyb3VuZDogIzBiMTIyMGU2OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3gtc2hhZG93OiAwIDEwcHggNDBweCAjMDAwODsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpIHNhdHVyYXRlKDEyMCUpOyB9CiAgICAgIC5jb25maWdIZWFkZXIgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDEwcHggMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAwMDA1NTsgcG9zaXRpb246IHN0aWNreTsgdG9wOiAwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZjI7IH0KICAgICAgLmNvbmZpZ0JvZHkgeyBwYWRkaW5nOiAxMHB4IDEycHg7IGRpc3BsYXk6IGdyaWQ7IGdhcDogMTBweDsgfQogICAgICAuY29uZmlnQm9keSAucm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bzsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJhbmdlUm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNzJweDsgZ2FwOiA4cHg7IH0KICAgICAgLmNmZ0Nsb3NlIHsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMTIxYTJiY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA2cHg7IHBhZGRpbmc6IDRweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dCwgLmNvbmZpZ0JvZHkgc2VsZWN0IHsgZm9udC1zaXplOiAxNHB4OyBwYWRkaW5nOiA2cHggOHB4OyBiYWNrZ3JvdW5kOiAjMTAxODI3OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiA2cHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXRbdHlwZT1yYW5nZV0geyBwYWRkaW5nOiAwOyBoZWlnaHQ6IDI4cHg7IGFjY2VudC1jb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPGNhbnZhcyBpZD0ic2NlbmUiPjwvY2FudmFzPgogICAgPGRpdiBjbGFzcz0ib3ZlcmxheSI+CiAgICAgIDxkaXYgY2xhc3M9InRpdGxlIiBpZD0idGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJzdWJ0aXRsZSIgaWQ9InN1YnRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaHVkIiBpZD0iaHVkIj48L2Rpdj4KICAgIDwvZGl2PgogICAgPGJ1dHRvbiBpZD0iY2ZnQnRuIiBjbGFzcz0iY2ZnQnRuIiBhcmlhLWxhYmVsPSJPcGVuIGNvbmZpZyI+4pqZ77iOPC9idXR0b24+CiAgICA8ZGl2IGlkPSJjb25maWciIGNsYXNzPSJjb25maWdQYW5lbCIgaGlkZGVuPgogICAgICA8ZGl2IGNsYXNzPSJjb25maWdIZWFkZXIiPgogICAgICAgIDxzdHJvbmc+Q29uZmlnPC9zdHJvbmc+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2ZnQ2xvc2UiIGNsYXNzPSJjZmdDbG9zZSIgYXJpYS1sYWJlbD0iQ2xvc2UiPuKclTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBpZD0iY29uZmlnQm9keSIgY2xhc3M9ImNvbmZpZ0JvZHkiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICAndXNlIHN0cmljdCc7CgogICAgICAvLyBVUkwgcGFyYW1ldGVycwogICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgICAgIGNvbnN0IERFRkFVTFRfSFVFID0gMjg1OwogICAgICBjb25zdCBCQVNFX0hVRSA9IGNsYW1wSW50KHBhcnNlSW50KHBhcmFtcy5nZXQoJ2h1ZScpKSwgMCwgMzYwLCBERUZBVUxUX0hVRSk7CiAgICAgIGxldCBwYWxldHRlSHVlID0gQkFTRV9IVUU7CiAgICAgIGNvbnN0IEhFQURFUiA9IHBhcmFtcy5nZXQoJ2hlYWRlcicpIHx8ICdCb2lkcyDigJQgRGF0YS1PcmllbnRlZCArIFF1YWR0cmVlJzsKICAgICAgY29uc3QgU1VCSEVBREVSID0gcGFyYW1zLmdldCgnc3ViaGVhZGVyJykgfHwgJ1Nob2Nrd2F2ZXMgb24gY2xpY2svZHJhZyDCtyBxdWFkdHJlZSB2aXogb24nOwogICAgICAvLyBRdWFkdHJlZSB2aXogaXMgaGFuZGxlZCBieSBDRkcucXQ7IFVSTCBwYXJhbSAncXQnIG92ZXJyaWRlcyBpdC4KCiAgICAgIC8vIERPTQogICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NlbmUnKTsKICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogZmFsc2UgfSk7CiAgICAgIGNvbnN0IHRpdGxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKTsKICAgICAgY29uc3Qgc3VidGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJ0aXRsZScpOwogICAgICBjb25zdCBodWRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdodWQnKTsKCiAgICAgIC8vIFN0eWxlIGhvb2sKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHtwYWxldHRlSHVlfSwgODUlLCA2MiUpYCk7CiAgICAgIHRpdGxlRWwudGV4dENvbnRlbnQgPSBIRUFERVI7CiAgICAgIHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBTVUJIRUFERVI7CgogICAgICAvLyBDb25maWcgKGluamVjdGVkIGJ5IGdlbmVyYXRvcikg4oCUIG11dGFibGUgYXQgcnVudGltZQogICAgICBsZXQgQ0ZHID0geyJjb3VudCI6IDI3MSwgInZpc2lvbiI6IDg2LCAic2VwIjogMTUsICJtYXhTcGVlZCI6IDIuNDksICJtYXhGb3JjZSI6IDAuMDY4LCAibWluU3BlZWQiOiAxLjM0LCAiYWxpZ25XIjogMC44MywgImNvaGVzaW9uVyI6IDAuNzcsICJzZXBhcmF0aW9uVyI6IDEuODEsICJ0cmFpbEFscGhhIjogMC4xMiwgInF0Q2FwIjogNiwgIndyYXAiOiBmYWxzZSwgInNoYXBlIjogInNwYXJrIiwgImJsZW5kIjogImxpZ2h0ZXIiLCAibGluZVdpZHRoIjogMS41NCwgImdsb3dCYXNlIjogMjEsICJnbG93TWF4IjogMzksICJnbG93U2NhbGUiOiAxMC41LCAiY29tZXRTaXplIjogNi44MSwgImJnR3JhZGllbnQiOiB0cnVlLCAiYmdIdWVTaGlmdDEiOiAtMjcsICJiZ0h1ZVNoaWZ0MiI6IDIxLCAiYmdIdWVTaGlmdDMiOiA4MSwgInNwYXduIjogImNlbnRlcmJ1cnN0IiwgInF0IjogdHJ1ZSwgInNob3dIdWQiOiB0cnVlLCAiZmxvdyI6IHRydWUsICJmbG93QW1wIjogMC42OCwgImZsb3dTY2FsZSI6IDAuMDAxOCwgImZsb3dTcGVlZCI6IDEuNDgsICJjbGlja01vZGUiOiAicmFuZG9tIn07CiAgICAgIENGRy5taW5TcGVlZCA9IENGRy5taW5TcGVlZCA/PyAwLjg7CiAgICAgIENGRy5xdCA9ICh0eXBlb2YgQ0ZHLnF0ID09PSAnYm9vbGVhbicpID8gQ0ZHLnF0IDogdHJ1ZTsKICAgICAgQ0ZHLmNsaWNrTW9kZSA9IENGRy5jbGlja01vZGUgfHwgJ3JhbmRvbSc7CiAgICAgIENGRy5jbGlja01vZGVzID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWwogICAgICAgICdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5Jywnc3R1bicsJ2ZlYXInLCdhdHRyYWN0Jywnb3JiaXRDVycsJ29yYml0Q0NXJywKICAgICAgICAnc3BpcmFsT3V0Jywnc3BpcmFsSW4nLCdmcmVlemUnLCdzY3JhbWJsZScsJ3NjYXR0ZXInLCdtYWduZXQnLCdwdWxzZScsCiAgICAgICAgJ3dhcnAnLCdncm93JywndHVubmVsJywncmlwcGxlJywnaml0dGVyYnVyc3QnLCdjaHJvbWFidXJzdCcsJ3Nsb3dkb3duJywnc3BlZWR1cCcsCiAgICAgICAgJ3BlcmxpbkRyYWcnLCdsaXNzYVB1bHNlJywnbWV0ZW9yJywKICAgICAgICAvLyBzdGVlcmluZy13ZWlnaHQgZWZmZWN0cwogICAgICAgICdhbGlnbicsJ2RlYWxpZ24nLCdjb2hlcmUnLCdsb29zZW4nLCdzZXBhcmF0ZScsJ2Rpc3BlcnNlJwogICAgICBdOwoKICAgICAgZnVuY3Rpb24gcGFyc2VCb29sKHYsIGQpIHsKICAgICAgICBpZiAodiA9PSBudWxsKSByZXR1cm4gZDsKICAgICAgICBjb25zdCBzID0gU3RyaW5nKHYpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKFsnMScsJ3RydWUnLCd5ZXMnLCdvbiddLmluY2x1ZGVzKHMpKSByZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAoWycwJywnZmFsc2UnLCdubycsJ29mZiddLmluY2x1ZGVzKHMpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIGQ7CiAgICAgIH0KCiAgICAgIC8vIFVSTCBvdmVycmlkZXMgZm9yIGNvbmZpZwogICAgICAoZnVuY3Rpb24gdXJsT3ZlcnJpZGUoKXsKICAgICAgICBjb25zdCBpbnRLZXlzID0gWydjb3VudCcsJ3Zpc2lvbicsJ3NlcCcsJ3F0Q2FwJywnYmdIdWVTaGlmdDEnLCdiZ0h1ZVNoaWZ0MicsJ2JnSHVlU2hpZnQzJ107CiAgICAgICAgY29uc3QgbnVtS2V5cyA9IFsnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCddOwogICAgICAgIGNvbnN0IGJvb2xLZXlzID0gWyd3cmFwJywnYmdHcmFkaWVudCcsJ3F0JywnZmxvdycsJ3Nob3dIdWQnXTsKICAgICAgICBjb25zdCBzdHJLZXlzID0gWydzaGFwZScsJ2JsZW5kJywnc3Bhd24nXTsKICAgICAgICBmb3IgKGNvbnN0IGsgb2YgaW50S2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBNYXRoLm1heCgtOTk5OTksIE1hdGgubWluKDk5OTk5LCBwYXJzZUludCh2KSkpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIG51bUtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gTnVtYmVyKHYpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGJvb2xLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IHBhcnNlQm9vbCh2LCBDRkdba10pOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIHN0cktleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gdjsgfQogICAgICAgIGNvbnN0IGNtID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlJyk7IGlmIChjbSkgQ0ZHLmNsaWNrTW9kZSA9IGNtOwogICAgICAgIGNvbnN0IGNtcyA9IHBhcmFtcy5nZXQoJ2NsaWNrTW9kZXMnKTsgaWYgKGNtcykgQ0ZHLmNsaWNrTW9kZXMgPSBjbXMuc3BsaXQoJywnKTsKICAgICAgfSkoKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVVybEZyb21DZmcoZXh0cmE9e30pIHsKICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdodWUnLCBwYWxldHRlSHVlKTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaGVhZGVyJywgdGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N1YmhlYWRlcicsIHN1YnRpdGxlRWwudGV4dENvbnRlbnQpOwogICAgICAgIGNvbnN0IGtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywncXRDYXAnLCd3cmFwJywnc2hhcGUnLCdibGVuZCcsJ2xpbmVXaWR0aCcsJ2dsb3dCYXNlJywnZ2xvd01heCcsJ2dsb3dTY2FsZScsJ2NvbWV0U2l6ZScsJ2JnR3JhZGllbnQnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnLCdxdCcsJ2NsaWNrTW9kZScsJ2NsaWNrTW9kZXMnLCdmbG93JywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCcsJ3NwYXduJywnc2hvd0h1ZCddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB1cmwuc2VhcmNoUGFyYW1zLnNldChrLCBTdHJpbmcoQ0ZHW2tdKSk7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGVzICYmIEFycmF5LmlzQXJyYXkoQ0ZHLmNsaWNrTW9kZXMpKSB1cmwuc2VhcmNoUGFyYW1zLnNldCgnY2xpY2tNb2RlcycsIENGRy5jbGlja01vZGVzLmpvaW4oJywnKSk7CiAgICAgICAgZm9yIChjb25zdCBbayx2XSBvZiBPYmplY3QuZW50cmllcyhleHRyYSkpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIHYpOwogICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsICcnLCB1cmwudG9TdHJpbmcoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IFRBVSA9IE1hdGguUEkgKiAyOwoKICAgICAgLy8gQ2FudmFzIHNpemluZyB3aXRoIERQUgogICAgICBsZXQgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgICAgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3IoaW5uZXJXaWR0aCAqIERQUik7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IoaW5uZXJIZWlnaHQgKiBEUFIpOwogICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oRFBSLCAwLCAwLCBEUFIsIDAsIDApOwogICAgICAgIGNsZWFySGFyZCgpOwogICAgICB9CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZSk7CiAgICAgIHJlc2l6ZSgpOwoKICAgICAgZnVuY3Rpb24gY2xlYXJIYXJkKCkgewogICAgICAgIGlmIChDRkcuYmdHcmFkaWVudCkgewogICAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChpbm5lcldpZHRoKjAuNjUsIGlubmVySGVpZ2h0KjAuMzUsIE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjE1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lcldpZHRoKjAuNSwgaW5uZXJIZWlnaHQqMC41LCBNYXRoLmh5cG90KGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjcpOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQxKSUzNjB9IDgwJSAxMCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjUsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDIpJTM2MH0gNzAlIDglKWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMS4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQzKSUzNjB9IDYwJSA2JSlgKTsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwNTA3MGEnOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBjbGFtcEludChuLCBsbywgaGksIGZhbGxiYWNrKSB7CiAgICAgICAgbiA9IE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiBmYWxsYmFjazsKICAgICAgICByZXR1cm4gTWF0aC5tYXgobG8sIE1hdGgubWluKGhpLCBuKSk7CiAgICAgIH0KCiAgICAgIC8vIERyaWZ0IGEgaHVlIHZhbHVlIHRvd2FyZCBhIHRhcmdldCBvbiBhIGNpcmN1bGFyIGNvbG9yIHdoZWVsCiAgICAgIGZ1bmN0aW9uIGFwcHJvYWNoSHVlKGgsIHRhcmdldCwgcmF0ZSkgewogICAgICAgIC8vIHJhdGUgaXMgMC4uMSBmcmFjdGlvbiB0b3dhcmQgdGFyZ2V0IHBlciBjYWxsCiAgICAgICAgbGV0IGQgPSAoKHRhcmdldCAtIGggKyA1NDApICUgMzYwKSAtIDE4MDsgLy8gc2hvcnRlc3Qgc2lnbmVkIGRlbHRhIFstMTgwLDE4MCkKICAgICAgICByZXR1cm4gKGggKyBkICogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcmF0ZSkpICsgMzYwKSAlIDM2MDsKICAgICAgfQoKICAgICAgLy8gTGlnaHR3ZWlnaHQgMkQgdmFsdWUgbm9pc2UgKGZvciBwZXJsaW4tbGlrZSBkcmFnKQogICAgICBsZXQgbm9pc2VTZWVkID0gKEJBU0VfSFVFICogMTY2NDUyNSArIDEwMTM5MDQyMjMpICYgMHhmZmZmZmZmZjsKICAgICAgZnVuY3Rpb24gZnJhY3QoeCl7IHJldHVybiB4IC0gTWF0aC5mbG9vcih4KTsgfQogICAgICBmdW5jdGlvbiBfcmFuZChpeCwgaXkpewogICAgICAgIGNvbnN0IGsgPSAoaXggKiAzNzQ3NjEzOTMgKyBpeSAqIDY2ODI2NTI2MyArIG5vaXNlU2VlZCkgPj4+IDA7CiAgICAgICAgcmV0dXJuIGZyYWN0KE1hdGguc2luKGspICogNDM3NTguNTQ1Myk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gbm9pc2UyKHgsIHkpewogICAgICAgIGNvbnN0IHhpID0gTWF0aC5mbG9vcih4KSwgeWkgPSBNYXRoLmZsb29yKHkpOwogICAgICAgIGNvbnN0IHhmID0geCAtIHhpLCB5ZiA9IHkgLSB5aTsKICAgICAgICBjb25zdCB1ID0geGYqeGYqKDMtMip4ZiksIHYgPSB5Zip5ZiooMy0yKnlmKTsKICAgICAgICBjb25zdCB2MDAgPSBfcmFuZCh4aSwgeWkpLCB2MTAgPSBfcmFuZCh4aSsxLCB5aSksIHYwMSA9IF9yYW5kKHhpLCB5aSsxKSwgdjExID0gX3JhbmQoeGkrMSwgeWkrMSk7CiAgICAgICAgY29uc3QgeDEgPSB2MDAqKDEtdSkgKyB2MTAqdSwgeDIgPSB2MDEqKDEtdSkgKyB2MTEqdTsKICAgICAgICByZXR1cm4geDEqKDEtdikgKyB4Mip2OwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHBlcmxpblZlYyh4LCB5LCBzY2FsZSwgYW1wKXsKICAgICAgICBjb25zdCBuID0gbm9pc2UyKHgqc2NhbGUsIHkqc2NhbGUpOwogICAgICAgIGNvbnN0IGEgPSBuICogVEFVOwogICAgICAgIHJldHVybiBbTWF0aC5jb3MoYSkqYW1wLCBNYXRoLnNpbihhKSphbXBdOwogICAgICB9CgogICAgICAvLyBTZWVkZWQgUFJORyBmb3Igc3VidGxlIGRldGVybWluaXNtIGZyb20gQkFTRV9IVUUKICAgICAgbGV0IF9zZWVkID0gKEJBU0VfSFVFICogOTMwMSArIDQ5Mjk3KSAlIDIzMzI4MDsKICAgICAgZnVuY3Rpb24gcm5kKCkgeyBfc2VlZCA9ICgxMTAzNTE1MjQ1ICogX3NlZWQgKyAxMjM0NSkgJiAweDdmZmZmZmZmOyByZXR1cm4gKF9zZWVkID4+PiA4KSAvIDB4N2ZmZmZmOyB9CiAgICAgIGZ1bmN0aW9uIHJhbmQobWluLCBtYXgpIHsgcmV0dXJuIHJuZCgpICogKG1heCAtIG1pbikgKyBtaW47IH0KCiAgICAgIC8vIERhdGEtT3JpZW50ZWQgU3RhdGUgKFNvQSkg4oCUIGR5bmFtaWMKICAgICAgbGV0IE4gPSBDRkcuY291bnQ7CiAgICAgIGxldCBweCwgcHksIHZ4LCB2eSwgYXgsIGF5LCBodWUsIHNwZCwgcHJldngsIHByZXZ5OwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgbW9kaWZpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgc2l6ZU11bCwgdkJvb3N0LCBodWVPZmYsIGppdEFtcDsKICAgICAgLy8gdHJhbnNpZW50IHBlci1ib2lkIHN0ZWVyaW5nIG11bHRpcGxpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgYWxpZ25NdWwsIGNvaGVzaW9uTXVsLCBzZXBhcmF0aW9uTXVsOwoKICAgICAgZnVuY3Rpb24gYWxsb2MobikgewogICAgICAgIHB4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgcHkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHZ4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdnkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGF4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgYXkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGh1ZSA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNwZCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgcHJldnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBwcmV2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgc2l6ZU11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHZCb29zdCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGh1ZU9mZiA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGppdEFtcCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYWxpZ25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBjb2hlc2lvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNlcGFyYXRpb25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzZWVkQm9pZHMoKSB7CiAgICAgICAgY29uc3QgbW9kZSA9IENGRy5zcGF3biB8fCAncmFuZG9tJzsKICAgICAgICBpZiAobW9kZSA9PT0gJ2NpcmNsZScpIHsKICAgICAgICAgIGNvbnN0IGN4ID0gaW5uZXJXaWR0aC8yLCBjeSA9IGlubmVySGVpZ2h0LzIsIHIgPSBNYXRoLm1pbihpbm5lcldpZHRoLCBpbm5lckhlaWdodCkvMzsKICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGNvbnN0IHQgPSBNYXRoLnJhbmRvbSgpKk1hdGguUEkqMjsgcHhbaV09Y3grTWF0aC5jb3ModCkqcjsgcHlbaV09Y3krTWF0aC5zaW4odCkqcjsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2dyaWQnKSB7CiAgICAgICAgICBjb25zdCBjb2xzPU1hdGgubWF4KDEwLCBNYXRoLmZsb29yKE1hdGguc3FydChOKSkpOyBjb25zdCByb3dzPU1hdGguY2VpbChOL2NvbHMpOwogICAgICAgICAgY29uc3QgZ3g9aW5uZXJXaWR0aC8oY29scysxKSwgZ3k9aW5uZXJIZWlnaHQvKHJvd3MrMSk7IGxldCBrPTA7CiAgICAgICAgICBmb3IgKGxldCB5PTE7eTw9cm93czt5KyspIGZvciAobGV0IHg9MTt4PD1jb2xzO3grKykgeyBpZiAoaz49TikgYnJlYWs7IHB4W2tdPWd4Kng7IHB5W2tdPWd5Knk7IHZ4W2tdPXJhbmQoLTEsMSk7IHZ5W2tdPXJhbmQoLTEsMSk7IGsrKzsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2NlbnRlcmJ1cnN0JykgewogICAgICAgICAgY29uc3QgY3g9aW5uZXJXaWR0aC8yLCBjeT1pbm5lckhlaWdodC8yOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgYT1NYXRoLnJhbmRvbSgpKk1hdGguUEkqMiwgZD1yYW5kKDAsIE1hdGgubWluKGlubmVyV2lkdGgsaW5uZXJIZWlnaHQpLzIpOyBweFtpXT1jeCtNYXRoLmNvcyhhKSpkOyBweVtpXT1jeStNYXRoLnNpbihhKSpkOyB2eFtpXT1NYXRoLmNvcyhhKTsgdnlbaV09TWF0aC5zaW4oYSk7IH0KICAgICAgICB9IGVsc2UgeyAvLyByYW5kb20KICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IHB4W2ldPXJhbmQoMCxpbm5lcldpZHRoKTsgcHlbaV09cmFuZCgwLGlubmVySGVpZ2h0KTsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0KICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgICAgY29uc3QgbT1NYXRoLmh5cG90KHZ4W2ldLHZ5W2ldKXx8MTsgdnhbaV0qPTIuMC9tOyB2eVtpXSo9Mi4wL207CiAgICAgICAgICBodWVbaV0gPSAocGFsZXR0ZUh1ZSArIHJhbmQoLTMwLCAzMCkpICUgMzYwOyBwcmV2eFtpXT1weFtpXTsgcHJldnlbaV09cHlbaV07CiAgICAgICAgICBzaXplTXVsW2ldPTA7IHZCb29zdFtpXT0wOyBodWVPZmZbaV09MDsgaml0QW1wW2ldPTA7CiAgICAgICAgICBhbGlnbk11bFtpXT0wOyBjb2hlc2lvbk11bFtpXT0wOyBzZXBhcmF0aW9uTXVsW2ldPTA7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiByZXNlZWQobikgewogICAgICAgIE4gPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKG4pKTsKICAgICAgICBhbGxvYyhOKTsgc2VlZEJvaWRzKCk7CiAgICAgIH0KCiAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKCiAgICAgIC8vIFF1YWR0cmVlIGltcGxlbWVudGF0aW9uCiAgICAgIGNsYXNzIFFUTm9kZSB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCwgY2FwKSB7CiAgICAgICAgICB0aGlzLnggPSB4OyB0aGlzLnkgPSB5OyB0aGlzLncgPSB3OyB0aGlzLmggPSBoOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7IHRoaXMuY291bnQgPSAwOyB0aGlzLmlkeCA9IG5ldyBJbnQzMkFycmF5KGNhcCk7CiAgICAgICAgICB0aGlzLnB0c3ggPSBuZXcgRmxvYXQzMkFycmF5KGNhcCk7IHRoaXMucHRzeSA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMuZGl2aWRlZCA9IGZhbHNlOyB0aGlzLmNoaWxkcmVuID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNsYXNzIFF1YWR0cmVlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMucm9vdCA9IG5ldyBRVE5vZGUoeCwgeSwgdywgaCwgY2FwKTsKICAgICAgICAgIHRoaXMuY2FwID0gY2FwOwogICAgICAgIH0KCiAgICAgICAgaW5zZXJ0KGksIHgsIHksIG5vZGUgPSB0aGlzLnJvb3QpIHsKICAgICAgICAgIGlmICh4IDwgbm9kZS54IHx8IHkgPCBub2RlLnkgfHwgeCA+PSBub2RlLnggKyBub2RlLncgfHwgeSA+PSBub2RlLnkgKyBub2RlLmgpIHJldHVybiBmYWxzZTsKICAgICAgICAgIGlmIChub2RlLmNvdW50IDwgbm9kZS5jYXAgJiYgIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBjb25zdCBqID0gbm9kZS5jb3VudCsrOyBub2RlLmlkeFtqXSA9IGk7IG5vZGUucHRzeFtqXSA9IHg7IG5vZGUucHRzeVtqXSA9IHk7IHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHRoaXMuc3ViZGl2aWRlKG5vZGUpOwogICAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgIH0KCiAgICAgICAgc3ViZGl2aWRlKG5vZGUpIHsKICAgICAgICAgIG5vZGUuZGl2aWRlZCA9IHRydWU7CiAgICAgICAgICBjb25zdCBodyA9IG5vZGUudy8yLCBoaCA9IG5vZGUuaC8yOwogICAgICAgICAgbm9kZS5jaGlsZHJlbiA9IFsKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngsICAgICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5XCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54K2h3LCAgICBub2RlLnksICAgICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBORQogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU1cKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueStoaCwgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIFNFCiAgICAgICAgICBdOwogICAgICAgICAgLy8gcmVpbnNlcnQgZXhpc3RpbmcgcG9pbnRzCiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG5vZGUuY291bnQ7IGsrKykgewogICAgICAgICAgICBjb25zdCBpID0gbm9kZS5pZHhba107IGNvbnN0IHggPSBub2RlLnB0c3hba107IGNvbnN0IHkgPSBub2RlLnB0c3lba107CiAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgICAgfQogICAgICAgICAgbm9kZS5jb3VudCA9IDA7IC8vIGNsZWFyIGxlYWYgc3RvcmFnZQogICAgICAgIH0KCiAgICAgICAgcXVlcnkoY3gsIGN5LCByLCBvdXQpIHsKICAgICAgICAgIHRoaXMuX3F1ZXJ5Tm9kZSh0aGlzLnJvb3QsIGN4LCBjeSwgciwgb3V0KTsKICAgICAgICB9CiAgICAgICAgX3F1ZXJ5Tm9kZShub2RlLCBjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgLy8gY2lyY2xlLXJlY3QgcXVpY2sgcmVqZWN0CiAgICAgICAgICBjb25zdCByeD1ub2RlLngsIHJ5PW5vZGUueSwgcnc9bm9kZS53LCByaD1ub2RlLmg7CiAgICAgICAgICBsZXQgbnggPSBNYXRoLm1heChyeCwgTWF0aC5taW4oY3gsIHJ4K3J3KSk7CiAgICAgICAgICBsZXQgbnkgPSBNYXRoLm1heChyeSwgTWF0aC5taW4oY3ksIHJ5K3JoKSk7CiAgICAgICAgICBjb25zdCBkaXN0ID0gKGN4LW54KSooY3gtbngpKyhjeS1ueSkqKGN5LW55KTsKICAgICAgICAgIGlmIChkaXN0ID4gcipyKSByZXR1cm47CgogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHsKICAgICAgICAgICAgZm9yIChsZXQgaz0wO2s8bm9kZS5jb3VudDtrKyspIHsgb3V0LnB1c2gobm9kZS5pZHhba10pOyB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9xdWVyeU5vZGUobm9kZS5jaGlsZHJlbltjXSwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KCiAgICAgICAgZHJhdyhjdHgpIHsKICAgICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgaHNsKCR7KHBhbGV0dGVIdWUrMTgwKSUzNjB9IDgwJSA3MCUgLyAwLjE0KWA7CiAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTsKICAgICAgICAgIHRoaXMuX2RyYXdOb2RlKGN0eCwgdGhpcy5yb290KTsKICAgICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgfQogICAgICAgIF9kcmF3Tm9kZShjdHgsIG5vZGUpIHsKICAgICAgICAgIGN0eC5zdHJva2VSZWN0KG5vZGUueCwgbm9kZS55LCBub2RlLncsIG5vZGUuaCk7CiAgICAgICAgICBpZiAobm9kZS5kaXZpZGVkKSBmb3IgKGxldCBjPTA7Yzw0O2MrKykgdGhpcy5fZHJhd05vZGUoY3R4LCBub2RlLmNoaWxkcmVuW2NdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHMKICAgICAgY29uc3QgZWZmZWN0cyA9IFtdOyAvLyB7eCx5LHQsbGlmZSxzaWduLHR5cGUsLi4uZXh0cmFzfQogICAgICBsZXQgbW91c2VEb3duID0gZmFsc2U7CiAgICAgIGNvbnN0IHBvaW50ZXIgPSB7eDogaW5uZXJXaWR0aC8yLCB5OiBpbm5lckhlaWdodC8yLCB2eDogMCwgdnk6IDAsIHQ6IHBlcmZvcm1hbmNlLm5vdygpfTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksICsxKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCAgIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSBmYWxzZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksIC0xKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBpZiAobW91c2VEb3duKSBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CgogICAgICBmdW5jdGlvbiBwaWNrQ2xpY2tUeXBlKCkgewogICAgICAgIGlmIChDRkcuY2xpY2tNb2RlICYmIENGRy5jbGlja01vZGUgIT09ICdyYW5kb20nKSByZXR1cm4gQ0ZHLmNsaWNrTW9kZTsKICAgICAgICBjb25zdCBsaXN0ID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWydzaG9jayddOwogICAgICAgIHJldHVybiBsaXN0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpsaXN0Lmxlbmd0aCldIHx8ICdzaG9jayc7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gc3Bhd25FZmZlY3QoeCwgeSwgc2lnbikgewogICAgICAgIGNvbnN0IHR5cGUgPSBwaWNrQ2xpY2tUeXBlKCk7CiAgICAgICAgY29uc3QgbGlmZSA9ICh0eXBlPT09J2ltcGxvc2lvbicpID8gMC45IDogKHR5cGU9PT0ndm9ydGV4JyB8fCB0eXBlPT09J21ldGVvcicgPyAxLjggOiAxLjIpOwogICAgICAgIGNvbnN0IEUgPSB7IHgsIHksIHQ6IDAsIGxpZmUsIHNpZ24sIHR5cGUgfTsKICAgICAgICBpZiAodHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICBjb25zdCBzcCA9IE1hdGgubWluKDMsIE1hdGguaHlwb3QocG9pbnRlci52eCwgcG9pbnRlci52eSkqMTIwKTsKICAgICAgICAgIEUuYSA9IDIgKyBNYXRoLmZsb29yKHNwJTQpOyBFLmIgPSAzICsgTWF0aC5mbG9vcigoc3AqMS43KSU0KTsgRS5waGFzZSA9IE1hdGgucmFuZG9tKCkqVEFVOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGNvbnN0IHNjYWxlID0gOTAwOyBFLnZ4ID0gcG9pbnRlci52eCpzY2FsZTsgRS52eSA9IHBvaW50ZXIudnkqc2NhbGU7IEUubWFzcyA9IDIyMCArIE1hdGgucmFuZG9tKCkqMTgwOyBFLmRyYWc9MC45ODsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgRS5zY2FsZSA9IDAuMDA2ICsgTWF0aC5yYW5kb20oKSowLjAwNjsgRS5hbXAgPSAxLjIgKyBNYXRoLnJhbmRvbSgpKjEuMjsKICAgICAgICB9CiAgICAgICAgZWZmZWN0cy5wdXNoKEUpOwogICAgICB9CgogICAgICAvLyBQaHlzaWNzIGhlbHBlcnMKICAgICAgZnVuY3Rpb24gbGltaXQodngsIHZ5LCBtYXgpIHsKICAgICAgICBjb25zdCBtMiA9IHZ4KnZ4ICsgdnkqdnk7IGlmIChtMiA+IG1heCptYXgpIHsKICAgICAgICAgIGNvbnN0IG0gPSBNYXRoLnNxcnQobTIpIHx8IDE7IGNvbnN0IHMgPSBtYXggLyBtOyByZXR1cm4gW3Z4KnMsIHZ5KnNdOwogICAgICAgIH0gcmV0dXJuIFt2eCwgdnldOwogICAgICB9CgogICAgICAvLyBNYWluIGxvb3AKICAgICAgbGV0IGxhc3QgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgbGV0IGZwc0F2ZyA9IDA7CiAgICAgIGZ1bmN0aW9uIGZyYW1lKHQpIHsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWluKDMyLCB0IC0gbGFzdCkgKiAwLjAwMTsgLy8gY2xhbXAKICAgICAgICBsYXN0ID0gdDsKICAgICAgICBjb25zdCBmcHNOb3cgPSAxIC8gTWF0aC5tYXgoMWUtNiwgZHQpOwogICAgICAgIGZwc0F2ZyA9IGZwc0F2ZyA/IChmcHNBdmcqMC45ICsgZnBzTm93KjAuMSkgOiBmcHNOb3c7CiAgICAgICAgY29uc3QgVyA9IGlubmVyV2lkdGgsIEggPSBpbm5lckhlaWdodDsKCiAgICAgICAgLy8gdHJhaWxzOiB0cmFuc2x1Y2VudCBmaWxsCiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7CiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBDRkcudHJhaWxBbHBoYSkpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIFcsIEgpOwogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEJ1aWxkIHF1YWR0cmVlCiAgICAgICAgY29uc3QgcXQgPSBuZXcgUXVhZHRyZWUoMCwgMCwgVywgSCwgQ0ZHLnF0Q2FwKTsKICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgcXQuaW5zZXJ0KGksIHB4W2ldLCBweVtpXSk7CgogICAgICAvLyBBcHBseSBmbG9ja2luZyB2aWEgbmVpZ2hib3IgcXVlcmllcyAoYWRhcHRpdmUgdmlzaW9uIHVuZGVyIGxvYWQpCiAgICAgIGNvbnN0IHZpc2lvbiA9IENGRy52aXNpb24gKiAoZnBzQXZnIDwgNTAgPyAwLjkgOiAxLjApOyBjb25zdCBzZXAgPSBDRkcuc2VwOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBheFtpXT0wOyBheVtpXT0wOyB9CiAgICAgIGxldCB0bXAgPSBbXTsKICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICB0bXAubGVuZ3RoID0gMDsgcXQucXVlcnkocHhbaV0sIHB5W2ldLCB2aXNpb24sIHRtcCk7CiAgICAgICAgICBsZXQgY3g9MCwgY3k9MCwgdnhzdW09MCwgdnlzdW09MCwgc3g9MCwgc3k9MCwgdG90YWw9MCwgc2Nsb3NlPTA7CiAgICAgICAgICBmb3IgKGxldCBrPTA7azx0bXAubGVuZ3RoO2srKykgewogICAgICAgICAgICBjb25zdCBqID0gdG1wW2tdOyBpZiAoaj09PWkpIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBkeCA9IHB4W2pdLXB4W2ldOyBjb25zdCBkeSA9IHB5W2pdLXB5W2ldOwogICAgICAgICAgICBjb25zdCBkMiA9IGR4KmR4ICsgZHkqZHk7IGlmIChkMiA9PT0gMCkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGQgPSBNYXRoLnNxcnQoZDIpOwogICAgICAgICAgICBpZiAoZCA8IHZpc2lvbikgeyB0b3RhbCsrOyBjeCArPSBweFtqXTsgY3kgKz0gcHlbal07IHZ4c3VtICs9IHZ4W2pdOyB2eXN1bSArPSB2eVtqXTsgfQogICAgICAgICAgICBpZiAoZCA8IHNlcCkgeyBzY2xvc2UrKzsgc3ggLT0gZHgvKGR8fDEpOyBzeSAtPSBkeS8oZHx8MSk7IH0KICAgICAgICAgIH0KICAgICAgICAgIGlmICh0b3RhbD4wKSB7CiAgICAgICAgICAgIC8vIGFsaWdubWVudAogICAgICAgICAgICBsZXQgYXh2ID0gKHZ4c3VtL3RvdGFsKSAtIHZ4W2ldOyBsZXQgYXl2ID0gKHZ5c3VtL3RvdGFsKSAtIHZ5W2ldOwogICAgICAgICAgICBjb25zdCBhbGlnblcgPSBDRkcuYWxpZ25XICogKDEgKyAoYWxpZ25NdWxbaV18fDApKTsKICAgICAgICAgICAgW2F4diwgYXl2XSA9IGxpbWl0KGF4diwgYXl2LCBDRkcubWF4Rm9yY2UpOwogICAgICAgICAgICBheFtpXSArPSBheHYgKiBhbGlnblc7IGF5W2ldICs9IGF5diAqIGFsaWduVzsKICAgICAgICAgICAgLy8gY29oZXNpb24KICAgICAgICAgICAgbGV0IGN4diA9IChjeC90b3RhbCAtIHB4W2ldKTsgbGV0IGN5diA9IChjeS90b3RhbCAtIHB5W2ldKTsKICAgICAgICAgICAgY29uc3QgY29oVyA9IENGRy5jb2hlc2lvblcgKiAoMSArIChjb2hlc2lvbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbY3h2LCBjeXZdID0gbGltaXQoY3h2LCBjeXYsIENGRy5tYXhGb3JjZSk7IGF4W2ldICs9IGN4diAqIGNvaFc7IGF5W2ldICs9IGN5diAqIGNvaFc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc2Nsb3NlPjApIHsKICAgICAgICAgICAgbGV0IHN4diA9IHN4OyBsZXQgc3l2ID0gc3k7IFtzeHYsIHN5dl0gPSBsaW1pdChzeHYsIHN5diwgQ0ZHLm1heEZvcmNlKjEuNSk7CiAgICAgICAgICAgIGNvbnN0IHNlcFcgPSBDRkcuc2VwYXJhdGlvblcgKiAoMSArIChzZXBhcmF0aW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIGF4W2ldICs9IHN4diAqIHNlcFc7IGF5W2ldICs9IHN5diAqIHNlcFc7CiAgICAgICAgICB9CiAgICAgICAgLy8gb3B0aW9uYWwgZmxvdyBmaWVsZCBmb3IgcGF0dGVybiB2YXJpZXR5CiAgICAgICAgaWYgKENGRy5mbG93KSB7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmZsb3dTY2FsZSB8fCAwLjAwNDsgY29uc3QgYSA9IENGRy5mbG93QW1wIHx8IDAuNjsgY29uc3Qgc3AgPSBDRkcuZmxvd1NwZWVkIHx8IDAuNjsKICAgICAgICAgIGNvbnN0IHQwID0gcGVyZm9ybWFuY2Uubm93KCkqMC4wMDEqc3A7CiAgICAgICAgICBjb25zdCBmeCA9IE1hdGguc2luKHB5W2ldKnMgKyB0MCkgKiBhOwogICAgICAgICAgY29uc3QgZnkgPSBNYXRoLmNvcyhweFtpXSpzIC0gdDApICogYTsKICAgICAgICAgIGF4W2ldICs9IGZ4OyBheVtpXSArPSBmeTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHM6IH4yMCsgbW9kZXMgaW5jbHVkaW5nIHBlcmxpbkRyYWcsIGxpc3NhUHVsc2UsIG1ldGVvcgogICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInOwogICAgICBsZXQgdG1wMiA9IFtdOwogICAgICBmb3IgKGxldCBlPWVmZmVjdHMubGVuZ3RoLTE7IGU+PTA7IGUtLSkgewogICAgICAgIGNvbnN0IEUgPSBlZmZlY3RzW2VdOyBFLnQgKz0gZHQ7IGNvbnN0IGsgPSBFLnQgLyBFLmxpZmU7CiAgICAgICAgY29uc3QgciA9IDMwICsgayAqIDI2MDsgY29uc3Qgc3RyID0gMS4wIC0gazsKICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgeyBFLnggKz0gKEUudnh8fDApKmR0OyBFLnkgKz0gKEUudnl8fDApKmR0OyBFLnZ4ICo9IChFLmRyYWd8fDEpOyBFLnZ5ICo9IChFLmRyYWd8fDEpOyBFLm1hc3MgKj0gMC45ODU7IH0KICAgICAgICB0bXAyLmxlbmd0aCA9IDA7IHF0LnF1ZXJ5KEUueCwgRS55LCByLCB0bXAyKTsKICAgICAgICBmb3IgKGxldCBpaT0wOyBpaTx0bXAyLmxlbmd0aDsgaWkrKykgewogICAgICAgICAgY29uc3QgaSA9IHRtcDJbaWldOyBjb25zdCBkeCA9IHB4W2ldLUUueDsgY29uc3QgZHkgPSBweVtpXS1FLnk7IGNvbnN0IGQgPSBNYXRoLmh5cG90KGR4LCBkeSl8fDE7CiAgICAgICAgICBjb25zdCBmYWxsID0gKDEgLSBNYXRoLm1pbigxLCBkL3IpKTsKICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgICBjb25zdCB2ID0gcGVybGluVmVjKHB4W2ldLUUueCwgcHlbaV0tRS55LCBFLnNjYWxlfHwwLjAwOCwgKEUuYW1wfHwxLjUpICogZmFsbCk7CiAgICAgICAgICAgIGF4W2ldICs9IHZbMF07IGF5W2ldICs9IHZbMV07IGh1ZU9mZltpXSArPSA0MCpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdsaXNzYVB1bHNlJykgewogICAgICAgICAgICBjb25zdCBhbmcgPSBNYXRoLmF0YW4yKGR5LCBkeCk7CiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNpbihFLmEqYW5nICsgRS5waGFzZSkgKiBNYXRoLmNvcyhFLmIqYW5nIC0gRS5waGFzZSk7CiAgICAgICAgICAgIGNvbnN0IHMgPSB3ICogMi4wICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICAgIGNvbnN0IEcgPSA4MDA7IGNvbnN0IGYgPSBNYXRoLm1pbigzLjAsIChHKihFLm1hc3N8fDIwMCkpLygoZCpkKSsyMDApKTsKICAgICAgICAgICAgYXhbaV0gLT0gKGR4L2QpKmYqZmFsbDsgYXlbaV0gLT0gKGR5L2QpKmYqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOyBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAndm9ydGV4JyB8fCBFLnR5cGU9PT0nb3JiaXRDVycgfHwgRS50eXBlPT09J29yYml0Q0NXJyB8fCBFLnR5cGU9PT0nc3BpcmFsT3V0JyB8fCBFLnR5cGU9PT0nc3BpcmFsSW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nb3JiaXRDQ1cnKSA/IC0xIDogMTsKICAgICAgICAgICAgY29uc3QgdHggPSAtZHkvZCwgdHkgPSBkeC9kOyBsZXQgcyA9IChFLnNpZ24+MD8xOi0xKSAqIDEuMiAqIGZhbGwgKiBkaXI7CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsT3V0JykgeyBzID0gMS4yKmZhbGw7IGF4W2ldICs9IChkeC9kKSpmYWxsKjAuODsgYXlbaV0gKz0gKGR5L2QpKmZhbGwqMC44OyB9CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsSW4nKSB7IHMgPSAtMS4yKmZhbGw7IGF4W2ldIC09IChkeC9kKSpmYWxsKjAuNjsgYXlbaV0gLT0gKGR5L2QpKmZhbGwqMC42OyB9CiAgICAgICAgICAgIGF4W2ldICs9IHR4KnM7IGF5W2ldICs9IHR5KnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IHZCb29zdFtpXSArPSAwLjIqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaW1wbG9zaW9uJyB8fCBFLnR5cGU9PT0nYXR0cmFjdCcgfHwgRS50eXBlPT09J21hZ25ldCcpIHsKICAgICAgICAgICAgY29uc3QgcyA9IChFLnR5cGU9PT0naW1wbG9zaW9uJyA/IC0yLjIgOiAtMS4yKSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjE1KmZhbGw7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc3ByYXknIHx8IEUudHlwZT09PSdzY2F0dGVyJykgewogICAgICAgICAgICBjb25zdCBzID0gKEUuc2lnbj4wPzE6LTEpICogKEUudHlwZT09PSdzY2F0dGVyJz8zLjA6Mi40KSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgdnhbaV0gKz0gKGR4L2QpICogMC4yNSAqIGZhbGw7IHZ5W2ldICs9IChkeS9kKSAqIDAuMjUgKiBmYWxsOyBqaXRBbXBbaV0gKz0gMC4xNSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzdHVuJyB8fCBFLnR5cGU9PT0nZnJlZXplJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gLT0gKEUudHlwZT09PSdmcmVlemUnPzAuNjowLjMpICogZmFsbDsgc2l6ZU11bFtpXSArPSAwLjMqZmFsbDsgdnhbaV0gKj0gMC45NjsgdnlbaV0gKj0gMC45NjsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZmVhcicpIHsKICAgICAgICAgICAgY29uc3QgcyA9IDIuOCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgaml0QW1wW2ldICs9IDAuMjUqZmFsbDsgaHVlT2ZmW2ldICs9IDgwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NjcmFtYmxlJykgewogICAgICAgICAgICB2eFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMS41KmZhbGw7IHZ5W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgaml0QW1wW2ldICs9IDAuMypmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdwdWxzZScgfHwgRS50eXBlPT09J3JpcHBsZScpIHsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKGsqTWF0aC5QSSoyKTsgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2FsaWduJykgewogICAgICAgICAgICBhbGlnbk11bFtpXSArPSAwLjggKiBmYWxsOyBzZXBhcmF0aW9uTXVsW2ldIC09IDAuMyAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2RlYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldIC09IDAuOCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldICs9IDAuMiAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjEgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjb2hlcmUnIHx8IEUudHlwZT09PSd0aWdodGVuJyB8fCBFLnR5cGU9PT0nbG9vc2VuJykgewogICAgICAgICAgICBjb25zdCBkaXIgPSAoRS50eXBlPT09J2xvb3NlbicpID8gLTEgOiAxOyAvLyBsb29zZW4gcmVkdWNlcyBjb2hlc2lvbgogICAgICAgICAgICBjb2hlc2lvbk11bFtpXSArPSBkaXIgKiAwLjkgKiBmYWxsOyBpZiAoZGlyPjApIHNlcGFyYXRpb25NdWxbaV0gLT0gMC4yICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2VwYXJhdGUnIHx8IEUudHlwZT09PSdkaXNwZXJzZScpIHsKICAgICAgICAgICAgc2VwYXJhdGlvbk11bFtpXSArPSAxLjAgKiBmYWxsOyBjb2hlc2lvbk11bFtpXSAtPSAwLjQgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd3YXJwJyB8fCBFLnR5cGU9PT0nc3BlZWR1cCcpIHsKICAgICAgICAgICAgdkJvb3N0W2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBodWVPZmZbaV0gKz0gNDAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2xvd2Rvd24nKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAwLjUqZmFsbDsgaHVlT2ZmW2ldIC09IDIwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2dyb3cnKSB7CiAgICAgICAgICAgIHNpemVNdWxbaV0gKz0gMC42KmZhbGw7IGh1ZU9mZltpXSArPSAzMCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd0dW5uZWwnKSB7CiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHIqMC43OyBjb25zdCBzID0gKGQ8dGFyZ2V0PysxOi0xKSAqIDEuMiAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaml0dGVyYnVyc3QnKSB7CiAgICAgICAgICAgIGppdEFtcFtpXSArPSAwLjYqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnY2hyb21hYnVyc3QnKSB7CiAgICAgICAgICAgIGh1ZU9mZltpXSArPSAxNjAgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIHsgLy8gc2hvY2sgLyBkZWZhdWx0CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/KzE6LTEpICogMS44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyB2Qm9vc3RbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBnZW5lcmFsIGNvbG9yIGVuZXJneQogICAgICAgICAgaHVlW2ldID0gKGh1ZVtpXSArIDkwICogZmFsbCkgJSAzNjA7CiAgICAgICAgfQogICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoRS54LCBFLnksIE1hdGgubWF4KDEsIHIqMC42KSwgRS54LCBFLnksIHIpOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7KHBhbGV0dGVIdWUrMjApJTM2MH0sIDk1JSwgNzAlLCAkezAuMzQqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs2MCklMzYwfSwgOTUlLCA2MCUsICR7MC4yMipzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45NSwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsxMDApJTM2MH0sIDk1JSwgNTUlLCAwKWApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7cGFsZXR0ZUh1ZX0sIDk1JSwgNjUlLCAkezAuMjUqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs0MCklMzYwfSwgOTUlLCA1NSUsICR7MC4xOCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45LCBgaHNsYSgkeyhwYWxldHRlSHVlKzgwKSUzNjB9LCA5NSUsIDYwJSwgMClgKTsKICAgICAgICB9CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYyhFLngsIEUueSwgciwgMCwgTWF0aC5QSSoyKTsgY3R4LmZpbGwoKTsKICAgICAgICBpZiAoayA+PSAxKSBlZmZlY3RzLnNwbGljZShlLCAxKTsKICAgICAgfQogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEludGVncmF0ZSBhbmQgZHJhdyBib2lkcyB3aXRoIGdsb3cgYW5kIHRyYWlscwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBDRkcuYmxlbmQ7CiAgICAgIGN0eC5saW5lV2lkdGggPSBDRkcubGluZVdpZHRoOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICAvLyBpbnRlZ3JhdGUKICAgICAgICAgIGlmIChqaXRBbXBbaV0gPiAwLjAwMDEpIHsgYXhbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgYXlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgfQogICAgICAgICAgdnhbaV0gKz0gYXhbaV07IHZ5W2ldICs9IGF5W2ldOwogICAgICAgICAgY29uc3Qgdk1heCA9IENGRy5tYXhTcGVlZCAqICgxICsgTWF0aC5tYXgoLTAuNywgdkJvb3N0W2ldKSowLjgpOwogICAgICAgICAgW3Z4W2ldLCB2eVtpXV0gPSBsaW1pdCh2eFtpXSwgdnlbaV0sIHZNYXgpOwogICAgICAgICAgLy8gZW5mb3JjZSBtaW4gc3BlZWQgKHdpdGggYm9vc3QpCiAgICAgICAgICB7IGNvbnN0IHNwID0gTWF0aC5oeXBvdCh2eFtpXSwgdnlbaV0pIHx8IDE7IGNvbnN0IHZNaW4gPSBDRkcubWluU3BlZWQgKiAoMSArIE1hdGgubWF4KDAsIHZCb29zdFtpXSkqMC41KTsgaWYgKHNwIDwgdk1pbikgeyBjb25zdCBzID0gdk1pbiAvIHNwOyB2eFtpXSAqPSBzOyB2eVtpXSAqPSBzOyB9IH0KICAgICAgICAgIHByZXZ4W2ldID0gcHhbaV07IHByZXZ5W2ldID0gcHlbaV07CiAgICAgICAgICBweFtpXSArPSB2eFtpXTsgcHlbaV0gKz0gdnlbaV07CgogICAgICAgICAgLy8gYm91bmRhcmllcwogICAgICAgICAgaWYgKENGRy53cmFwKSB7CiAgICAgICAgICAgIGlmIChweFtpXSA8IC01KSBweFtpXSA9IFcgKyA1OyBlbHNlIGlmIChweFtpXSA+IFcrNSkgcHhbaV0gPSAtNTsKICAgICAgICAgICAgaWYgKHB5W2ldIDwgLTUpIHB5W2ldID0gSCArIDU7IGVsc2UgaWYgKHB5W2ldID4gSCs1KSBweVtpXSA9IC01OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgMCB8fCBweFtpXSA+IFcpIHsgdnhbaV0gPSAtdnhbaV07IH0KICAgICAgICAgICAgaWYgKHB5W2ldIDwgMCB8fCBweVtpXSA+IEgpIHsgdnlbaV0gPSAtdnlbaV07IH0KICAgICAgICAgICAgcHhbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihXLCBweFtpXSkpOwogICAgICAgICAgICBweVtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKEgsIHB5W2ldKSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZGVjYXkgbW9kaWZpZXJzIGFuZCBjb21wdXRlIHRpbnQKICAgICAgICAgIHZCb29zdFtpXSAqPSAwLjkyOyBzaXplTXVsW2ldICo9IDAuOTA7IGh1ZU9mZltpXSAqPSAwLjk0OyBqaXRBbXBbaV0gKj0gMC44ODsKICAgICAgICAgIGFsaWduTXVsW2ldICo9IDAuOTQ7IGNvaGVzaW9uTXVsW2ldICo9IDAuOTQ7IHNlcGFyYXRpb25NdWxbaV0gKj0gMC45NDsKICAgICAgICAgIC8vIHNsb3dseSBkcmlmdCBib2lkIGh1ZSBiYWNrIHRvd2FyZCBiYXNlIHBhbGV0dGUgaHVlCiAgICAgICAgICBodWVbaV0gPSBhcHByb2FjaEh1ZShodWVbaV0sIHBhbGV0dGVIdWUsIE1hdGgubWluKDEsIGR0ICogKENGRy5odWVSZWxheCB8fCAwLjIpKSk7CiAgICAgICAgICBzcGRbaV0gPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSk7CiAgICAgICAgICBjb25zdCBMID0gNTAgKyBNYXRoLm1pbig0NSwgc3BkW2ldKjgpOwogICAgICAgICAgY29uc3QgUyA9IDgwICsgTWF0aC5taW4oMjAsIHNwZFtpXSo2KTsKICAgICAgICAgIGNvbnN0IGRyYXdIdWUgPSAoaHVlW2ldICsgaHVlT2ZmW2ldKSAlIDM2MDsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHtkcmF3SHVlfSwgJHtTfSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguc2hhZG93Q29sb3IgPSBgaHNsKCR7ZHJhd0h1ZX0sIDkwJSwgNjAlKWA7CiAgICAgICAgICBjb25zdCBnbG93UXVhbGl0eSA9IChmcHNBdmcgPCA1MCA/IDAuNSA6IDEuMCk7CiAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IGdsb3dRdWFsaXR5ICogKENGRy5nbG93QmFzZSArIE1hdGgubWluKENGRy5nbG93TWF4LCBzcGRbaV0qQ0ZHLmdsb3dTY2FsZSkpOwoKICAgICAgICAgIC8vIHRyYWlsIHNlZ21lbnQKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5tb3ZlVG8ocHJldnhbaV0sIHByZXZ5W2ldKTsKICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0sIHB5W2ldKTsKICAgICAgICAgIGN0eC5zdHJva2UoKTsKCiAgICAgICAgICAvLyBib2lkIGhlYWQgc2hhcGUKICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIodnlbaV0sIHZ4W2ldKTsKICAgICAgICAgIGNvbnN0IGNhID0gTWF0aC5jb3MoYW5nKSwgc2EgPSBNYXRoLnNpbihhbmcpOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGBoc2woJHtodWVbaV19LCA5NSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmNvbWV0U2l6ZSAqICgxICsgKHNpemVNdWxbaV18fDApKTsKICAgICAgICAgIGlmIChDRkcuc2hhcGUgPT09ICd0cmlhbmdsZScpIHsKICAgICAgICAgICAgY29uc3QgQzI2ID0gMC44NTY4ODg3NTMsIFMyNiA9IDAuNTE1NDk4OyAvLyBjb3Mvc2luKDIuNikKICAgICAgICAgICAgY29uc3QgeDAgPSBweFtpXSArIGNhKnMqMS42LCB5MCA9IHB5W2ldICsgc2EqcyoxLjY7CiAgICAgICAgICAgIGNvbnN0IGNhX3AgPSBjYSpDMjYgLSBzYSpTMjYsIHNhX3AgPSBzYSpDMjYgKyBjYSpTMjY7CiAgICAgICAgICAgIGNvbnN0IGNhX20gPSBjYSpDMjYgKyBzYSpTMjYsIHNhX20gPSBzYSpDMjYgLSBjYSpTMjY7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeDAsIHkwKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AqcywgIHB5W2ldICsgc2FfcCpzKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20qcywgIHB5W2ldICsgc2FfbSpzKTsKICAgICAgICAgIH0gZWxzZSBpZiAoQ0ZHLnNoYXBlID09PSAnb3JiJykgewogICAgICAgICAgICBjdHguYXJjKHB4W2ldLCBweVtpXSwgcyowLjYsIDAsIE1hdGguUEkqMik7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzcGFyawogICAgICAgICAgICBjb25zdCBDMDIgPSAwLjk4MDA2NjYsIFMwMiA9IDAuMTk4NjY5MzsgLy8gY29zL3NpbigwLjIpCiAgICAgICAgICAgIGNvbnN0IHhoID0gcHhbaV0gKyBjYSpzKjEuOCwgeWggPSBweVtpXSArIHNhKnMqMS44OwogICAgICAgICAgICBjb25zdCBjYV9wMDIgPSBjYSpDMDIgLSBzYSpTMDIsIHNhX3AwMiA9IHNhKkMwMiArIGNhKlMwMjsKICAgICAgICAgICAgY29uc3QgY2FfbTAyID0gY2EqQzAyICsgc2EqUzAyLCBzYV9tMDIgPSBzYSpDMDIgLSBjYSpTMDI7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeGgsIHloKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AwMipzKjAuNiwgIHB5W2ldICsgc2FfcDAyKnMqMC42KTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20wMipzKjAuNiwgIHB5W2ldICsgc2FfbTAyKnMqMC42KTsKICAgICAgICAgIH0KICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTsgY3R4LmZpbGwoKTsKICAgICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gUXVhZHRyZWUgdmlzdWFsaXphdGlvbiAoZGVmYXVsdCBvbikKICAgICAgICBpZiAoQ0ZHLnF0KSBxdC5kcmF3KGN0eCk7CgogICAgICAgIC8vIEhVRAogICAgICAgIGh1ZEVsLmlubmVySFRNTCA9IGA8c3Ryb25nPkJvaWRzPC9zdHJvbmc+IMK3IE49JHtOfSB2aXNpb249JHtDRkcudmlzaW9ufSBzZXA9JHtDRkcuc2VwfSBgICsKICAgICAgICAgIGDCtyBxdENhcD0ke0NGRy5xdENhcH0gwrcgaHVlPSR7cGFsZXR0ZUh1ZX0gwrcgcXRWaXo9JHtDRkcucXQ/J29uJzonb2ZmJ30gwrcgY2xpY2s9JHtDRkcuY2xpY2tNb2RlfSDCtyBmcHM9JHtmcHNBdmcudG9GaXhlZCgwKX1gOwoKICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpOwogICAgICB9CiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CgogICAgICAvLyBDb25maWcgVUkgYnVpbGQgYW5kIHdpcmluZwogICAgICBjb25zdCBjZmdCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQnRuJyk7CiAgICAgIGNvbnN0IGNmZ0Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmZ0Nsb3NlJyk7CiAgICAgIGNvbnN0IGNmZ1BhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZycpOwogICAgICBjb25zdCBjZmdCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZ0JvZHknKTsKICAgICAgY2ZnQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKSk7CiAgICAgIGNmZ0Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCcnKSk7CgogICAgICBjb25zdCBzY2hlbWEgPSBbCiAgICAgICAge2tleTonaHVlJywgbGFiZWw6J0h1ZScsIHR5cGU6J2ludCcsIG1pbjowLCBtYXg6MzYwLCBzdGVwOjEsIHZhbHVlOkJBU0VfSFVFfSwKICAgICAgICB7a2V5OidoZWFkZXInLCBsYWJlbDonSGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOkhFQURFUn0sCiAgICAgICAge2tleTonc3ViaGVhZGVyJywgbGFiZWw6J1N1YmhlYWRlcicsIHR5cGU6J3RleHQnLCB2YWx1ZTpTVUJIRUFERVJ9LAogICAgICAgIHtrZXk6J3F0JywgbGFiZWw6J1Nob3cgUXVhZHRyZWUnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hvd0h1ZCcsIGxhYmVsOidTaG93IEhVRCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzcGF3bicsIGxhYmVsOidTcGF3bicsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdjaXJjbGUnLCdncmlkJywnY2VudGVyYnVyc3QnXX0sCiAgICAgICAge2tleTonY291bnQnLCBsYWJlbDonQ291bnQnLCB0eXBlOidpbnQnLCBtaW46NTAsIG1heDoxMDAwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3Zpc2lvbicsIGxhYmVsOidWaXNpb24nLCB0eXBlOidpbnQnLCBtaW46MjAsIG1heDoyMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonc2VwJywgbGFiZWw6J1NlcGFyYXRpb24gRGlzdCcsIHR5cGU6J2ludCcsIG1pbjo0LCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonbWF4U3BlZWQnLCBsYWJlbDonTWF4IFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMSwgbWF4OjEyLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonbWluU3BlZWQnLCBsYWJlbDonTWluIFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMCwgbWF4OjYsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtYXhGb3JjZScsIGxhYmVsOidNYXggU3RlZXJpbmcgRm9yY2UnLCB0eXBlOidudW1iZXInLCBtaW46MC4wMDEsIG1heDowLjUsIHN0ZXA6MC4wMDF9LAogICAgICAgIHtrZXk6J2FsaWduVycsIGxhYmVsOidBbGlnbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY29oZXNpb25XJywgbGFiZWw6J0NvaGVzaW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidzZXBhcmF0aW9uVycsIGxhYmVsOidTZXBhcmF0aW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oid0cmFpbEFscGhhJywgbGFiZWw6J1RyYWlsIEFscGhhJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDoxLCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3F0Q2FwJywgbGFiZWw6J1F1YWR0cmVlIENhcGFjaXR5JywgdHlwZTonaW50JywgbWluOjIsIG1heDozMiwgc3RlcDoxfSwKICAgICAgICB7a2V5Oid3cmFwJywgbGFiZWw6J1dyYXAgQm91bmRzJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NoYXBlJywgbGFiZWw6J1NoYXBlJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3RyaWFuZ2xlJywnc3BhcmsnLCdvcmInXX0sCiAgICAgICAge2tleTonYmxlbmQnLCBsYWJlbDonQmxlbmQnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsnbGlnaHRlcicsJ3NjcmVlbicsJ292ZXJsYXknLCdwbHVzLWxpZ2h0ZXInXX0sCiAgICAgICAge2tleTonbGluZVdpZHRoJywgbGFiZWw6J0xpbmUgV2lkdGgnLCB0eXBlOidudW1iZXInLCBtaW46MC4yLCBtYXg6NCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2dsb3dCYXNlJywgbGFiZWw6J0dsb3cgQmFzZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NjAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd01heCcsIGxhYmVsOidHbG93IE1heCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd1NjYWxlJywgbGFiZWw6J0dsb3cgU2NhbGUnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonY29tZXRTaXplJywgbGFiZWw6J0NvbWV0IFNpemUnLCB0eXBlOidudW1iZXInLCBtaW46MSwgbWF4OjIwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonYmdHcmFkaWVudCcsIGxhYmVsOidCRyBHcmFkaWVudCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MScsIGxhYmVsOidCRyBIdWUgU2hpZnQgMScsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQyJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAyJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDMnLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDMnLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidmbG93JywgbGFiZWw6J0Zsb3cgRmllbGQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonZmxvd0FtcCcsIGxhYmVsOidGbG93IEFtcCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjA1fSwKICAgICAgICB7a2V5OidmbG93U2NhbGUnLCBsYWJlbDonRmxvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMDUsIG1heDowLjAyLCBzdGVwOjAuMDAwNX0sCiAgICAgICAge2tleTonZmxvd1NwZWVkJywgbGFiZWw6J0Zsb3cgU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjMsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY2xpY2tNb2RlJywgbGFiZWw6J0NsaWNrIE1vZGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsncmFuZG9tJywnc2hvY2snLCd2b3J0ZXgnLCdpbXBsb3Npb24nLCdzcHJheSddfSwKICAgICAgXTsKCiAgICAgIGZ1bmN0aW9uIG1ha2VSb3cobGFiZWwsIGlucHV0KSB7CiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHJvdy5jbGFzc05hbWUgPSAncm93JzsKICAgICAgICBjb25zdCBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsgbC50ZXh0Q29udGVudCA9IGxhYmVsOyByb3cuYXBwZW5kQ2hpbGQobCk7CiAgICAgICAgcm93LmFwcGVuZENoaWxkKGlucHV0KTsgcmV0dXJuIHJvdzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYWRkSW5wdXQoaXRlbSkgewogICAgICAgIGxldCBpbnB1dDsKICAgICAgICBjb25zdCB2MCA9IChpdGVtLmtleSBpbiBDRkcpID8gQ0ZHW2l0ZW0ua2V5XSA6IGl0ZW0udmFsdWU7CiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Jvb2wnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J2NoZWNrYm94JzsgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IENGR1tpdGVtLmtleV0gPSBpbnB1dC5jaGVja2VkOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnc2VsZWN0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTsKICAgICAgICAgIGZvciAoY29uc3Qgb3B0IG9mIGl0ZW0ub3B0aW9ucykgeyBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7IG8udmFsdWU9b3B0OyBvLnRleHRDb250ZW50PW9wdDsgaWYgKG9wdD09PXYwKSBvLnNlbGVjdGVkPXRydWU7IGlucHV0LmFwcGVuZENoaWxkKG8pOyB9CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LnZhbHVlOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAndGV4dCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ndGV4dCc7IGlucHV0LnZhbHVlID0gU3RyaW5nKHYwfHwnJyk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaWYgKGl0ZW0ua2V5PT09J2hlYWRlcicpIHsgdGl0bGVFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5rZXk9PT0nc3ViaGVhZGVyJykgeyBzdWJ0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBpbnB1dC52YWx1ZSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5rZXkgPT09ICdodWUnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQubWluPScwJzsgaW5wdXQubWF4PSczNjAnOyBpbnB1dC5zdGVwPScxJzsgaW5wdXQudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIubWluPScwJzsgbnVtYmVyLm1heD0nMzYwJzsgbnVtYmVyLnN0ZXA9JzEnOyBudW1iZXIudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWU9aW5wdXQudmFsdWU7IGh1ZUNoYW5nZWQocGFyc2VJbnQoaW5wdXQudmFsdWUpKTsgfSk7CiAgICAgICAgICBudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlucHV0LnZhbHVlPW51bWJlci52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gaHVlQ2hhbmdlZCh2YWwpewogICAgICAgICAgICAvLyBzaGlmdCBwYWxldHRlIGltbWVkaWF0ZWx5CiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gKHZhbCAtIHBhbGV0dGVIdWUpOwogICAgICAgICAgICBwYWxldHRlSHVlID0gdmFsOwogICAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBodWVbaV0gPSAoaHVlW2ldICsgZGVsdGEpICUgMzYwOyB9CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQnLCBgaHNsKCR7dmFsfSwgODUlLCA2MiUpYCk7CiAgICAgICAgICAgIHVwZGF0ZVVybEZyb21DZmcoe2h1ZTpTdHJpbmcodmFsKX0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG51bWVyaWMgKHJhbmdlICsgbnVtYmVyIHBhaXIpCiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgaW5wdXQubWluPVN0cmluZyhpdGVtLm1pbik7IGlmIChpdGVtLm1heCE9bnVsbCkgaW5wdXQubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBudW1iZXIudHlwZT0nbnVtYmVyJzsgbnVtYmVyLnN0ZXA9U3RyaW5nKGl0ZW0uc3RlcHx8MSk7CiAgICAgICAgICBpZiAoaXRlbS5taW4hPW51bGwpIG51bWJlci5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBudW1iZXIubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBpbnB1dC52YWx1ZSA9IFN0cmluZyh2MCk7IG51bWJlci52YWx1ZSA9IFN0cmluZyh2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgbnVtYmVyLnZhbHVlID0gaW5wdXQudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWUgPSBudW1iZXIudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gbnVtQ2hhbmdlZCh2YWwpeyBDRkdbaXRlbS5rZXldID0gdmFsOyBhcHBseUNoYW5nZShpdGVtLmtleSwgdmFsKTsgfQogICAgICAgIH0KICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgaW5wdXQpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYXBwbHlDaGFuZ2Uoa2V5LCB2YWx1ZSkgewogICAgICAgIGlmIChrZXkgPT09ICdjb3VudCcgfHwga2V5ID09PSAnc3Bhd24nKSB7IHJlc2VlZChDRkcuY291bnQpOyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3F0JykgeyAvKiBpbW1lZGlhdGUgZHJhdyB0b2dnbGUgdmlhIENGRyAqLyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3Nob3dIdWQnKSB7IGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSBDRkcuc2hvd0h1ZCA/ICcnIDogJ25vbmUnOyB9CiAgICAgICAgdXBkYXRlVXJsRnJvbUNmZygpOwogICAgICB9CgogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc2NoZW1hKSBhZGRJbnB1dChpdGVtKTsKICAgICAgLy8gaW5pdGlhbCBIVUQgdmlzaWJpbGl0eQogICAgICBodWRFbC5zdHlsZS5kaXNwbGF5ID0gKENGRy5zaG93SHVkPT09ZmFsc2UpID8gJ25vbmUnIDogJyc7CgogICAgICAvLyBrZXlib2FyZCB0b2dnbGVzIChhZnRlciBidWlsZGluZyBwYW5lbCkKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7CiAgICAgICAgY29uc3QgayA9IGUua2V5LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKGsgPT09ICdxJykgeyBDRkcucXQgPSAhQ0ZHLnF0OyB1cGRhdGVVcmxGcm9tQ2ZnKCk7IH0KICAgICAgICBpZiAoayA9PT0gJ2MnKSB7IGNmZ1BhbmVsLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJyk7IH0KICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgPC9zY3JpcHQ+CiAgPC9ib2R5Pgo8L2h0bWw+Cg==" download="boids-dod-quadtree-18-impl.html" class="download-btn" title="Download boids-dod-quadtree-18-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=271 · spawn=centerburst · wrap · orb · lighter · hue=214 · qtCap=16 · flow" data-filename="boids-dod-quadtree-8-impl.html"><a href="boids-dod-quadtree-8-impl.html" target="viewer"><strong>Boids DOD+QT · N=271 · spawn=centerburst · wrap · orb · lighter · hue=214 · qtCap=16 · flow</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTI3MSDCtyBzcGF3bj1jZW50ZXJidXJzdCDCtyB3cmFwIMK3IG9yYiDCtyBsaWdodGVyIMK3IGh1ZT0yMTQgwrcgcXRDYXA9MTYgwrcgZmxvdzwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgIGh0bWwsIGJvZHkgeyBoZWlnaHQ6IDEwMCU7IG1hcmdpbjogMDsgfQogICAgICBib2R5IHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMDUwNzBhOwogICAgICAgIGNvbG9yOiAjZTZlZGYzOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgZm9udC1mYW1pbHk6IHVpLXNhbnMtc2VyaWYsIHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgU2Vnb2UgVUksIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIjsKICAgICAgfQogICAgICAjc2NlbmUgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyB9CiAgICAgIC5vdmVybGF5IHsgcG9zaXRpb246IGZpeGVkOyBpbnNldDogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnIgYXV0bzsgfQogICAgICAudGl0bGUgeyBtYXJnaW46IDE4cHggMjBweCAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogY2xhbXAoMThweCwgM3Z3LCAyOHB4KTsgbGV0dGVyLXNwYWNpbmc6IDAuMnB4OyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgdGV4dC1zaGFkb3c6IDAgMCAxMHB4IGNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYWNjZW50LCAjN2RkM2ZjKSA4MCUsICMwMDAgMjAlKTsgfQogICAgICAuc3VidGl0bGUgeyBtYXJnaW46IDAgMjBweCAxMHB4OyBmb250LXdlaWdodDogNTAwOyBmb250LXNpemU6IGNsYW1wKDEycHgsIDJ2dywgMTZweCk7IG9wYWNpdHk6IDAuODU7IH0KICAgICAgLmh1ZCB7IHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMTJweDsgYm90dG9tOiAxMnB4OyBwYWRkaW5nOiA4cHggMTBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDQwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpIHNhdHVyYXRlKDEyMCUpOyBmb250LXNpemU6IDEycHg7IGxpbmUtaGVpZ2h0OiAxLjQ7IH0KICAgICAgLmh1ZCBzdHJvbmcgeyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgfQogICAgICAuY2ZnQnRuIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDEycHg7IHJpZ2h0OiAxMnB4OyB6LWluZGV4OiAxMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiA2cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ1BhbmVsIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDU2cHg7IHJpZ2h0OiAxMnB4OyB3aWR0aDogbWluKDM4MHB4LCA5MHZ3KTsgbWF4LWhlaWdodDogODB2aDsgb3ZlcmZsb3c6IGF1dG87IHotaW5kZXg6IDIwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYmFja2dyb3VuZDogIzBiMTIyMGU2OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3gtc2hhZG93OiAwIDEwcHggNDBweCAjMDAwODsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpIHNhdHVyYXRlKDEyMCUpOyB9CiAgICAgIC5jb25maWdIZWFkZXIgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDEwcHggMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAwMDA1NTsgcG9zaXRpb246IHN0aWNreTsgdG9wOiAwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZjI7IH0KICAgICAgLmNvbmZpZ0JvZHkgeyBwYWRkaW5nOiAxMHB4IDEycHg7IGRpc3BsYXk6IGdyaWQ7IGdhcDogMTBweDsgfQogICAgICAuY29uZmlnQm9keSAucm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bzsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJhbmdlUm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNzJweDsgZ2FwOiA4cHg7IH0KICAgICAgLmNmZ0Nsb3NlIHsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMTIxYTJiY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA2cHg7IHBhZGRpbmc6IDRweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dCwgLmNvbmZpZ0JvZHkgc2VsZWN0IHsgZm9udC1zaXplOiAxNHB4OyBwYWRkaW5nOiA2cHggOHB4OyBiYWNrZ3JvdW5kOiAjMTAxODI3OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiA2cHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXRbdHlwZT1yYW5nZV0geyBwYWRkaW5nOiAwOyBoZWlnaHQ6IDI4cHg7IGFjY2VudC1jb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPGNhbnZhcyBpZD0ic2NlbmUiPjwvY2FudmFzPgogICAgPGRpdiBjbGFzcz0ib3ZlcmxheSI+CiAgICAgIDxkaXYgY2xhc3M9InRpdGxlIiBpZD0idGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJzdWJ0aXRsZSIgaWQ9InN1YnRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaHVkIiBpZD0iaHVkIj48L2Rpdj4KICAgIDwvZGl2PgogICAgPGJ1dHRvbiBpZD0iY2ZnQnRuIiBjbGFzcz0iY2ZnQnRuIiBhcmlhLWxhYmVsPSJPcGVuIGNvbmZpZyI+4pqZ77iOPC9idXR0b24+CiAgICA8ZGl2IGlkPSJjb25maWciIGNsYXNzPSJjb25maWdQYW5lbCIgaGlkZGVuPgogICAgICA8ZGl2IGNsYXNzPSJjb25maWdIZWFkZXIiPgogICAgICAgIDxzdHJvbmc+Q29uZmlnPC9zdHJvbmc+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2ZnQ2xvc2UiIGNsYXNzPSJjZmdDbG9zZSIgYXJpYS1sYWJlbD0iQ2xvc2UiPuKclTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBpZD0iY29uZmlnQm9keSIgY2xhc3M9ImNvbmZpZ0JvZHkiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICAndXNlIHN0cmljdCc7CgogICAgICAvLyBVUkwgcGFyYW1ldGVycwogICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgICAgIGNvbnN0IERFRkFVTFRfSFVFID0gMjE0OwogICAgICBjb25zdCBCQVNFX0hVRSA9IGNsYW1wSW50KHBhcnNlSW50KHBhcmFtcy5nZXQoJ2h1ZScpKSwgMCwgMzYwLCBERUZBVUxUX0hVRSk7CiAgICAgIGxldCBwYWxldHRlSHVlID0gQkFTRV9IVUU7CiAgICAgIGNvbnN0IEhFQURFUiA9IHBhcmFtcy5nZXQoJ2hlYWRlcicpIHx8ICdCb2lkcyDigJQgRGF0YS1PcmllbnRlZCArIFF1YWR0cmVlJzsKICAgICAgY29uc3QgU1VCSEVBREVSID0gcGFyYW1zLmdldCgnc3ViaGVhZGVyJykgfHwgJ1Nob2Nrd2F2ZXMgb24gY2xpY2svZHJhZyDCtyBxdWFkdHJlZSB2aXogb24nOwogICAgICAvLyBRdWFkdHJlZSB2aXogaXMgaGFuZGxlZCBieSBDRkcucXQ7IFVSTCBwYXJhbSAncXQnIG92ZXJyaWRlcyBpdC4KCiAgICAgIC8vIERPTQogICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NlbmUnKTsKICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogZmFsc2UgfSk7CiAgICAgIGNvbnN0IHRpdGxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKTsKICAgICAgY29uc3Qgc3VidGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJ0aXRsZScpOwogICAgICBjb25zdCBodWRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdodWQnKTsKCiAgICAgIC8vIFN0eWxlIGhvb2sKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHtwYWxldHRlSHVlfSwgODUlLCA2MiUpYCk7CiAgICAgIHRpdGxlRWwudGV4dENvbnRlbnQgPSBIRUFERVI7CiAgICAgIHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBTVUJIRUFERVI7CgogICAgICAvLyBDb25maWcgKGluamVjdGVkIGJ5IGdlbmVyYXRvcikg4oCUIG11dGFibGUgYXQgcnVudGltZQogICAgICBsZXQgQ0ZHID0geyJjb3VudCI6IDI3MSwgInZpc2lvbiI6IDkwLCAic2VwIjogMjcsICJtYXhTcGVlZCI6IDMuNzgsICJtYXhGb3JjZSI6IDAuMDQyLCAibWluU3BlZWQiOiAxLjAxLCAiYWxpZ25XIjogMC44NywgImNvaGVzaW9uVyI6IDEuMTYsICJzZXBhcmF0aW9uVyI6IDEuNTYsICJ0cmFpbEFscGhhIjogMC4xMiwgInF0Q2FwIjogMTYsICJ3cmFwIjogdHJ1ZSwgInNoYXBlIjogIm9yYiIsICJibGVuZCI6ICJsaWdodGVyIiwgImxpbmVXaWR0aCI6IDEuNjcsICJnbG93QmFzZSI6IDE5LCAiZ2xvd01heCI6IDE4LCAiZ2xvd1NjYWxlIjogOC42LCAiY29tZXRTaXplIjogNi40OCwgImJnR3JhZGllbnQiOiB0cnVlLCAiYmdIdWVTaGlmdDEiOiAzMCwgImJnSHVlU2hpZnQyIjogNTEsICJiZ0h1ZVNoaWZ0MyI6IDgzLCAic3Bhd24iOiAiY2VudGVyYnVyc3QiLCAicXQiOiB0cnVlLCAic2hvd0h1ZCI6IHRydWUsICJmbG93IjogdHJ1ZSwgImZsb3dBbXAiOiAwLjU3LCAiZmxvd1NjYWxlIjogMC4wMDk4LCAiZmxvd1NwZWVkIjogMC43NCwgImNsaWNrTW9kZSI6ICJyYW5kb20ifTsKICAgICAgQ0ZHLm1pblNwZWVkID0gQ0ZHLm1pblNwZWVkID8/IDAuODsKICAgICAgQ0ZHLnF0ID0gKHR5cGVvZiBDRkcucXQgPT09ICdib29sZWFuJykgPyBDRkcucXQgOiB0cnVlOwogICAgICBDRkcuY2xpY2tNb2RlID0gQ0ZHLmNsaWNrTW9kZSB8fCAncmFuZG9tJzsKICAgICAgQ0ZHLmNsaWNrTW9kZXMgPSBDRkcuY2xpY2tNb2RlcyB8fCBbCiAgICAgICAgJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknLCdzdHVuJywnZmVhcicsJ2F0dHJhY3QnLCdvcmJpdENXJywnb3JiaXRDQ1cnLAogICAgICAgICdzcGlyYWxPdXQnLCdzcGlyYWxJbicsJ2ZyZWV6ZScsJ3NjcmFtYmxlJywnc2NhdHRlcicsJ21hZ25ldCcsJ3B1bHNlJywKICAgICAgICAnd2FycCcsJ2dyb3cnLCd0dW5uZWwnLCdyaXBwbGUnLCdqaXR0ZXJidXJzdCcsJ2Nocm9tYWJ1cnN0Jywnc2xvd2Rvd24nLCdzcGVlZHVwJywKICAgICAgICAncGVybGluRHJhZycsJ2xpc3NhUHVsc2UnLCdtZXRlb3InLAogICAgICAgIC8vIHN0ZWVyaW5nLXdlaWdodCBlZmZlY3RzCiAgICAgICAgJ2FsaWduJywnZGVhbGlnbicsJ2NvaGVyZScsJ2xvb3NlbicsJ3NlcGFyYXRlJywnZGlzcGVyc2UnCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBwYXJzZUJvb2wodiwgZCkgewogICAgICAgIGlmICh2ID09IG51bGwpIHJldHVybiBkOwogICAgICAgIGNvbnN0IHMgPSBTdHJpbmcodikudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoWycxJywndHJ1ZScsJ3llcycsJ29uJ10uaW5jbHVkZXMocykpIHJldHVybiB0cnVlOwogICAgICAgIGlmIChbJzAnLCdmYWxzZScsJ25vJywnb2ZmJ10uaW5jbHVkZXMocykpIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gZDsKICAgICAgfQoKICAgICAgLy8gVVJMIG92ZXJyaWRlcyBmb3IgY29uZmlnCiAgICAgIChmdW5jdGlvbiB1cmxPdmVycmlkZSgpewogICAgICAgIGNvbnN0IGludEtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywncXRDYXAnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnXTsKICAgICAgICBjb25zdCBudW1LZXlzID0gWydtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJ107CiAgICAgICAgY29uc3QgYm9vbEtleXMgPSBbJ3dyYXAnLCdiZ0dyYWRpZW50JywncXQnLCdmbG93Jywnc2hvd0h1ZCddOwogICAgICAgIGNvbnN0IHN0cktleXMgPSBbJ3NoYXBlJywnYmxlbmQnLCdzcGF3biddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBpbnRLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE1hdGgubWF4KC05OTk5OSwgTWF0aC5taW4oOTk5OTksIHBhcnNlSW50KHYpKSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgbnVtS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBOdW1iZXIodik7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgYm9vbEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gcGFyc2VCb29sKHYsIENGR1trXSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2Ygc3RyS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSB2OyB9CiAgICAgICAgY29uc3QgY20gPSBwYXJhbXMuZ2V0KCdjbGlja01vZGUnKTsgaWYgKGNtKSBDRkcuY2xpY2tNb2RlID0gY207CiAgICAgICAgY29uc3QgY21zID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlcycpOyBpZiAoY21zKSBDRkcuY2xpY2tNb2RlcyA9IGNtcy5zcGxpdCgnLCcpOwogICAgICB9KSgpOwoKICAgICAgZnVuY3Rpb24gdXBkYXRlVXJsRnJvbUNmZyhleHRyYT17fSkgewogICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwobG9jYXRpb24uaHJlZik7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2h1ZScsIHBhbGV0dGVIdWUpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdoZWFkZXInLCB0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3ViaGVhZGVyJywgc3VidGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qga2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdxdENhcCcsJ3dyYXAnLCdzaGFwZScsJ2JsZW5kJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnYmdHcmFkaWVudCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MycsJ3F0JywnY2xpY2tNb2RlJywnY2xpY2tNb2RlcycsJ2Zsb3cnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJywnc3Bhd24nLCdzaG93SHVkJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIFN0cmluZyhDRkdba10pKTsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZXMgJiYgQXJyYXkuaXNBcnJheShDRkcuY2xpY2tNb2RlcykpIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdjbGlja01vZGVzJywgQ0ZHLmNsaWNrTW9kZXMuam9pbignLCcpKTsKICAgICAgICBmb3IgKGNvbnN0IFtrLHZdIG9mIE9iamVjdC5lbnRyaWVzKGV4dHJhKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgdik7CiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgJycsIHVybC50b1N0cmluZygpKTsKICAgICAgfQoKICAgICAgY29uc3QgVEFVID0gTWF0aC5QSSAqIDI7CgogICAgICAvLyBDYW52YXMgc2l6aW5nIHdpdGggRFBSCiAgICAgIGxldCBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgICBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcihpbm5lcldpZHRoICogRFBSKTsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihpbm5lckhlaWdodCAqIERQUik7CiAgICAgICAgY3R4LnNldFRyYW5zZm9ybShEUFIsIDAsIDAsIERQUiwgMCwgMCk7CiAgICAgICAgY2xlYXJIYXJkKCk7CiAgICAgIH0KICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKTsKICAgICAgcmVzaXplKCk7CgogICAgICBmdW5jdGlvbiBjbGVhckhhcmQoKSB7CiAgICAgICAgaWYgKENGRy5iZ0dyYWRpZW50KSB7CiAgICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGlubmVyV2lkdGgqMC42NSwgaW5uZXJIZWlnaHQqMC4zNSwgTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuMTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyV2lkdGgqMC41LCBpbm5lckhlaWdodCowLjUsIE1hdGguaHlwb3QoaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuNyk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDEpJTM2MH0gODAlIDEwJSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNSwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MiklMzYwfSA3MCUgOCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgxLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDMpJTM2MH0gNjAlIDYlKWApOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBpbm5lcldpZHRoLCBpbm5lckhlaWdodCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNsYW1wSW50KG4sIGxvLCBoaSwgZmFsbGJhY2spIHsKICAgICAgICBuID0gTnVtYmVyLmlzRmluaXRlKG4pID8gbiA6IGZhbGxiYWNrOwogICAgICAgIHJldHVybiBNYXRoLm1heChsbywgTWF0aC5taW4oaGksIG4pKTsKICAgICAgfQoKICAgICAgLy8gRHJpZnQgYSBodWUgdmFsdWUgdG93YXJkIGEgdGFyZ2V0IG9uIGEgY2lyY3VsYXIgY29sb3Igd2hlZWwKICAgICAgZnVuY3Rpb24gYXBwcm9hY2hIdWUoaCwgdGFyZ2V0LCByYXRlKSB7CiAgICAgICAgLy8gcmF0ZSBpcyAwLi4xIGZyYWN0aW9uIHRvd2FyZCB0YXJnZXQgcGVyIGNhbGwKICAgICAgICBsZXQgZCA9ICgodGFyZ2V0IC0gaCArIDU0MCkgJSAzNjApIC0gMTgwOyAvLyBzaG9ydGVzdCBzaWduZWQgZGVsdGEgWy0xODAsMTgwKQogICAgICAgIHJldHVybiAoaCArIGQgKiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCByYXRlKSkgKyAzNjApICUgMzYwOwogICAgICB9CgogICAgICAvLyBMaWdodHdlaWdodCAyRCB2YWx1ZSBub2lzZSAoZm9yIHBlcmxpbi1saWtlIGRyYWcpCiAgICAgIGxldCBub2lzZVNlZWQgPSAoQkFTRV9IVUUgKiAxNjY0NTI1ICsgMTAxMzkwNDIyMykgJiAweGZmZmZmZmZmOwogICAgICBmdW5jdGlvbiBmcmFjdCh4KXsgcmV0dXJuIHggLSBNYXRoLmZsb29yKHgpOyB9CiAgICAgIGZ1bmN0aW9uIF9yYW5kKGl4LCBpeSl7CiAgICAgICAgY29uc3QgayA9IChpeCAqIDM3NDc2MTM5MyArIGl5ICogNjY4MjY1MjYzICsgbm9pc2VTZWVkKSA+Pj4gMDsKICAgICAgICByZXR1cm4gZnJhY3QoTWF0aC5zaW4oaykgKiA0Mzc1OC41NDUzKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBub2lzZTIoeCwgeSl7CiAgICAgICAgY29uc3QgeGkgPSBNYXRoLmZsb29yKHgpLCB5aSA9IE1hdGguZmxvb3IoeSk7CiAgICAgICAgY29uc3QgeGYgPSB4IC0geGksIHlmID0geSAtIHlpOwogICAgICAgIGNvbnN0IHUgPSB4Zip4ZiooMy0yKnhmKSwgdiA9IHlmKnlmKigzLTIqeWYpOwogICAgICAgIGNvbnN0IHYwMCA9IF9yYW5kKHhpLCB5aSksIHYxMCA9IF9yYW5kKHhpKzEsIHlpKSwgdjAxID0gX3JhbmQoeGksIHlpKzEpLCB2MTEgPSBfcmFuZCh4aSsxLCB5aSsxKTsKICAgICAgICBjb25zdCB4MSA9IHYwMCooMS11KSArIHYxMCp1LCB4MiA9IHYwMSooMS11KSArIHYxMSp1OwogICAgICAgIHJldHVybiB4MSooMS12KSArIHgyKnY7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gcGVybGluVmVjKHgsIHksIHNjYWxlLCBhbXApewogICAgICAgIGNvbnN0IG4gPSBub2lzZTIoeCpzY2FsZSwgeSpzY2FsZSk7CiAgICAgICAgY29uc3QgYSA9IG4gKiBUQVU7CiAgICAgICAgcmV0dXJuIFtNYXRoLmNvcyhhKSphbXAsIE1hdGguc2luKGEpKmFtcF07CiAgICAgIH0KCiAgICAgIC8vIFNlZWRlZCBQUk5HIGZvciBzdWJ0bGUgZGV0ZXJtaW5pc20gZnJvbSBCQVNFX0hVRQogICAgICBsZXQgX3NlZWQgPSAoQkFTRV9IVUUgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwOwogICAgICBmdW5jdGlvbiBybmQoKSB7IF9zZWVkID0gKDExMDM1MTUyNDUgKiBfc2VlZCArIDEyMzQ1KSAmIDB4N2ZmZmZmZmY7IHJldHVybiAoX3NlZWQgPj4+IDgpIC8gMHg3ZmZmZmY7IH0KICAgICAgZnVuY3Rpb24gcmFuZChtaW4sIG1heCkgeyByZXR1cm4gcm5kKCkgKiAobWF4IC0gbWluKSArIG1pbjsgfQoKICAgICAgLy8gRGF0YS1PcmllbnRlZCBTdGF0ZSAoU29BKSDigJQgZHluYW1pYwogICAgICBsZXQgTiA9IENGRy5jb3VudDsKICAgICAgbGV0IHB4LCBweSwgdngsIHZ5LCBheCwgYXksIGh1ZSwgc3BkLCBwcmV2eCwgcHJldnk7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBtb2RpZmllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBzaXplTXVsLCB2Qm9vc3QsIGh1ZU9mZiwgaml0QW1wOwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgc3RlZXJpbmcgbXVsdGlwbGllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBhbGlnbk11bCwgY29oZXNpb25NdWwsIHNlcGFyYXRpb25NdWw7CgogICAgICBmdW5jdGlvbiBhbGxvYyhuKSB7CiAgICAgICAgcHggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBweSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgdnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYXggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBheSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgaHVlID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc3BkID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBwcmV2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHByZXZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBzaXplTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdkJvb3N0ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaHVlT2ZmID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaml0QW1wID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBhbGlnbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGNvaGVzaW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc2VwYXJhdGlvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHNlZWRCb2lkcygpIHsKICAgICAgICBjb25zdCBtb2RlID0gQ0ZHLnNwYXduIHx8ICdyYW5kb20nOwogICAgICAgIGlmIChtb2RlID09PSAnY2lyY2xlJykgewogICAgICAgICAgY29uc3QgY3ggPSBpbm5lcldpZHRoLzIsIGN5ID0gaW5uZXJIZWlnaHQvMiwgciA9IE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KS8zOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgdCA9IE1hdGgucmFuZG9tKCkqTWF0aC5QSSoyOyBweFtpXT1jeCtNYXRoLmNvcyh0KSpyOyBweVtpXT1jeStNYXRoLnNpbih0KSpyOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnZ3JpZCcpIHsKICAgICAgICAgIGNvbnN0IGNvbHM9TWF0aC5tYXgoMTAsIE1hdGguZmxvb3IoTWF0aC5zcXJ0KE4pKSk7IGNvbnN0IHJvd3M9TWF0aC5jZWlsKE4vY29scyk7CiAgICAgICAgICBjb25zdCBneD1pbm5lcldpZHRoLyhjb2xzKzEpLCBneT1pbm5lckhlaWdodC8ocm93cysxKTsgbGV0IGs9MDsKICAgICAgICAgIGZvciAobGV0IHk9MTt5PD1yb3dzO3krKykgZm9yIChsZXQgeD0xO3g8PWNvbHM7eCsrKSB7IGlmIChrPj1OKSBicmVhazsgcHhba109Z3gqeDsgcHlba109Z3kqeTsgdnhba109cmFuZCgtMSwxKTsgdnlba109cmFuZCgtMSwxKTsgaysrOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnY2VudGVyYnVyc3QnKSB7CiAgICAgICAgICBjb25zdCBjeD1pbm5lcldpZHRoLzIsIGN5PWlubmVySGVpZ2h0LzI7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCBhPU1hdGgucmFuZG9tKCkqTWF0aC5QSSoyLCBkPXJhbmQoMCwgTWF0aC5taW4oaW5uZXJXaWR0aCxpbm5lckhlaWdodCkvMik7IHB4W2ldPWN4K01hdGguY29zKGEpKmQ7IHB5W2ldPWN5K01hdGguc2luKGEpKmQ7IHZ4W2ldPU1hdGguY29zKGEpOyB2eVtpXT1NYXRoLnNpbihhKTsgfQogICAgICAgIH0gZWxzZSB7IC8vIHJhbmRvbQogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgcHhbaV09cmFuZCgwLGlubmVyV2lkdGgpOyBweVtpXT1yYW5kKDAsaW5uZXJIZWlnaHQpOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICBjb25zdCBtPU1hdGguaHlwb3QodnhbaV0sdnlbaV0pfHwxOyB2eFtpXSo9Mi4wL207IHZ5W2ldKj0yLjAvbTsKICAgICAgICAgIGh1ZVtpXSA9IChwYWxldHRlSHVlICsgcmFuZCgtMzAsIDMwKSkgJSAzNjA7IHByZXZ4W2ldPXB4W2ldOyBwcmV2eVtpXT1weVtpXTsKICAgICAgICAgIHNpemVNdWxbaV09MDsgdkJvb3N0W2ldPTA7IGh1ZU9mZltpXT0wOyBqaXRBbXBbaV09MDsKICAgICAgICAgIGFsaWduTXVsW2ldPTA7IGNvaGVzaW9uTXVsW2ldPTA7IHNlcGFyYXRpb25NdWxbaV09MDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHJlc2VlZChuKSB7CiAgICAgICAgTiA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IobikpOwogICAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKICAgICAgfQoKICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwoKICAgICAgLy8gUXVhZHRyZWUgaW1wbGVtZW50YXRpb24KICAgICAgY2xhc3MgUVROb2RlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMueCA9IHg7IHRoaXMueSA9IHk7IHRoaXMudyA9IHc7IHRoaXMuaCA9IGg7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsgdGhpcy5jb3VudCA9IDA7IHRoaXMuaWR4ID0gbmV3IEludDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMucHRzeCA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsgdGhpcy5wdHN5ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5kaXZpZGVkID0gZmFsc2U7IHRoaXMuY2hpbGRyZW4gPSBudWxsOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY2xhc3MgUXVhZHRyZWUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy5yb290ID0gbmV3IFFUTm9kZSh4LCB5LCB3LCBoLCBjYXApOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7CiAgICAgICAgfQoKICAgICAgICBpbnNlcnQoaSwgeCwgeSwgbm9kZSA9IHRoaXMucm9vdCkgewogICAgICAgICAgaWYgKHggPCBub2RlLnggfHwgeSA8IG5vZGUueSB8fCB4ID49IG5vZGUueCArIG5vZGUudyB8fCB5ID49IG5vZGUueSArIG5vZGUuaCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgaWYgKG5vZGUuY291bnQgPCBub2RlLmNhcCAmJiAhbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSBub2RlLmNvdW50Kys7IG5vZGUuaWR4W2pdID0gaTsgbm9kZS5wdHN4W2pdID0geDsgbm9kZS5wdHN5W2pdID0geTsgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgdGhpcy5zdWJkaXZpZGUobm9kZSk7CiAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgfQoKICAgICAgICBzdWJkaXZpZGUobm9kZSkgewogICAgICAgICAgbm9kZS5kaXZpZGVkID0gdHJ1ZTsKICAgICAgICAgIGNvbnN0IGh3ID0gbm9kZS53LzIsIGhoID0gbm9kZS5oLzI7CiAgICAgICAgICBub2RlLmNoaWxkcmVuID0gWwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTlcKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5FCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU0UKICAgICAgICAgIF07CiAgICAgICAgICAvLyByZWluc2VydCBleGlzdGluZyBwb2ludHMKICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbm9kZS5jb3VudDsgaysrKSB7CiAgICAgICAgICAgIGNvbnN0IGkgPSBub2RlLmlkeFtrXTsgY29uc3QgeCA9IG5vZGUucHRzeFtrXTsgY29uc3QgeSA9IG5vZGUucHRzeVtrXTsKICAgICAgICAgICAgdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgICB9CiAgICAgICAgICBub2RlLmNvdW50ID0gMDsgLy8gY2xlYXIgbGVhZiBzdG9yYWdlCiAgICAgICAgfQoKICAgICAgICBxdWVyeShjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgdGhpcy5fcXVlcnlOb2RlKHRoaXMucm9vdCwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KICAgICAgICBfcXVlcnlOb2RlKG5vZGUsIGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICAvLyBjaXJjbGUtcmVjdCBxdWljayByZWplY3QKICAgICAgICAgIGNvbnN0IHJ4PW5vZGUueCwgcnk9bm9kZS55LCBydz1ub2RlLncsIHJoPW5vZGUuaDsKICAgICAgICAgIGxldCBueCA9IE1hdGgubWF4KHJ4LCBNYXRoLm1pbihjeCwgcngrcncpKTsKICAgICAgICAgIGxldCBueSA9IE1hdGgubWF4KHJ5LCBNYXRoLm1pbihjeSwgcnkrcmgpKTsKICAgICAgICAgIGNvbnN0IGRpc3QgPSAoY3gtbngpKihjeC1ueCkrKGN5LW55KSooY3ktbnkpOwogICAgICAgICAgaWYgKGRpc3QgPiByKnIpIHJldHVybjsKCiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBmb3IgKGxldCBrPTA7azxub2RlLmNvdW50O2srKykgeyBvdXQucHVzaChub2RlLmlkeFtrXSk7IH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX3F1ZXJ5Tm9kZShub2RlLmNoaWxkcmVuW2NdLCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQoKICAgICAgICBkcmF3KGN0eCkgewogICAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHsocGFsZXR0ZUh1ZSsxODApJTM2MH0gODAlIDcwJSAvIDAuMTQpYDsKICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgdGhpcy5fZHJhd05vZGUoY3R4LCB0aGlzLnJvb3QpOwogICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICAgICAgX2RyYXdOb2RlKGN0eCwgbm9kZSkgewogICAgICAgICAgY3R4LnN0cm9rZVJlY3Qobm9kZS54LCBub2RlLnksIG5vZGUudywgbm9kZS5oKTsKICAgICAgICAgIGlmIChub2RlLmRpdmlkZWQpIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9kcmF3Tm9kZShjdHgsIG5vZGUuY2hpbGRyZW5bY10pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0cwogICAgICBjb25zdCBlZmZlY3RzID0gW107IC8vIHt4LHksdCxsaWZlLHNpZ24sdHlwZSwuLi5leHRyYXN9CiAgICAgIGxldCBtb3VzZURvd24gPSBmYWxzZTsKICAgICAgY29uc3QgcG9pbnRlciA9IHt4OiBpbm5lcldpZHRoLzIsIHk6IGlubmVySGVpZ2h0LzIsIHZ4OiAwLCB2eTogMCwgdDogcGVyZm9ybWFuY2Uubm93KCl9OwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSB0cnVlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsICAgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IGZhbHNlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgLTEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIGlmIChtb3VzZURvd24pIHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKCiAgICAgIGZ1bmN0aW9uIHBpY2tDbGlja1R5cGUoKSB7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGUgJiYgQ0ZHLmNsaWNrTW9kZSAhPT0gJ3JhbmRvbScpIHJldHVybiBDRkcuY2xpY2tNb2RlOwogICAgICAgIGNvbnN0IGxpc3QgPSBDRkcuY2xpY2tNb2RlcyB8fCBbJ3Nob2NrJ107CiAgICAgICAgcmV0dXJuIGxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmxpc3QubGVuZ3RoKV0gfHwgJ3Nob2NrJzsKICAgICAgfQogICAgICBmdW5jdGlvbiBzcGF3bkVmZmVjdCh4LCB5LCBzaWduKSB7CiAgICAgICAgY29uc3QgdHlwZSA9IHBpY2tDbGlja1R5cGUoKTsKICAgICAgICBjb25zdCBsaWZlID0gKHR5cGU9PT0naW1wbG9zaW9uJykgPyAwLjkgOiAodHlwZT09PSd2b3J0ZXgnIHx8IHR5cGU9PT0nbWV0ZW9yJyA/IDEuOCA6IDEuMik7CiAgICAgICAgY29uc3QgRSA9IHsgeCwgeSwgdDogMCwgbGlmZSwgc2lnbiwgdHlwZSB9OwogICAgICAgIGlmICh0eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgIGNvbnN0IHNwID0gTWF0aC5taW4oMywgTWF0aC5oeXBvdChwb2ludGVyLnZ4LCBwb2ludGVyLnZ5KSoxMjApOwogICAgICAgICAgRS5hID0gMiArIE1hdGguZmxvb3Ioc3AlNCk7IEUuYiA9IDMgKyBNYXRoLmZsb29yKChzcCoxLjcpJTQpOyBFLnBoYXNlID0gTWF0aC5yYW5kb20oKSpUQVU7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgY29uc3Qgc2NhbGUgPSA5MDA7IEUudnggPSBwb2ludGVyLnZ4KnNjYWxlOyBFLnZ5ID0gcG9pbnRlci52eSpzY2FsZTsgRS5tYXNzID0gMjIwICsgTWF0aC5yYW5kb20oKSoxODA7IEUuZHJhZz0wLjk4OwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICBFLnNjYWxlID0gMC4wMDYgKyBNYXRoLnJhbmRvbSgpKjAuMDA2OyBFLmFtcCA9IDEuMiArIE1hdGgucmFuZG9tKCkqMS4yOwogICAgICAgIH0KICAgICAgICBlZmZlY3RzLnB1c2goRSk7CiAgICAgIH0KCiAgICAgIC8vIFBoeXNpY3MgaGVscGVycwogICAgICBmdW5jdGlvbiBsaW1pdCh2eCwgdnksIG1heCkgewogICAgICAgIGNvbnN0IG0yID0gdngqdnggKyB2eSp2eTsgaWYgKG0yID4gbWF4Km1heCkgewogICAgICAgICAgY29uc3QgbSA9IE1hdGguc3FydChtMikgfHwgMTsgY29uc3QgcyA9IG1heCAvIG07IHJldHVybiBbdngqcywgdnkqc107CiAgICAgICAgfSByZXR1cm4gW3Z4LCB2eV07CiAgICAgIH0KCiAgICAgIC8vIE1haW4gbG9vcAogICAgICBsZXQgbGFzdCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICBsZXQgZnBzQXZnID0gMDsKICAgICAgZnVuY3Rpb24gZnJhbWUodCkgewogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5taW4oMzIsIHQgLSBsYXN0KSAqIDAuMDAxOyAvLyBjbGFtcAogICAgICAgIGxhc3QgPSB0OwogICAgICAgIGNvbnN0IGZwc05vdyA9IDEgLyBNYXRoLm1heCgxZS02LCBkdCk7CiAgICAgICAgZnBzQXZnID0gZnBzQXZnID8gKGZwc0F2ZyowLjkgKyBmcHNOb3cqMC4xKSA6IGZwc05vdzsKICAgICAgICBjb25zdCBXID0gaW5uZXJXaWR0aCwgSCA9IGlubmVySGVpZ2h0OwoKICAgICAgICAvLyB0cmFpbHM6IHRyYW5zbHVjZW50IGZpbGwKICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJzsKICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIENGRy50cmFpbEFscGhhKSk7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgVywgSCk7CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gQnVpbGQgcXVhZHRyZWUKICAgICAgICBjb25zdCBxdCA9IG5ldyBRdWFkdHJlZSgwLCAwLCBXLCBILCBDRkcucXRDYXApOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSBxdC5pbnNlcnQoaSwgcHhbaV0sIHB5W2ldKTsKCiAgICAgIC8vIEFwcGx5IGZsb2NraW5nIHZpYSBuZWlnaGJvciBxdWVyaWVzIChhZGFwdGl2ZSB2aXNpb24gdW5kZXIgbG9hZCkKICAgICAgY29uc3QgdmlzaW9uID0gQ0ZHLnZpc2lvbiAqIChmcHNBdmcgPCA1MCA/IDAuOSA6IDEuMCk7IGNvbnN0IHNlcCA9IENGRy5zZXA7CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGF4W2ldPTA7IGF5W2ldPTA7IH0KICAgICAgbGV0IHRtcCA9IFtdOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgIHRtcC5sZW5ndGggPSAwOyBxdC5xdWVyeShweFtpXSwgcHlbaV0sIHZpc2lvbiwgdG1wKTsKICAgICAgICAgIGxldCBjeD0wLCBjeT0wLCB2eHN1bT0wLCB2eXN1bT0wLCBzeD0wLCBzeT0wLCB0b3RhbD0wLCBzY2xvc2U9MDsKICAgICAgICAgIGZvciAobGV0IGs9MDtrPHRtcC5sZW5ndGg7aysrKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSB0bXBba107IGlmIChqPT09aSkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGR4ID0gcHhbal0tcHhbaV07IGNvbnN0IGR5ID0gcHlbal0tcHlbaV07CiAgICAgICAgICAgIGNvbnN0IGQyID0gZHgqZHggKyBkeSpkeTsgaWYgKGQyID09PSAwKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChkMik7CiAgICAgICAgICAgIGlmIChkIDwgdmlzaW9uKSB7IHRvdGFsKys7IGN4ICs9IHB4W2pdOyBjeSArPSBweVtqXTsgdnhzdW0gKz0gdnhbal07IHZ5c3VtICs9IHZ5W2pdOyB9CiAgICAgICAgICAgIGlmIChkIDwgc2VwKSB7IHNjbG9zZSsrOyBzeCAtPSBkeC8oZHx8MSk7IHN5IC09IGR5LyhkfHwxKTsgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKHRvdGFsPjApIHsKICAgICAgICAgICAgLy8gYWxpZ25tZW50CiAgICAgICAgICAgIGxldCBheHYgPSAodnhzdW0vdG90YWwpIC0gdnhbaV07IGxldCBheXYgPSAodnlzdW0vdG90YWwpIC0gdnlbaV07CiAgICAgICAgICAgIGNvbnN0IGFsaWduVyA9IENGRy5hbGlnblcgKiAoMSArIChhbGlnbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbYXh2LCBheXZdID0gbGltaXQoYXh2LCBheXYsIENGRy5tYXhGb3JjZSk7CiAgICAgICAgICAgIGF4W2ldICs9IGF4diAqIGFsaWduVzsgYXlbaV0gKz0gYXl2ICogYWxpZ25XOwogICAgICAgICAgICAvLyBjb2hlc2lvbgogICAgICAgICAgICBsZXQgY3h2ID0gKGN4L3RvdGFsIC0gcHhbaV0pOyBsZXQgY3l2ID0gKGN5L3RvdGFsIC0gcHlbaV0pOwogICAgICAgICAgICBjb25zdCBjb2hXID0gQ0ZHLmNvaGVzaW9uVyAqICgxICsgKGNvaGVzaW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtjeHYsIGN5dl0gPSBsaW1pdChjeHYsIGN5diwgQ0ZHLm1heEZvcmNlKTsgYXhbaV0gKz0gY3h2ICogY29oVzsgYXlbaV0gKz0gY3l2ICogY29oVzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChzY2xvc2U+MCkgewogICAgICAgICAgICBsZXQgc3h2ID0gc3g7IGxldCBzeXYgPSBzeTsgW3N4diwgc3l2XSA9IGxpbWl0KHN4diwgc3l2LCBDRkcubWF4Rm9yY2UqMS41KTsKICAgICAgICAgICAgY29uc3Qgc2VwVyA9IENGRy5zZXBhcmF0aW9uVyAqICgxICsgKHNlcGFyYXRpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgYXhbaV0gKz0gc3h2ICogc2VwVzsgYXlbaV0gKz0gc3l2ICogc2VwVzsKICAgICAgICAgIH0KICAgICAgICAvLyBvcHRpb25hbCBmbG93IGZpZWxkIGZvciBwYXR0ZXJuIHZhcmlldHkKICAgICAgICBpZiAoQ0ZHLmZsb3cpIHsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuZmxvd1NjYWxlIHx8IDAuMDA0OyBjb25zdCBhID0gQ0ZHLmZsb3dBbXAgfHwgMC42OyBjb25zdCBzcCA9IENGRy5mbG93U3BlZWQgfHwgMC42OwogICAgICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKSowLjAwMSpzcDsKICAgICAgICAgIGNvbnN0IGZ4ID0gTWF0aC5zaW4ocHlbaV0qcyArIHQwKSAqIGE7CiAgICAgICAgICBjb25zdCBmeSA9IE1hdGguY29zKHB4W2ldKnMgLSB0MCkgKiBhOwogICAgICAgICAgYXhbaV0gKz0gZng7IGF5W2ldICs9IGZ5OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0czogfjIwKyBtb2RlcyBpbmNsdWRpbmcgcGVybGluRHJhZywgbGlzc2FQdWxzZSwgbWV0ZW9yCiAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcic7CiAgICAgIGxldCB0bXAyID0gW107CiAgICAgIGZvciAobGV0IGU9ZWZmZWN0cy5sZW5ndGgtMTsgZT49MDsgZS0tKSB7CiAgICAgICAgY29uc3QgRSA9IGVmZmVjdHNbZV07IEUudCArPSBkdDsgY29uc3QgayA9IEUudCAvIEUubGlmZTsKICAgICAgICBjb25zdCByID0gMzAgKyBrICogMjYwOyBjb25zdCBzdHIgPSAxLjAgLSBrOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7IEUueCArPSAoRS52eHx8MCkqZHQ7IEUueSArPSAoRS52eXx8MCkqZHQ7IEUudnggKj0gKEUuZHJhZ3x8MSk7IEUudnkgKj0gKEUuZHJhZ3x8MSk7IEUubWFzcyAqPSAwLjk4NTsgfQogICAgICAgIHRtcDIubGVuZ3RoID0gMDsgcXQucXVlcnkoRS54LCBFLnksIHIsIHRtcDIpOwogICAgICAgIGZvciAobGV0IGlpPTA7IGlpPHRtcDIubGVuZ3RoOyBpaSsrKSB7CiAgICAgICAgICBjb25zdCBpID0gdG1wMltpaV07IGNvbnN0IGR4ID0gcHhbaV0tRS54OyBjb25zdCBkeSA9IHB5W2ldLUUueTsgY29uc3QgZCA9IE1hdGguaHlwb3QoZHgsIGR5KXx8MTsKICAgICAgICAgIGNvbnN0IGZhbGwgPSAoMSAtIE1hdGgubWluKDEsIGQvcikpOwogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICAgIGNvbnN0IHYgPSBwZXJsaW5WZWMocHhbaV0tRS54LCBweVtpXS1FLnksIEUuc2NhbGV8fDAuMDA4LCAoRS5hbXB8fDEuNSkgKiBmYWxsKTsKICAgICAgICAgICAgYXhbaV0gKz0gdlswXTsgYXlbaV0gKz0gdlsxXTsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIoZHksIGR4KTsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKEUuYSphbmcgKyBFLnBoYXNlKSAqIE1hdGguY29zKEUuYiphbmcgLSBFLnBoYXNlKTsKICAgICAgICAgICAgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgICAgY29uc3QgRyA9IDgwMDsgY29uc3QgZiA9IE1hdGgubWluKDMuMCwgKEcqKEUubWFzc3x8MjAwKSkvKChkKmQpKzIwMCkpOwogICAgICAgICAgICBheFtpXSAtPSAoZHgvZCkqZipmYWxsOyBheVtpXSAtPSAoZHkvZCkqZipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICd2b3J0ZXgnIHx8IEUudHlwZT09PSdvcmJpdENXJyB8fCBFLnR5cGU9PT0nb3JiaXRDQ1cnIHx8IEUudHlwZT09PSdzcGlyYWxPdXQnIHx8IEUudHlwZT09PSdzcGlyYWxJbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdvcmJpdENDVycpID8gLTEgOiAxOwogICAgICAgICAgICBjb25zdCB0eCA9IC1keS9kLCB0eSA9IGR4L2Q7IGxldCBzID0gKEUuc2lnbj4wPzE6LTEpICogMS4yICogZmFsbCAqIGRpcjsKICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxPdXQnKSB7IHMgPSAxLjIqZmFsbDsgYXhbaV0gKz0gKGR4L2QpKmZhbGwqMC44OyBheVtpXSArPSAoZHkvZCkqZmFsbCowLjg7IH0KICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxJbicpIHsgcyA9IC0xLjIqZmFsbDsgYXhbaV0gLT0gKGR4L2QpKmZhbGwqMC42OyBheVtpXSAtPSAoZHkvZCkqZmFsbCowLjY7IH0KICAgICAgICAgICAgYXhbaV0gKz0gdHgqczsgYXlbaV0gKz0gdHkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdpbXBsb3Npb24nIHx8IEUudHlwZT09PSdhdHRyYWN0JyB8fCBFLnR5cGU9PT0nbWFnbmV0JykgewogICAgICAgICAgICBjb25zdCBzID0gKEUudHlwZT09PSdpbXBsb3Npb24nID8gLTIuMiA6IC0xLjIpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzcHJheScgfHwgRS50eXBlPT09J3NjYXR0ZXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAoRS50eXBlPT09J3NjYXR0ZXInPzMuMDoyLjQpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICB2eFtpXSArPSAoZHgvZCkgKiAwLjI1ICogZmFsbDsgdnlbaV0gKz0gKGR5L2QpICogMC4yNSAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjE1KmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3N0dW4nIHx8IEUudHlwZT09PSdmcmVlemUnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAoRS50eXBlPT09J2ZyZWV6ZSc/MC42OjAuMykgKiBmYWxsOyBzaXplTXVsW2ldICs9IDAuMypmYWxsOyB2eFtpXSAqPSAwLjk2OyB2eVtpXSAqPSAwLjk2OwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdmZWFyJykgewogICAgICAgICAgICBjb25zdCBzID0gMi44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBqaXRBbXBbaV0gKz0gMC4yNSpmYWxsOyBodWVPZmZbaV0gKz0gODAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2NyYW1ibGUnKSB7CiAgICAgICAgICAgIHZ4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgdnlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyBqaXRBbXBbaV0gKz0gMC4zKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3B1bHNlJyB8fCBFLnR5cGU9PT0ncmlwcGxlJykgewogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oaypNYXRoLlBJKjIpOyBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldICs9IDAuOCAqIGZhbGw7IHNlcGFyYXRpb25NdWxbaV0gLT0gMC4zICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZGVhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gLT0gMC44ICogZmFsbDsgY29oZXNpb25NdWxbaV0gKz0gMC4yICogZmFsbDsgaml0QW1wW2ldICs9IDAuMSAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2NvaGVyZScgfHwgRS50eXBlPT09J3RpZ2h0ZW4nIHx8IEUudHlwZT09PSdsb29zZW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nbG9vc2VuJykgPyAtMSA6IDE7IC8vIGxvb3NlbiByZWR1Y2VzIGNvaGVzaW9uCiAgICAgICAgICAgIGNvaGVzaW9uTXVsW2ldICs9IGRpciAqIDAuOSAqIGZhbGw7IGlmIChkaXI+MCkgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjIgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzZXBhcmF0ZScgfHwgRS50eXBlPT09J2Rpc3BlcnNlJykgewogICAgICAgICAgICBzZXBhcmF0aW9uTXVsW2ldICs9IDEuMCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldIC09IDAuNCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3dhcnAnIHx8IEUudHlwZT09PSdzcGVlZHVwJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGh1ZU9mZltpXSArPSA0MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzbG93ZG93bicpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IDAuNSpmYWxsOyBodWVPZmZbaV0gLT0gMjAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZ3JvdycpIHsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjYqZmFsbDsgaHVlT2ZmW2ldICs9IDMwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3R1bm5lbCcpIHsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gciowLjc7IGNvbnN0IHMgPSAoZDx0YXJnZXQ/KzE6LTEpICogMS4yICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdqaXR0ZXJidXJzdCcpIHsKICAgICAgICAgICAgaml0QW1wW2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjaHJvbWFidXJzdCcpIHsKICAgICAgICAgICAgaHVlT2ZmW2ldICs9IDE2MCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzaG9jayAvIGRlZmF1bHQKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8rMTotMSkgKiAxLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGdlbmVyYWwgY29sb3IgZW5lcmd5CiAgICAgICAgICBodWVbaV0gPSAoaHVlW2ldICsgOTAgKiBmYWxsKSAlIDM2MDsKICAgICAgICB9CiAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChFLngsIEUueSwgTWF0aC5tYXgoMSwgciowLjYpLCBFLngsIEUueSwgcik7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsyMCklMzYwfSwgOTUlLCA3MCUsICR7MC4zNCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzYwKSUzNjB9LCA5NSUsIDYwJSwgJHswLjIyKnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjk1LCBgaHNsYSgkeyhwYWxldHRlSHVlKzEwMCklMzYwfSwgOTUlLCA1NSUsIDApYCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHtwYWxldHRlSHVlfSwgOTUlLCA2NSUsICR7MC4yNSpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzQwKSUzNjB9LCA5NSUsIDU1JSwgJHswLjE4KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjksIGBoc2xhKCR7KHBhbGV0dGVIdWUrODApJTM2MH0sIDk1JSwgNjAlLCAwKWApOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKEUueCwgRS55LCByLCAwLCBNYXRoLlBJKjIpOyBjdHguZmlsbCgpOwogICAgICAgIGlmIChrID49IDEpIGVmZmVjdHMuc3BsaWNlKGUsIDEpOwogICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gSW50ZWdyYXRlIGFuZCBkcmF3IGJvaWRzIHdpdGggZ2xvdyBhbmQgdHJhaWxzCiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IENGRy5ibGVuZDsKICAgICAgY3R4LmxpbmVXaWR0aCA9IENGRy5saW5lV2lkdGg7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIC8vIGludGVncmF0ZQogICAgICAgICAgaWYgKGppdEFtcFtpXSA+IDAuMDAwMSkgeyBheFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyBheVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyB9CiAgICAgICAgICB2eFtpXSArPSBheFtpXTsgdnlbaV0gKz0gYXlbaV07CiAgICAgICAgICBjb25zdCB2TWF4ID0gQ0ZHLm1heFNwZWVkICogKDEgKyBNYXRoLm1heCgtMC43LCB2Qm9vc3RbaV0pKjAuOCk7CiAgICAgICAgICBbdnhbaV0sIHZ5W2ldXSA9IGxpbWl0KHZ4W2ldLCB2eVtpXSwgdk1heCk7CiAgICAgICAgICAvLyBlbmZvcmNlIG1pbiBzcGVlZCAod2l0aCBib29zdCkKICAgICAgICAgIHsgY29uc3Qgc3AgPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSkgfHwgMTsgY29uc3Qgdk1pbiA9IENGRy5taW5TcGVlZCAqICgxICsgTWF0aC5tYXgoMCwgdkJvb3N0W2ldKSowLjUpOyBpZiAoc3AgPCB2TWluKSB7IGNvbnN0IHMgPSB2TWluIC8gc3A7IHZ4W2ldICo9IHM7IHZ5W2ldICo9IHM7IH0gfQogICAgICAgICAgcHJldnhbaV0gPSBweFtpXTsgcHJldnlbaV0gPSBweVtpXTsKICAgICAgICAgIHB4W2ldICs9IHZ4W2ldOyBweVtpXSArPSB2eVtpXTsKCiAgICAgICAgICAvLyBib3VuZGFyaWVzCiAgICAgICAgICBpZiAoQ0ZHLndyYXApIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgLTUpIHB4W2ldID0gVyArIDU7IGVsc2UgaWYgKHB4W2ldID4gVys1KSBweFtpXSA9IC01OwogICAgICAgICAgICBpZiAocHlbaV0gPCAtNSkgcHlbaV0gPSBIICsgNTsgZWxzZSBpZiAocHlbaV0gPiBIKzUpIHB5W2ldID0gLTU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAocHhbaV0gPCAwIHx8IHB4W2ldID4gVykgeyB2eFtpXSA9IC12eFtpXTsgfQogICAgICAgICAgICBpZiAocHlbaV0gPCAwIHx8IHB5W2ldID4gSCkgeyB2eVtpXSA9IC12eVtpXTsgfQogICAgICAgICAgICBweFtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKFcsIHB4W2ldKSk7CiAgICAgICAgICAgIHB5W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oSCwgcHlbaV0pKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBkZWNheSBtb2RpZmllcnMgYW5kIGNvbXB1dGUgdGludAogICAgICAgICAgdkJvb3N0W2ldICo9IDAuOTI7IHNpemVNdWxbaV0gKj0gMC45MDsgaHVlT2ZmW2ldICo9IDAuOTQ7IGppdEFtcFtpXSAqPSAwLjg4OwogICAgICAgICAgYWxpZ25NdWxbaV0gKj0gMC45NDsgY29oZXNpb25NdWxbaV0gKj0gMC45NDsgc2VwYXJhdGlvbk11bFtpXSAqPSAwLjk0OwogICAgICAgICAgLy8gc2xvd2x5IGRyaWZ0IGJvaWQgaHVlIGJhY2sgdG93YXJkIGJhc2UgcGFsZXR0ZSBodWUKICAgICAgICAgIGh1ZVtpXSA9IGFwcHJvYWNoSHVlKGh1ZVtpXSwgcGFsZXR0ZUh1ZSwgTWF0aC5taW4oMSwgZHQgKiAoQ0ZHLmh1ZVJlbGF4IHx8IDAuMikpKTsKICAgICAgICAgIHNwZFtpXSA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKTsKICAgICAgICAgIGNvbnN0IEwgPSA1MCArIE1hdGgubWluKDQ1LCBzcGRbaV0qOCk7CiAgICAgICAgICBjb25zdCBTID0gODAgKyBNYXRoLm1pbigyMCwgc3BkW2ldKjYpOwogICAgICAgICAgY29uc3QgZHJhd0h1ZSA9IChodWVbaV0gKyBodWVPZmZbaV0pICUgMzYwOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgke2RyYXdIdWV9LCAke1N9JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IGBoc2woJHtkcmF3SHVlfSwgOTAlLCA2MCUpYDsKICAgICAgICAgIGNvbnN0IGdsb3dRdWFsaXR5ID0gKGZwc0F2ZyA8IDUwID8gMC41IDogMS4wKTsKICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gZ2xvd1F1YWxpdHkgKiAoQ0ZHLmdsb3dCYXNlICsgTWF0aC5taW4oQ0ZHLmdsb3dNYXgsIHNwZFtpXSpDRkcuZ2xvd1NjYWxlKSk7CgogICAgICAgICAgLy8gdHJhaWwgc2VnbWVudAogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY3R4Lm1vdmVUbyhwcmV2eFtpXSwgcHJldnlbaV0pOwogICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSwgcHlbaV0pOwogICAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICAgIC8vIGJvaWQgaGVhZCBzaGFwZQogICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMih2eVtpXSwgdnhbaV0pOwogICAgICAgICAgY29uc3QgY2EgPSBNYXRoLmNvcyhhbmcpLCBzYSA9IE1hdGguc2luKGFuZyk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYGhzbCgke2h1ZVtpXX0sIDk1JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuY29tZXRTaXplICogKDEgKyAoc2l6ZU11bFtpXXx8MCkpOwogICAgICAgICAgaWYgKENGRy5zaGFwZSA9PT0gJ3RyaWFuZ2xlJykgewogICAgICAgICAgICBjb25zdCBDMjYgPSAwLjg1Njg4ODc1MywgUzI2ID0gMC41MTU0OTg7IC8vIGNvcy9zaW4oMi42KQogICAgICAgICAgICBjb25zdCB4MCA9IHB4W2ldICsgY2EqcyoxLjYsIHkwID0gcHlbaV0gKyBzYSpzKjEuNjsKICAgICAgICAgICAgY29uc3QgY2FfcCA9IGNhKkMyNiAtIHNhKlMyNiwgc2FfcCA9IHNhKkMyNiArIGNhKlMyNjsKICAgICAgICAgICAgY29uc3QgY2FfbSA9IGNhKkMyNiArIHNhKlMyNiwgc2FfbSA9IHNhKkMyNiAtIGNhKlMyNjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4MCwgeTApOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcCpzLCAgcHlbaV0gKyBzYV9wKnMpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbSpzLCAgcHlbaV0gKyBzYV9tKnMpOwogICAgICAgICAgfSBlbHNlIGlmIChDRkcuc2hhcGUgPT09ICdvcmInKSB7CiAgICAgICAgICAgIGN0eC5hcmMocHhbaV0sIHB5W2ldLCBzKjAuNiwgMCwgTWF0aC5QSSoyKTsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNwYXJrCiAgICAgICAgICAgIGNvbnN0IEMwMiA9IDAuOTgwMDY2NiwgUzAyID0gMC4xOTg2NjkzOyAvLyBjb3Mvc2luKDAuMikKICAgICAgICAgICAgY29uc3QgeGggPSBweFtpXSArIGNhKnMqMS44LCB5aCA9IHB5W2ldICsgc2EqcyoxLjg7CiAgICAgICAgICAgIGNvbnN0IGNhX3AwMiA9IGNhKkMwMiAtIHNhKlMwMiwgc2FfcDAyID0gc2EqQzAyICsgY2EqUzAyOwogICAgICAgICAgICBjb25zdCBjYV9tMDIgPSBjYSpDMDIgKyBzYSpTMDIsIHNhX20wMiA9IHNhKkMwMiAtIGNhKlMwMjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4aCwgeWgpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcDAyKnMqMC42LCAgcHlbaV0gKyBzYV9wMDIqcyowLjYpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbTAyKnMqMC42LCAgcHlbaV0gKyBzYV9tMDIqcyowLjYpOwogICAgICAgICAgfQogICAgICAgICAgY3R4LmNsb3NlUGF0aCgpOyBjdHguZmlsbCgpOwogICAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBRdWFkdHJlZSB2aXN1YWxpemF0aW9uIChkZWZhdWx0IG9uKQogICAgICAgIGlmIChDRkcucXQpIHF0LmRyYXcoY3R4KTsKCiAgICAgICAgLy8gSFVECiAgICAgICAgaHVkRWwuaW5uZXJIVE1MID0gYDxzdHJvbmc+Qm9pZHM8L3N0cm9uZz4gwrcgTj0ke059IHZpc2lvbj0ke0NGRy52aXNpb259IHNlcD0ke0NGRy5zZXB9IGAgKwogICAgICAgICAgYMK3IHF0Q2FwPSR7Q0ZHLnF0Q2FwfSDCtyBodWU9JHtwYWxldHRlSHVlfSDCtyBxdFZpej0ke0NGRy5xdD8nb24nOidvZmYnfSDCtyBjbGljaz0ke0NGRy5jbGlja01vZGV9IMK3IGZwcz0ke2Zwc0F2Zy50b0ZpeGVkKDApfWA7CgogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CiAgICAgIH0KICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKCiAgICAgIC8vIENvbmZpZyBVSSBidWlsZCBhbmQgd2lyaW5nCiAgICAgIGNvbnN0IGNmZ0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdCdG4nKTsKICAgICAgY29uc3QgY2ZnQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQ2xvc2UnKTsKICAgICAgY29uc3QgY2ZnUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnJyk7CiAgICAgIGNvbnN0IGNmZ0JvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnQm9keScpOwogICAgICBjZmdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpKTsKICAgICAgY2ZnQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsJycpKTsKCiAgICAgIGNvbnN0IHNjaGVtYSA9IFsKICAgICAgICB7a2V5OidodWUnLCBsYWJlbDonSHVlJywgdHlwZTonaW50JywgbWluOjAsIG1heDozNjAsIHN0ZXA6MSwgdmFsdWU6QkFTRV9IVUV9LAogICAgICAgIHtrZXk6J2hlYWRlcicsIGxhYmVsOidIZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6SEVBREVSfSwKICAgICAgICB7a2V5OidzdWJoZWFkZXInLCBsYWJlbDonU3ViaGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOlNVQkhFQURFUn0sCiAgICAgICAge2tleToncXQnLCBsYWJlbDonU2hvdyBRdWFkdHJlZScsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaG93SHVkJywgbGFiZWw6J1Nob3cgSFVEJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NwYXduJywgbGFiZWw6J1NwYXduJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ2NpcmNsZScsJ2dyaWQnLCdjZW50ZXJidXJzdCddfSwKICAgICAgICB7a2V5Oidjb3VudCcsIGxhYmVsOidDb3VudCcsIHR5cGU6J2ludCcsIG1pbjo1MCwgbWF4OjEwMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTondmlzaW9uJywgbGFiZWw6J1Zpc2lvbicsIHR5cGU6J2ludCcsIG1pbjoyMCwgbWF4OjIwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidzZXAnLCBsYWJlbDonU2VwYXJhdGlvbiBEaXN0JywgdHlwZTonaW50JywgbWluOjQsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidtYXhTcGVlZCcsIGxhYmVsOidNYXggU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4xLCBtYXg6MTIsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtaW5TcGVlZCcsIGxhYmVsOidNaW4gU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4wLCBtYXg6Niwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21heEZvcmNlJywgbGFiZWw6J01heCBTdGVlcmluZyBGb3JjZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMSwgbWF4OjAuNSwgc3RlcDowLjAwMX0sCiAgICAgICAge2tleTonYWxpZ25XJywgbGFiZWw6J0FsaWduIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oidjb2hlc2lvblcnLCBsYWJlbDonQ29oZXNpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3NlcGFyYXRpb25XJywgbGFiZWw6J1NlcGFyYXRpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3RyYWlsQWxwaGEnLCBsYWJlbDonVHJhaWwgQWxwaGEnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjEsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleToncXRDYXAnLCBsYWJlbDonUXVhZHRyZWUgQ2FwYWNpdHknLCB0eXBlOidpbnQnLCBtaW46MiwgbWF4OjMyLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3dyYXAnLCBsYWJlbDonV3JhcCBCb3VuZHMnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hhcGUnLCBsYWJlbDonU2hhcGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsndHJpYW5nbGUnLCdzcGFyaycsJ29yYiddfSwKICAgICAgICB7a2V5OidibGVuZCcsIGxhYmVsOidCbGVuZCcsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydsaWdodGVyJywnc2NyZWVuJywnb3ZlcmxheScsJ3BsdXMtbGlnaHRlciddfSwKICAgICAgICB7a2V5OidsaW5lV2lkdGgnLCBsYWJlbDonTGluZSBXaWR0aCcsIHR5cGU6J251bWJlcicsIG1pbjowLjIsIG1heDo0LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonZ2xvd0Jhc2UnLCBsYWJlbDonR2xvdyBCYXNlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo2MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93TWF4JywgbGFiZWw6J0dsb3cgTWF4JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93U2NhbGUnLCBsYWJlbDonR2xvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NDAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5Oidjb21ldFNpemUnLCBsYWJlbDonQ29tZXQgU2l6ZScsIHR5cGU6J251bWJlcicsIG1pbjoxLCBtYXg6MjAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidiZ0dyYWRpZW50JywgbGFiZWw6J0JHIEdyYWRpZW50JywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQxJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAxJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDInLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDInLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MycsIGxhYmVsOidCRyBIdWUgU2hpZnQgMycsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2Zsb3cnLCBsYWJlbDonRmxvdyBGaWVsZCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidmbG93QW1wJywgbGFiZWw6J0Zsb3cgQW1wJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTY2FsZScsIGxhYmVsOidGbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAwNSwgbWF4OjAuMDIsIHN0ZXA6MC4wMDA1fSwKICAgICAgICB7a2V5OidmbG93U3BlZWQnLCBsYWJlbDonRmxvdyBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6Mywgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidjbGlja01vZGUnLCBsYWJlbDonQ2xpY2sgTW9kZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5J119LAogICAgICBdOwoKICAgICAgZnVuY3Rpb24gbWFrZVJvdyhsYWJlbCwgaW5wdXQpIHsKICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgcm93LmNsYXNzTmFtZSA9ICdyb3cnOwogICAgICAgIGNvbnN0IGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOyBsLnRleHRDb250ZW50ID0gbGFiZWw7IHJvdy5hcHBlbmRDaGlsZChsKTsKICAgICAgICByb3cuYXBwZW5kQ2hpbGQoaW5wdXQpOyByZXR1cm4gcm93OwogICAgICB9CgogICAgICBmdW5jdGlvbiBhZGRJbnB1dChpdGVtKSB7CiAgICAgICAgbGV0IGlucHV0OwogICAgICAgIGNvbnN0IHYwID0gKGl0ZW0ua2V5IGluIENGRykgPyBDRkdbaXRlbS5rZXldIDogaXRlbS52YWx1ZTsKICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vbCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0nY2hlY2tib3gnOyBpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LmNoZWNrZWQ7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzZWxlY3QnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpOwogICAgICAgICAgZm9yIChjb25zdCBvcHQgb2YgaXRlbS5vcHRpb25zKSB7IGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsgby52YWx1ZT1vcHQ7IG8udGV4dENvbnRlbnQ9b3B0OyBpZiAob3B0PT09djApIG8uc2VsZWN0ZWQ9dHJ1ZTsgaW5wdXQuYXBwZW5kQ2hpbGQobyk7IH0KICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQudmFsdWU7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSd0ZXh0JzsgaW5wdXQudmFsdWUgPSBTdHJpbmcodjB8fCcnKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpZiAoaXRlbS5rZXk9PT0naGVhZGVyJykgeyB0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmtleT09PSdzdWJoZWFkZXInKSB7IHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIGlucHV0LnZhbHVlKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmtleSA9PT0gJ2h1ZScpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5taW49JzAnOyBpbnB1dC5tYXg9JzM2MCc7IGlucHV0LnN0ZXA9JzEnOyBpbnB1dC52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5taW49JzAnOyBudW1iZXIubWF4PSczNjAnOyBudW1iZXIuc3RlcD0nMSc7IG51bWJlci52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZT1pbnB1dC52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWU9bnVtYmVyLnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBodWVDaGFuZ2VkKHZhbCl7CiAgICAgICAgICAgIC8vIHNoaWZ0IHBhbGV0dGUgaW1tZWRpYXRlbHkKICAgICAgICAgICAgY29uc3QgZGVsdGEgPSAodmFsIC0gcGFsZXR0ZUh1ZSk7CiAgICAgICAgICAgIHBhbGV0dGVIdWUgPSB2YWw7CiAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGh1ZVtpXSA9IChodWVbaV0gKyBkZWx0YSkgJSAzNjA7IH0KICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHt2YWx9LCA4NSUsIDYyJSlgKTsKICAgICAgICAgICAgdXBkYXRlVXJsRnJvbUNmZyh7aHVlOlN0cmluZyh2YWwpfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsgLy8gbnVtZXJpYyAocmFuZ2UgKyBudW1iZXIgcGFpcikKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBpbnB1dC5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBpbnB1dC5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgbnVtYmVyLm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIG51bWJlci5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGlucHV0LnZhbHVlID0gU3RyaW5nKHYwKTsgbnVtYmVyLnZhbHVlID0gU3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWUgPSBpbnB1dC52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZSA9IG51bWJlci52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBudW1DaGFuZ2VkKHZhbCl7IENGR1tpdGVtLmtleV0gPSB2YWw7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCB2YWwpOyB9CiAgICAgICAgfQogICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCBpbnB1dCkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBhcHBseUNoYW5nZShrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSA9PT0gJ2NvdW50JyB8fCBrZXkgPT09ICdzcGF3bicpIHsgcmVzZWVkKENGRy5jb3VudCk7IH0KICAgICAgICBpZiAoa2V5ID09PSAncXQnKSB7IC8qIGltbWVkaWF0ZSBkcmF3IHRvZ2dsZSB2aWEgQ0ZHICovIH0KICAgICAgICBpZiAoa2V5ID09PSAnc2hvd0h1ZCcpIHsgaHVkRWwuc3R5bGUuZGlzcGxheSA9IENGRy5zaG93SHVkID8gJycgOiAnbm9uZSc7IH0KICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKCk7CiAgICAgIH0KCiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzY2hlbWEpIGFkZElucHV0KGl0ZW0pOwogICAgICAvLyBpbml0aWFsIEhVRCB2aXNpYmlsaXR5CiAgICAgIGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSAoQ0ZHLnNob3dIdWQ9PT1mYWxzZSkgPyAnbm9uZScgOiAnJzsKCiAgICAgIC8vIGtleWJvYXJkIHRvZ2dsZXMgKGFmdGVyIGJ1aWxkaW5nIHBhbmVsKQogICAgICBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHsKICAgICAgICBjb25zdCBrID0gZS5rZXkudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoayA9PT0gJ3EnKSB7IENGRy5xdCA9ICFDRkcucXQ7IHVwZGF0ZVVybEZyb21DZmcoKTsgfQogICAgICAgIGlmIChrID09PSAnYycpIHsgY2ZnUGFuZWwudG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nKTsgfQogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4K" download="boids-dod-quadtree-8-impl.html" class="download-btn" title="Download boids-dod-quadtree-8-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=275 · spawn=centerburst · bounce · triangle · lighter · hue=198 · qtCap=12" data-filename="boids-dod-quadtree-1-impl.html"><a href="boids-dod-quadtree-1-impl.html" target="viewer"><strong>Boids DOD+QT · N=275 · spawn=centerburst · bounce · triangle · lighter · hue=198 · qtCap=12</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTI3NSDCtyBzcGF3bj1jZW50ZXJidXJzdCDCtyBib3VuY2UgwrcgdHJpYW5nbGUgwrcgbGlnaHRlciDCtyBodWU9MTk4IMK3IHF0Q2FwPTEyPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgaHRtbCwgYm9keSB7IGhlaWdodDogMTAwJTsgbWFyZ2luOiAwOyB9CiAgICAgIGJvZHkgewogICAgICAgIGJhY2tncm91bmQ6ICMwNTA3MGE7CiAgICAgICAgY29sb3I6ICNlNmVkZjM7CiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICBmb250LWZhbWlseTogdWktc2Fucy1zZXJpZiwgc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBTZWdvZSBVSSwgUm9ib3RvLCBIZWx2ZXRpY2EsIEFyaWFsLCAiQXBwbGUgQ29sb3IgRW1vamkiLCAiU2Vnb2UgVUkgRW1vamkiOwogICAgICB9CiAgICAgICNzY2VuZSB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMTAwdnc7IGhlaWdodDogMTAwdmg7IH0KICAgICAgLm92ZXJsYXkgeyBwb3NpdGlvbjogZml4ZWQ7IGluc2V0OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmciBhdXRvOyB9CiAgICAgIC50aXRsZSB7IG1hcmdpbjogMThweCAyMHB4IDJweDsgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1zaXplOiBjbGFtcCgxOHB4LCAzdncsIDI4cHgpOyBsZXR0ZXItc3BhY2luZzogMC4ycHg7IGNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyB0ZXh0LXNoYWRvdzogMCAwIDEwcHggY29sb3ItbWl4KGluIG9rbGFiLCB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpIDgwJSwgIzAwMCAyMCUpOyB9CiAgICAgIC5zdWJ0aXRsZSB7IG1hcmdpbjogMCAyMHB4IDEwcHg7IGZvbnQtd2VpZ2h0OiA1MDA7IGZvbnQtc2l6ZTogY2xhbXAoMTJweCwgMnZ3LCAxNnB4KTsgb3BhY2l0eTogMC44NTsgfQogICAgICAuaHVkIHsgcG9zaXRpb246IGZpeGVkOyBsZWZ0OiAxMnB4OyBib3R0b206IDEycHg7IHBhZGRpbmc6IDhweCAxMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNDA7IGJhY2tncm91bmQ6ICMwYjEyMjBjYzsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDhweCkgc2F0dXJhdGUoMTIwJSk7IGZvbnQtc2l6ZTogMTJweDsgbGluZS1oZWlnaHQ6IDEuNDsgfQogICAgICAuaHVkIHN0cm9uZyB7IGNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyB9CiAgICAgIC5jZmdCdG4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMTJweDsgcmlnaHQ6IDEycHg7IHotaW5kZXg6IDEwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDZweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnUGFuZWwgeyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogNTZweDsgcmlnaHQ6IDEycHg7IHdpZHRoOiBtaW4oMzgwcHgsIDkwdncpOyBtYXgtaGVpZ2h0OiA4MHZoOyBvdmVyZmxvdzogYXV0bzsgei1pbmRleDogMjA7IHBvaW50ZXItZXZlbnRzOiBhdXRvOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZTY7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGJveC1zaGFkb3c6IDAgMTBweCA0MHB4ICMwMDA4OyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCkgc2F0dXJhdGUoMTIwJSk7IH0KICAgICAgLmNvbmZpZ0hlYWRlciB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgcGFkZGluZzogMTBweCAxMnB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMDAwMDU1OyBwb3NpdGlvbjogc3RpY2t5OyB0b3A6IDA7IGJhY2tncm91bmQ6ICMwYjEyMjBmMjsgfQogICAgICAuY29uZmlnQm9keSB7IHBhZGRpbmc6IDEwcHggMTJweDsgZGlzcGxheTogZ3JpZDsgZ2FwOiAxMHB4OyB9CiAgICAgIC5jb25maWdCb2R5IC5yb3cgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciBhdXRvOyBnYXA6IDhweDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgfQogICAgICAuY29uZmlnQm9keSAucmFuZ2VSb3cgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA3MnB4OyBnYXA6IDhweDsgfQogICAgICAuY2ZnQ2xvc2UgeyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJhY2tncm91bmQ6ICMxMjFhMmJjYzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlci1yYWRpdXM6IDZweDsgcGFkZGluZzogNHB4IDhweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgIC5jb25maWdCb2R5IGlucHV0LCAuY29uZmlnQm9keSBzZWxlY3QgeyBmb250LXNpemU6IDE0cHg7IHBhZGRpbmc6IDZweCA4cHg7IGJhY2tncm91bmQ6ICMxMDE4Mjc7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJvcmRlci1yYWRpdXM6IDZweDsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dFt0eXBlPXJhbmdlXSB7IHBhZGRpbmc6IDA7IGhlaWdodDogMjhweDsgYWNjZW50LWNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgfQogICAgPC9zdHlsZT4KICA8L2hlYWQ+CiAgPGJvZHk+CiAgICA8Y2FudmFzIGlkPSJzY2VuZSI+PC9jYW52YXM+CiAgICA8ZGl2IGNsYXNzPSJvdmVybGF5Ij4KICAgICAgPGRpdiBjbGFzcz0idGl0bGUiIGlkPSJ0aXRsZSI+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InN1YnRpdGxlIiBpZD0ic3VidGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJodWQiIGlkPSJodWQiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8YnV0dG9uIGlkPSJjZmdCdG4iIGNsYXNzPSJjZmdCdG4iIGFyaWEtbGFiZWw9Ik9wZW4gY29uZmlnIj7impnvuI48L2J1dHRvbj4KICAgIDxkaXYgaWQ9ImNvbmZpZyIgY2xhc3M9ImNvbmZpZ1BhbmVsIiBoaWRkZW4+CiAgICAgIDxkaXYgY2xhc3M9ImNvbmZpZ0hlYWRlciI+CiAgICAgICAgPHN0cm9uZz5Db25maWc8L3N0cm9uZz4KICAgICAgICA8YnV0dG9uIGlkPSJjZmdDbG9zZSIgY2xhc3M9ImNmZ0Nsb3NlIiBhcmlhLWxhYmVsPSJDbG9zZSI+4pyVPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGlkPSJjb25maWdCb2R5IiBjbGFzcz0iY29uZmlnQm9keSI+PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxzY3JpcHQ+CiAgICAgICd1c2Ugc3RyaWN0JzsKCiAgICAgIC8vIFVSTCBwYXJhbWV0ZXJzCiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24uc2VhcmNoKTsKICAgICAgY29uc3QgREVGQVVMVF9IVUUgPSAxOTg7CiAgICAgIGNvbnN0IEJBU0VfSFVFID0gY2xhbXBJbnQocGFyc2VJbnQocGFyYW1zLmdldCgnaHVlJykpLCAwLCAzNjAsIERFRkFVTFRfSFVFKTsKICAgICAgbGV0IHBhbGV0dGVIdWUgPSBCQVNFX0hVRTsKICAgICAgY29uc3QgSEVBREVSID0gcGFyYW1zLmdldCgnaGVhZGVyJykgfHwgJ0JvaWRzIOKAlCBEYXRhLU9yaWVudGVkICsgUXVhZHRyZWUnOwogICAgICBjb25zdCBTVUJIRUFERVIgPSBwYXJhbXMuZ2V0KCdzdWJoZWFkZXInKSB8fCAnU2hvY2t3YXZlcyBvbiBjbGljay9kcmFnIMK3IHF1YWR0cmVlIHZpeiBvbic7CiAgICAgIC8vIFF1YWR0cmVlIHZpeiBpcyBoYW5kbGVkIGJ5IENGRy5xdDsgVVJMIHBhcmFtICdxdCcgb3ZlcnJpZGVzIGl0LgoKICAgICAgLy8gRE9NCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2VuZScpOwogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBmYWxzZSB9KTsKICAgICAgY29uc3QgdGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpOwogICAgICBjb25zdCBzdWJ0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YnRpdGxlJyk7CiAgICAgIGNvbnN0IGh1ZEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h1ZCcpOwoKICAgICAgLy8gU3R5bGUgaG9vawogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3BhbGV0dGVIdWV9LCA4NSUsIDYyJSlgKTsKICAgICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IEhFQURFUjsKICAgICAgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IFNVQkhFQURFUjsKCiAgICAgIC8vIENvbmZpZyAoaW5qZWN0ZWQgYnkgZ2VuZXJhdG9yKSDigJQgbXV0YWJsZSBhdCBydW50aW1lCiAgICAgIGxldCBDRkcgPSB7ImNvdW50IjogMjc1LCAidmlzaW9uIjogODAsICJzZXAiOiAyOCwgIm1heFNwZWVkIjogNC4xMSwgIm1heEZvcmNlIjogMC4wNDIsICJtaW5TcGVlZCI6IDAuOTQsICJhbGlnblciOiAwLjk2LCAiY29oZXNpb25XIjogMC45MSwgInNlcGFyYXRpb25XIjogMi4wNCwgInRyYWlsQWxwaGEiOiAwLjExLCAicXRDYXAiOiAxMiwgIndyYXAiOiBmYWxzZSwgInNoYXBlIjogInRyaWFuZ2xlIiwgImJsZW5kIjogImxpZ2h0ZXIiLCAibGluZVdpZHRoIjogMi4xNCwgImdsb3dCYXNlIjogMjQsICJnbG93TWF4IjogMjksICJnbG93U2NhbGUiOiA3LjcsICJjb21ldFNpemUiOiA1LjYzLCAiYmdHcmFkaWVudCI6IHRydWUsICJiZ0h1ZVNoaWZ0MSI6IC0yOCwgImJnSHVlU2hpZnQyIjogNzAsICJiZ0h1ZVNoaWZ0MyI6IDE0MCwgInNwYXduIjogImNlbnRlcmJ1cnN0IiwgInF0IjogdHJ1ZSwgInNob3dIdWQiOiB0cnVlLCAiZmxvdyI6IGZhbHNlLCAiZmxvd0FtcCI6IDAuODksICJmbG93U2NhbGUiOiAwLjAwMTYsICJmbG93U3BlZWQiOiAwLjM2LCAiY2xpY2tNb2RlIjogInJhbmRvbSJ9OwogICAgICBDRkcubWluU3BlZWQgPSBDRkcubWluU3BlZWQgPz8gMC44OwogICAgICBDRkcucXQgPSAodHlwZW9mIENGRy5xdCA9PT0gJ2Jvb2xlYW4nKSA/IENGRy5xdCA6IHRydWU7CiAgICAgIENGRy5jbGlja01vZGUgPSBDRkcuY2xpY2tNb2RlIHx8ICdyYW5kb20nOwogICAgICBDRkcuY2xpY2tNb2RlcyA9IENGRy5jbGlja01vZGVzIHx8IFsKICAgICAgICAnc2hvY2snLCd2b3J0ZXgnLCdpbXBsb3Npb24nLCdzcHJheScsJ3N0dW4nLCdmZWFyJywnYXR0cmFjdCcsJ29yYml0Q1cnLCdvcmJpdENDVycsCiAgICAgICAgJ3NwaXJhbE91dCcsJ3NwaXJhbEluJywnZnJlZXplJywnc2NyYW1ibGUnLCdzY2F0dGVyJywnbWFnbmV0JywncHVsc2UnLAogICAgICAgICd3YXJwJywnZ3JvdycsJ3R1bm5lbCcsJ3JpcHBsZScsJ2ppdHRlcmJ1cnN0JywnY2hyb21hYnVyc3QnLCdzbG93ZG93bicsJ3NwZWVkdXAnLAogICAgICAgICdwZXJsaW5EcmFnJywnbGlzc2FQdWxzZScsJ21ldGVvcicsCiAgICAgICAgLy8gc3RlZXJpbmctd2VpZ2h0IGVmZmVjdHMKICAgICAgICAnYWxpZ24nLCdkZWFsaWduJywnY29oZXJlJywnbG9vc2VuJywnc2VwYXJhdGUnLCdkaXNwZXJzZScKICAgICAgXTsKCiAgICAgIGZ1bmN0aW9uIHBhcnNlQm9vbCh2LCBkKSB7CiAgICAgICAgaWYgKHYgPT0gbnVsbCkgcmV0dXJuIGQ7CiAgICAgICAgY29uc3QgcyA9IFN0cmluZyh2KS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChbJzEnLCd0cnVlJywneWVzJywnb24nXS5pbmNsdWRlcyhzKSkgcmV0dXJuIHRydWU7CiAgICAgICAgaWYgKFsnMCcsJ2ZhbHNlJywnbm8nLCdvZmYnXS5pbmNsdWRlcyhzKSkgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiBkOwogICAgICB9CgogICAgICAvLyBVUkwgb3ZlcnJpZGVzIGZvciBjb25maWcKICAgICAgKGZ1bmN0aW9uIHVybE92ZXJyaWRlKCl7CiAgICAgICAgY29uc3QgaW50S2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdxdENhcCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MyddOwogICAgICAgIGNvbnN0IG51bUtleXMgPSBbJ21heFNwZWVkJywnbWluU3BlZWQnLCdtYXhGb3JjZScsJ2FsaWduVycsJ2NvaGVzaW9uVycsJ3NlcGFyYXRpb25XJywndHJhaWxBbHBoYScsJ2xpbmVXaWR0aCcsJ2dsb3dCYXNlJywnZ2xvd01heCcsJ2dsb3dTY2FsZScsJ2NvbWV0U2l6ZScsJ2Zsb3dBbXAnLCdmbG93U2NhbGUnLCdmbG93U3BlZWQnXTsKICAgICAgICBjb25zdCBib29sS2V5cyA9IFsnd3JhcCcsJ2JnR3JhZGllbnQnLCdxdCcsJ2Zsb3cnLCdzaG93SHVkJ107CiAgICAgICAgY29uc3Qgc3RyS2V5cyA9IFsnc2hhcGUnLCdibGVuZCcsJ3NwYXduJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGludEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gTWF0aC5tYXgoLTk5OTk5LCBNYXRoLm1pbig5OTk5OSwgcGFyc2VJbnQodikpKTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBudW1LZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE51bWJlcih2KTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBib29sS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBwYXJzZUJvb2wodiwgQ0ZHW2tdKTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBzdHJLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IHY7IH0KICAgICAgICBjb25zdCBjbSA9IHBhcmFtcy5nZXQoJ2NsaWNrTW9kZScpOyBpZiAoY20pIENGRy5jbGlja01vZGUgPSBjbTsKICAgICAgICBjb25zdCBjbXMgPSBwYXJhbXMuZ2V0KCdjbGlja01vZGVzJyk7IGlmIChjbXMpIENGRy5jbGlja01vZGVzID0gY21zLnNwbGl0KCcsJyk7CiAgICAgIH0pKCk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVVcmxGcm9tQ2ZnKGV4dHJhPXt9KSB7CiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChsb2NhdGlvbi5ocmVmKTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaHVlJywgcGFsZXR0ZUh1ZSk7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2hlYWRlcicsIHRpdGxlRWwudGV4dENvbnRlbnQpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdWJoZWFkZXInLCBzdWJ0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICBjb25zdCBrZXlzID0gWydjb3VudCcsJ3Zpc2lvbicsJ3NlcCcsJ21heFNwZWVkJywnbWluU3BlZWQnLCdtYXhGb3JjZScsJ2FsaWduVycsJ2NvaGVzaW9uVycsJ3NlcGFyYXRpb25XJywndHJhaWxBbHBoYScsJ3F0Q2FwJywnd3JhcCcsJ3NoYXBlJywnYmxlbmQnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdiZ0dyYWRpZW50JywnYmdIdWVTaGlmdDEnLCdiZ0h1ZVNoaWZ0MicsJ2JnSHVlU2hpZnQzJywncXQnLCdjbGlja01vZGUnLCdjbGlja01vZGVzJywnZmxvdycsJ2Zsb3dBbXAnLCdmbG93U2NhbGUnLCdmbG93U3BlZWQnLCdzcGF3bicsJ3Nob3dIdWQnXTsKICAgICAgICBmb3IgKGNvbnN0IGsgb2Yga2V5cykgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgU3RyaW5nKENGR1trXSkpOwogICAgICAgIGlmIChDRkcuY2xpY2tNb2RlcyAmJiBBcnJheS5pc0FycmF5KENGRy5jbGlja01vZGVzKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NsaWNrTW9kZXMnLCBDRkcuY2xpY2tNb2Rlcy5qb2luKCcsJykpOwogICAgICAgIGZvciAoY29uc3QgW2ssdl0gb2YgT2JqZWN0LmVudHJpZXMoZXh0cmEpKSB1cmwuc2VhcmNoUGFyYW1zLnNldChrLCB2KTsKICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCAnJywgdXJsLnRvU3RyaW5nKCkpOwogICAgICB9CgogICAgICBjb25zdCBUQVUgPSBNYXRoLlBJICogMjsKCiAgICAgIC8vIENhbnZhcyBzaXppbmcgd2l0aCBEUFIKICAgICAgbGV0IERQUiA9IE1hdGgubWF4KDEsIE1hdGgubWluKDIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKTsKICAgICAgZnVuY3Rpb24gcmVzaXplKCkgewogICAgICAgIERQUiA9IE1hdGgubWF4KDEsIE1hdGgubWluKDIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKTsKICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmZsb29yKGlubmVyV2lkdGggKiBEUFIpOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKGlubmVySGVpZ2h0ICogRFBSKTsKICAgICAgICBjdHguc2V0VHJhbnNmb3JtKERQUiwgMCwgMCwgRFBSLCAwLCAwKTsKICAgICAgICBjbGVhckhhcmQoKTsKICAgICAgfQogICAgICBhZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemUpOwogICAgICByZXNpemUoKTsKCiAgICAgIGZ1bmN0aW9uIGNsZWFySGFyZCgpIHsKICAgICAgICBpZiAoQ0ZHLmJnR3JhZGllbnQpIHsKICAgICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoaW5uZXJXaWR0aCowLjY1LCBpbm5lckhlaWdodCowLjM1LCBNYXRoLm1pbihpbm5lcldpZHRoLCBpbm5lckhlaWdodCkqMC4xNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJXaWR0aCowLjUsIGlubmVySGVpZ2h0KjAuNSwgTWF0aC5oeXBvdChpbm5lcldpZHRoLCBpbm5lckhlaWdodCkqMC43KTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MSklMzYwfSA4MCUgMTAlKWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC41LCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQyKSUzNjB9IDcwJSA4JSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDEuMCwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MyklMzYwfSA2MCUgNiUpYCk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICB9CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gY2xhbXBJbnQobiwgbG8sIGhpLCBmYWxsYmFjaykgewogICAgICAgIG4gPSBOdW1iZXIuaXNGaW5pdGUobikgPyBuIDogZmFsbGJhY2s7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KGxvLCBNYXRoLm1pbihoaSwgbikpOwogICAgICB9CgogICAgICAvLyBEcmlmdCBhIGh1ZSB2YWx1ZSB0b3dhcmQgYSB0YXJnZXQgb24gYSBjaXJjdWxhciBjb2xvciB3aGVlbAogICAgICBmdW5jdGlvbiBhcHByb2FjaEh1ZShoLCB0YXJnZXQsIHJhdGUpIHsKICAgICAgICAvLyByYXRlIGlzIDAuLjEgZnJhY3Rpb24gdG93YXJkIHRhcmdldCBwZXIgY2FsbAogICAgICAgIGxldCBkID0gKCh0YXJnZXQgLSBoICsgNTQwKSAlIDM2MCkgLSAxODA7IC8vIHNob3J0ZXN0IHNpZ25lZCBkZWx0YSBbLTE4MCwxODApCiAgICAgICAgcmV0dXJuIChoICsgZCAqIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHJhdGUpKSArIDM2MCkgJSAzNjA7CiAgICAgIH0KCiAgICAgIC8vIExpZ2h0d2VpZ2h0IDJEIHZhbHVlIG5vaXNlIChmb3IgcGVybGluLWxpa2UgZHJhZykKICAgICAgbGV0IG5vaXNlU2VlZCA9IChCQVNFX0hVRSAqIDE2NjQ1MjUgKyAxMDEzOTA0MjIzKSAmIDB4ZmZmZmZmZmY7CiAgICAgIGZ1bmN0aW9uIGZyYWN0KHgpeyByZXR1cm4geCAtIE1hdGguZmxvb3IoeCk7IH0KICAgICAgZnVuY3Rpb24gX3JhbmQoaXgsIGl5KXsKICAgICAgICBjb25zdCBrID0gKGl4ICogMzc0NzYxMzkzICsgaXkgKiA2NjgyNjUyNjMgKyBub2lzZVNlZWQpID4+PiAwOwogICAgICAgIHJldHVybiBmcmFjdChNYXRoLnNpbihrKSAqIDQzNzU4LjU0NTMpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIG5vaXNlMih4LCB5KXsKICAgICAgICBjb25zdCB4aSA9IE1hdGguZmxvb3IoeCksIHlpID0gTWF0aC5mbG9vcih5KTsKICAgICAgICBjb25zdCB4ZiA9IHggLSB4aSwgeWYgPSB5IC0geWk7CiAgICAgICAgY29uc3QgdSA9IHhmKnhmKigzLTIqeGYpLCB2ID0geWYqeWYqKDMtMip5Zik7CiAgICAgICAgY29uc3QgdjAwID0gX3JhbmQoeGksIHlpKSwgdjEwID0gX3JhbmQoeGkrMSwgeWkpLCB2MDEgPSBfcmFuZCh4aSwgeWkrMSksIHYxMSA9IF9yYW5kKHhpKzEsIHlpKzEpOwogICAgICAgIGNvbnN0IHgxID0gdjAwKigxLXUpICsgdjEwKnUsIHgyID0gdjAxKigxLXUpICsgdjExKnU7CiAgICAgICAgcmV0dXJuIHgxKigxLXYpICsgeDIqdjsKICAgICAgfQogICAgICBmdW5jdGlvbiBwZXJsaW5WZWMoeCwgeSwgc2NhbGUsIGFtcCl7CiAgICAgICAgY29uc3QgbiA9IG5vaXNlMih4KnNjYWxlLCB5KnNjYWxlKTsKICAgICAgICBjb25zdCBhID0gbiAqIFRBVTsKICAgICAgICByZXR1cm4gW01hdGguY29zKGEpKmFtcCwgTWF0aC5zaW4oYSkqYW1wXTsKICAgICAgfQoKICAgICAgLy8gU2VlZGVkIFBSTkcgZm9yIHN1YnRsZSBkZXRlcm1pbmlzbSBmcm9tIEJBU0VfSFVFCiAgICAgIGxldCBfc2VlZCA9IChCQVNFX0hVRSAqIDkzMDEgKyA0OTI5NykgJSAyMzMyODA7CiAgICAgIGZ1bmN0aW9uIHJuZCgpIHsgX3NlZWQgPSAoMTEwMzUxNTI0NSAqIF9zZWVkICsgMTIzNDUpICYgMHg3ZmZmZmZmZjsgcmV0dXJuIChfc2VlZCA+Pj4gOCkgLyAweDdmZmZmZjsgfQogICAgICBmdW5jdGlvbiByYW5kKG1pbiwgbWF4KSB7IHJldHVybiBybmQoKSAqIChtYXggLSBtaW4pICsgbWluOyB9CgogICAgICAvLyBEYXRhLU9yaWVudGVkIFN0YXRlIChTb0EpIOKAlCBkeW5hbWljCiAgICAgIGxldCBOID0gQ0ZHLmNvdW50OwogICAgICBsZXQgcHgsIHB5LCB2eCwgdnksIGF4LCBheSwgaHVlLCBzcGQsIHByZXZ4LCBwcmV2eTsKICAgICAgLy8gdHJhbnNpZW50IHBlci1ib2lkIG1vZGlmaWVycyAoZGVjYXkgZWFjaCBmcmFtZSkKICAgICAgbGV0IHNpemVNdWwsIHZCb29zdCwgaHVlT2ZmLCBqaXRBbXA7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBzdGVlcmluZyBtdWx0aXBsaWVycyAoZGVjYXkgZWFjaCBmcmFtZSkKICAgICAgbGV0IGFsaWduTXVsLCBjb2hlc2lvbk11bCwgc2VwYXJhdGlvbk11bDsKCiAgICAgIGZ1bmN0aW9uIGFsbG9jKG4pIHsKICAgICAgICBweCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHB5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICB2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBheCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGF5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBodWUgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBzcGQgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHByZXZ4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgcHJldnkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHNpemVNdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2Qm9vc3QgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBodWVPZmYgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBqaXRBbXAgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGFsaWduTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgY29oZXNpb25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBzZXBhcmF0aW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2VlZEJvaWRzKCkgewogICAgICAgIGNvbnN0IG1vZGUgPSBDRkcuc3Bhd24gfHwgJ3JhbmRvbSc7CiAgICAgICAgaWYgKG1vZGUgPT09ICdjaXJjbGUnKSB7CiAgICAgICAgICBjb25zdCBjeCA9IGlubmVyV2lkdGgvMiwgY3kgPSBpbm5lckhlaWdodC8yLCByID0gTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpLzM7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCB0ID0gTWF0aC5yYW5kb20oKSpNYXRoLlBJKjI7IHB4W2ldPWN4K01hdGguY29zKHQpKnI7IHB5W2ldPWN5K01hdGguc2luKHQpKnI7IHZ4W2ldPXJhbmQoLTEsMSk7IHZ5W2ldPXJhbmQoLTEsMSk7IH0KICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdncmlkJykgewogICAgICAgICAgY29uc3QgY29scz1NYXRoLm1heCgxMCwgTWF0aC5mbG9vcihNYXRoLnNxcnQoTikpKTsgY29uc3Qgcm93cz1NYXRoLmNlaWwoTi9jb2xzKTsKICAgICAgICAgIGNvbnN0IGd4PWlubmVyV2lkdGgvKGNvbHMrMSksIGd5PWlubmVySGVpZ2h0Lyhyb3dzKzEpOyBsZXQgaz0wOwogICAgICAgICAgZm9yIChsZXQgeT0xO3k8PXJvd3M7eSsrKSBmb3IgKGxldCB4PTE7eDw9Y29sczt4KyspIHsgaWYgKGs+PU4pIGJyZWFrOyBweFtrXT1neCp4OyBweVtrXT1neSp5OyB2eFtrXT1yYW5kKC0xLDEpOyB2eVtrXT1yYW5kKC0xLDEpOyBrKys7IH0KICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdjZW50ZXJidXJzdCcpIHsKICAgICAgICAgIGNvbnN0IGN4PWlubmVyV2lkdGgvMiwgY3k9aW5uZXJIZWlnaHQvMjsKICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGNvbnN0IGE9TWF0aC5yYW5kb20oKSpNYXRoLlBJKjIsIGQ9cmFuZCgwLCBNYXRoLm1pbihpbm5lcldpZHRoLGlubmVySGVpZ2h0KS8yKTsgcHhbaV09Y3grTWF0aC5jb3MoYSkqZDsgcHlbaV09Y3krTWF0aC5zaW4oYSkqZDsgdnhbaV09TWF0aC5jb3MoYSk7IHZ5W2ldPU1hdGguc2luKGEpOyB9CiAgICAgICAgfSBlbHNlIHsgLy8gcmFuZG9tCiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBweFtpXT1yYW5kKDAsaW5uZXJXaWR0aCk7IHB5W2ldPXJhbmQoMCxpbm5lckhlaWdodCk7IHZ4W2ldPXJhbmQoLTEsMSk7IHZ5W2ldPXJhbmQoLTEsMSk7IH0KICAgICAgICB9CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIGNvbnN0IG09TWF0aC5oeXBvdCh2eFtpXSx2eVtpXSl8fDE7IHZ4W2ldKj0yLjAvbTsgdnlbaV0qPTIuMC9tOwogICAgICAgICAgaHVlW2ldID0gKHBhbGV0dGVIdWUgKyByYW5kKC0zMCwgMzApKSAlIDM2MDsgcHJldnhbaV09cHhbaV07IHByZXZ5W2ldPXB5W2ldOwogICAgICAgICAgc2l6ZU11bFtpXT0wOyB2Qm9vc3RbaV09MDsgaHVlT2ZmW2ldPTA7IGppdEFtcFtpXT0wOwogICAgICAgICAgYWxpZ25NdWxbaV09MDsgY29oZXNpb25NdWxbaV09MDsgc2VwYXJhdGlvbk11bFtpXT0wOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gcmVzZWVkKG4pIHsKICAgICAgICBOID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihuKSk7CiAgICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwogICAgICB9CgogICAgICBhbGxvYyhOKTsgc2VlZEJvaWRzKCk7CgogICAgICAvLyBRdWFkdHJlZSBpbXBsZW1lbnRhdGlvbgogICAgICBjbGFzcyBRVE5vZGUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy54ID0geDsgdGhpcy55ID0geTsgdGhpcy53ID0gdzsgdGhpcy5oID0gaDsKICAgICAgICAgIHRoaXMuY2FwID0gY2FwOyB0aGlzLmNvdW50ID0gMDsgdGhpcy5pZHggPSBuZXcgSW50MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5wdHN4ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOyB0aGlzLnB0c3kgPSBuZXcgRmxvYXQzMkFycmF5KGNhcCk7CiAgICAgICAgICB0aGlzLmRpdmlkZWQgPSBmYWxzZTsgdGhpcy5jaGlsZHJlbiA9IG51bGw7CiAgICAgICAgfQogICAgICB9CgogICAgICBjbGFzcyBRdWFkdHJlZSB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCwgY2FwKSB7CiAgICAgICAgICB0aGlzLnJvb3QgPSBuZXcgUVROb2RlKHgsIHksIHcsIGgsIGNhcCk7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsKICAgICAgICB9CgogICAgICAgIGluc2VydChpLCB4LCB5LCBub2RlID0gdGhpcy5yb290KSB7CiAgICAgICAgICBpZiAoeCA8IG5vZGUueCB8fCB5IDwgbm9kZS55IHx8IHggPj0gbm9kZS54ICsgbm9kZS53IHx8IHkgPj0gbm9kZS55ICsgbm9kZS5oKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICBpZiAobm9kZS5jb3VudCA8IG5vZGUuY2FwICYmICFub2RlLmRpdmlkZWQpIHsKICAgICAgICAgICAgY29uc3QgaiA9IG5vZGUuY291bnQrKzsgbm9kZS5pZHhbal0gPSBpOyBub2RlLnB0c3hbal0gPSB4OyBub2RlLnB0c3lbal0gPSB5OyByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghbm9kZS5kaXZpZGVkKSB0aGlzLnN1YmRpdmlkZShub2RlKTsKICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydChpLCB4LCB5LCBub2RlLmNoaWxkcmVuWyAoeSA8IG5vZGUueSArIG5vZGUuaC8yID8gMCA6IDIpICsgKHggPCBub2RlLnggKyBub2RlLncvMiA/IDAgOiAxKSBdKTsKICAgICAgICB9CgogICAgICAgIHN1YmRpdmlkZShub2RlKSB7CiAgICAgICAgICBub2RlLmRpdmlkZWQgPSB0cnVlOwogICAgICAgICAgY29uc3QgaHcgPSBub2RlLncvMiwgaGggPSBub2RlLmgvMjsKICAgICAgICAgIG5vZGUuY2hpbGRyZW4gPSBbCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnksICAgICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBOVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTkUKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngsICAgICAgIG5vZGUueStoaCwgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIFNXCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54K2h3LCAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTRQogICAgICAgICAgXTsKICAgICAgICAgIC8vIHJlaW5zZXJ0IGV4aXN0aW5nIHBvaW50cwogICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBub2RlLmNvdW50OyBrKyspIHsKICAgICAgICAgICAgY29uc3QgaSA9IG5vZGUuaWR4W2tdOyBjb25zdCB4ID0gbm9kZS5wdHN4W2tdOyBjb25zdCB5ID0gbm9kZS5wdHN5W2tdOwogICAgICAgICAgICB0aGlzLmluc2VydChpLCB4LCB5LCBub2RlLmNoaWxkcmVuWyAoeSA8IG5vZGUueSArIG5vZGUuaC8yID8gMCA6IDIpICsgKHggPCBub2RlLnggKyBub2RlLncvMiA/IDAgOiAxKSBdKTsKICAgICAgICAgIH0KICAgICAgICAgIG5vZGUuY291bnQgPSAwOyAvLyBjbGVhciBsZWFmIHN0b3JhZ2UKICAgICAgICB9CgogICAgICAgIHF1ZXJ5KGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICB0aGlzLl9xdWVyeU5vZGUodGhpcy5yb290LCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQogICAgICAgIF9xdWVyeU5vZGUobm9kZSwgY3gsIGN5LCByLCBvdXQpIHsKICAgICAgICAgIC8vIGNpcmNsZS1yZWN0IHF1aWNrIHJlamVjdAogICAgICAgICAgY29uc3Qgcng9bm9kZS54LCByeT1ub2RlLnksIHJ3PW5vZGUudywgcmg9bm9kZS5oOwogICAgICAgICAgbGV0IG54ID0gTWF0aC5tYXgocngsIE1hdGgubWluKGN4LCByeCtydykpOwogICAgICAgICAgbGV0IG55ID0gTWF0aC5tYXgocnksIE1hdGgubWluKGN5LCByeStyaCkpOwogICAgICAgICAgY29uc3QgZGlzdCA9IChjeC1ueCkqKGN4LW54KSsoY3ktbnkpKihjeS1ueSk7CiAgICAgICAgICBpZiAoZGlzdCA+IHIqcikgcmV0dXJuOwoKICAgICAgICAgIGlmICghbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGZvciAobGV0IGs9MDtrPG5vZGUuY291bnQ7aysrKSB7IG91dC5wdXNoKG5vZGUuaWR4W2tdKTsgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKGxldCBjPTA7Yzw0O2MrKykgdGhpcy5fcXVlcnlOb2RlKG5vZGUuY2hpbGRyZW5bY10sIGN4LCBjeSwgciwgb3V0KTsKICAgICAgICB9CgogICAgICAgIGRyYXcoY3R4KSB7CiAgICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgkeyhwYWxldHRlSHVlKzE4MCklMzYwfSA4MCUgNzAlIC8gMC4xNClgOwogICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7CiAgICAgICAgICB0aGlzLl9kcmF3Tm9kZShjdHgsIHRoaXMucm9vdCk7CiAgICAgICAgICBjdHgucmVzdG9yZSgpOwogICAgICAgIH0KICAgICAgICBfZHJhd05vZGUoY3R4LCBub2RlKSB7CiAgICAgICAgICBjdHguc3Ryb2tlUmVjdChub2RlLngsIG5vZGUueSwgbm9kZS53LCBub2RlLmgpOwogICAgICAgICAgaWYgKG5vZGUuZGl2aWRlZCkgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX2RyYXdOb2RlKGN0eCwgbm9kZS5jaGlsZHJlbltjXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBJbnRlcmFjdGlvbiBlZmZlY3RzCiAgICAgIGNvbnN0IGVmZmVjdHMgPSBbXTsgLy8ge3gseSx0LGxpZmUsc2lnbix0eXBlLC4uLmV4dHJhc30KICAgICAgbGV0IG1vdXNlRG93biA9IGZhbHNlOwogICAgICBjb25zdCBwb2ludGVyID0ge3g6IGlubmVyV2lkdGgvMiwgeTogaW5uZXJIZWlnaHQvMiwgdng6IDAsIHZ5OiAwLCB0OiBwZXJmb3JtYW5jZS5ub3coKX07CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IHRydWU7IHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgICBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgbW91c2VEb3duID0gZmFsc2U7IHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCAtMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgaWYgKG1vdXNlRG93bikgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksICsxKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwoKICAgICAgZnVuY3Rpb24gcGlja0NsaWNrVHlwZSgpIHsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZSAmJiBDRkcuY2xpY2tNb2RlICE9PSAncmFuZG9tJykgcmV0dXJuIENGRy5jbGlja01vZGU7CiAgICAgICAgY29uc3QgbGlzdCA9IENGRy5jbGlja01vZGVzIHx8IFsnc2hvY2snXTsKICAgICAgICByZXR1cm4gbGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbGlzdC5sZW5ndGgpXSB8fCAnc2hvY2snOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHNwYXduRWZmZWN0KHgsIHksIHNpZ24pIHsKICAgICAgICBjb25zdCB0eXBlID0gcGlja0NsaWNrVHlwZSgpOwogICAgICAgIGNvbnN0IGxpZmUgPSAodHlwZT09PSdpbXBsb3Npb24nKSA/IDAuOSA6ICh0eXBlPT09J3ZvcnRleCcgfHwgdHlwZT09PSdtZXRlb3InID8gMS44IDogMS4yKTsKICAgICAgICBjb25zdCBFID0geyB4LCB5LCB0OiAwLCBsaWZlLCBzaWduLCB0eXBlIH07CiAgICAgICAgaWYgKHR5cGUgPT09ICdsaXNzYVB1bHNlJykgewogICAgICAgICAgY29uc3Qgc3AgPSBNYXRoLm1pbigzLCBNYXRoLmh5cG90KHBvaW50ZXIudngsIHBvaW50ZXIudnkpKjEyMCk7CiAgICAgICAgICBFLmEgPSAyICsgTWF0aC5mbG9vcihzcCU0KTsgRS5iID0gMyArIE1hdGguZmxvb3IoKHNwKjEuNyklNCk7IEUucGhhc2UgPSBNYXRoLnJhbmRvbSgpKlRBVTsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICBjb25zdCBzY2FsZSA9IDkwMDsgRS52eCA9IHBvaW50ZXIudngqc2NhbGU7IEUudnkgPSBwb2ludGVyLnZ5KnNjYWxlOyBFLm1hc3MgPSAyMjAgKyBNYXRoLnJhbmRvbSgpKjE4MDsgRS5kcmFnPTAuOTg7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAncGVybGluRHJhZycpIHsKICAgICAgICAgIEUuc2NhbGUgPSAwLjAwNiArIE1hdGgucmFuZG9tKCkqMC4wMDY7IEUuYW1wID0gMS4yICsgTWF0aC5yYW5kb20oKSoxLjI7CiAgICAgICAgfQogICAgICAgIGVmZmVjdHMucHVzaChFKTsKICAgICAgfQoKICAgICAgLy8gUGh5c2ljcyBoZWxwZXJzCiAgICAgIGZ1bmN0aW9uIGxpbWl0KHZ4LCB2eSwgbWF4KSB7CiAgICAgICAgY29uc3QgbTIgPSB2eCp2eCArIHZ5KnZ5OyBpZiAobTIgPiBtYXgqbWF4KSB7CiAgICAgICAgICBjb25zdCBtID0gTWF0aC5zcXJ0KG0yKSB8fCAxOyBjb25zdCBzID0gbWF4IC8gbTsgcmV0dXJuIFt2eCpzLCB2eSpzXTsKICAgICAgICB9IHJldHVybiBbdngsIHZ5XTsKICAgICAgfQoKICAgICAgLy8gTWFpbiBsb29wCiAgICAgIGxldCBsYXN0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgIGxldCBmcHNBdmcgPSAwOwogICAgICBmdW5jdGlvbiBmcmFtZSh0KSB7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1pbigzMiwgdCAtIGxhc3QpICogMC4wMDE7IC8vIGNsYW1wCiAgICAgICAgbGFzdCA9IHQ7CiAgICAgICAgY29uc3QgZnBzTm93ID0gMSAvIE1hdGgubWF4KDFlLTYsIGR0KTsKICAgICAgICBmcHNBdmcgPSBmcHNBdmcgPyAoZnBzQXZnKjAuOSArIGZwc05vdyowLjEpIDogZnBzTm93OwogICAgICAgIGNvbnN0IFcgPSBpbm5lcldpZHRoLCBIID0gaW5uZXJIZWlnaHQ7CgogICAgICAgIC8vIHRyYWlsczogdHJhbnNsdWNlbnQgZmlsbAogICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInOwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgQ0ZHLnRyYWlsQWxwaGEpKTsKICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwNTA3MGEnOwogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBXLCBIKTsKICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBCdWlsZCBxdWFkdHJlZQogICAgICAgIGNvbnN0IHF0ID0gbmV3IFF1YWR0cmVlKDAsIDAsIFcsIEgsIENGRy5xdENhcCk7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHF0Lmluc2VydChpLCBweFtpXSwgcHlbaV0pOwoKICAgICAgLy8gQXBwbHkgZmxvY2tpbmcgdmlhIG5laWdoYm9yIHF1ZXJpZXMgKGFkYXB0aXZlIHZpc2lvbiB1bmRlciBsb2FkKQogICAgICBjb25zdCB2aXNpb24gPSBDRkcudmlzaW9uICogKGZwc0F2ZyA8IDUwID8gMC45IDogMS4wKTsgY29uc3Qgc2VwID0gQ0ZHLnNlcDsKICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgYXhbaV09MDsgYXlbaV09MDsgfQogICAgICBsZXQgdG1wID0gW107CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgdG1wLmxlbmd0aCA9IDA7IHF0LnF1ZXJ5KHB4W2ldLCBweVtpXSwgdmlzaW9uLCB0bXApOwogICAgICAgICAgbGV0IGN4PTAsIGN5PTAsIHZ4c3VtPTAsIHZ5c3VtPTAsIHN4PTAsIHN5PTAsIHRvdGFsPTAsIHNjbG9zZT0wOwogICAgICAgICAgZm9yIChsZXQgaz0wO2s8dG1wLmxlbmd0aDtrKyspIHsKICAgICAgICAgICAgY29uc3QgaiA9IHRtcFtrXTsgaWYgKGo9PT1pKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZHggPSBweFtqXS1weFtpXTsgY29uc3QgZHkgPSBweVtqXS1weVtpXTsKICAgICAgICAgICAgY29uc3QgZDIgPSBkeCpkeCArIGR5KmR5OyBpZiAoZDIgPT09IDApIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBkID0gTWF0aC5zcXJ0KGQyKTsKICAgICAgICAgICAgaWYgKGQgPCB2aXNpb24pIHsgdG90YWwrKzsgY3ggKz0gcHhbal07IGN5ICs9IHB5W2pdOyB2eHN1bSArPSB2eFtqXTsgdnlzdW0gKz0gdnlbal07IH0KICAgICAgICAgICAgaWYgKGQgPCBzZXApIHsgc2Nsb3NlKys7IHN4IC09IGR4LyhkfHwxKTsgc3kgLT0gZHkvKGR8fDEpOyB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodG90YWw+MCkgewogICAgICAgICAgICAvLyBhbGlnbm1lbnQKICAgICAgICAgICAgbGV0IGF4diA9ICh2eHN1bS90b3RhbCkgLSB2eFtpXTsgbGV0IGF5diA9ICh2eXN1bS90b3RhbCkgLSB2eVtpXTsKICAgICAgICAgICAgY29uc3QgYWxpZ25XID0gQ0ZHLmFsaWduVyAqICgxICsgKGFsaWduTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtheHYsIGF5dl0gPSBsaW1pdChheHYsIGF5diwgQ0ZHLm1heEZvcmNlKTsKICAgICAgICAgICAgYXhbaV0gKz0gYXh2ICogYWxpZ25XOyBheVtpXSArPSBheXYgKiBhbGlnblc7CiAgICAgICAgICAgIC8vIGNvaGVzaW9uCiAgICAgICAgICAgIGxldCBjeHYgPSAoY3gvdG90YWwgLSBweFtpXSk7IGxldCBjeXYgPSAoY3kvdG90YWwgLSBweVtpXSk7CiAgICAgICAgICAgIGNvbnN0IGNvaFcgPSBDRkcuY29oZXNpb25XICogKDEgKyAoY29oZXNpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgW2N4diwgY3l2XSA9IGxpbWl0KGN4diwgY3l2LCBDRkcubWF4Rm9yY2UpOyBheFtpXSArPSBjeHYgKiBjb2hXOyBheVtpXSArPSBjeXYgKiBjb2hXOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHNjbG9zZT4wKSB7CiAgICAgICAgICAgIGxldCBzeHYgPSBzeDsgbGV0IHN5diA9IHN5OyBbc3h2LCBzeXZdID0gbGltaXQoc3h2LCBzeXYsIENGRy5tYXhGb3JjZSoxLjUpOwogICAgICAgICAgICBjb25zdCBzZXBXID0gQ0ZHLnNlcGFyYXRpb25XICogKDEgKyAoc2VwYXJhdGlvbk11bFtpXXx8MCkpOwogICAgICAgICAgICBheFtpXSArPSBzeHYgKiBzZXBXOyBheVtpXSArPSBzeXYgKiBzZXBXOwogICAgICAgICAgfQogICAgICAgIC8vIG9wdGlvbmFsIGZsb3cgZmllbGQgZm9yIHBhdHRlcm4gdmFyaWV0eQogICAgICAgIGlmIChDRkcuZmxvdykgewogICAgICAgICAgY29uc3QgcyA9IENGRy5mbG93U2NhbGUgfHwgMC4wMDQ7IGNvbnN0IGEgPSBDRkcuZmxvd0FtcCB8fCAwLjY7IGNvbnN0IHNwID0gQ0ZHLmZsb3dTcGVlZCB8fCAwLjY7CiAgICAgICAgICBjb25zdCB0MCA9IHBlcmZvcm1hbmNlLm5vdygpKjAuMDAxKnNwOwogICAgICAgICAgY29uc3QgZnggPSBNYXRoLnNpbihweVtpXSpzICsgdDApICogYTsKICAgICAgICAgIGNvbnN0IGZ5ID0gTWF0aC5jb3MocHhbaV0qcyAtIHQwKSAqIGE7CiAgICAgICAgICBheFtpXSArPSBmeDsgYXlbaV0gKz0gZnk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBJbnRlcmFjdGlvbiBlZmZlY3RzOiB+MjArIG1vZGVzIGluY2x1ZGluZyBwZXJsaW5EcmFnLCBsaXNzYVB1bHNlLCBtZXRlb3IKICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdsaWdodGVyJzsKICAgICAgbGV0IHRtcDIgPSBbXTsKICAgICAgZm9yIChsZXQgZT1lZmZlY3RzLmxlbmd0aC0xOyBlPj0wOyBlLS0pIHsKICAgICAgICBjb25zdCBFID0gZWZmZWN0c1tlXTsgRS50ICs9IGR0OyBjb25zdCBrID0gRS50IC8gRS5saWZlOwogICAgICAgIGNvbnN0IHIgPSAzMCArIGsgKiAyNjA7IGNvbnN0IHN0ciA9IDEuMCAtIGs7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsgRS54ICs9IChFLnZ4fHwwKSpkdDsgRS55ICs9IChFLnZ5fHwwKSpkdDsgRS52eCAqPSAoRS5kcmFnfHwxKTsgRS52eSAqPSAoRS5kcmFnfHwxKTsgRS5tYXNzICo9IDAuOTg1OyB9CiAgICAgICAgdG1wMi5sZW5ndGggPSAwOyBxdC5xdWVyeShFLngsIEUueSwgciwgdG1wMik7CiAgICAgICAgZm9yIChsZXQgaWk9MDsgaWk8dG1wMi5sZW5ndGg7IGlpKyspIHsKICAgICAgICAgIGNvbnN0IGkgPSB0bXAyW2lpXTsgY29uc3QgZHggPSBweFtpXS1FLng7IGNvbnN0IGR5ID0gcHlbaV0tRS55OyBjb25zdCBkID0gTWF0aC5oeXBvdChkeCwgZHkpfHwxOwogICAgICAgICAgY29uc3QgZmFsbCA9ICgxIC0gTWF0aC5taW4oMSwgZC9yKSk7CiAgICAgICAgICBpZiAoRS50eXBlID09PSAncGVybGluRHJhZycpIHsKICAgICAgICAgICAgY29uc3QgdiA9IHBlcmxpblZlYyhweFtpXS1FLngsIHB5W2ldLUUueSwgRS5zY2FsZXx8MC4wMDgsIChFLmFtcHx8MS41KSAqIGZhbGwpOwogICAgICAgICAgICBheFtpXSArPSB2WzBdOyBheVtpXSArPSB2WzFdOyBodWVPZmZbaV0gKz0gNDAqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMihkeSwgZHgpOwogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oRS5hKmFuZyArIEUucGhhc2UpICogTWF0aC5jb3MoRS5iKmFuZyAtIEUucGhhc2UpOwogICAgICAgICAgICBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgICBjb25zdCBHID0gODAwOyBjb25zdCBmID0gTWF0aC5taW4oMy4wLCAoRyooRS5tYXNzfHwyMDApKS8oKGQqZCkrMjAwKSk7CiAgICAgICAgICAgIGF4W2ldIC09IChkeC9kKSpmKmZhbGw7IGF5W2ldIC09IChkeS9kKSpmKmZhbGw7IHZCb29zdFtpXSArPSAwLjIqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjE1KmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3ZvcnRleCcgfHwgRS50eXBlPT09J29yYml0Q1cnIHx8IEUudHlwZT09PSdvcmJpdENDVycgfHwgRS50eXBlPT09J3NwaXJhbE91dCcgfHwgRS50eXBlPT09J3NwaXJhbEluJykgewogICAgICAgICAgICBjb25zdCBkaXIgPSAoRS50eXBlPT09J29yYml0Q0NXJykgPyAtMSA6IDE7CiAgICAgICAgICAgIGNvbnN0IHR4ID0gLWR5L2QsIHR5ID0gZHgvZDsgbGV0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAxLjIgKiBmYWxsICogZGlyOwogICAgICAgICAgICBpZiAoRS50eXBlPT09J3NwaXJhbE91dCcpIHsgcyA9IDEuMipmYWxsOyBheFtpXSArPSAoZHgvZCkqZmFsbCowLjg7IGF5W2ldICs9IChkeS9kKSpmYWxsKjAuODsgfQogICAgICAgICAgICBpZiAoRS50eXBlPT09J3NwaXJhbEluJykgeyBzID0gLTEuMipmYWxsOyBheFtpXSAtPSAoZHgvZCkqZmFsbCowLjY7IGF5W2ldIC09IChkeS9kKSpmYWxsKjAuNjsgfQogICAgICAgICAgICBheFtpXSArPSB0eCpzOyBheVtpXSArPSB0eSpzOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ltcGxvc2lvbicgfHwgRS50eXBlPT09J2F0dHJhY3QnIHx8IEUudHlwZT09PSdtYWduZXQnKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS50eXBlPT09J2ltcGxvc2lvbicgPyAtMi4yIDogLTEuMikgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICAgIHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyB2Qm9vc3RbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NwcmF5JyB8fCBFLnR5cGU9PT0nc2NhdHRlcicpIHsKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8xOi0xKSAqIChFLnR5cGU9PT0nc2NhdHRlcic/My4wOjIuNCkgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICAgIHZ4W2ldICs9IChkeC9kKSAqIDAuMjUgKiBmYWxsOyB2eVtpXSArPSAoZHkvZCkgKiAwLjI1ICogZmFsbDsgaml0QW1wW2ldICs9IDAuMTUqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc3R1bicgfHwgRS50eXBlPT09J2ZyZWV6ZScpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IChFLnR5cGU9PT0nZnJlZXplJz8wLjY6MC4zKSAqIGZhbGw7IHNpemVNdWxbaV0gKz0gMC4zKmZhbGw7IHZ4W2ldICo9IDAuOTY7IHZ5W2ldICo9IDAuOTY7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ZlYXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAyLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IGppdEFtcFtpXSArPSAwLjI1KmZhbGw7IGh1ZU9mZltpXSArPSA4MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzY3JhbWJsZScpIHsKICAgICAgICAgICAgdnhbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyB2eVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMS41KmZhbGw7IGppdEFtcFtpXSArPSAwLjMqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAncHVsc2UnIHx8IEUudHlwZT09PSdyaXBwbGUnKSB7CiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNpbihrKk1hdGguUEkqMik7IGNvbnN0IHMgPSB3ICogMi4wICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gKz0gMC44ICogZmFsbDsgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjMgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdkZWFsaWduJykgewogICAgICAgICAgICBhbGlnbk11bFtpXSAtPSAwLjggKiBmYWxsOyBjb2hlc2lvbk11bFtpXSArPSAwLjIgKiBmYWxsOyBqaXRBbXBbaV0gKz0gMC4xICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnY29oZXJlJyB8fCBFLnR5cGU9PT0ndGlnaHRlbicgfHwgRS50eXBlPT09J2xvb3NlbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdsb29zZW4nKSA/IC0xIDogMTsgLy8gbG9vc2VuIHJlZHVjZXMgY29oZXNpb24KICAgICAgICAgICAgY29oZXNpb25NdWxbaV0gKz0gZGlyICogMC45ICogZmFsbDsgaWYgKGRpcj4wKSBzZXBhcmF0aW9uTXVsW2ldIC09IDAuMiAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NlcGFyYXRlJyB8fCBFLnR5cGU9PT0nZGlzcGVyc2UnKSB7CiAgICAgICAgICAgIHNlcGFyYXRpb25NdWxbaV0gKz0gMS4wICogZmFsbDsgY29oZXNpb25NdWxbaV0gLT0gMC40ICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnd2FycCcgfHwgRS50eXBlPT09J3NwZWVkdXAnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSArPSAwLjYqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3Nsb3dkb3duJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gLT0gMC41KmZhbGw7IGh1ZU9mZltpXSAtPSAyMCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdncm93JykgewogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuNipmYWxsOyBodWVPZmZbaV0gKz0gMzAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAndHVubmVsJykgewogICAgICAgICAgICBjb25zdCB0YXJnZXQgPSByKjAuNzsgY29uc3QgcyA9IChkPHRhcmdldD8rMTotMSkgKiAxLjIgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ppdHRlcmJ1cnN0JykgewogICAgICAgICAgICBqaXRBbXBbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2Nocm9tYWJ1cnN0JykgewogICAgICAgICAgICBodWVPZmZbaV0gKz0gMTYwICogZmFsbDsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNob2NrIC8gZGVmYXVsdAogICAgICAgICAgICBjb25zdCBzID0gKEUuc2lnbj4wPysxOi0xKSAqIDEuOCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfQogICAgICAgICAgLy8gZ2VuZXJhbCBjb2xvciBlbmVyZ3kKICAgICAgICAgIGh1ZVtpXSA9IChodWVbaV0gKyA5MCAqIGZhbGwpICUgMzYwOwogICAgICAgIH0KICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KEUueCwgRS55LCBNYXRoLm1heCgxLCByKjAuNiksIEUueCwgRS55LCByKTsKICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsYSgkeyhwYWxldHRlSHVlKzIwKSUzNjB9LCA5NSUsIDcwJSwgJHswLjM0KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjYsIGBoc2xhKCR7KHBhbGV0dGVIdWUrNjApJTM2MH0sIDk1JSwgNjAlLCAkezAuMjIqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuOTUsIGBoc2xhKCR7KHBhbGV0dGVIdWUrMTAwKSUzNjB9LCA5NSUsIDU1JSwgMClgKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsYSgke3BhbGV0dGVIdWV9LCA5NSUsIDY1JSwgJHswLjI1KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjYsIGBoc2xhKCR7KHBhbGV0dGVIdWUrNDApJTM2MH0sIDk1JSwgNTUlLCAkezAuMTgqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuOSwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs4MCklMzYwfSwgOTUlLCA2MCUsIDApYCk7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsU3R5bGUgPSBnOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMoRS54LCBFLnksIHIsIDAsIE1hdGguUEkqMik7IGN0eC5maWxsKCk7CiAgICAgICAgaWYgKGsgPj0gMSkgZWZmZWN0cy5zcGxpY2UoZSwgMSk7CiAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBJbnRlZ3JhdGUgYW5kIGRyYXcgYm9pZHMgd2l0aCBnbG93IGFuZCB0cmFpbHMKICAgICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gQ0ZHLmJsZW5kOwogICAgICBjdHgubGluZVdpZHRoID0gQ0ZHLmxpbmVXaWR0aDsKICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgICAgLy8gaW50ZWdyYXRlCiAgICAgICAgICBpZiAoaml0QW1wW2ldID4gMC4wMDAxKSB7IGF4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAwLjIgKiBqaXRBbXBbaV07IGF5W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAwLjIgKiBqaXRBbXBbaV07IH0KICAgICAgICAgIHZ4W2ldICs9IGF4W2ldOyB2eVtpXSArPSBheVtpXTsKICAgICAgICAgIGNvbnN0IHZNYXggPSBDRkcubWF4U3BlZWQgKiAoMSArIE1hdGgubWF4KC0wLjcsIHZCb29zdFtpXSkqMC44KTsKICAgICAgICAgIFt2eFtpXSwgdnlbaV1dID0gbGltaXQodnhbaV0sIHZ5W2ldLCB2TWF4KTsKICAgICAgICAgIC8vIGVuZm9yY2UgbWluIHNwZWVkICh3aXRoIGJvb3N0KQogICAgICAgICAgeyBjb25zdCBzcCA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKSB8fCAxOyBjb25zdCB2TWluID0gQ0ZHLm1pblNwZWVkICogKDEgKyBNYXRoLm1heCgwLCB2Qm9vc3RbaV0pKjAuNSk7IGlmIChzcCA8IHZNaW4pIHsgY29uc3QgcyA9IHZNaW4gLyBzcDsgdnhbaV0gKj0gczsgdnlbaV0gKj0gczsgfSB9CiAgICAgICAgICBwcmV2eFtpXSA9IHB4W2ldOyBwcmV2eVtpXSA9IHB5W2ldOwogICAgICAgICAgcHhbaV0gKz0gdnhbaV07IHB5W2ldICs9IHZ5W2ldOwoKICAgICAgICAgIC8vIGJvdW5kYXJpZXMKICAgICAgICAgIGlmIChDRkcud3JhcCkgewogICAgICAgICAgICBpZiAocHhbaV0gPCAtNSkgcHhbaV0gPSBXICsgNTsgZWxzZSBpZiAocHhbaV0gPiBXKzUpIHB4W2ldID0gLTU7CiAgICAgICAgICAgIGlmIChweVtpXSA8IC01KSBweVtpXSA9IEggKyA1OyBlbHNlIGlmIChweVtpXSA+IEgrNSkgcHlbaV0gPSAtNTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChweFtpXSA8IDAgfHwgcHhbaV0gPiBXKSB7IHZ4W2ldID0gLXZ4W2ldOyB9CiAgICAgICAgICAgIGlmIChweVtpXSA8IDAgfHwgcHlbaV0gPiBIKSB7IHZ5W2ldID0gLXZ5W2ldOyB9CiAgICAgICAgICAgIHB4W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oVywgcHhbaV0pKTsKICAgICAgICAgICAgcHlbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihILCBweVtpXSkpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIGRlY2F5IG1vZGlmaWVycyBhbmQgY29tcHV0ZSB0aW50CiAgICAgICAgICB2Qm9vc3RbaV0gKj0gMC45Mjsgc2l6ZU11bFtpXSAqPSAwLjkwOyBodWVPZmZbaV0gKj0gMC45NDsgaml0QW1wW2ldICo9IDAuODg7CiAgICAgICAgICBhbGlnbk11bFtpXSAqPSAwLjk0OyBjb2hlc2lvbk11bFtpXSAqPSAwLjk0OyBzZXBhcmF0aW9uTXVsW2ldICo9IDAuOTQ7CiAgICAgICAgICAvLyBzbG93bHkgZHJpZnQgYm9pZCBodWUgYmFjayB0b3dhcmQgYmFzZSBwYWxldHRlIGh1ZQogICAgICAgICAgaHVlW2ldID0gYXBwcm9hY2hIdWUoaHVlW2ldLCBwYWxldHRlSHVlLCBNYXRoLm1pbigxLCBkdCAqIChDRkcuaHVlUmVsYXggfHwgMC4yKSkpOwogICAgICAgICAgc3BkW2ldID0gTWF0aC5oeXBvdCh2eFtpXSwgdnlbaV0pOwogICAgICAgICAgY29uc3QgTCA9IDUwICsgTWF0aC5taW4oNDUsIHNwZFtpXSo4KTsKICAgICAgICAgIGNvbnN0IFMgPSA4MCArIE1hdGgubWluKDIwLCBzcGRbaV0qNik7CiAgICAgICAgICBjb25zdCBkcmF3SHVlID0gKGh1ZVtpXSArIGh1ZU9mZltpXSkgJSAzNjA7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgaHNsKCR7ZHJhd0h1ZX0sICR7U30lLCAke0x9JSlgOwogICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gYGhzbCgke2RyYXdIdWV9LCA5MCUsIDYwJSlgOwogICAgICAgICAgY29uc3QgZ2xvd1F1YWxpdHkgPSAoZnBzQXZnIDwgNTAgPyAwLjUgOiAxLjApOwogICAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSBnbG93UXVhbGl0eSAqIChDRkcuZ2xvd0Jhc2UgKyBNYXRoLm1pbihDRkcuZ2xvd01heCwgc3BkW2ldKkNGRy5nbG93U2NhbGUpKTsKCiAgICAgICAgICAvLyB0cmFpbCBzZWdtZW50CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjdHgubW92ZVRvKHByZXZ4W2ldLCBwcmV2eVtpXSk7CiAgICAgICAgICBjdHgubGluZVRvKHB4W2ldLCBweVtpXSk7CiAgICAgICAgICBjdHguc3Ryb2tlKCk7CgogICAgICAgICAgLy8gYm9pZCBoZWFkIHNoYXBlCiAgICAgICAgICBjb25zdCBhbmcgPSBNYXRoLmF0YW4yKHZ5W2ldLCB2eFtpXSk7CiAgICAgICAgICBjb25zdCBjYSA9IE1hdGguY29zKGFuZyksIHNhID0gTWF0aC5zaW4oYW5nKTsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBgaHNsKCR7aHVlW2ldfSwgOTUlLCAke0x9JSlgOwogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY29uc3QgcyA9IENGRy5jb21ldFNpemUgKiAoMSArIChzaXplTXVsW2ldfHwwKSk7CiAgICAgICAgICBpZiAoQ0ZHLnNoYXBlID09PSAndHJpYW5nbGUnKSB7CiAgICAgICAgICAgIGNvbnN0IEMyNiA9IDAuODU2ODg4NzUzLCBTMjYgPSAwLjUxNTQ5ODsgLy8gY29zL3NpbigyLjYpCiAgICAgICAgICAgIGNvbnN0IHgwID0gcHhbaV0gKyBjYSpzKjEuNiwgeTAgPSBweVtpXSArIHNhKnMqMS42OwogICAgICAgICAgICBjb25zdCBjYV9wID0gY2EqQzI2IC0gc2EqUzI2LCBzYV9wID0gc2EqQzI2ICsgY2EqUzI2OwogICAgICAgICAgICBjb25zdCBjYV9tID0gY2EqQzI2ICsgc2EqUzI2LCBzYV9tID0gc2EqQzI2IC0gY2EqUzI2OwogICAgICAgICAgICBjdHgubW92ZVRvKHgwLCB5MCk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9wKnMsICBweVtpXSArIHNhX3Aqcyk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9tKnMsICBweVtpXSArIHNhX20qcyk7CiAgICAgICAgICB9IGVsc2UgaWYgKENGRy5zaGFwZSA9PT0gJ29yYicpIHsKICAgICAgICAgICAgY3R4LmFyYyhweFtpXSwgcHlbaV0sIHMqMC42LCAwLCBNYXRoLlBJKjIpOwogICAgICAgICAgfSBlbHNlIHsgLy8gc3BhcmsKICAgICAgICAgICAgY29uc3QgQzAyID0gMC45ODAwNjY2LCBTMDIgPSAwLjE5ODY2OTM7IC8vIGNvcy9zaW4oMC4yKQogICAgICAgICAgICBjb25zdCB4aCA9IHB4W2ldICsgY2EqcyoxLjgsIHloID0gcHlbaV0gKyBzYSpzKjEuODsKICAgICAgICAgICAgY29uc3QgY2FfcDAyID0gY2EqQzAyIC0gc2EqUzAyLCBzYV9wMDIgPSBzYSpDMDIgKyBjYSpTMDI7CiAgICAgICAgICAgIGNvbnN0IGNhX20wMiA9IGNhKkMwMiArIHNhKlMwMiwgc2FfbTAyID0gc2EqQzAyIC0gY2EqUzAyOwogICAgICAgICAgICBjdHgubW92ZVRvKHhoLCB5aCk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9wMDIqcyowLjYsICBweVtpXSArIHNhX3AwMipzKjAuNik7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9tMDIqcyowLjYsICBweVtpXSArIHNhX20wMipzKjAuNik7CiAgICAgICAgICB9CiAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7IGN0eC5maWxsKCk7CiAgICAgICAgfQogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIFF1YWR0cmVlIHZpc3VhbGl6YXRpb24gKGRlZmF1bHQgb24pCiAgICAgICAgaWYgKENGRy5xdCkgcXQuZHJhdyhjdHgpOwoKICAgICAgICAvLyBIVUQKICAgICAgICBodWRFbC5pbm5lckhUTUwgPSBgPHN0cm9uZz5Cb2lkczwvc3Ryb25nPiDCtyBOPSR7Tn0gdmlzaW9uPSR7Q0ZHLnZpc2lvbn0gc2VwPSR7Q0ZHLnNlcH0gYCArCiAgICAgICAgICBgwrcgcXRDYXA9JHtDRkcucXRDYXB9IMK3IGh1ZT0ke3BhbGV0dGVIdWV9IMK3IHF0Vml6PSR7Q0ZHLnF0Pydvbic6J29mZid9IMK3IGNsaWNrPSR7Q0ZHLmNsaWNrTW9kZX0gwrcgZnBzPSR7ZnBzQXZnLnRvRml4ZWQoMCl9YDsKCiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKICAgICAgfQogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpOwoKICAgICAgLy8gQ29uZmlnIFVJIGJ1aWxkIGFuZCB3aXJpbmcKICAgICAgY29uc3QgY2ZnQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmZ0J0bicpOwogICAgICBjb25zdCBjZmdDbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdDbG9zZScpOwogICAgICBjb25zdCBjZmdQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maWcnKTsKICAgICAgY29uc3QgY2ZnQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maWdCb2R5Jyk7CiAgICAgIGNmZ0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNmZ1BhbmVsLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJykpOwogICAgICBjZmdDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNmZ1BhbmVsLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywnJykpOwoKICAgICAgY29uc3Qgc2NoZW1hID0gWwogICAgICAgIHtrZXk6J2h1ZScsIGxhYmVsOidIdWUnLCB0eXBlOidpbnQnLCBtaW46MCwgbWF4OjM2MCwgc3RlcDoxLCB2YWx1ZTpCQVNFX0hVRX0sCiAgICAgICAge2tleTonaGVhZGVyJywgbGFiZWw6J0hlYWRlcicsIHR5cGU6J3RleHQnLCB2YWx1ZTpIRUFERVJ9LAogICAgICAgIHtrZXk6J3N1YmhlYWRlcicsIGxhYmVsOidTdWJoZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6U1VCSEVBREVSfSwKICAgICAgICB7a2V5OidxdCcsIGxhYmVsOidTaG93IFF1YWR0cmVlJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3Nob3dIdWQnLCBsYWJlbDonU2hvdyBIVUQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc3Bhd24nLCBsYWJlbDonU3Bhd24nLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsncmFuZG9tJywnY2lyY2xlJywnZ3JpZCcsJ2NlbnRlcmJ1cnN0J119LAogICAgICAgIHtrZXk6J2NvdW50JywgbGFiZWw6J0NvdW50JywgdHlwZTonaW50JywgbWluOjUwLCBtYXg6MTAwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5Oid2aXNpb24nLCBsYWJlbDonVmlzaW9uJywgdHlwZTonaW50JywgbWluOjIwLCBtYXg6MjAwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3NlcCcsIGxhYmVsOidTZXBhcmF0aW9uIERpc3QnLCB0eXBlOidpbnQnLCBtaW46NCwgbWF4OjgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J21heFNwZWVkJywgbGFiZWw6J01heCBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLjEsIG1heDoxMiwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21pblNwZWVkJywgbGFiZWw6J01pbiBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLjAsIG1heDo2LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonbWF4Rm9yY2UnLCBsYWJlbDonTWF4IFN0ZWVyaW5nIEZvcmNlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAxLCBtYXg6MC41LCBzdGVwOjAuMDAxfSwKICAgICAgICB7a2V5OidhbGlnblcnLCBsYWJlbDonQWxpZ24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J2NvaGVzaW9uVycsIGxhYmVsOidDb2hlc2lvbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonc2VwYXJhdGlvblcnLCBsYWJlbDonU2VwYXJhdGlvbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTondHJhaWxBbHBoYScsIGxhYmVsOidUcmFpbCBBbHBoYScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6MSwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidxdENhcCcsIGxhYmVsOidRdWFkdHJlZSBDYXBhY2l0eScsIHR5cGU6J2ludCcsIG1pbjoyLCBtYXg6MzIsIHN0ZXA6MX0sCiAgICAgICAge2tleTond3JhcCcsIGxhYmVsOidXcmFwIEJvdW5kcycsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaGFwZScsIGxhYmVsOidTaGFwZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6Wyd0cmlhbmdsZScsJ3NwYXJrJywnb3JiJ119LAogICAgICAgIHtrZXk6J2JsZW5kJywgbGFiZWw6J0JsZW5kJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ2xpZ2h0ZXInLCdzY3JlZW4nLCdvdmVybGF5JywncGx1cy1saWdodGVyJ119LAogICAgICAgIHtrZXk6J2xpbmVXaWR0aCcsIGxhYmVsOidMaW5lIFdpZHRoJywgdHlwZTonbnVtYmVyJywgbWluOjAuMiwgbWF4OjQsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidnbG93QmFzZScsIGxhYmVsOidHbG93IEJhc2UnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjYwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2dsb3dNYXgnLCBsYWJlbDonR2xvdyBNYXgnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2dsb3dTY2FsZScsIGxhYmVsOidHbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0MCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2NvbWV0U2l6ZScsIGxhYmVsOidDb21ldCBTaXplJywgdHlwZTonbnVtYmVyJywgbWluOjEsIG1heDoyMCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2JnR3JhZGllbnQnLCBsYWJlbDonQkcgR3JhZGllbnQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDEnLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDEnLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MicsIGxhYmVsOidCRyBIdWUgU2hpZnQgMicsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQzJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAzJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZmxvdycsIGxhYmVsOidGbG93IEZpZWxkJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2Zsb3dBbXAnLCBsYWJlbDonRmxvdyBBbXAnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wNX0sCiAgICAgICAge2tleTonZmxvd1NjYWxlJywgbGFiZWw6J0Zsb3cgU2NhbGUnLCB0eXBlOidudW1iZXInLCBtaW46MC4wMDA1LCBtYXg6MC4wMiwgc3RlcDowLjAwMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTcGVlZCcsIGxhYmVsOidGbG93IFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDozLCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J2NsaWNrTW9kZScsIGxhYmVsOidDbGljayBNb2RlJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknXX0sCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBtYWtlUm93KGxhYmVsLCBpbnB1dCkgewogICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyByb3cuY2xhc3NOYW1lID0gJ3Jvdyc7CiAgICAgICAgY29uc3QgbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7IGwudGV4dENvbnRlbnQgPSBsYWJlbDsgcm93LmFwcGVuZENoaWxkKGwpOwogICAgICAgIHJvdy5hcHBlbmRDaGlsZChpbnB1dCk7IHJldHVybiByb3c7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFkZElucHV0KGl0ZW0pIHsKICAgICAgICBsZXQgaW5wdXQ7CiAgICAgICAgY29uc3QgdjAgPSAoaXRlbS5rZXkgaW4gQ0ZHKSA/IENGR1tpdGVtLmtleV0gOiBpdGVtLnZhbHVlOwogICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdib29sJykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdjaGVja2JveCc7IGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQuY2hlY2tlZDsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIENGR1tpdGVtLmtleV0pOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3NlbGVjdCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7CiAgICAgICAgICBmb3IgKGNvbnN0IG9wdCBvZiBpdGVtLm9wdGlvbnMpIHsgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOyBvLnZhbHVlPW9wdDsgby50ZXh0Q29udGVudD1vcHQ7IGlmIChvcHQ9PT12MCkgby5zZWxlY3RlZD10cnVlOyBpbnB1dC5hcHBlbmRDaGlsZChvKTsgfQogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IENGR1tpdGVtLmtleV0gPSBpbnB1dC52YWx1ZTsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIENGR1tpdGVtLmtleV0pOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3RleHQnOyBpbnB1dC52YWx1ZSA9IFN0cmluZyh2MHx8JycpOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlmIChpdGVtLmtleT09PSdoZWFkZXInKSB7IHRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ua2V5PT09J3N1YmhlYWRlcicpIHsgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseUNoYW5nZShpdGVtLmtleSwgaW5wdXQudmFsdWUpOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ua2V5ID09PSAnaHVlJykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdyYW5nZSc7IGlucHV0Lm1pbj0nMCc7IGlucHV0Lm1heD0nMzYwJzsgaW5wdXQuc3RlcD0nMSc7IGlucHV0LnZhbHVlPVN0cmluZyh2MCk7CiAgICAgICAgICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBudW1iZXIudHlwZT0nbnVtYmVyJzsgbnVtYmVyLm1pbj0nMCc7IG51bWJlci5tYXg9JzM2MCc7IG51bWJlci5zdGVwPScxJzsgbnVtYmVyLnZhbHVlPVN0cmluZyh2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgbnVtYmVyLnZhbHVlPWlucHV0LnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZT1udW1iZXIudmFsdWU7IGh1ZUNoYW5nZWQocGFyc2VJbnQobnVtYmVyLnZhbHVlKSk7IH0pOwogICAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyB3cmFwLmNsYXNzTmFtZT0ncmFuZ2VSb3cnOyB3cmFwLmFwcGVuZENoaWxkKGlucHV0KTsgd3JhcC5hcHBlbmRDaGlsZChudW1iZXIpOwogICAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIHdyYXApKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGZ1bmN0aW9uIGh1ZUNoYW5nZWQodmFsKXsKICAgICAgICAgICAgLy8gc2hpZnQgcGFsZXR0ZSBpbW1lZGlhdGVseQogICAgICAgICAgICBjb25zdCBkZWx0YSA9ICh2YWwgLSBwYWxldHRlSHVlKTsKICAgICAgICAgICAgcGFsZXR0ZUh1ZSA9IHZhbDsKICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgaHVlW2ldID0gKGh1ZVtpXSArIGRlbHRhKSAlIDM2MDsgfQogICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3ZhbH0sIDg1JSwgNjIlKWApOwogICAgICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKHtodWU6U3RyaW5nKHZhbCl9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgeyAvLyBudW1lcmljIChyYW5nZSArIG51bWJlciBwYWlyKQogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdyYW5nZSc7IGlucHV0LnN0ZXA9U3RyaW5nKGl0ZW0uc3RlcHx8MSk7CiAgICAgICAgICBpZiAoaXRlbS5taW4hPW51bGwpIGlucHV0Lm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIGlucHV0Lm1heD1TdHJpbmcoaXRlbS5tYXgpOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBudW1iZXIubWluPVN0cmluZyhpdGVtLm1pbik7IGlmIChpdGVtLm1heCE9bnVsbCkgbnVtYmVyLm1heD1TdHJpbmcoaXRlbS5tYXgpOwogICAgICAgICAgaW5wdXQudmFsdWUgPSBTdHJpbmcodjApOyBudW1iZXIudmFsdWUgPSBTdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZSA9IGlucHV0LnZhbHVlOyBudW1DaGFuZ2VkKHBhcnNlRmxvYXQoaW5wdXQudmFsdWUpKTsgfSk7CiAgICAgICAgICBudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlucHV0LnZhbHVlID0gbnVtYmVyLnZhbHVlOyBudW1DaGFuZ2VkKHBhcnNlRmxvYXQobnVtYmVyLnZhbHVlKSk7IH0pOwogICAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyB3cmFwLmNsYXNzTmFtZT0ncmFuZ2VSb3cnOyB3cmFwLmFwcGVuZENoaWxkKGlucHV0KTsgd3JhcC5hcHBlbmRDaGlsZChudW1iZXIpOwogICAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIHdyYXApKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGZ1bmN0aW9uIG51bUNoYW5nZWQodmFsKXsgQ0ZHW2l0ZW0ua2V5XSA9IHZhbDsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIHZhbCk7IH0KICAgICAgICB9CiAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIGlucHV0KSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFwcGx5Q2hhbmdlKGtleSwgdmFsdWUpIHsKICAgICAgICBpZiAoa2V5ID09PSAnY291bnQnIHx8IGtleSA9PT0gJ3NwYXduJykgeyByZXNlZWQoQ0ZHLmNvdW50KTsgfQogICAgICAgIGlmIChrZXkgPT09ICdxdCcpIHsgLyogaW1tZWRpYXRlIGRyYXcgdG9nZ2xlIHZpYSBDRkcgKi8gfQogICAgICAgIGlmIChrZXkgPT09ICdzaG93SHVkJykgeyBodWRFbC5zdHlsZS5kaXNwbGF5ID0gQ0ZHLnNob3dIdWQgPyAnJyA6ICdub25lJzsgfQogICAgICAgIHVwZGF0ZVVybEZyb21DZmcoKTsKICAgICAgfQoKICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNjaGVtYSkgYWRkSW5wdXQoaXRlbSk7CiAgICAgIC8vIGluaXRpYWwgSFVEIHZpc2liaWxpdHkKICAgICAgaHVkRWwuc3R5bGUuZGlzcGxheSA9IChDRkcuc2hvd0h1ZD09PWZhbHNlKSA/ICdub25lJyA6ICcnOwoKICAgICAgLy8ga2V5Ym9hcmQgdG9nZ2xlcyAoYWZ0ZXIgYnVpbGRpbmcgcGFuZWwpCiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gewogICAgICAgIGNvbnN0IGsgPSBlLmtleS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChrID09PSAncScpIHsgQ0ZHLnF0ID0gIUNGRy5xdDsgdXBkYXRlVXJsRnJvbUNmZygpOyB9CiAgICAgICAgaWYgKGsgPT09ICdjJykgeyBjZmdQYW5lbC50b2dnbGVBdHRyaWJ1dGUoJ2hpZGRlbicpOyB9CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgIDwvc2NyaXB0PgogIDwvYm9keT4KPC9odG1sPgo=" download="boids-dod-quadtree-1-impl.html" class="download-btn" title="Download boids-dod-quadtree-1-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=304 · spawn=random · wrap · spark · plus-lighter · hue=148 · qtCap=6 · flow" data-filename="boids-dod-quadtree-3-impl.html"><a href="boids-dod-quadtree-3-impl.html" target="viewer"><strong>Boids DOD+QT · N=304 · spawn=random · wrap · spark · plus-lighter · hue=148 · qtCap=6 · flow</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTMwNCDCtyBzcGF3bj1yYW5kb20gwrcgd3JhcCDCtyBzcGFyayDCtyBwbHVzLWxpZ2h0ZXIgwrcgaHVlPTE0OCDCtyBxdENhcD02IMK3IGZsb3c8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICBodG1sLCBib2R5IHsgaGVpZ2h0OiAxMDAlOyBtYXJnaW46IDA7IH0KICAgICAgYm9keSB7CiAgICAgICAgYmFja2dyb3VuZDogIzA1MDcwYTsKICAgICAgICBjb2xvcjogI2U2ZWRmMzsKICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIGZvbnQtZmFtaWx5OiB1aS1zYW5zLXNlcmlmLCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIFNlZ29lIFVJLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsICJBcHBsZSBDb2xvciBFbW9qaSIsICJTZWdvZSBVSSBFbW9qaSI7CiAgICAgIH0KICAgICAgI3NjZW5lIHsgZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMDB2dzsgaGVpZ2h0OiAxMDB2aDsgfQogICAgICAub3ZlcmxheSB7IHBvc2l0aW9uOiBmaXhlZDsgaW5zZXQ6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gMWZyIGF1dG87IH0KICAgICAgLnRpdGxlIHsgbWFyZ2luOiAxOHB4IDIwcHggMnB4OyBmb250LXdlaWdodDogNzAwOyBmb250LXNpemU6IGNsYW1wKDE4cHgsIDN2dywgMjhweCk7IGxldHRlci1zcGFjaW5nOiAwLjJweDsgY29sb3I6IHZhcigtLWFjY2VudCwgIzdkZDNmYyk7IHRleHQtc2hhZG93OiAwIDAgMTBweCBjb2xvci1taXgoaW4gb2tsYWIsIHZhcigtLWFjY2VudCwgIzdkZDNmYykgODAlLCAjMDAwIDIwJSk7IH0KICAgICAgLnN1YnRpdGxlIHsgbWFyZ2luOiAwIDIwcHggMTBweDsgZm9udC13ZWlnaHQ6IDUwMDsgZm9udC1zaXplOiBjbGFtcCgxMnB4LCAydncsIDE2cHgpOyBvcGFjaXR5OiAwLjg1OyB9CiAgICAgIC5odWQgeyBwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IDEycHg7IGJvdHRvbTogMTJweDsgcGFkZGluZzogOHB4IDEwcHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA0MDsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoOHB4KSBzYXR1cmF0ZSgxMjAlKTsgZm9udC1zaXplOiAxMnB4OyBsaW5lLWhlaWdodDogMS40OyB9CiAgICAgIC5odWQgc3Ryb25nIHsgY29sb3I6IHZhcigtLWFjY2VudCwgIzdkZDNmYyk7IH0KICAgICAgLmNmZ0J0biB7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAxMnB4OyByaWdodDogMTJweDsgei1pbmRleDogMTA7IHBvaW50ZXItZXZlbnRzOiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJhY2tncm91bmQ6ICMwYjEyMjBjYzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlci1yYWRpdXM6IDhweDsgcGFkZGluZzogNnB4IDhweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgIC5jb25maWdQYW5lbCB7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiA1NnB4OyByaWdodDogMTJweDsgd2lkdGg6IG1pbigzODBweCwgOTB2dyk7IG1heC1oZWlnaHQ6IDgwdmg7IG92ZXJmbG93OiBhdXRvOyB6LWluZGV4OiAyMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJhY2tncm91bmQ6ICMwYjEyMjBlNjsgY29sb3I6ICNlNmVkZjM7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYm9yZGVyLXJhZGl1czogMTBweDsgYm94LXNoYWRvdzogMCAxMHB4IDQwcHggIzAwMDg7IGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KSBzYXR1cmF0ZSgxMjAlKTsgfQogICAgICAuY29uZmlnSGVhZGVyIHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBwYWRkaW5nOiAxMHB4IDEycHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMDAwMDAwNTU7IHBvc2l0aW9uOiBzdGlja3k7IHRvcDogMDsgYmFja2dyb3VuZDogIzBiMTIyMGYyOyB9CiAgICAgIC5jb25maWdCb2R5IHsgcGFkZGluZzogMTBweCAxMnB4OyBkaXNwbGF5OiBncmlkOyBnYXA6IDEwcHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJvdyB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIGF1dG87IGdhcDogOHB4OyBhbGlnbi1pdGVtczogY2VudGVyOyB9CiAgICAgIC5jb25maWdCb2R5IC5yYW5nZVJvdyB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDcycHg7IGdhcDogOHB4OyB9CiAgICAgIC5jZmdDbG9zZSB7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzEyMWEyYmNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogNnB4OyBwYWRkaW5nOiA0cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXQsIC5jb25maWdCb2R5IHNlbGVjdCB7IGZvbnQtc2l6ZTogMTRweDsgcGFkZGluZzogNnB4IDhweDsgYmFja2dyb3VuZDogIzEwMTgyNzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYm9yZGVyLXJhZGl1czogNnB4OyB9CiAgICAgIC5jb25maWdCb2R5IGlucHV0W3R5cGU9cmFuZ2VdIHsgcGFkZGluZzogMDsgaGVpZ2h0OiAyOHB4OyBhY2NlbnQtY29sb3I6IHZhcigtLWFjY2VudCwgIzdkZDNmYyk7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyB9CiAgICA8L3N0eWxlPgogIDwvaGVhZD4KICA8Ym9keT4KICAgIDxjYW52YXMgaWQ9InNjZW5lIj48L2NhbnZhcz4KICAgIDxkaXYgY2xhc3M9Im92ZXJsYXkiPgogICAgICA8ZGl2IGNsYXNzPSJ0aXRsZSIgaWQ9InRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ic3VidGl0bGUiIGlkPSJzdWJ0aXRsZSI+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9Imh1ZCIgaWQ9Imh1ZCI+PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxidXR0b24gaWQ9ImNmZ0J0biIgY2xhc3M9ImNmZ0J0biIgYXJpYS1sYWJlbD0iT3BlbiBjb25maWciPuKame+4jjwvYnV0dG9uPgogICAgPGRpdiBpZD0iY29uZmlnIiBjbGFzcz0iY29uZmlnUGFuZWwiIGhpZGRlbj4KICAgICAgPGRpdiBjbGFzcz0iY29uZmlnSGVhZGVyIj4KICAgICAgICA8c3Ryb25nPkNvbmZpZzwvc3Ryb25nPgogICAgICAgIDxidXR0b24gaWQ9ImNmZ0Nsb3NlIiBjbGFzcz0iY2ZnQ2xvc2UiIGFyaWEtbGFiZWw9IkNsb3NlIj7inJU8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgaWQ9ImNvbmZpZ0JvZHkiIGNsYXNzPSJjb25maWdCb2R5Ij48L2Rpdj4KICAgIDwvZGl2PgogICAgPHNjcmlwdD4KICAgICAgJ3VzZSBzdHJpY3QnOwoKICAgICAgLy8gVVJMIHBhcmFtZXRlcnMKICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpOwogICAgICBjb25zdCBERUZBVUxUX0hVRSA9IDE0ODsKICAgICAgY29uc3QgQkFTRV9IVUUgPSBjbGFtcEludChwYXJzZUludChwYXJhbXMuZ2V0KCdodWUnKSksIDAsIDM2MCwgREVGQVVMVF9IVUUpOwogICAgICBsZXQgcGFsZXR0ZUh1ZSA9IEJBU0VfSFVFOwogICAgICBjb25zdCBIRUFERVIgPSBwYXJhbXMuZ2V0KCdoZWFkZXInKSB8fCAnQm9pZHMg4oCUIERhdGEtT3JpZW50ZWQgKyBRdWFkdHJlZSc7CiAgICAgIGNvbnN0IFNVQkhFQURFUiA9IHBhcmFtcy5nZXQoJ3N1YmhlYWRlcicpIHx8ICdTaG9ja3dhdmVzIG9uIGNsaWNrL2RyYWcgwrcgcXVhZHRyZWUgdml6IG9uJzsKICAgICAgLy8gUXVhZHRyZWUgdml6IGlzIGhhbmRsZWQgYnkgQ0ZHLnF0OyBVUkwgcGFyYW0gJ3F0JyBvdmVycmlkZXMgaXQuCgogICAgICAvLyBET00KICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjZW5lJyk7CiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pOwogICAgICBjb25zdCB0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJyk7CiAgICAgIGNvbnN0IHN1YnRpdGxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VidGl0bGUnKTsKICAgICAgY29uc3QgaHVkRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHVkJyk7CgogICAgICAvLyBTdHlsZSBob29rCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQnLCBgaHNsKCR7cGFsZXR0ZUh1ZX0sIDg1JSwgNjIlKWApOwogICAgICB0aXRsZUVsLnRleHRDb250ZW50ID0gSEVBREVSOwogICAgICBzdWJ0aXRsZUVsLnRleHRDb250ZW50ID0gU1VCSEVBREVSOwoKICAgICAgLy8gQ29uZmlnIChpbmplY3RlZCBieSBnZW5lcmF0b3IpIOKAlCBtdXRhYmxlIGF0IHJ1bnRpbWUKICAgICAgbGV0IENGRyA9IHsiY291bnQiOiAzMDQsICJ2aXNpb24iOiAxMTMsICJzZXAiOiAyMywgIm1heFNwZWVkIjogMy43NywgIm1heEZvcmNlIjogMC4wODIsICJtaW5TcGVlZCI6IDAuOTgsICJhbGlnblciOiAxLjA1LCAiY29oZXNpb25XIjogMC44MiwgInNlcGFyYXRpb25XIjogMS44OCwgInRyYWlsQWxwaGEiOiAwLjE3LCAicXRDYXAiOiA2LCAid3JhcCI6IHRydWUsICJzaGFwZSI6ICJzcGFyayIsICJibGVuZCI6ICJwbHVzLWxpZ2h0ZXIiLCAibGluZVdpZHRoIjogMi4wOCwgImdsb3dCYXNlIjogMTksICJnbG93TWF4IjogMzgsICJnbG93U2NhbGUiOiA3LjQsICJjb21ldFNpemUiOiA3LjcyLCAiYmdHcmFkaWVudCI6IHRydWUsICJiZ0h1ZVNoaWZ0MSI6IDIzLCAiYmdIdWVTaGlmdDIiOiAyNiwgImJnSHVlU2hpZnQzIjogMTEwLCAic3Bhd24iOiAicmFuZG9tIiwgInF0IjogdHJ1ZSwgInNob3dIdWQiOiB0cnVlLCAiZmxvdyI6IHRydWUsICJmbG93QW1wIjogMC44NywgImZsb3dTY2FsZSI6IDAuMDAzMywgImZsb3dTcGVlZCI6IDEuMjEsICJjbGlja01vZGUiOiAicmFuZG9tIn07CiAgICAgIENGRy5taW5TcGVlZCA9IENGRy5taW5TcGVlZCA/PyAwLjg7CiAgICAgIENGRy5xdCA9ICh0eXBlb2YgQ0ZHLnF0ID09PSAnYm9vbGVhbicpID8gQ0ZHLnF0IDogdHJ1ZTsKICAgICAgQ0ZHLmNsaWNrTW9kZSA9IENGRy5jbGlja01vZGUgfHwgJ3JhbmRvbSc7CiAgICAgIENGRy5jbGlja01vZGVzID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWwogICAgICAgICdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5Jywnc3R1bicsJ2ZlYXInLCdhdHRyYWN0Jywnb3JiaXRDVycsJ29yYml0Q0NXJywKICAgICAgICAnc3BpcmFsT3V0Jywnc3BpcmFsSW4nLCdmcmVlemUnLCdzY3JhbWJsZScsJ3NjYXR0ZXInLCdtYWduZXQnLCdwdWxzZScsCiAgICAgICAgJ3dhcnAnLCdncm93JywndHVubmVsJywncmlwcGxlJywnaml0dGVyYnVyc3QnLCdjaHJvbWFidXJzdCcsJ3Nsb3dkb3duJywnc3BlZWR1cCcsCiAgICAgICAgJ3BlcmxpbkRyYWcnLCdsaXNzYVB1bHNlJywnbWV0ZW9yJywKICAgICAgICAvLyBzdGVlcmluZy13ZWlnaHQgZWZmZWN0cwogICAgICAgICdhbGlnbicsJ2RlYWxpZ24nLCdjb2hlcmUnLCdsb29zZW4nLCdzZXBhcmF0ZScsJ2Rpc3BlcnNlJwogICAgICBdOwoKICAgICAgZnVuY3Rpb24gcGFyc2VCb29sKHYsIGQpIHsKICAgICAgICBpZiAodiA9PSBudWxsKSByZXR1cm4gZDsKICAgICAgICBjb25zdCBzID0gU3RyaW5nKHYpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKFsnMScsJ3RydWUnLCd5ZXMnLCdvbiddLmluY2x1ZGVzKHMpKSByZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAoWycwJywnZmFsc2UnLCdubycsJ29mZiddLmluY2x1ZGVzKHMpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIGQ7CiAgICAgIH0KCiAgICAgIC8vIFVSTCBvdmVycmlkZXMgZm9yIGNvbmZpZwogICAgICAoZnVuY3Rpb24gdXJsT3ZlcnJpZGUoKXsKICAgICAgICBjb25zdCBpbnRLZXlzID0gWydjb3VudCcsJ3Zpc2lvbicsJ3NlcCcsJ3F0Q2FwJywnYmdIdWVTaGlmdDEnLCdiZ0h1ZVNoaWZ0MicsJ2JnSHVlU2hpZnQzJ107CiAgICAgICAgY29uc3QgbnVtS2V5cyA9IFsnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCddOwogICAgICAgIGNvbnN0IGJvb2xLZXlzID0gWyd3cmFwJywnYmdHcmFkaWVudCcsJ3F0JywnZmxvdycsJ3Nob3dIdWQnXTsKICAgICAgICBjb25zdCBzdHJLZXlzID0gWydzaGFwZScsJ2JsZW5kJywnc3Bhd24nXTsKICAgICAgICBmb3IgKGNvbnN0IGsgb2YgaW50S2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBNYXRoLm1heCgtOTk5OTksIE1hdGgubWluKDk5OTk5LCBwYXJzZUludCh2KSkpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIG51bUtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gTnVtYmVyKHYpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGJvb2xLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IHBhcnNlQm9vbCh2LCBDRkdba10pOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIHN0cktleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gdjsgfQogICAgICAgIGNvbnN0IGNtID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlJyk7IGlmIChjbSkgQ0ZHLmNsaWNrTW9kZSA9IGNtOwogICAgICAgIGNvbnN0IGNtcyA9IHBhcmFtcy5nZXQoJ2NsaWNrTW9kZXMnKTsgaWYgKGNtcykgQ0ZHLmNsaWNrTW9kZXMgPSBjbXMuc3BsaXQoJywnKTsKICAgICAgfSkoKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVVybEZyb21DZmcoZXh0cmE9e30pIHsKICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdodWUnLCBwYWxldHRlSHVlKTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaGVhZGVyJywgdGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N1YmhlYWRlcicsIHN1YnRpdGxlRWwudGV4dENvbnRlbnQpOwogICAgICAgIGNvbnN0IGtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywncXRDYXAnLCd3cmFwJywnc2hhcGUnLCdibGVuZCcsJ2xpbmVXaWR0aCcsJ2dsb3dCYXNlJywnZ2xvd01heCcsJ2dsb3dTY2FsZScsJ2NvbWV0U2l6ZScsJ2JnR3JhZGllbnQnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnLCdxdCcsJ2NsaWNrTW9kZScsJ2NsaWNrTW9kZXMnLCdmbG93JywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCcsJ3NwYXduJywnc2hvd0h1ZCddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB1cmwuc2VhcmNoUGFyYW1zLnNldChrLCBTdHJpbmcoQ0ZHW2tdKSk7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGVzICYmIEFycmF5LmlzQXJyYXkoQ0ZHLmNsaWNrTW9kZXMpKSB1cmwuc2VhcmNoUGFyYW1zLnNldCgnY2xpY2tNb2RlcycsIENGRy5jbGlja01vZGVzLmpvaW4oJywnKSk7CiAgICAgICAgZm9yIChjb25zdCBbayx2XSBvZiBPYmplY3QuZW50cmllcyhleHRyYSkpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIHYpOwogICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsICcnLCB1cmwudG9TdHJpbmcoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IFRBVSA9IE1hdGguUEkgKiAyOwoKICAgICAgLy8gQ2FudmFzIHNpemluZyB3aXRoIERQUgogICAgICBsZXQgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgICAgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3IoaW5uZXJXaWR0aCAqIERQUik7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IoaW5uZXJIZWlnaHQgKiBEUFIpOwogICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oRFBSLCAwLCAwLCBEUFIsIDAsIDApOwogICAgICAgIGNsZWFySGFyZCgpOwogICAgICB9CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZSk7CiAgICAgIHJlc2l6ZSgpOwoKICAgICAgZnVuY3Rpb24gY2xlYXJIYXJkKCkgewogICAgICAgIGlmIChDRkcuYmdHcmFkaWVudCkgewogICAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChpbm5lcldpZHRoKjAuNjUsIGlubmVySGVpZ2h0KjAuMzUsIE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjE1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lcldpZHRoKjAuNSwgaW5uZXJIZWlnaHQqMC41LCBNYXRoLmh5cG90KGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjcpOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQxKSUzNjB9IDgwJSAxMCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjUsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDIpJTM2MH0gNzAlIDglKWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMS4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQzKSUzNjB9IDYwJSA2JSlgKTsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwNTA3MGEnOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBjbGFtcEludChuLCBsbywgaGksIGZhbGxiYWNrKSB7CiAgICAgICAgbiA9IE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiBmYWxsYmFjazsKICAgICAgICByZXR1cm4gTWF0aC5tYXgobG8sIE1hdGgubWluKGhpLCBuKSk7CiAgICAgIH0KCiAgICAgIC8vIERyaWZ0IGEgaHVlIHZhbHVlIHRvd2FyZCBhIHRhcmdldCBvbiBhIGNpcmN1bGFyIGNvbG9yIHdoZWVsCiAgICAgIGZ1bmN0aW9uIGFwcHJvYWNoSHVlKGgsIHRhcmdldCwgcmF0ZSkgewogICAgICAgIC8vIHJhdGUgaXMgMC4uMSBmcmFjdGlvbiB0b3dhcmQgdGFyZ2V0IHBlciBjYWxsCiAgICAgICAgbGV0IGQgPSAoKHRhcmdldCAtIGggKyA1NDApICUgMzYwKSAtIDE4MDsgLy8gc2hvcnRlc3Qgc2lnbmVkIGRlbHRhIFstMTgwLDE4MCkKICAgICAgICByZXR1cm4gKGggKyBkICogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcmF0ZSkpICsgMzYwKSAlIDM2MDsKICAgICAgfQoKICAgICAgLy8gTGlnaHR3ZWlnaHQgMkQgdmFsdWUgbm9pc2UgKGZvciBwZXJsaW4tbGlrZSBkcmFnKQogICAgICBsZXQgbm9pc2VTZWVkID0gKEJBU0VfSFVFICogMTY2NDUyNSArIDEwMTM5MDQyMjMpICYgMHhmZmZmZmZmZjsKICAgICAgZnVuY3Rpb24gZnJhY3QoeCl7IHJldHVybiB4IC0gTWF0aC5mbG9vcih4KTsgfQogICAgICBmdW5jdGlvbiBfcmFuZChpeCwgaXkpewogICAgICAgIGNvbnN0IGsgPSAoaXggKiAzNzQ3NjEzOTMgKyBpeSAqIDY2ODI2NTI2MyArIG5vaXNlU2VlZCkgPj4+IDA7CiAgICAgICAgcmV0dXJuIGZyYWN0KE1hdGguc2luKGspICogNDM3NTguNTQ1Myk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gbm9pc2UyKHgsIHkpewogICAgICAgIGNvbnN0IHhpID0gTWF0aC5mbG9vcih4KSwgeWkgPSBNYXRoLmZsb29yKHkpOwogICAgICAgIGNvbnN0IHhmID0geCAtIHhpLCB5ZiA9IHkgLSB5aTsKICAgICAgICBjb25zdCB1ID0geGYqeGYqKDMtMip4ZiksIHYgPSB5Zip5ZiooMy0yKnlmKTsKICAgICAgICBjb25zdCB2MDAgPSBfcmFuZCh4aSwgeWkpLCB2MTAgPSBfcmFuZCh4aSsxLCB5aSksIHYwMSA9IF9yYW5kKHhpLCB5aSsxKSwgdjExID0gX3JhbmQoeGkrMSwgeWkrMSk7CiAgICAgICAgY29uc3QgeDEgPSB2MDAqKDEtdSkgKyB2MTAqdSwgeDIgPSB2MDEqKDEtdSkgKyB2MTEqdTsKICAgICAgICByZXR1cm4geDEqKDEtdikgKyB4Mip2OwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHBlcmxpblZlYyh4LCB5LCBzY2FsZSwgYW1wKXsKICAgICAgICBjb25zdCBuID0gbm9pc2UyKHgqc2NhbGUsIHkqc2NhbGUpOwogICAgICAgIGNvbnN0IGEgPSBuICogVEFVOwogICAgICAgIHJldHVybiBbTWF0aC5jb3MoYSkqYW1wLCBNYXRoLnNpbihhKSphbXBdOwogICAgICB9CgogICAgICAvLyBTZWVkZWQgUFJORyBmb3Igc3VidGxlIGRldGVybWluaXNtIGZyb20gQkFTRV9IVUUKICAgICAgbGV0IF9zZWVkID0gKEJBU0VfSFVFICogOTMwMSArIDQ5Mjk3KSAlIDIzMzI4MDsKICAgICAgZnVuY3Rpb24gcm5kKCkgeyBfc2VlZCA9ICgxMTAzNTE1MjQ1ICogX3NlZWQgKyAxMjM0NSkgJiAweDdmZmZmZmZmOyByZXR1cm4gKF9zZWVkID4+PiA4KSAvIDB4N2ZmZmZmOyB9CiAgICAgIGZ1bmN0aW9uIHJhbmQobWluLCBtYXgpIHsgcmV0dXJuIHJuZCgpICogKG1heCAtIG1pbikgKyBtaW47IH0KCiAgICAgIC8vIERhdGEtT3JpZW50ZWQgU3RhdGUgKFNvQSkg4oCUIGR5bmFtaWMKICAgICAgbGV0IE4gPSBDRkcuY291bnQ7CiAgICAgIGxldCBweCwgcHksIHZ4LCB2eSwgYXgsIGF5LCBodWUsIHNwZCwgcHJldngsIHByZXZ5OwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgbW9kaWZpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgc2l6ZU11bCwgdkJvb3N0LCBodWVPZmYsIGppdEFtcDsKICAgICAgLy8gdHJhbnNpZW50IHBlci1ib2lkIHN0ZWVyaW5nIG11bHRpcGxpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgYWxpZ25NdWwsIGNvaGVzaW9uTXVsLCBzZXBhcmF0aW9uTXVsOwoKICAgICAgZnVuY3Rpb24gYWxsb2MobikgewogICAgICAgIHB4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgcHkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHZ4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdnkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGF4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgYXkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGh1ZSA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNwZCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgcHJldnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBwcmV2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgc2l6ZU11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHZCb29zdCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGh1ZU9mZiA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGppdEFtcCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYWxpZ25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBjb2hlc2lvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNlcGFyYXRpb25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzZWVkQm9pZHMoKSB7CiAgICAgICAgY29uc3QgbW9kZSA9IENGRy5zcGF3biB8fCAncmFuZG9tJzsKICAgICAgICBpZiAobW9kZSA9PT0gJ2NpcmNsZScpIHsKICAgICAgICAgIGNvbnN0IGN4ID0gaW5uZXJXaWR0aC8yLCBjeSA9IGlubmVySGVpZ2h0LzIsIHIgPSBNYXRoLm1pbihpbm5lcldpZHRoLCBpbm5lckhlaWdodCkvMzsKICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGNvbnN0IHQgPSBNYXRoLnJhbmRvbSgpKk1hdGguUEkqMjsgcHhbaV09Y3grTWF0aC5jb3ModCkqcjsgcHlbaV09Y3krTWF0aC5zaW4odCkqcjsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2dyaWQnKSB7CiAgICAgICAgICBjb25zdCBjb2xzPU1hdGgubWF4KDEwLCBNYXRoLmZsb29yKE1hdGguc3FydChOKSkpOyBjb25zdCByb3dzPU1hdGguY2VpbChOL2NvbHMpOwogICAgICAgICAgY29uc3QgZ3g9aW5uZXJXaWR0aC8oY29scysxKSwgZ3k9aW5uZXJIZWlnaHQvKHJvd3MrMSk7IGxldCBrPTA7CiAgICAgICAgICBmb3IgKGxldCB5PTE7eTw9cm93czt5KyspIGZvciAobGV0IHg9MTt4PD1jb2xzO3grKykgeyBpZiAoaz49TikgYnJlYWs7IHB4W2tdPWd4Kng7IHB5W2tdPWd5Knk7IHZ4W2tdPXJhbmQoLTEsMSk7IHZ5W2tdPXJhbmQoLTEsMSk7IGsrKzsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2NlbnRlcmJ1cnN0JykgewogICAgICAgICAgY29uc3QgY3g9aW5uZXJXaWR0aC8yLCBjeT1pbm5lckhlaWdodC8yOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgYT1NYXRoLnJhbmRvbSgpKk1hdGguUEkqMiwgZD1yYW5kKDAsIE1hdGgubWluKGlubmVyV2lkdGgsaW5uZXJIZWlnaHQpLzIpOyBweFtpXT1jeCtNYXRoLmNvcyhhKSpkOyBweVtpXT1jeStNYXRoLnNpbihhKSpkOyB2eFtpXT1NYXRoLmNvcyhhKTsgdnlbaV09TWF0aC5zaW4oYSk7IH0KICAgICAgICB9IGVsc2UgeyAvLyByYW5kb20KICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IHB4W2ldPXJhbmQoMCxpbm5lcldpZHRoKTsgcHlbaV09cmFuZCgwLGlubmVySGVpZ2h0KTsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0KICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgICAgY29uc3QgbT1NYXRoLmh5cG90KHZ4W2ldLHZ5W2ldKXx8MTsgdnhbaV0qPTIuMC9tOyB2eVtpXSo9Mi4wL207CiAgICAgICAgICBodWVbaV0gPSAocGFsZXR0ZUh1ZSArIHJhbmQoLTMwLCAzMCkpICUgMzYwOyBwcmV2eFtpXT1weFtpXTsgcHJldnlbaV09cHlbaV07CiAgICAgICAgICBzaXplTXVsW2ldPTA7IHZCb29zdFtpXT0wOyBodWVPZmZbaV09MDsgaml0QW1wW2ldPTA7CiAgICAgICAgICBhbGlnbk11bFtpXT0wOyBjb2hlc2lvbk11bFtpXT0wOyBzZXBhcmF0aW9uTXVsW2ldPTA7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiByZXNlZWQobikgewogICAgICAgIE4gPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKG4pKTsKICAgICAgICBhbGxvYyhOKTsgc2VlZEJvaWRzKCk7CiAgICAgIH0KCiAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKCiAgICAgIC8vIFF1YWR0cmVlIGltcGxlbWVudGF0aW9uCiAgICAgIGNsYXNzIFFUTm9kZSB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCwgY2FwKSB7CiAgICAgICAgICB0aGlzLnggPSB4OyB0aGlzLnkgPSB5OyB0aGlzLncgPSB3OyB0aGlzLmggPSBoOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7IHRoaXMuY291bnQgPSAwOyB0aGlzLmlkeCA9IG5ldyBJbnQzMkFycmF5KGNhcCk7CiAgICAgICAgICB0aGlzLnB0c3ggPSBuZXcgRmxvYXQzMkFycmF5KGNhcCk7IHRoaXMucHRzeSA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMuZGl2aWRlZCA9IGZhbHNlOyB0aGlzLmNoaWxkcmVuID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNsYXNzIFF1YWR0cmVlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMucm9vdCA9IG5ldyBRVE5vZGUoeCwgeSwgdywgaCwgY2FwKTsKICAgICAgICAgIHRoaXMuY2FwID0gY2FwOwogICAgICAgIH0KCiAgICAgICAgaW5zZXJ0KGksIHgsIHksIG5vZGUgPSB0aGlzLnJvb3QpIHsKICAgICAgICAgIGlmICh4IDwgbm9kZS54IHx8IHkgPCBub2RlLnkgfHwgeCA+PSBub2RlLnggKyBub2RlLncgfHwgeSA+PSBub2RlLnkgKyBub2RlLmgpIHJldHVybiBmYWxzZTsKICAgICAgICAgIGlmIChub2RlLmNvdW50IDwgbm9kZS5jYXAgJiYgIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBjb25zdCBqID0gbm9kZS5jb3VudCsrOyBub2RlLmlkeFtqXSA9IGk7IG5vZGUucHRzeFtqXSA9IHg7IG5vZGUucHRzeVtqXSA9IHk7IHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHRoaXMuc3ViZGl2aWRlKG5vZGUpOwogICAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgIH0KCiAgICAgICAgc3ViZGl2aWRlKG5vZGUpIHsKICAgICAgICAgIG5vZGUuZGl2aWRlZCA9IHRydWU7CiAgICAgICAgICBjb25zdCBodyA9IG5vZGUudy8yLCBoaCA9IG5vZGUuaC8yOwogICAgICAgICAgbm9kZS5jaGlsZHJlbiA9IFsKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngsICAgICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5XCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54K2h3LCAgICBub2RlLnksICAgICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBORQogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU1cKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueStoaCwgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIFNFCiAgICAgICAgICBdOwogICAgICAgICAgLy8gcmVpbnNlcnQgZXhpc3RpbmcgcG9pbnRzCiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG5vZGUuY291bnQ7IGsrKykgewogICAgICAgICAgICBjb25zdCBpID0gbm9kZS5pZHhba107IGNvbnN0IHggPSBub2RlLnB0c3hba107IGNvbnN0IHkgPSBub2RlLnB0c3lba107CiAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgICAgfQogICAgICAgICAgbm9kZS5jb3VudCA9IDA7IC8vIGNsZWFyIGxlYWYgc3RvcmFnZQogICAgICAgIH0KCiAgICAgICAgcXVlcnkoY3gsIGN5LCByLCBvdXQpIHsKICAgICAgICAgIHRoaXMuX3F1ZXJ5Tm9kZSh0aGlzLnJvb3QsIGN4LCBjeSwgciwgb3V0KTsKICAgICAgICB9CiAgICAgICAgX3F1ZXJ5Tm9kZShub2RlLCBjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgLy8gY2lyY2xlLXJlY3QgcXVpY2sgcmVqZWN0CiAgICAgICAgICBjb25zdCByeD1ub2RlLngsIHJ5PW5vZGUueSwgcnc9bm9kZS53LCByaD1ub2RlLmg7CiAgICAgICAgICBsZXQgbnggPSBNYXRoLm1heChyeCwgTWF0aC5taW4oY3gsIHJ4K3J3KSk7CiAgICAgICAgICBsZXQgbnkgPSBNYXRoLm1heChyeSwgTWF0aC5taW4oY3ksIHJ5K3JoKSk7CiAgICAgICAgICBjb25zdCBkaXN0ID0gKGN4LW54KSooY3gtbngpKyhjeS1ueSkqKGN5LW55KTsKICAgICAgICAgIGlmIChkaXN0ID4gcipyKSByZXR1cm47CgogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHsKICAgICAgICAgICAgZm9yIChsZXQgaz0wO2s8bm9kZS5jb3VudDtrKyspIHsgb3V0LnB1c2gobm9kZS5pZHhba10pOyB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9xdWVyeU5vZGUobm9kZS5jaGlsZHJlbltjXSwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KCiAgICAgICAgZHJhdyhjdHgpIHsKICAgICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgaHNsKCR7KHBhbGV0dGVIdWUrMTgwKSUzNjB9IDgwJSA3MCUgLyAwLjE0KWA7CiAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTsKICAgICAgICAgIHRoaXMuX2RyYXdOb2RlKGN0eCwgdGhpcy5yb290KTsKICAgICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgfQogICAgICAgIF9kcmF3Tm9kZShjdHgsIG5vZGUpIHsKICAgICAgICAgIGN0eC5zdHJva2VSZWN0KG5vZGUueCwgbm9kZS55LCBub2RlLncsIG5vZGUuaCk7CiAgICAgICAgICBpZiAobm9kZS5kaXZpZGVkKSBmb3IgKGxldCBjPTA7Yzw0O2MrKykgdGhpcy5fZHJhd05vZGUoY3R4LCBub2RlLmNoaWxkcmVuW2NdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHMKICAgICAgY29uc3QgZWZmZWN0cyA9IFtdOyAvLyB7eCx5LHQsbGlmZSxzaWduLHR5cGUsLi4uZXh0cmFzfQogICAgICBsZXQgbW91c2VEb3duID0gZmFsc2U7CiAgICAgIGNvbnN0IHBvaW50ZXIgPSB7eDogaW5uZXJXaWR0aC8yLCB5OiBpbm5lckhlaWdodC8yLCB2eDogMCwgdnk6IDAsIHQ6IHBlcmZvcm1hbmNlLm5vdygpfTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksICsxKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCAgIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSBmYWxzZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksIC0xKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBpZiAobW91c2VEb3duKSBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CgogICAgICBmdW5jdGlvbiBwaWNrQ2xpY2tUeXBlKCkgewogICAgICAgIGlmIChDRkcuY2xpY2tNb2RlICYmIENGRy5jbGlja01vZGUgIT09ICdyYW5kb20nKSByZXR1cm4gQ0ZHLmNsaWNrTW9kZTsKICAgICAgICBjb25zdCBsaXN0ID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWydzaG9jayddOwogICAgICAgIHJldHVybiBsaXN0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpsaXN0Lmxlbmd0aCldIHx8ICdzaG9jayc7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gc3Bhd25FZmZlY3QoeCwgeSwgc2lnbikgewogICAgICAgIGNvbnN0IHR5cGUgPSBwaWNrQ2xpY2tUeXBlKCk7CiAgICAgICAgY29uc3QgbGlmZSA9ICh0eXBlPT09J2ltcGxvc2lvbicpID8gMC45IDogKHR5cGU9PT0ndm9ydGV4JyB8fCB0eXBlPT09J21ldGVvcicgPyAxLjggOiAxLjIpOwogICAgICAgIGNvbnN0IEUgPSB7IHgsIHksIHQ6IDAsIGxpZmUsIHNpZ24sIHR5cGUgfTsKICAgICAgICBpZiAodHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICBjb25zdCBzcCA9IE1hdGgubWluKDMsIE1hdGguaHlwb3QocG9pbnRlci52eCwgcG9pbnRlci52eSkqMTIwKTsKICAgICAgICAgIEUuYSA9IDIgKyBNYXRoLmZsb29yKHNwJTQpOyBFLmIgPSAzICsgTWF0aC5mbG9vcigoc3AqMS43KSU0KTsgRS5waGFzZSA9IE1hdGgucmFuZG9tKCkqVEFVOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGNvbnN0IHNjYWxlID0gOTAwOyBFLnZ4ID0gcG9pbnRlci52eCpzY2FsZTsgRS52eSA9IHBvaW50ZXIudnkqc2NhbGU7IEUubWFzcyA9IDIyMCArIE1hdGgucmFuZG9tKCkqMTgwOyBFLmRyYWc9MC45ODsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgRS5zY2FsZSA9IDAuMDA2ICsgTWF0aC5yYW5kb20oKSowLjAwNjsgRS5hbXAgPSAxLjIgKyBNYXRoLnJhbmRvbSgpKjEuMjsKICAgICAgICB9CiAgICAgICAgZWZmZWN0cy5wdXNoKEUpOwogICAgICB9CgogICAgICAvLyBQaHlzaWNzIGhlbHBlcnMKICAgICAgZnVuY3Rpb24gbGltaXQodngsIHZ5LCBtYXgpIHsKICAgICAgICBjb25zdCBtMiA9IHZ4KnZ4ICsgdnkqdnk7IGlmIChtMiA+IG1heCptYXgpIHsKICAgICAgICAgIGNvbnN0IG0gPSBNYXRoLnNxcnQobTIpIHx8IDE7IGNvbnN0IHMgPSBtYXggLyBtOyByZXR1cm4gW3Z4KnMsIHZ5KnNdOwogICAgICAgIH0gcmV0dXJuIFt2eCwgdnldOwogICAgICB9CgogICAgICAvLyBNYWluIGxvb3AKICAgICAgbGV0IGxhc3QgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgbGV0IGZwc0F2ZyA9IDA7CiAgICAgIGZ1bmN0aW9uIGZyYW1lKHQpIHsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWluKDMyLCB0IC0gbGFzdCkgKiAwLjAwMTsgLy8gY2xhbXAKICAgICAgICBsYXN0ID0gdDsKICAgICAgICBjb25zdCBmcHNOb3cgPSAxIC8gTWF0aC5tYXgoMWUtNiwgZHQpOwogICAgICAgIGZwc0F2ZyA9IGZwc0F2ZyA/IChmcHNBdmcqMC45ICsgZnBzTm93KjAuMSkgOiBmcHNOb3c7CiAgICAgICAgY29uc3QgVyA9IGlubmVyV2lkdGgsIEggPSBpbm5lckhlaWdodDsKCiAgICAgICAgLy8gdHJhaWxzOiB0cmFuc2x1Y2VudCBmaWxsCiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7CiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBDRkcudHJhaWxBbHBoYSkpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIFcsIEgpOwogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEJ1aWxkIHF1YWR0cmVlCiAgICAgICAgY29uc3QgcXQgPSBuZXcgUXVhZHRyZWUoMCwgMCwgVywgSCwgQ0ZHLnF0Q2FwKTsKICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgcXQuaW5zZXJ0KGksIHB4W2ldLCBweVtpXSk7CgogICAgICAvLyBBcHBseSBmbG9ja2luZyB2aWEgbmVpZ2hib3IgcXVlcmllcyAoYWRhcHRpdmUgdmlzaW9uIHVuZGVyIGxvYWQpCiAgICAgIGNvbnN0IHZpc2lvbiA9IENGRy52aXNpb24gKiAoZnBzQXZnIDwgNTAgPyAwLjkgOiAxLjApOyBjb25zdCBzZXAgPSBDRkcuc2VwOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBheFtpXT0wOyBheVtpXT0wOyB9CiAgICAgIGxldCB0bXAgPSBbXTsKICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICB0bXAubGVuZ3RoID0gMDsgcXQucXVlcnkocHhbaV0sIHB5W2ldLCB2aXNpb24sIHRtcCk7CiAgICAgICAgICBsZXQgY3g9MCwgY3k9MCwgdnhzdW09MCwgdnlzdW09MCwgc3g9MCwgc3k9MCwgdG90YWw9MCwgc2Nsb3NlPTA7CiAgICAgICAgICBmb3IgKGxldCBrPTA7azx0bXAubGVuZ3RoO2srKykgewogICAgICAgICAgICBjb25zdCBqID0gdG1wW2tdOyBpZiAoaj09PWkpIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBkeCA9IHB4W2pdLXB4W2ldOyBjb25zdCBkeSA9IHB5W2pdLXB5W2ldOwogICAgICAgICAgICBjb25zdCBkMiA9IGR4KmR4ICsgZHkqZHk7IGlmIChkMiA9PT0gMCkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGQgPSBNYXRoLnNxcnQoZDIpOwogICAgICAgICAgICBpZiAoZCA8IHZpc2lvbikgeyB0b3RhbCsrOyBjeCArPSBweFtqXTsgY3kgKz0gcHlbal07IHZ4c3VtICs9IHZ4W2pdOyB2eXN1bSArPSB2eVtqXTsgfQogICAgICAgICAgICBpZiAoZCA8IHNlcCkgeyBzY2xvc2UrKzsgc3ggLT0gZHgvKGR8fDEpOyBzeSAtPSBkeS8oZHx8MSk7IH0KICAgICAgICAgIH0KICAgICAgICAgIGlmICh0b3RhbD4wKSB7CiAgICAgICAgICAgIC8vIGFsaWdubWVudAogICAgICAgICAgICBsZXQgYXh2ID0gKHZ4c3VtL3RvdGFsKSAtIHZ4W2ldOyBsZXQgYXl2ID0gKHZ5c3VtL3RvdGFsKSAtIHZ5W2ldOwogICAgICAgICAgICBjb25zdCBhbGlnblcgPSBDRkcuYWxpZ25XICogKDEgKyAoYWxpZ25NdWxbaV18fDApKTsKICAgICAgICAgICAgW2F4diwgYXl2XSA9IGxpbWl0KGF4diwgYXl2LCBDRkcubWF4Rm9yY2UpOwogICAgICAgICAgICBheFtpXSArPSBheHYgKiBhbGlnblc7IGF5W2ldICs9IGF5diAqIGFsaWduVzsKICAgICAgICAgICAgLy8gY29oZXNpb24KICAgICAgICAgICAgbGV0IGN4diA9IChjeC90b3RhbCAtIHB4W2ldKTsgbGV0IGN5diA9IChjeS90b3RhbCAtIHB5W2ldKTsKICAgICAgICAgICAgY29uc3QgY29oVyA9IENGRy5jb2hlc2lvblcgKiAoMSArIChjb2hlc2lvbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbY3h2LCBjeXZdID0gbGltaXQoY3h2LCBjeXYsIENGRy5tYXhGb3JjZSk7IGF4W2ldICs9IGN4diAqIGNvaFc7IGF5W2ldICs9IGN5diAqIGNvaFc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc2Nsb3NlPjApIHsKICAgICAgICAgICAgbGV0IHN4diA9IHN4OyBsZXQgc3l2ID0gc3k7IFtzeHYsIHN5dl0gPSBsaW1pdChzeHYsIHN5diwgQ0ZHLm1heEZvcmNlKjEuNSk7CiAgICAgICAgICAgIGNvbnN0IHNlcFcgPSBDRkcuc2VwYXJhdGlvblcgKiAoMSArIChzZXBhcmF0aW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIGF4W2ldICs9IHN4diAqIHNlcFc7IGF5W2ldICs9IHN5diAqIHNlcFc7CiAgICAgICAgICB9CiAgICAgICAgLy8gb3B0aW9uYWwgZmxvdyBmaWVsZCBmb3IgcGF0dGVybiB2YXJpZXR5CiAgICAgICAgaWYgKENGRy5mbG93KSB7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmZsb3dTY2FsZSB8fCAwLjAwNDsgY29uc3QgYSA9IENGRy5mbG93QW1wIHx8IDAuNjsgY29uc3Qgc3AgPSBDRkcuZmxvd1NwZWVkIHx8IDAuNjsKICAgICAgICAgIGNvbnN0IHQwID0gcGVyZm9ybWFuY2Uubm93KCkqMC4wMDEqc3A7CiAgICAgICAgICBjb25zdCBmeCA9IE1hdGguc2luKHB5W2ldKnMgKyB0MCkgKiBhOwogICAgICAgICAgY29uc3QgZnkgPSBNYXRoLmNvcyhweFtpXSpzIC0gdDApICogYTsKICAgICAgICAgIGF4W2ldICs9IGZ4OyBheVtpXSArPSBmeTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHM6IH4yMCsgbW9kZXMgaW5jbHVkaW5nIHBlcmxpbkRyYWcsIGxpc3NhUHVsc2UsIG1ldGVvcgogICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInOwogICAgICBsZXQgdG1wMiA9IFtdOwogICAgICBmb3IgKGxldCBlPWVmZmVjdHMubGVuZ3RoLTE7IGU+PTA7IGUtLSkgewogICAgICAgIGNvbnN0IEUgPSBlZmZlY3RzW2VdOyBFLnQgKz0gZHQ7IGNvbnN0IGsgPSBFLnQgLyBFLmxpZmU7CiAgICAgICAgY29uc3QgciA9IDMwICsgayAqIDI2MDsgY29uc3Qgc3RyID0gMS4wIC0gazsKICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgeyBFLnggKz0gKEUudnh8fDApKmR0OyBFLnkgKz0gKEUudnl8fDApKmR0OyBFLnZ4ICo9IChFLmRyYWd8fDEpOyBFLnZ5ICo9IChFLmRyYWd8fDEpOyBFLm1hc3MgKj0gMC45ODU7IH0KICAgICAgICB0bXAyLmxlbmd0aCA9IDA7IHF0LnF1ZXJ5KEUueCwgRS55LCByLCB0bXAyKTsKICAgICAgICBmb3IgKGxldCBpaT0wOyBpaTx0bXAyLmxlbmd0aDsgaWkrKykgewogICAgICAgICAgY29uc3QgaSA9IHRtcDJbaWldOyBjb25zdCBkeCA9IHB4W2ldLUUueDsgY29uc3QgZHkgPSBweVtpXS1FLnk7IGNvbnN0IGQgPSBNYXRoLmh5cG90KGR4LCBkeSl8fDE7CiAgICAgICAgICBjb25zdCBmYWxsID0gKDEgLSBNYXRoLm1pbigxLCBkL3IpKTsKICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgICBjb25zdCB2ID0gcGVybGluVmVjKHB4W2ldLUUueCwgcHlbaV0tRS55LCBFLnNjYWxlfHwwLjAwOCwgKEUuYW1wfHwxLjUpICogZmFsbCk7CiAgICAgICAgICAgIGF4W2ldICs9IHZbMF07IGF5W2ldICs9IHZbMV07IGh1ZU9mZltpXSArPSA0MCpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdsaXNzYVB1bHNlJykgewogICAgICAgICAgICBjb25zdCBhbmcgPSBNYXRoLmF0YW4yKGR5LCBkeCk7CiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNpbihFLmEqYW5nICsgRS5waGFzZSkgKiBNYXRoLmNvcyhFLmIqYW5nIC0gRS5waGFzZSk7CiAgICAgICAgICAgIGNvbnN0IHMgPSB3ICogMi4wICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICAgIGNvbnN0IEcgPSA4MDA7IGNvbnN0IGYgPSBNYXRoLm1pbigzLjAsIChHKihFLm1hc3N8fDIwMCkpLygoZCpkKSsyMDApKTsKICAgICAgICAgICAgYXhbaV0gLT0gKGR4L2QpKmYqZmFsbDsgYXlbaV0gLT0gKGR5L2QpKmYqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOyBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAndm9ydGV4JyB8fCBFLnR5cGU9PT0nb3JiaXRDVycgfHwgRS50eXBlPT09J29yYml0Q0NXJyB8fCBFLnR5cGU9PT0nc3BpcmFsT3V0JyB8fCBFLnR5cGU9PT0nc3BpcmFsSW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nb3JiaXRDQ1cnKSA/IC0xIDogMTsKICAgICAgICAgICAgY29uc3QgdHggPSAtZHkvZCwgdHkgPSBkeC9kOyBsZXQgcyA9IChFLnNpZ24+MD8xOi0xKSAqIDEuMiAqIGZhbGwgKiBkaXI7CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsT3V0JykgeyBzID0gMS4yKmZhbGw7IGF4W2ldICs9IChkeC9kKSpmYWxsKjAuODsgYXlbaV0gKz0gKGR5L2QpKmZhbGwqMC44OyB9CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsSW4nKSB7IHMgPSAtMS4yKmZhbGw7IGF4W2ldIC09IChkeC9kKSpmYWxsKjAuNjsgYXlbaV0gLT0gKGR5L2QpKmZhbGwqMC42OyB9CiAgICAgICAgICAgIGF4W2ldICs9IHR4KnM7IGF5W2ldICs9IHR5KnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IHZCb29zdFtpXSArPSAwLjIqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaW1wbG9zaW9uJyB8fCBFLnR5cGU9PT0nYXR0cmFjdCcgfHwgRS50eXBlPT09J21hZ25ldCcpIHsKICAgICAgICAgICAgY29uc3QgcyA9IChFLnR5cGU9PT0naW1wbG9zaW9uJyA/IC0yLjIgOiAtMS4yKSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjE1KmZhbGw7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc3ByYXknIHx8IEUudHlwZT09PSdzY2F0dGVyJykgewogICAgICAgICAgICBjb25zdCBzID0gKEUuc2lnbj4wPzE6LTEpICogKEUudHlwZT09PSdzY2F0dGVyJz8zLjA6Mi40KSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgdnhbaV0gKz0gKGR4L2QpICogMC4yNSAqIGZhbGw7IHZ5W2ldICs9IChkeS9kKSAqIDAuMjUgKiBmYWxsOyBqaXRBbXBbaV0gKz0gMC4xNSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzdHVuJyB8fCBFLnR5cGU9PT0nZnJlZXplJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gLT0gKEUudHlwZT09PSdmcmVlemUnPzAuNjowLjMpICogZmFsbDsgc2l6ZU11bFtpXSArPSAwLjMqZmFsbDsgdnhbaV0gKj0gMC45NjsgdnlbaV0gKj0gMC45NjsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZmVhcicpIHsKICAgICAgICAgICAgY29uc3QgcyA9IDIuOCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgaml0QW1wW2ldICs9IDAuMjUqZmFsbDsgaHVlT2ZmW2ldICs9IDgwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NjcmFtYmxlJykgewogICAgICAgICAgICB2eFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMS41KmZhbGw7IHZ5W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgaml0QW1wW2ldICs9IDAuMypmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdwdWxzZScgfHwgRS50eXBlPT09J3JpcHBsZScpIHsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKGsqTWF0aC5QSSoyKTsgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2FsaWduJykgewogICAgICAgICAgICBhbGlnbk11bFtpXSArPSAwLjggKiBmYWxsOyBzZXBhcmF0aW9uTXVsW2ldIC09IDAuMyAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2RlYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldIC09IDAuOCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldICs9IDAuMiAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjEgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjb2hlcmUnIHx8IEUudHlwZT09PSd0aWdodGVuJyB8fCBFLnR5cGU9PT0nbG9vc2VuJykgewogICAgICAgICAgICBjb25zdCBkaXIgPSAoRS50eXBlPT09J2xvb3NlbicpID8gLTEgOiAxOyAvLyBsb29zZW4gcmVkdWNlcyBjb2hlc2lvbgogICAgICAgICAgICBjb2hlc2lvbk11bFtpXSArPSBkaXIgKiAwLjkgKiBmYWxsOyBpZiAoZGlyPjApIHNlcGFyYXRpb25NdWxbaV0gLT0gMC4yICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2VwYXJhdGUnIHx8IEUudHlwZT09PSdkaXNwZXJzZScpIHsKICAgICAgICAgICAgc2VwYXJhdGlvbk11bFtpXSArPSAxLjAgKiBmYWxsOyBjb2hlc2lvbk11bFtpXSAtPSAwLjQgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd3YXJwJyB8fCBFLnR5cGU9PT0nc3BlZWR1cCcpIHsKICAgICAgICAgICAgdkJvb3N0W2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBodWVPZmZbaV0gKz0gNDAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2xvd2Rvd24nKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAwLjUqZmFsbDsgaHVlT2ZmW2ldIC09IDIwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2dyb3cnKSB7CiAgICAgICAgICAgIHNpemVNdWxbaV0gKz0gMC42KmZhbGw7IGh1ZU9mZltpXSArPSAzMCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd0dW5uZWwnKSB7CiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHIqMC43OyBjb25zdCBzID0gKGQ8dGFyZ2V0PysxOi0xKSAqIDEuMiAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaml0dGVyYnVyc3QnKSB7CiAgICAgICAgICAgIGppdEFtcFtpXSArPSAwLjYqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnY2hyb21hYnVyc3QnKSB7CiAgICAgICAgICAgIGh1ZU9mZltpXSArPSAxNjAgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIHsgLy8gc2hvY2sgLyBkZWZhdWx0CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/KzE6LTEpICogMS44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyB2Qm9vc3RbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBnZW5lcmFsIGNvbG9yIGVuZXJneQogICAgICAgICAgaHVlW2ldID0gKGh1ZVtpXSArIDkwICogZmFsbCkgJSAzNjA7CiAgICAgICAgfQogICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoRS54LCBFLnksIE1hdGgubWF4KDEsIHIqMC42KSwgRS54LCBFLnksIHIpOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7KHBhbGV0dGVIdWUrMjApJTM2MH0sIDk1JSwgNzAlLCAkezAuMzQqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs2MCklMzYwfSwgOTUlLCA2MCUsICR7MC4yMipzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45NSwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsxMDApJTM2MH0sIDk1JSwgNTUlLCAwKWApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7cGFsZXR0ZUh1ZX0sIDk1JSwgNjUlLCAkezAuMjUqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs0MCklMzYwfSwgOTUlLCA1NSUsICR7MC4xOCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45LCBgaHNsYSgkeyhwYWxldHRlSHVlKzgwKSUzNjB9LCA5NSUsIDYwJSwgMClgKTsKICAgICAgICB9CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYyhFLngsIEUueSwgciwgMCwgTWF0aC5QSSoyKTsgY3R4LmZpbGwoKTsKICAgICAgICBpZiAoayA+PSAxKSBlZmZlY3RzLnNwbGljZShlLCAxKTsKICAgICAgfQogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEludGVncmF0ZSBhbmQgZHJhdyBib2lkcyB3aXRoIGdsb3cgYW5kIHRyYWlscwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBDRkcuYmxlbmQ7CiAgICAgIGN0eC5saW5lV2lkdGggPSBDRkcubGluZVdpZHRoOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICAvLyBpbnRlZ3JhdGUKICAgICAgICAgIGlmIChqaXRBbXBbaV0gPiAwLjAwMDEpIHsgYXhbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgYXlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgfQogICAgICAgICAgdnhbaV0gKz0gYXhbaV07IHZ5W2ldICs9IGF5W2ldOwogICAgICAgICAgY29uc3Qgdk1heCA9IENGRy5tYXhTcGVlZCAqICgxICsgTWF0aC5tYXgoLTAuNywgdkJvb3N0W2ldKSowLjgpOwogICAgICAgICAgW3Z4W2ldLCB2eVtpXV0gPSBsaW1pdCh2eFtpXSwgdnlbaV0sIHZNYXgpOwogICAgICAgICAgLy8gZW5mb3JjZSBtaW4gc3BlZWQgKHdpdGggYm9vc3QpCiAgICAgICAgICB7IGNvbnN0IHNwID0gTWF0aC5oeXBvdCh2eFtpXSwgdnlbaV0pIHx8IDE7IGNvbnN0IHZNaW4gPSBDRkcubWluU3BlZWQgKiAoMSArIE1hdGgubWF4KDAsIHZCb29zdFtpXSkqMC41KTsgaWYgKHNwIDwgdk1pbikgeyBjb25zdCBzID0gdk1pbiAvIHNwOyB2eFtpXSAqPSBzOyB2eVtpXSAqPSBzOyB9IH0KICAgICAgICAgIHByZXZ4W2ldID0gcHhbaV07IHByZXZ5W2ldID0gcHlbaV07CiAgICAgICAgICBweFtpXSArPSB2eFtpXTsgcHlbaV0gKz0gdnlbaV07CgogICAgICAgICAgLy8gYm91bmRhcmllcwogICAgICAgICAgaWYgKENGRy53cmFwKSB7CiAgICAgICAgICAgIGlmIChweFtpXSA8IC01KSBweFtpXSA9IFcgKyA1OyBlbHNlIGlmIChweFtpXSA+IFcrNSkgcHhbaV0gPSAtNTsKICAgICAgICAgICAgaWYgKHB5W2ldIDwgLTUpIHB5W2ldID0gSCArIDU7IGVsc2UgaWYgKHB5W2ldID4gSCs1KSBweVtpXSA9IC01OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgMCB8fCBweFtpXSA+IFcpIHsgdnhbaV0gPSAtdnhbaV07IH0KICAgICAgICAgICAgaWYgKHB5W2ldIDwgMCB8fCBweVtpXSA+IEgpIHsgdnlbaV0gPSAtdnlbaV07IH0KICAgICAgICAgICAgcHhbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihXLCBweFtpXSkpOwogICAgICAgICAgICBweVtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKEgsIHB5W2ldKSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZGVjYXkgbW9kaWZpZXJzIGFuZCBjb21wdXRlIHRpbnQKICAgICAgICAgIHZCb29zdFtpXSAqPSAwLjkyOyBzaXplTXVsW2ldICo9IDAuOTA7IGh1ZU9mZltpXSAqPSAwLjk0OyBqaXRBbXBbaV0gKj0gMC44ODsKICAgICAgICAgIGFsaWduTXVsW2ldICo9IDAuOTQ7IGNvaGVzaW9uTXVsW2ldICo9IDAuOTQ7IHNlcGFyYXRpb25NdWxbaV0gKj0gMC45NDsKICAgICAgICAgIC8vIHNsb3dseSBkcmlmdCBib2lkIGh1ZSBiYWNrIHRvd2FyZCBiYXNlIHBhbGV0dGUgaHVlCiAgICAgICAgICBodWVbaV0gPSBhcHByb2FjaEh1ZShodWVbaV0sIHBhbGV0dGVIdWUsIE1hdGgubWluKDEsIGR0ICogKENGRy5odWVSZWxheCB8fCAwLjIpKSk7CiAgICAgICAgICBzcGRbaV0gPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSk7CiAgICAgICAgICBjb25zdCBMID0gNTAgKyBNYXRoLm1pbig0NSwgc3BkW2ldKjgpOwogICAgICAgICAgY29uc3QgUyA9IDgwICsgTWF0aC5taW4oMjAsIHNwZFtpXSo2KTsKICAgICAgICAgIGNvbnN0IGRyYXdIdWUgPSAoaHVlW2ldICsgaHVlT2ZmW2ldKSAlIDM2MDsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHtkcmF3SHVlfSwgJHtTfSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguc2hhZG93Q29sb3IgPSBgaHNsKCR7ZHJhd0h1ZX0sIDkwJSwgNjAlKWA7CiAgICAgICAgICBjb25zdCBnbG93UXVhbGl0eSA9IChmcHNBdmcgPCA1MCA/IDAuNSA6IDEuMCk7CiAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IGdsb3dRdWFsaXR5ICogKENGRy5nbG93QmFzZSArIE1hdGgubWluKENGRy5nbG93TWF4LCBzcGRbaV0qQ0ZHLmdsb3dTY2FsZSkpOwoKICAgICAgICAgIC8vIHRyYWlsIHNlZ21lbnQKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5tb3ZlVG8ocHJldnhbaV0sIHByZXZ5W2ldKTsKICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0sIHB5W2ldKTsKICAgICAgICAgIGN0eC5zdHJva2UoKTsKCiAgICAgICAgICAvLyBib2lkIGhlYWQgc2hhcGUKICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIodnlbaV0sIHZ4W2ldKTsKICAgICAgICAgIGNvbnN0IGNhID0gTWF0aC5jb3MoYW5nKSwgc2EgPSBNYXRoLnNpbihhbmcpOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGBoc2woJHtodWVbaV19LCA5NSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmNvbWV0U2l6ZSAqICgxICsgKHNpemVNdWxbaV18fDApKTsKICAgICAgICAgIGlmIChDRkcuc2hhcGUgPT09ICd0cmlhbmdsZScpIHsKICAgICAgICAgICAgY29uc3QgQzI2ID0gMC44NTY4ODg3NTMsIFMyNiA9IDAuNTE1NDk4OyAvLyBjb3Mvc2luKDIuNikKICAgICAgICAgICAgY29uc3QgeDAgPSBweFtpXSArIGNhKnMqMS42LCB5MCA9IHB5W2ldICsgc2EqcyoxLjY7CiAgICAgICAgICAgIGNvbnN0IGNhX3AgPSBjYSpDMjYgLSBzYSpTMjYsIHNhX3AgPSBzYSpDMjYgKyBjYSpTMjY7CiAgICAgICAgICAgIGNvbnN0IGNhX20gPSBjYSpDMjYgKyBzYSpTMjYsIHNhX20gPSBzYSpDMjYgLSBjYSpTMjY7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeDAsIHkwKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AqcywgIHB5W2ldICsgc2FfcCpzKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20qcywgIHB5W2ldICsgc2FfbSpzKTsKICAgICAgICAgIH0gZWxzZSBpZiAoQ0ZHLnNoYXBlID09PSAnb3JiJykgewogICAgICAgICAgICBjdHguYXJjKHB4W2ldLCBweVtpXSwgcyowLjYsIDAsIE1hdGguUEkqMik7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzcGFyawogICAgICAgICAgICBjb25zdCBDMDIgPSAwLjk4MDA2NjYsIFMwMiA9IDAuMTk4NjY5MzsgLy8gY29zL3NpbigwLjIpCiAgICAgICAgICAgIGNvbnN0IHhoID0gcHhbaV0gKyBjYSpzKjEuOCwgeWggPSBweVtpXSArIHNhKnMqMS44OwogICAgICAgICAgICBjb25zdCBjYV9wMDIgPSBjYSpDMDIgLSBzYSpTMDIsIHNhX3AwMiA9IHNhKkMwMiArIGNhKlMwMjsKICAgICAgICAgICAgY29uc3QgY2FfbTAyID0gY2EqQzAyICsgc2EqUzAyLCBzYV9tMDIgPSBzYSpDMDIgLSBjYSpTMDI7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeGgsIHloKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AwMipzKjAuNiwgIHB5W2ldICsgc2FfcDAyKnMqMC42KTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20wMipzKjAuNiwgIHB5W2ldICsgc2FfbTAyKnMqMC42KTsKICAgICAgICAgIH0KICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTsgY3R4LmZpbGwoKTsKICAgICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gUXVhZHRyZWUgdmlzdWFsaXphdGlvbiAoZGVmYXVsdCBvbikKICAgICAgICBpZiAoQ0ZHLnF0KSBxdC5kcmF3KGN0eCk7CgogICAgICAgIC8vIEhVRAogICAgICAgIGh1ZEVsLmlubmVySFRNTCA9IGA8c3Ryb25nPkJvaWRzPC9zdHJvbmc+IMK3IE49JHtOfSB2aXNpb249JHtDRkcudmlzaW9ufSBzZXA9JHtDRkcuc2VwfSBgICsKICAgICAgICAgIGDCtyBxdENhcD0ke0NGRy5xdENhcH0gwrcgaHVlPSR7cGFsZXR0ZUh1ZX0gwrcgcXRWaXo9JHtDRkcucXQ/J29uJzonb2ZmJ30gwrcgY2xpY2s9JHtDRkcuY2xpY2tNb2RlfSDCtyBmcHM9JHtmcHNBdmcudG9GaXhlZCgwKX1gOwoKICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpOwogICAgICB9CiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CgogICAgICAvLyBDb25maWcgVUkgYnVpbGQgYW5kIHdpcmluZwogICAgICBjb25zdCBjZmdCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQnRuJyk7CiAgICAgIGNvbnN0IGNmZ0Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmZ0Nsb3NlJyk7CiAgICAgIGNvbnN0IGNmZ1BhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZycpOwogICAgICBjb25zdCBjZmdCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZ0JvZHknKTsKICAgICAgY2ZnQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKSk7CiAgICAgIGNmZ0Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCcnKSk7CgogICAgICBjb25zdCBzY2hlbWEgPSBbCiAgICAgICAge2tleTonaHVlJywgbGFiZWw6J0h1ZScsIHR5cGU6J2ludCcsIG1pbjowLCBtYXg6MzYwLCBzdGVwOjEsIHZhbHVlOkJBU0VfSFVFfSwKICAgICAgICB7a2V5OidoZWFkZXInLCBsYWJlbDonSGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOkhFQURFUn0sCiAgICAgICAge2tleTonc3ViaGVhZGVyJywgbGFiZWw6J1N1YmhlYWRlcicsIHR5cGU6J3RleHQnLCB2YWx1ZTpTVUJIRUFERVJ9LAogICAgICAgIHtrZXk6J3F0JywgbGFiZWw6J1Nob3cgUXVhZHRyZWUnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hvd0h1ZCcsIGxhYmVsOidTaG93IEhVRCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzcGF3bicsIGxhYmVsOidTcGF3bicsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdjaXJjbGUnLCdncmlkJywnY2VudGVyYnVyc3QnXX0sCiAgICAgICAge2tleTonY291bnQnLCBsYWJlbDonQ291bnQnLCB0eXBlOidpbnQnLCBtaW46NTAsIG1heDoxMDAwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3Zpc2lvbicsIGxhYmVsOidWaXNpb24nLCB0eXBlOidpbnQnLCBtaW46MjAsIG1heDoyMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonc2VwJywgbGFiZWw6J1NlcGFyYXRpb24gRGlzdCcsIHR5cGU6J2ludCcsIG1pbjo0LCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonbWF4U3BlZWQnLCBsYWJlbDonTWF4IFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMSwgbWF4OjEyLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonbWluU3BlZWQnLCBsYWJlbDonTWluIFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMCwgbWF4OjYsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtYXhGb3JjZScsIGxhYmVsOidNYXggU3RlZXJpbmcgRm9yY2UnLCB0eXBlOidudW1iZXInLCBtaW46MC4wMDEsIG1heDowLjUsIHN0ZXA6MC4wMDF9LAogICAgICAgIHtrZXk6J2FsaWduVycsIGxhYmVsOidBbGlnbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY29oZXNpb25XJywgbGFiZWw6J0NvaGVzaW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidzZXBhcmF0aW9uVycsIGxhYmVsOidTZXBhcmF0aW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oid0cmFpbEFscGhhJywgbGFiZWw6J1RyYWlsIEFscGhhJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDoxLCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3F0Q2FwJywgbGFiZWw6J1F1YWR0cmVlIENhcGFjaXR5JywgdHlwZTonaW50JywgbWluOjIsIG1heDozMiwgc3RlcDoxfSwKICAgICAgICB7a2V5Oid3cmFwJywgbGFiZWw6J1dyYXAgQm91bmRzJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NoYXBlJywgbGFiZWw6J1NoYXBlJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3RyaWFuZ2xlJywnc3BhcmsnLCdvcmInXX0sCiAgICAgICAge2tleTonYmxlbmQnLCBsYWJlbDonQmxlbmQnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsnbGlnaHRlcicsJ3NjcmVlbicsJ292ZXJsYXknLCdwbHVzLWxpZ2h0ZXInXX0sCiAgICAgICAge2tleTonbGluZVdpZHRoJywgbGFiZWw6J0xpbmUgV2lkdGgnLCB0eXBlOidudW1iZXInLCBtaW46MC4yLCBtYXg6NCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2dsb3dCYXNlJywgbGFiZWw6J0dsb3cgQmFzZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NjAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd01heCcsIGxhYmVsOidHbG93IE1heCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd1NjYWxlJywgbGFiZWw6J0dsb3cgU2NhbGUnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonY29tZXRTaXplJywgbGFiZWw6J0NvbWV0IFNpemUnLCB0eXBlOidudW1iZXInLCBtaW46MSwgbWF4OjIwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonYmdHcmFkaWVudCcsIGxhYmVsOidCRyBHcmFkaWVudCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MScsIGxhYmVsOidCRyBIdWUgU2hpZnQgMScsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQyJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAyJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDMnLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDMnLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidmbG93JywgbGFiZWw6J0Zsb3cgRmllbGQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonZmxvd0FtcCcsIGxhYmVsOidGbG93IEFtcCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjA1fSwKICAgICAgICB7a2V5OidmbG93U2NhbGUnLCBsYWJlbDonRmxvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMDUsIG1heDowLjAyLCBzdGVwOjAuMDAwNX0sCiAgICAgICAge2tleTonZmxvd1NwZWVkJywgbGFiZWw6J0Zsb3cgU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjMsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY2xpY2tNb2RlJywgbGFiZWw6J0NsaWNrIE1vZGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsncmFuZG9tJywnc2hvY2snLCd2b3J0ZXgnLCdpbXBsb3Npb24nLCdzcHJheSddfSwKICAgICAgXTsKCiAgICAgIGZ1bmN0aW9uIG1ha2VSb3cobGFiZWwsIGlucHV0KSB7CiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHJvdy5jbGFzc05hbWUgPSAncm93JzsKICAgICAgICBjb25zdCBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsgbC50ZXh0Q29udGVudCA9IGxhYmVsOyByb3cuYXBwZW5kQ2hpbGQobCk7CiAgICAgICAgcm93LmFwcGVuZENoaWxkKGlucHV0KTsgcmV0dXJuIHJvdzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYWRkSW5wdXQoaXRlbSkgewogICAgICAgIGxldCBpbnB1dDsKICAgICAgICBjb25zdCB2MCA9IChpdGVtLmtleSBpbiBDRkcpID8gQ0ZHW2l0ZW0ua2V5XSA6IGl0ZW0udmFsdWU7CiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Jvb2wnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J2NoZWNrYm94JzsgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IENGR1tpdGVtLmtleV0gPSBpbnB1dC5jaGVja2VkOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnc2VsZWN0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTsKICAgICAgICAgIGZvciAoY29uc3Qgb3B0IG9mIGl0ZW0ub3B0aW9ucykgeyBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7IG8udmFsdWU9b3B0OyBvLnRleHRDb250ZW50PW9wdDsgaWYgKG9wdD09PXYwKSBvLnNlbGVjdGVkPXRydWU7IGlucHV0LmFwcGVuZENoaWxkKG8pOyB9CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LnZhbHVlOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAndGV4dCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ndGV4dCc7IGlucHV0LnZhbHVlID0gU3RyaW5nKHYwfHwnJyk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaWYgKGl0ZW0ua2V5PT09J2hlYWRlcicpIHsgdGl0bGVFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5rZXk9PT0nc3ViaGVhZGVyJykgeyBzdWJ0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBpbnB1dC52YWx1ZSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5rZXkgPT09ICdodWUnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQubWluPScwJzsgaW5wdXQubWF4PSczNjAnOyBpbnB1dC5zdGVwPScxJzsgaW5wdXQudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIubWluPScwJzsgbnVtYmVyLm1heD0nMzYwJzsgbnVtYmVyLnN0ZXA9JzEnOyBudW1iZXIudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWU9aW5wdXQudmFsdWU7IGh1ZUNoYW5nZWQocGFyc2VJbnQoaW5wdXQudmFsdWUpKTsgfSk7CiAgICAgICAgICBudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlucHV0LnZhbHVlPW51bWJlci52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gaHVlQ2hhbmdlZCh2YWwpewogICAgICAgICAgICAvLyBzaGlmdCBwYWxldHRlIGltbWVkaWF0ZWx5CiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gKHZhbCAtIHBhbGV0dGVIdWUpOwogICAgICAgICAgICBwYWxldHRlSHVlID0gdmFsOwogICAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBodWVbaV0gPSAoaHVlW2ldICsgZGVsdGEpICUgMzYwOyB9CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQnLCBgaHNsKCR7dmFsfSwgODUlLCA2MiUpYCk7CiAgICAgICAgICAgIHVwZGF0ZVVybEZyb21DZmcoe2h1ZTpTdHJpbmcodmFsKX0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG51bWVyaWMgKHJhbmdlICsgbnVtYmVyIHBhaXIpCiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgaW5wdXQubWluPVN0cmluZyhpdGVtLm1pbik7IGlmIChpdGVtLm1heCE9bnVsbCkgaW5wdXQubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBudW1iZXIudHlwZT0nbnVtYmVyJzsgbnVtYmVyLnN0ZXA9U3RyaW5nKGl0ZW0uc3RlcHx8MSk7CiAgICAgICAgICBpZiAoaXRlbS5taW4hPW51bGwpIG51bWJlci5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBudW1iZXIubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBpbnB1dC52YWx1ZSA9IFN0cmluZyh2MCk7IG51bWJlci52YWx1ZSA9IFN0cmluZyh2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgbnVtYmVyLnZhbHVlID0gaW5wdXQudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWUgPSBudW1iZXIudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gbnVtQ2hhbmdlZCh2YWwpeyBDRkdbaXRlbS5rZXldID0gdmFsOyBhcHBseUNoYW5nZShpdGVtLmtleSwgdmFsKTsgfQogICAgICAgIH0KICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgaW5wdXQpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYXBwbHlDaGFuZ2Uoa2V5LCB2YWx1ZSkgewogICAgICAgIGlmIChrZXkgPT09ICdjb3VudCcgfHwga2V5ID09PSAnc3Bhd24nKSB7IHJlc2VlZChDRkcuY291bnQpOyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3F0JykgeyAvKiBpbW1lZGlhdGUgZHJhdyB0b2dnbGUgdmlhIENGRyAqLyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3Nob3dIdWQnKSB7IGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSBDRkcuc2hvd0h1ZCA/ICcnIDogJ25vbmUnOyB9CiAgICAgICAgdXBkYXRlVXJsRnJvbUNmZygpOwogICAgICB9CgogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc2NoZW1hKSBhZGRJbnB1dChpdGVtKTsKICAgICAgLy8gaW5pdGlhbCBIVUQgdmlzaWJpbGl0eQogICAgICBodWRFbC5zdHlsZS5kaXNwbGF5ID0gKENGRy5zaG93SHVkPT09ZmFsc2UpID8gJ25vbmUnIDogJyc7CgogICAgICAvLyBrZXlib2FyZCB0b2dnbGVzIChhZnRlciBidWlsZGluZyBwYW5lbCkKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7CiAgICAgICAgY29uc3QgayA9IGUua2V5LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKGsgPT09ICdxJykgeyBDRkcucXQgPSAhQ0ZHLnF0OyB1cGRhdGVVcmxGcm9tQ2ZnKCk7IH0KICAgICAgICBpZiAoayA9PT0gJ2MnKSB7IGNmZ1BhbmVsLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJyk7IH0KICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgPC9zY3JpcHQ+CiAgPC9ib2R5Pgo8L2h0bWw+Cg==" download="boids-dod-quadtree-3-impl.html" class="download-btn" title="Download boids-dod-quadtree-3-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=309 · spawn=grid · bounce · triangle · overlay · hue=53 · qtCap=10" data-filename="boids-dod-quadtree-19-impl.html"><a href="boids-dod-quadtree-19-impl.html" target="viewer"><strong>Boids DOD+QT · N=309 · spawn=grid · bounce · triangle · overlay · hue=53 · qtCap=10</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTMwOSDCtyBzcGF3bj1ncmlkIMK3IGJvdW5jZSDCtyB0cmlhbmdsZSDCtyBvdmVybGF5IMK3IGh1ZT01MyDCtyBxdENhcD0xMDwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgIGh0bWwsIGJvZHkgeyBoZWlnaHQ6IDEwMCU7IG1hcmdpbjogMDsgfQogICAgICBib2R5IHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMDUwNzBhOwogICAgICAgIGNvbG9yOiAjZTZlZGYzOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgZm9udC1mYW1pbHk6IHVpLXNhbnMtc2VyaWYsIHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgU2Vnb2UgVUksIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIjsKICAgICAgfQogICAgICAjc2NlbmUgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyB9CiAgICAgIC5vdmVybGF5IHsgcG9zaXRpb246IGZpeGVkOyBpbnNldDogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnIgYXV0bzsgfQogICAgICAudGl0bGUgeyBtYXJnaW46IDE4cHggMjBweCAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogY2xhbXAoMThweCwgM3Z3LCAyOHB4KTsgbGV0dGVyLXNwYWNpbmc6IDAuMnB4OyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgdGV4dC1zaGFkb3c6IDAgMCAxMHB4IGNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYWNjZW50LCAjN2RkM2ZjKSA4MCUsICMwMDAgMjAlKTsgfQogICAgICAuc3VidGl0bGUgeyBtYXJnaW46IDAgMjBweCAxMHB4OyBmb250LXdlaWdodDogNTAwOyBmb250LXNpemU6IGNsYW1wKDEycHgsIDJ2dywgMTZweCk7IG9wYWNpdHk6IDAuODU7IH0KICAgICAgLmh1ZCB7IHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMTJweDsgYm90dG9tOiAxMnB4OyBwYWRkaW5nOiA4cHggMTBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDQwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpIHNhdHVyYXRlKDEyMCUpOyBmb250LXNpemU6IDEycHg7IGxpbmUtaGVpZ2h0OiAxLjQ7IH0KICAgICAgLmh1ZCBzdHJvbmcgeyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgfQogICAgICAuY2ZnQnRuIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDEycHg7IHJpZ2h0OiAxMnB4OyB6LWluZGV4OiAxMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiA2cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ1BhbmVsIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDU2cHg7IHJpZ2h0OiAxMnB4OyB3aWR0aDogbWluKDM4MHB4LCA5MHZ3KTsgbWF4LWhlaWdodDogODB2aDsgb3ZlcmZsb3c6IGF1dG87IHotaW5kZXg6IDIwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYmFja2dyb3VuZDogIzBiMTIyMGU2OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3gtc2hhZG93OiAwIDEwcHggNDBweCAjMDAwODsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpIHNhdHVyYXRlKDEyMCUpOyB9CiAgICAgIC5jb25maWdIZWFkZXIgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDEwcHggMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAwMDA1NTsgcG9zaXRpb246IHN0aWNreTsgdG9wOiAwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZjI7IH0KICAgICAgLmNvbmZpZ0JvZHkgeyBwYWRkaW5nOiAxMHB4IDEycHg7IGRpc3BsYXk6IGdyaWQ7IGdhcDogMTBweDsgfQogICAgICAuY29uZmlnQm9keSAucm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bzsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJhbmdlUm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNzJweDsgZ2FwOiA4cHg7IH0KICAgICAgLmNmZ0Nsb3NlIHsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMTIxYTJiY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA2cHg7IHBhZGRpbmc6IDRweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dCwgLmNvbmZpZ0JvZHkgc2VsZWN0IHsgZm9udC1zaXplOiAxNHB4OyBwYWRkaW5nOiA2cHggOHB4OyBiYWNrZ3JvdW5kOiAjMTAxODI3OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiA2cHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXRbdHlwZT1yYW5nZV0geyBwYWRkaW5nOiAwOyBoZWlnaHQ6IDI4cHg7IGFjY2VudC1jb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPGNhbnZhcyBpZD0ic2NlbmUiPjwvY2FudmFzPgogICAgPGRpdiBjbGFzcz0ib3ZlcmxheSI+CiAgICAgIDxkaXYgY2xhc3M9InRpdGxlIiBpZD0idGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJzdWJ0aXRsZSIgaWQ9InN1YnRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaHVkIiBpZD0iaHVkIj48L2Rpdj4KICAgIDwvZGl2PgogICAgPGJ1dHRvbiBpZD0iY2ZnQnRuIiBjbGFzcz0iY2ZnQnRuIiBhcmlhLWxhYmVsPSJPcGVuIGNvbmZpZyI+4pqZ77iOPC9idXR0b24+CiAgICA8ZGl2IGlkPSJjb25maWciIGNsYXNzPSJjb25maWdQYW5lbCIgaGlkZGVuPgogICAgICA8ZGl2IGNsYXNzPSJjb25maWdIZWFkZXIiPgogICAgICAgIDxzdHJvbmc+Q29uZmlnPC9zdHJvbmc+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2ZnQ2xvc2UiIGNsYXNzPSJjZmdDbG9zZSIgYXJpYS1sYWJlbD0iQ2xvc2UiPuKclTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBpZD0iY29uZmlnQm9keSIgY2xhc3M9ImNvbmZpZ0JvZHkiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICAndXNlIHN0cmljdCc7CgogICAgICAvLyBVUkwgcGFyYW1ldGVycwogICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgICAgIGNvbnN0IERFRkFVTFRfSFVFID0gNTM7CiAgICAgIGNvbnN0IEJBU0VfSFVFID0gY2xhbXBJbnQocGFyc2VJbnQocGFyYW1zLmdldCgnaHVlJykpLCAwLCAzNjAsIERFRkFVTFRfSFVFKTsKICAgICAgbGV0IHBhbGV0dGVIdWUgPSBCQVNFX0hVRTsKICAgICAgY29uc3QgSEVBREVSID0gcGFyYW1zLmdldCgnaGVhZGVyJykgfHwgJ0JvaWRzIOKAlCBEYXRhLU9yaWVudGVkICsgUXVhZHRyZWUnOwogICAgICBjb25zdCBTVUJIRUFERVIgPSBwYXJhbXMuZ2V0KCdzdWJoZWFkZXInKSB8fCAnU2hvY2t3YXZlcyBvbiBjbGljay9kcmFnIMK3IHF1YWR0cmVlIHZpeiBvbic7CiAgICAgIC8vIFF1YWR0cmVlIHZpeiBpcyBoYW5kbGVkIGJ5IENGRy5xdDsgVVJMIHBhcmFtICdxdCcgb3ZlcnJpZGVzIGl0LgoKICAgICAgLy8gRE9NCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2VuZScpOwogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBmYWxzZSB9KTsKICAgICAgY29uc3QgdGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpOwogICAgICBjb25zdCBzdWJ0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YnRpdGxlJyk7CiAgICAgIGNvbnN0IGh1ZEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h1ZCcpOwoKICAgICAgLy8gU3R5bGUgaG9vawogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3BhbGV0dGVIdWV9LCA4NSUsIDYyJSlgKTsKICAgICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IEhFQURFUjsKICAgICAgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IFNVQkhFQURFUjsKCiAgICAgIC8vIENvbmZpZyAoaW5qZWN0ZWQgYnkgZ2VuZXJhdG9yKSDigJQgbXV0YWJsZSBhdCBydW50aW1lCiAgICAgIGxldCBDRkcgPSB7ImNvdW50IjogMzA5LCAidmlzaW9uIjogMTA3LCAic2VwIjogMjAsICJtYXhTcGVlZCI6IDQuMDUsICJtYXhGb3JjZSI6IDAuMDc1LCAibWluU3BlZWQiOiAwLjY4LCAiYWxpZ25XIjogMS4xNSwgImNvaGVzaW9uVyI6IDAuNTQsICJzZXBhcmF0aW9uVyI6IDEuNzIsICJ0cmFpbEFscGhhIjogMC4xMSwgInF0Q2FwIjogMTAsICJ3cmFwIjogZmFsc2UsICJzaGFwZSI6ICJ0cmlhbmdsZSIsICJibGVuZCI6ICJvdmVybGF5IiwgImxpbmVXaWR0aCI6IDEuOTksICJnbG93QmFzZSI6IDE2LCAiZ2xvd01heCI6IDQxLCAiZ2xvd1NjYWxlIjogOS4xLCAiY29tZXRTaXplIjogNS4zMiwgImJnR3JhZGllbnQiOiBmYWxzZSwgImJnSHVlU2hpZnQxIjogMCwgImJnSHVlU2hpZnQyIjogNDUsICJiZ0h1ZVNoaWZ0MyI6IDk4LCAic3Bhd24iOiAiZ3JpZCIsICJxdCI6IHRydWUsICJzaG93SHVkIjogdHJ1ZSwgImZsb3ciOiBmYWxzZSwgImZsb3dBbXAiOiAwLjgxLCAiZmxvd1NjYWxlIjogMC4wMDg1LCAiZmxvd1NwZWVkIjogMC41NiwgImNsaWNrTW9kZSI6ICJyYW5kb20ifTsKICAgICAgQ0ZHLm1pblNwZWVkID0gQ0ZHLm1pblNwZWVkID8/IDAuODsKICAgICAgQ0ZHLnF0ID0gKHR5cGVvZiBDRkcucXQgPT09ICdib29sZWFuJykgPyBDRkcucXQgOiB0cnVlOwogICAgICBDRkcuY2xpY2tNb2RlID0gQ0ZHLmNsaWNrTW9kZSB8fCAncmFuZG9tJzsKICAgICAgQ0ZHLmNsaWNrTW9kZXMgPSBDRkcuY2xpY2tNb2RlcyB8fCBbCiAgICAgICAgJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknLCdzdHVuJywnZmVhcicsJ2F0dHJhY3QnLCdvcmJpdENXJywnb3JiaXRDQ1cnLAogICAgICAgICdzcGlyYWxPdXQnLCdzcGlyYWxJbicsJ2ZyZWV6ZScsJ3NjcmFtYmxlJywnc2NhdHRlcicsJ21hZ25ldCcsJ3B1bHNlJywKICAgICAgICAnd2FycCcsJ2dyb3cnLCd0dW5uZWwnLCdyaXBwbGUnLCdqaXR0ZXJidXJzdCcsJ2Nocm9tYWJ1cnN0Jywnc2xvd2Rvd24nLCdzcGVlZHVwJywKICAgICAgICAncGVybGluRHJhZycsJ2xpc3NhUHVsc2UnLCdtZXRlb3InLAogICAgICAgIC8vIHN0ZWVyaW5nLXdlaWdodCBlZmZlY3RzCiAgICAgICAgJ2FsaWduJywnZGVhbGlnbicsJ2NvaGVyZScsJ2xvb3NlbicsJ3NlcGFyYXRlJywnZGlzcGVyc2UnCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBwYXJzZUJvb2wodiwgZCkgewogICAgICAgIGlmICh2ID09IG51bGwpIHJldHVybiBkOwogICAgICAgIGNvbnN0IHMgPSBTdHJpbmcodikudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoWycxJywndHJ1ZScsJ3llcycsJ29uJ10uaW5jbHVkZXMocykpIHJldHVybiB0cnVlOwogICAgICAgIGlmIChbJzAnLCdmYWxzZScsJ25vJywnb2ZmJ10uaW5jbHVkZXMocykpIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gZDsKICAgICAgfQoKICAgICAgLy8gVVJMIG92ZXJyaWRlcyBmb3IgY29uZmlnCiAgICAgIChmdW5jdGlvbiB1cmxPdmVycmlkZSgpewogICAgICAgIGNvbnN0IGludEtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywncXRDYXAnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnXTsKICAgICAgICBjb25zdCBudW1LZXlzID0gWydtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJ107CiAgICAgICAgY29uc3QgYm9vbEtleXMgPSBbJ3dyYXAnLCdiZ0dyYWRpZW50JywncXQnLCdmbG93Jywnc2hvd0h1ZCddOwogICAgICAgIGNvbnN0IHN0cktleXMgPSBbJ3NoYXBlJywnYmxlbmQnLCdzcGF3biddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBpbnRLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE1hdGgubWF4KC05OTk5OSwgTWF0aC5taW4oOTk5OTksIHBhcnNlSW50KHYpKSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgbnVtS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBOdW1iZXIodik7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgYm9vbEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gcGFyc2VCb29sKHYsIENGR1trXSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2Ygc3RyS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSB2OyB9CiAgICAgICAgY29uc3QgY20gPSBwYXJhbXMuZ2V0KCdjbGlja01vZGUnKTsgaWYgKGNtKSBDRkcuY2xpY2tNb2RlID0gY207CiAgICAgICAgY29uc3QgY21zID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlcycpOyBpZiAoY21zKSBDRkcuY2xpY2tNb2RlcyA9IGNtcy5zcGxpdCgnLCcpOwogICAgICB9KSgpOwoKICAgICAgZnVuY3Rpb24gdXBkYXRlVXJsRnJvbUNmZyhleHRyYT17fSkgewogICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwobG9jYXRpb24uaHJlZik7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2h1ZScsIHBhbGV0dGVIdWUpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdoZWFkZXInLCB0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3ViaGVhZGVyJywgc3VidGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qga2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdxdENhcCcsJ3dyYXAnLCdzaGFwZScsJ2JsZW5kJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnYmdHcmFkaWVudCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MycsJ3F0JywnY2xpY2tNb2RlJywnY2xpY2tNb2RlcycsJ2Zsb3cnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJywnc3Bhd24nLCdzaG93SHVkJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIFN0cmluZyhDRkdba10pKTsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZXMgJiYgQXJyYXkuaXNBcnJheShDRkcuY2xpY2tNb2RlcykpIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdjbGlja01vZGVzJywgQ0ZHLmNsaWNrTW9kZXMuam9pbignLCcpKTsKICAgICAgICBmb3IgKGNvbnN0IFtrLHZdIG9mIE9iamVjdC5lbnRyaWVzKGV4dHJhKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgdik7CiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgJycsIHVybC50b1N0cmluZygpKTsKICAgICAgfQoKICAgICAgY29uc3QgVEFVID0gTWF0aC5QSSAqIDI7CgogICAgICAvLyBDYW52YXMgc2l6aW5nIHdpdGggRFBSCiAgICAgIGxldCBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgICBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcihpbm5lcldpZHRoICogRFBSKTsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihpbm5lckhlaWdodCAqIERQUik7CiAgICAgICAgY3R4LnNldFRyYW5zZm9ybShEUFIsIDAsIDAsIERQUiwgMCwgMCk7CiAgICAgICAgY2xlYXJIYXJkKCk7CiAgICAgIH0KICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKTsKICAgICAgcmVzaXplKCk7CgogICAgICBmdW5jdGlvbiBjbGVhckhhcmQoKSB7CiAgICAgICAgaWYgKENGRy5iZ0dyYWRpZW50KSB7CiAgICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGlubmVyV2lkdGgqMC42NSwgaW5uZXJIZWlnaHQqMC4zNSwgTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuMTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyV2lkdGgqMC41LCBpbm5lckhlaWdodCowLjUsIE1hdGguaHlwb3QoaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuNyk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDEpJTM2MH0gODAlIDEwJSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNSwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MiklMzYwfSA3MCUgOCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgxLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDMpJTM2MH0gNjAlIDYlKWApOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBpbm5lcldpZHRoLCBpbm5lckhlaWdodCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNsYW1wSW50KG4sIGxvLCBoaSwgZmFsbGJhY2spIHsKICAgICAgICBuID0gTnVtYmVyLmlzRmluaXRlKG4pID8gbiA6IGZhbGxiYWNrOwogICAgICAgIHJldHVybiBNYXRoLm1heChsbywgTWF0aC5taW4oaGksIG4pKTsKICAgICAgfQoKICAgICAgLy8gRHJpZnQgYSBodWUgdmFsdWUgdG93YXJkIGEgdGFyZ2V0IG9uIGEgY2lyY3VsYXIgY29sb3Igd2hlZWwKICAgICAgZnVuY3Rpb24gYXBwcm9hY2hIdWUoaCwgdGFyZ2V0LCByYXRlKSB7CiAgICAgICAgLy8gcmF0ZSBpcyAwLi4xIGZyYWN0aW9uIHRvd2FyZCB0YXJnZXQgcGVyIGNhbGwKICAgICAgICBsZXQgZCA9ICgodGFyZ2V0IC0gaCArIDU0MCkgJSAzNjApIC0gMTgwOyAvLyBzaG9ydGVzdCBzaWduZWQgZGVsdGEgWy0xODAsMTgwKQogICAgICAgIHJldHVybiAoaCArIGQgKiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCByYXRlKSkgKyAzNjApICUgMzYwOwogICAgICB9CgogICAgICAvLyBMaWdodHdlaWdodCAyRCB2YWx1ZSBub2lzZSAoZm9yIHBlcmxpbi1saWtlIGRyYWcpCiAgICAgIGxldCBub2lzZVNlZWQgPSAoQkFTRV9IVUUgKiAxNjY0NTI1ICsgMTAxMzkwNDIyMykgJiAweGZmZmZmZmZmOwogICAgICBmdW5jdGlvbiBmcmFjdCh4KXsgcmV0dXJuIHggLSBNYXRoLmZsb29yKHgpOyB9CiAgICAgIGZ1bmN0aW9uIF9yYW5kKGl4LCBpeSl7CiAgICAgICAgY29uc3QgayA9IChpeCAqIDM3NDc2MTM5MyArIGl5ICogNjY4MjY1MjYzICsgbm9pc2VTZWVkKSA+Pj4gMDsKICAgICAgICByZXR1cm4gZnJhY3QoTWF0aC5zaW4oaykgKiA0Mzc1OC41NDUzKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBub2lzZTIoeCwgeSl7CiAgICAgICAgY29uc3QgeGkgPSBNYXRoLmZsb29yKHgpLCB5aSA9IE1hdGguZmxvb3IoeSk7CiAgICAgICAgY29uc3QgeGYgPSB4IC0geGksIHlmID0geSAtIHlpOwogICAgICAgIGNvbnN0IHUgPSB4Zip4ZiooMy0yKnhmKSwgdiA9IHlmKnlmKigzLTIqeWYpOwogICAgICAgIGNvbnN0IHYwMCA9IF9yYW5kKHhpLCB5aSksIHYxMCA9IF9yYW5kKHhpKzEsIHlpKSwgdjAxID0gX3JhbmQoeGksIHlpKzEpLCB2MTEgPSBfcmFuZCh4aSsxLCB5aSsxKTsKICAgICAgICBjb25zdCB4MSA9IHYwMCooMS11KSArIHYxMCp1LCB4MiA9IHYwMSooMS11KSArIHYxMSp1OwogICAgICAgIHJldHVybiB4MSooMS12KSArIHgyKnY7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gcGVybGluVmVjKHgsIHksIHNjYWxlLCBhbXApewogICAgICAgIGNvbnN0IG4gPSBub2lzZTIoeCpzY2FsZSwgeSpzY2FsZSk7CiAgICAgICAgY29uc3QgYSA9IG4gKiBUQVU7CiAgICAgICAgcmV0dXJuIFtNYXRoLmNvcyhhKSphbXAsIE1hdGguc2luKGEpKmFtcF07CiAgICAgIH0KCiAgICAgIC8vIFNlZWRlZCBQUk5HIGZvciBzdWJ0bGUgZGV0ZXJtaW5pc20gZnJvbSBCQVNFX0hVRQogICAgICBsZXQgX3NlZWQgPSAoQkFTRV9IVUUgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwOwogICAgICBmdW5jdGlvbiBybmQoKSB7IF9zZWVkID0gKDExMDM1MTUyNDUgKiBfc2VlZCArIDEyMzQ1KSAmIDB4N2ZmZmZmZmY7IHJldHVybiAoX3NlZWQgPj4+IDgpIC8gMHg3ZmZmZmY7IH0KICAgICAgZnVuY3Rpb24gcmFuZChtaW4sIG1heCkgeyByZXR1cm4gcm5kKCkgKiAobWF4IC0gbWluKSArIG1pbjsgfQoKICAgICAgLy8gRGF0YS1PcmllbnRlZCBTdGF0ZSAoU29BKSDigJQgZHluYW1pYwogICAgICBsZXQgTiA9IENGRy5jb3VudDsKICAgICAgbGV0IHB4LCBweSwgdngsIHZ5LCBheCwgYXksIGh1ZSwgc3BkLCBwcmV2eCwgcHJldnk7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBtb2RpZmllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBzaXplTXVsLCB2Qm9vc3QsIGh1ZU9mZiwgaml0QW1wOwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgc3RlZXJpbmcgbXVsdGlwbGllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBhbGlnbk11bCwgY29oZXNpb25NdWwsIHNlcGFyYXRpb25NdWw7CgogICAgICBmdW5jdGlvbiBhbGxvYyhuKSB7CiAgICAgICAgcHggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBweSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgdnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYXggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBheSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgaHVlID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc3BkID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBwcmV2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHByZXZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBzaXplTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdkJvb3N0ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaHVlT2ZmID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaml0QW1wID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBhbGlnbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGNvaGVzaW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc2VwYXJhdGlvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHNlZWRCb2lkcygpIHsKICAgICAgICBjb25zdCBtb2RlID0gQ0ZHLnNwYXduIHx8ICdyYW5kb20nOwogICAgICAgIGlmIChtb2RlID09PSAnY2lyY2xlJykgewogICAgICAgICAgY29uc3QgY3ggPSBpbm5lcldpZHRoLzIsIGN5ID0gaW5uZXJIZWlnaHQvMiwgciA9IE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KS8zOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgdCA9IE1hdGgucmFuZG9tKCkqTWF0aC5QSSoyOyBweFtpXT1jeCtNYXRoLmNvcyh0KSpyOyBweVtpXT1jeStNYXRoLnNpbih0KSpyOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnZ3JpZCcpIHsKICAgICAgICAgIGNvbnN0IGNvbHM9TWF0aC5tYXgoMTAsIE1hdGguZmxvb3IoTWF0aC5zcXJ0KE4pKSk7IGNvbnN0IHJvd3M9TWF0aC5jZWlsKE4vY29scyk7CiAgICAgICAgICBjb25zdCBneD1pbm5lcldpZHRoLyhjb2xzKzEpLCBneT1pbm5lckhlaWdodC8ocm93cysxKTsgbGV0IGs9MDsKICAgICAgICAgIGZvciAobGV0IHk9MTt5PD1yb3dzO3krKykgZm9yIChsZXQgeD0xO3g8PWNvbHM7eCsrKSB7IGlmIChrPj1OKSBicmVhazsgcHhba109Z3gqeDsgcHlba109Z3kqeTsgdnhba109cmFuZCgtMSwxKTsgdnlba109cmFuZCgtMSwxKTsgaysrOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnY2VudGVyYnVyc3QnKSB7CiAgICAgICAgICBjb25zdCBjeD1pbm5lcldpZHRoLzIsIGN5PWlubmVySGVpZ2h0LzI7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCBhPU1hdGgucmFuZG9tKCkqTWF0aC5QSSoyLCBkPXJhbmQoMCwgTWF0aC5taW4oaW5uZXJXaWR0aCxpbm5lckhlaWdodCkvMik7IHB4W2ldPWN4K01hdGguY29zKGEpKmQ7IHB5W2ldPWN5K01hdGguc2luKGEpKmQ7IHZ4W2ldPU1hdGguY29zKGEpOyB2eVtpXT1NYXRoLnNpbihhKTsgfQogICAgICAgIH0gZWxzZSB7IC8vIHJhbmRvbQogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgcHhbaV09cmFuZCgwLGlubmVyV2lkdGgpOyBweVtpXT1yYW5kKDAsaW5uZXJIZWlnaHQpOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICBjb25zdCBtPU1hdGguaHlwb3QodnhbaV0sdnlbaV0pfHwxOyB2eFtpXSo9Mi4wL207IHZ5W2ldKj0yLjAvbTsKICAgICAgICAgIGh1ZVtpXSA9IChwYWxldHRlSHVlICsgcmFuZCgtMzAsIDMwKSkgJSAzNjA7IHByZXZ4W2ldPXB4W2ldOyBwcmV2eVtpXT1weVtpXTsKICAgICAgICAgIHNpemVNdWxbaV09MDsgdkJvb3N0W2ldPTA7IGh1ZU9mZltpXT0wOyBqaXRBbXBbaV09MDsKICAgICAgICAgIGFsaWduTXVsW2ldPTA7IGNvaGVzaW9uTXVsW2ldPTA7IHNlcGFyYXRpb25NdWxbaV09MDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHJlc2VlZChuKSB7CiAgICAgICAgTiA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IobikpOwogICAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKICAgICAgfQoKICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwoKICAgICAgLy8gUXVhZHRyZWUgaW1wbGVtZW50YXRpb24KICAgICAgY2xhc3MgUVROb2RlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMueCA9IHg7IHRoaXMueSA9IHk7IHRoaXMudyA9IHc7IHRoaXMuaCA9IGg7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsgdGhpcy5jb3VudCA9IDA7IHRoaXMuaWR4ID0gbmV3IEludDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMucHRzeCA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsgdGhpcy5wdHN5ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5kaXZpZGVkID0gZmFsc2U7IHRoaXMuY2hpbGRyZW4gPSBudWxsOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY2xhc3MgUXVhZHRyZWUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy5yb290ID0gbmV3IFFUTm9kZSh4LCB5LCB3LCBoLCBjYXApOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7CiAgICAgICAgfQoKICAgICAgICBpbnNlcnQoaSwgeCwgeSwgbm9kZSA9IHRoaXMucm9vdCkgewogICAgICAgICAgaWYgKHggPCBub2RlLnggfHwgeSA8IG5vZGUueSB8fCB4ID49IG5vZGUueCArIG5vZGUudyB8fCB5ID49IG5vZGUueSArIG5vZGUuaCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgaWYgKG5vZGUuY291bnQgPCBub2RlLmNhcCAmJiAhbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSBub2RlLmNvdW50Kys7IG5vZGUuaWR4W2pdID0gaTsgbm9kZS5wdHN4W2pdID0geDsgbm9kZS5wdHN5W2pdID0geTsgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgdGhpcy5zdWJkaXZpZGUobm9kZSk7CiAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgfQoKICAgICAgICBzdWJkaXZpZGUobm9kZSkgewogICAgICAgICAgbm9kZS5kaXZpZGVkID0gdHJ1ZTsKICAgICAgICAgIGNvbnN0IGh3ID0gbm9kZS53LzIsIGhoID0gbm9kZS5oLzI7CiAgICAgICAgICBub2RlLmNoaWxkcmVuID0gWwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTlcKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5FCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU0UKICAgICAgICAgIF07CiAgICAgICAgICAvLyByZWluc2VydCBleGlzdGluZyBwb2ludHMKICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbm9kZS5jb3VudDsgaysrKSB7CiAgICAgICAgICAgIGNvbnN0IGkgPSBub2RlLmlkeFtrXTsgY29uc3QgeCA9IG5vZGUucHRzeFtrXTsgY29uc3QgeSA9IG5vZGUucHRzeVtrXTsKICAgICAgICAgICAgdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgICB9CiAgICAgICAgICBub2RlLmNvdW50ID0gMDsgLy8gY2xlYXIgbGVhZiBzdG9yYWdlCiAgICAgICAgfQoKICAgICAgICBxdWVyeShjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgdGhpcy5fcXVlcnlOb2RlKHRoaXMucm9vdCwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KICAgICAgICBfcXVlcnlOb2RlKG5vZGUsIGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICAvLyBjaXJjbGUtcmVjdCBxdWljayByZWplY3QKICAgICAgICAgIGNvbnN0IHJ4PW5vZGUueCwgcnk9bm9kZS55LCBydz1ub2RlLncsIHJoPW5vZGUuaDsKICAgICAgICAgIGxldCBueCA9IE1hdGgubWF4KHJ4LCBNYXRoLm1pbihjeCwgcngrcncpKTsKICAgICAgICAgIGxldCBueSA9IE1hdGgubWF4KHJ5LCBNYXRoLm1pbihjeSwgcnkrcmgpKTsKICAgICAgICAgIGNvbnN0IGRpc3QgPSAoY3gtbngpKihjeC1ueCkrKGN5LW55KSooY3ktbnkpOwogICAgICAgICAgaWYgKGRpc3QgPiByKnIpIHJldHVybjsKCiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBmb3IgKGxldCBrPTA7azxub2RlLmNvdW50O2srKykgeyBvdXQucHVzaChub2RlLmlkeFtrXSk7IH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX3F1ZXJ5Tm9kZShub2RlLmNoaWxkcmVuW2NdLCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQoKICAgICAgICBkcmF3KGN0eCkgewogICAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHsocGFsZXR0ZUh1ZSsxODApJTM2MH0gODAlIDcwJSAvIDAuMTQpYDsKICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgdGhpcy5fZHJhd05vZGUoY3R4LCB0aGlzLnJvb3QpOwogICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICAgICAgX2RyYXdOb2RlKGN0eCwgbm9kZSkgewogICAgICAgICAgY3R4LnN0cm9rZVJlY3Qobm9kZS54LCBub2RlLnksIG5vZGUudywgbm9kZS5oKTsKICAgICAgICAgIGlmIChub2RlLmRpdmlkZWQpIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9kcmF3Tm9kZShjdHgsIG5vZGUuY2hpbGRyZW5bY10pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0cwogICAgICBjb25zdCBlZmZlY3RzID0gW107IC8vIHt4LHksdCxsaWZlLHNpZ24sdHlwZSwuLi5leHRyYXN9CiAgICAgIGxldCBtb3VzZURvd24gPSBmYWxzZTsKICAgICAgY29uc3QgcG9pbnRlciA9IHt4OiBpbm5lcldpZHRoLzIsIHk6IGlubmVySGVpZ2h0LzIsIHZ4OiAwLCB2eTogMCwgdDogcGVyZm9ybWFuY2Uubm93KCl9OwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSB0cnVlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsICAgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IGZhbHNlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgLTEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIGlmIChtb3VzZURvd24pIHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKCiAgICAgIGZ1bmN0aW9uIHBpY2tDbGlja1R5cGUoKSB7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGUgJiYgQ0ZHLmNsaWNrTW9kZSAhPT0gJ3JhbmRvbScpIHJldHVybiBDRkcuY2xpY2tNb2RlOwogICAgICAgIGNvbnN0IGxpc3QgPSBDRkcuY2xpY2tNb2RlcyB8fCBbJ3Nob2NrJ107CiAgICAgICAgcmV0dXJuIGxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmxpc3QubGVuZ3RoKV0gfHwgJ3Nob2NrJzsKICAgICAgfQogICAgICBmdW5jdGlvbiBzcGF3bkVmZmVjdCh4LCB5LCBzaWduKSB7CiAgICAgICAgY29uc3QgdHlwZSA9IHBpY2tDbGlja1R5cGUoKTsKICAgICAgICBjb25zdCBsaWZlID0gKHR5cGU9PT0naW1wbG9zaW9uJykgPyAwLjkgOiAodHlwZT09PSd2b3J0ZXgnIHx8IHR5cGU9PT0nbWV0ZW9yJyA/IDEuOCA6IDEuMik7CiAgICAgICAgY29uc3QgRSA9IHsgeCwgeSwgdDogMCwgbGlmZSwgc2lnbiwgdHlwZSB9OwogICAgICAgIGlmICh0eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgIGNvbnN0IHNwID0gTWF0aC5taW4oMywgTWF0aC5oeXBvdChwb2ludGVyLnZ4LCBwb2ludGVyLnZ5KSoxMjApOwogICAgICAgICAgRS5hID0gMiArIE1hdGguZmxvb3Ioc3AlNCk7IEUuYiA9IDMgKyBNYXRoLmZsb29yKChzcCoxLjcpJTQpOyBFLnBoYXNlID0gTWF0aC5yYW5kb20oKSpUQVU7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgY29uc3Qgc2NhbGUgPSA5MDA7IEUudnggPSBwb2ludGVyLnZ4KnNjYWxlOyBFLnZ5ID0gcG9pbnRlci52eSpzY2FsZTsgRS5tYXNzID0gMjIwICsgTWF0aC5yYW5kb20oKSoxODA7IEUuZHJhZz0wLjk4OwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICBFLnNjYWxlID0gMC4wMDYgKyBNYXRoLnJhbmRvbSgpKjAuMDA2OyBFLmFtcCA9IDEuMiArIE1hdGgucmFuZG9tKCkqMS4yOwogICAgICAgIH0KICAgICAgICBlZmZlY3RzLnB1c2goRSk7CiAgICAgIH0KCiAgICAgIC8vIFBoeXNpY3MgaGVscGVycwogICAgICBmdW5jdGlvbiBsaW1pdCh2eCwgdnksIG1heCkgewogICAgICAgIGNvbnN0IG0yID0gdngqdnggKyB2eSp2eTsgaWYgKG0yID4gbWF4Km1heCkgewogICAgICAgICAgY29uc3QgbSA9IE1hdGguc3FydChtMikgfHwgMTsgY29uc3QgcyA9IG1heCAvIG07IHJldHVybiBbdngqcywgdnkqc107CiAgICAgICAgfSByZXR1cm4gW3Z4LCB2eV07CiAgICAgIH0KCiAgICAgIC8vIE1haW4gbG9vcAogICAgICBsZXQgbGFzdCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICBsZXQgZnBzQXZnID0gMDsKICAgICAgZnVuY3Rpb24gZnJhbWUodCkgewogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5taW4oMzIsIHQgLSBsYXN0KSAqIDAuMDAxOyAvLyBjbGFtcAogICAgICAgIGxhc3QgPSB0OwogICAgICAgIGNvbnN0IGZwc05vdyA9IDEgLyBNYXRoLm1heCgxZS02LCBkdCk7CiAgICAgICAgZnBzQXZnID0gZnBzQXZnID8gKGZwc0F2ZyowLjkgKyBmcHNOb3cqMC4xKSA6IGZwc05vdzsKICAgICAgICBjb25zdCBXID0gaW5uZXJXaWR0aCwgSCA9IGlubmVySGVpZ2h0OwoKICAgICAgICAvLyB0cmFpbHM6IHRyYW5zbHVjZW50IGZpbGwKICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJzsKICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIENGRy50cmFpbEFscGhhKSk7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgVywgSCk7CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gQnVpbGQgcXVhZHRyZWUKICAgICAgICBjb25zdCBxdCA9IG5ldyBRdWFkdHJlZSgwLCAwLCBXLCBILCBDRkcucXRDYXApOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSBxdC5pbnNlcnQoaSwgcHhbaV0sIHB5W2ldKTsKCiAgICAgIC8vIEFwcGx5IGZsb2NraW5nIHZpYSBuZWlnaGJvciBxdWVyaWVzIChhZGFwdGl2ZSB2aXNpb24gdW5kZXIgbG9hZCkKICAgICAgY29uc3QgdmlzaW9uID0gQ0ZHLnZpc2lvbiAqIChmcHNBdmcgPCA1MCA/IDAuOSA6IDEuMCk7IGNvbnN0IHNlcCA9IENGRy5zZXA7CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGF4W2ldPTA7IGF5W2ldPTA7IH0KICAgICAgbGV0IHRtcCA9IFtdOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgIHRtcC5sZW5ndGggPSAwOyBxdC5xdWVyeShweFtpXSwgcHlbaV0sIHZpc2lvbiwgdG1wKTsKICAgICAgICAgIGxldCBjeD0wLCBjeT0wLCB2eHN1bT0wLCB2eXN1bT0wLCBzeD0wLCBzeT0wLCB0b3RhbD0wLCBzY2xvc2U9MDsKICAgICAgICAgIGZvciAobGV0IGs9MDtrPHRtcC5sZW5ndGg7aysrKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSB0bXBba107IGlmIChqPT09aSkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGR4ID0gcHhbal0tcHhbaV07IGNvbnN0IGR5ID0gcHlbal0tcHlbaV07CiAgICAgICAgICAgIGNvbnN0IGQyID0gZHgqZHggKyBkeSpkeTsgaWYgKGQyID09PSAwKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChkMik7CiAgICAgICAgICAgIGlmIChkIDwgdmlzaW9uKSB7IHRvdGFsKys7IGN4ICs9IHB4W2pdOyBjeSArPSBweVtqXTsgdnhzdW0gKz0gdnhbal07IHZ5c3VtICs9IHZ5W2pdOyB9CiAgICAgICAgICAgIGlmIChkIDwgc2VwKSB7IHNjbG9zZSsrOyBzeCAtPSBkeC8oZHx8MSk7IHN5IC09IGR5LyhkfHwxKTsgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKHRvdGFsPjApIHsKICAgICAgICAgICAgLy8gYWxpZ25tZW50CiAgICAgICAgICAgIGxldCBheHYgPSAodnhzdW0vdG90YWwpIC0gdnhbaV07IGxldCBheXYgPSAodnlzdW0vdG90YWwpIC0gdnlbaV07CiAgICAgICAgICAgIGNvbnN0IGFsaWduVyA9IENGRy5hbGlnblcgKiAoMSArIChhbGlnbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbYXh2LCBheXZdID0gbGltaXQoYXh2LCBheXYsIENGRy5tYXhGb3JjZSk7CiAgICAgICAgICAgIGF4W2ldICs9IGF4diAqIGFsaWduVzsgYXlbaV0gKz0gYXl2ICogYWxpZ25XOwogICAgICAgICAgICAvLyBjb2hlc2lvbgogICAgICAgICAgICBsZXQgY3h2ID0gKGN4L3RvdGFsIC0gcHhbaV0pOyBsZXQgY3l2ID0gKGN5L3RvdGFsIC0gcHlbaV0pOwogICAgICAgICAgICBjb25zdCBjb2hXID0gQ0ZHLmNvaGVzaW9uVyAqICgxICsgKGNvaGVzaW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtjeHYsIGN5dl0gPSBsaW1pdChjeHYsIGN5diwgQ0ZHLm1heEZvcmNlKTsgYXhbaV0gKz0gY3h2ICogY29oVzsgYXlbaV0gKz0gY3l2ICogY29oVzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChzY2xvc2U+MCkgewogICAgICAgICAgICBsZXQgc3h2ID0gc3g7IGxldCBzeXYgPSBzeTsgW3N4diwgc3l2XSA9IGxpbWl0KHN4diwgc3l2LCBDRkcubWF4Rm9yY2UqMS41KTsKICAgICAgICAgICAgY29uc3Qgc2VwVyA9IENGRy5zZXBhcmF0aW9uVyAqICgxICsgKHNlcGFyYXRpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgYXhbaV0gKz0gc3h2ICogc2VwVzsgYXlbaV0gKz0gc3l2ICogc2VwVzsKICAgICAgICAgIH0KICAgICAgICAvLyBvcHRpb25hbCBmbG93IGZpZWxkIGZvciBwYXR0ZXJuIHZhcmlldHkKICAgICAgICBpZiAoQ0ZHLmZsb3cpIHsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuZmxvd1NjYWxlIHx8IDAuMDA0OyBjb25zdCBhID0gQ0ZHLmZsb3dBbXAgfHwgMC42OyBjb25zdCBzcCA9IENGRy5mbG93U3BlZWQgfHwgMC42OwogICAgICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKSowLjAwMSpzcDsKICAgICAgICAgIGNvbnN0IGZ4ID0gTWF0aC5zaW4ocHlbaV0qcyArIHQwKSAqIGE7CiAgICAgICAgICBjb25zdCBmeSA9IE1hdGguY29zKHB4W2ldKnMgLSB0MCkgKiBhOwogICAgICAgICAgYXhbaV0gKz0gZng7IGF5W2ldICs9IGZ5OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0czogfjIwKyBtb2RlcyBpbmNsdWRpbmcgcGVybGluRHJhZywgbGlzc2FQdWxzZSwgbWV0ZW9yCiAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcic7CiAgICAgIGxldCB0bXAyID0gW107CiAgICAgIGZvciAobGV0IGU9ZWZmZWN0cy5sZW5ndGgtMTsgZT49MDsgZS0tKSB7CiAgICAgICAgY29uc3QgRSA9IGVmZmVjdHNbZV07IEUudCArPSBkdDsgY29uc3QgayA9IEUudCAvIEUubGlmZTsKICAgICAgICBjb25zdCByID0gMzAgKyBrICogMjYwOyBjb25zdCBzdHIgPSAxLjAgLSBrOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7IEUueCArPSAoRS52eHx8MCkqZHQ7IEUueSArPSAoRS52eXx8MCkqZHQ7IEUudnggKj0gKEUuZHJhZ3x8MSk7IEUudnkgKj0gKEUuZHJhZ3x8MSk7IEUubWFzcyAqPSAwLjk4NTsgfQogICAgICAgIHRtcDIubGVuZ3RoID0gMDsgcXQucXVlcnkoRS54LCBFLnksIHIsIHRtcDIpOwogICAgICAgIGZvciAobGV0IGlpPTA7IGlpPHRtcDIubGVuZ3RoOyBpaSsrKSB7CiAgICAgICAgICBjb25zdCBpID0gdG1wMltpaV07IGNvbnN0IGR4ID0gcHhbaV0tRS54OyBjb25zdCBkeSA9IHB5W2ldLUUueTsgY29uc3QgZCA9IE1hdGguaHlwb3QoZHgsIGR5KXx8MTsKICAgICAgICAgIGNvbnN0IGZhbGwgPSAoMSAtIE1hdGgubWluKDEsIGQvcikpOwogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICAgIGNvbnN0IHYgPSBwZXJsaW5WZWMocHhbaV0tRS54LCBweVtpXS1FLnksIEUuc2NhbGV8fDAuMDA4LCAoRS5hbXB8fDEuNSkgKiBmYWxsKTsKICAgICAgICAgICAgYXhbaV0gKz0gdlswXTsgYXlbaV0gKz0gdlsxXTsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIoZHksIGR4KTsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKEUuYSphbmcgKyBFLnBoYXNlKSAqIE1hdGguY29zKEUuYiphbmcgLSBFLnBoYXNlKTsKICAgICAgICAgICAgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgICAgY29uc3QgRyA9IDgwMDsgY29uc3QgZiA9IE1hdGgubWluKDMuMCwgKEcqKEUubWFzc3x8MjAwKSkvKChkKmQpKzIwMCkpOwogICAgICAgICAgICBheFtpXSAtPSAoZHgvZCkqZipmYWxsOyBheVtpXSAtPSAoZHkvZCkqZipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICd2b3J0ZXgnIHx8IEUudHlwZT09PSdvcmJpdENXJyB8fCBFLnR5cGU9PT0nb3JiaXRDQ1cnIHx8IEUudHlwZT09PSdzcGlyYWxPdXQnIHx8IEUudHlwZT09PSdzcGlyYWxJbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdvcmJpdENDVycpID8gLTEgOiAxOwogICAgICAgICAgICBjb25zdCB0eCA9IC1keS9kLCB0eSA9IGR4L2Q7IGxldCBzID0gKEUuc2lnbj4wPzE6LTEpICogMS4yICogZmFsbCAqIGRpcjsKICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxPdXQnKSB7IHMgPSAxLjIqZmFsbDsgYXhbaV0gKz0gKGR4L2QpKmZhbGwqMC44OyBheVtpXSArPSAoZHkvZCkqZmFsbCowLjg7IH0KICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxJbicpIHsgcyA9IC0xLjIqZmFsbDsgYXhbaV0gLT0gKGR4L2QpKmZhbGwqMC42OyBheVtpXSAtPSAoZHkvZCkqZmFsbCowLjY7IH0KICAgICAgICAgICAgYXhbaV0gKz0gdHgqczsgYXlbaV0gKz0gdHkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdpbXBsb3Npb24nIHx8IEUudHlwZT09PSdhdHRyYWN0JyB8fCBFLnR5cGU9PT0nbWFnbmV0JykgewogICAgICAgICAgICBjb25zdCBzID0gKEUudHlwZT09PSdpbXBsb3Npb24nID8gLTIuMiA6IC0xLjIpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzcHJheScgfHwgRS50eXBlPT09J3NjYXR0ZXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAoRS50eXBlPT09J3NjYXR0ZXInPzMuMDoyLjQpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICB2eFtpXSArPSAoZHgvZCkgKiAwLjI1ICogZmFsbDsgdnlbaV0gKz0gKGR5L2QpICogMC4yNSAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjE1KmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3N0dW4nIHx8IEUudHlwZT09PSdmcmVlemUnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAoRS50eXBlPT09J2ZyZWV6ZSc/MC42OjAuMykgKiBmYWxsOyBzaXplTXVsW2ldICs9IDAuMypmYWxsOyB2eFtpXSAqPSAwLjk2OyB2eVtpXSAqPSAwLjk2OwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdmZWFyJykgewogICAgICAgICAgICBjb25zdCBzID0gMi44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBqaXRBbXBbaV0gKz0gMC4yNSpmYWxsOyBodWVPZmZbaV0gKz0gODAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2NyYW1ibGUnKSB7CiAgICAgICAgICAgIHZ4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgdnlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyBqaXRBbXBbaV0gKz0gMC4zKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3B1bHNlJyB8fCBFLnR5cGU9PT0ncmlwcGxlJykgewogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oaypNYXRoLlBJKjIpOyBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldICs9IDAuOCAqIGZhbGw7IHNlcGFyYXRpb25NdWxbaV0gLT0gMC4zICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZGVhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gLT0gMC44ICogZmFsbDsgY29oZXNpb25NdWxbaV0gKz0gMC4yICogZmFsbDsgaml0QW1wW2ldICs9IDAuMSAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2NvaGVyZScgfHwgRS50eXBlPT09J3RpZ2h0ZW4nIHx8IEUudHlwZT09PSdsb29zZW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nbG9vc2VuJykgPyAtMSA6IDE7IC8vIGxvb3NlbiByZWR1Y2VzIGNvaGVzaW9uCiAgICAgICAgICAgIGNvaGVzaW9uTXVsW2ldICs9IGRpciAqIDAuOSAqIGZhbGw7IGlmIChkaXI+MCkgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjIgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzZXBhcmF0ZScgfHwgRS50eXBlPT09J2Rpc3BlcnNlJykgewogICAgICAgICAgICBzZXBhcmF0aW9uTXVsW2ldICs9IDEuMCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldIC09IDAuNCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3dhcnAnIHx8IEUudHlwZT09PSdzcGVlZHVwJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGh1ZU9mZltpXSArPSA0MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzbG93ZG93bicpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IDAuNSpmYWxsOyBodWVPZmZbaV0gLT0gMjAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZ3JvdycpIHsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjYqZmFsbDsgaHVlT2ZmW2ldICs9IDMwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3R1bm5lbCcpIHsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gciowLjc7IGNvbnN0IHMgPSAoZDx0YXJnZXQ/KzE6LTEpICogMS4yICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdqaXR0ZXJidXJzdCcpIHsKICAgICAgICAgICAgaml0QW1wW2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjaHJvbWFidXJzdCcpIHsKICAgICAgICAgICAgaHVlT2ZmW2ldICs9IDE2MCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzaG9jayAvIGRlZmF1bHQKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8rMTotMSkgKiAxLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGdlbmVyYWwgY29sb3IgZW5lcmd5CiAgICAgICAgICBodWVbaV0gPSAoaHVlW2ldICsgOTAgKiBmYWxsKSAlIDM2MDsKICAgICAgICB9CiAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChFLngsIEUueSwgTWF0aC5tYXgoMSwgciowLjYpLCBFLngsIEUueSwgcik7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsyMCklMzYwfSwgOTUlLCA3MCUsICR7MC4zNCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzYwKSUzNjB9LCA5NSUsIDYwJSwgJHswLjIyKnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjk1LCBgaHNsYSgkeyhwYWxldHRlSHVlKzEwMCklMzYwfSwgOTUlLCA1NSUsIDApYCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHtwYWxldHRlSHVlfSwgOTUlLCA2NSUsICR7MC4yNSpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzQwKSUzNjB9LCA5NSUsIDU1JSwgJHswLjE4KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjksIGBoc2xhKCR7KHBhbGV0dGVIdWUrODApJTM2MH0sIDk1JSwgNjAlLCAwKWApOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKEUueCwgRS55LCByLCAwLCBNYXRoLlBJKjIpOyBjdHguZmlsbCgpOwogICAgICAgIGlmIChrID49IDEpIGVmZmVjdHMuc3BsaWNlKGUsIDEpOwogICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gSW50ZWdyYXRlIGFuZCBkcmF3IGJvaWRzIHdpdGggZ2xvdyBhbmQgdHJhaWxzCiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IENGRy5ibGVuZDsKICAgICAgY3R4LmxpbmVXaWR0aCA9IENGRy5saW5lV2lkdGg7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIC8vIGludGVncmF0ZQogICAgICAgICAgaWYgKGppdEFtcFtpXSA+IDAuMDAwMSkgeyBheFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyBheVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyB9CiAgICAgICAgICB2eFtpXSArPSBheFtpXTsgdnlbaV0gKz0gYXlbaV07CiAgICAgICAgICBjb25zdCB2TWF4ID0gQ0ZHLm1heFNwZWVkICogKDEgKyBNYXRoLm1heCgtMC43LCB2Qm9vc3RbaV0pKjAuOCk7CiAgICAgICAgICBbdnhbaV0sIHZ5W2ldXSA9IGxpbWl0KHZ4W2ldLCB2eVtpXSwgdk1heCk7CiAgICAgICAgICAvLyBlbmZvcmNlIG1pbiBzcGVlZCAod2l0aCBib29zdCkKICAgICAgICAgIHsgY29uc3Qgc3AgPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSkgfHwgMTsgY29uc3Qgdk1pbiA9IENGRy5taW5TcGVlZCAqICgxICsgTWF0aC5tYXgoMCwgdkJvb3N0W2ldKSowLjUpOyBpZiAoc3AgPCB2TWluKSB7IGNvbnN0IHMgPSB2TWluIC8gc3A7IHZ4W2ldICo9IHM7IHZ5W2ldICo9IHM7IH0gfQogICAgICAgICAgcHJldnhbaV0gPSBweFtpXTsgcHJldnlbaV0gPSBweVtpXTsKICAgICAgICAgIHB4W2ldICs9IHZ4W2ldOyBweVtpXSArPSB2eVtpXTsKCiAgICAgICAgICAvLyBib3VuZGFyaWVzCiAgICAgICAgICBpZiAoQ0ZHLndyYXApIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgLTUpIHB4W2ldID0gVyArIDU7IGVsc2UgaWYgKHB4W2ldID4gVys1KSBweFtpXSA9IC01OwogICAgICAgICAgICBpZiAocHlbaV0gPCAtNSkgcHlbaV0gPSBIICsgNTsgZWxzZSBpZiAocHlbaV0gPiBIKzUpIHB5W2ldID0gLTU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAocHhbaV0gPCAwIHx8IHB4W2ldID4gVykgeyB2eFtpXSA9IC12eFtpXTsgfQogICAgICAgICAgICBpZiAocHlbaV0gPCAwIHx8IHB5W2ldID4gSCkgeyB2eVtpXSA9IC12eVtpXTsgfQogICAgICAgICAgICBweFtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKFcsIHB4W2ldKSk7CiAgICAgICAgICAgIHB5W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oSCwgcHlbaV0pKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBkZWNheSBtb2RpZmllcnMgYW5kIGNvbXB1dGUgdGludAogICAgICAgICAgdkJvb3N0W2ldICo9IDAuOTI7IHNpemVNdWxbaV0gKj0gMC45MDsgaHVlT2ZmW2ldICo9IDAuOTQ7IGppdEFtcFtpXSAqPSAwLjg4OwogICAgICAgICAgYWxpZ25NdWxbaV0gKj0gMC45NDsgY29oZXNpb25NdWxbaV0gKj0gMC45NDsgc2VwYXJhdGlvbk11bFtpXSAqPSAwLjk0OwogICAgICAgICAgLy8gc2xvd2x5IGRyaWZ0IGJvaWQgaHVlIGJhY2sgdG93YXJkIGJhc2UgcGFsZXR0ZSBodWUKICAgICAgICAgIGh1ZVtpXSA9IGFwcHJvYWNoSHVlKGh1ZVtpXSwgcGFsZXR0ZUh1ZSwgTWF0aC5taW4oMSwgZHQgKiAoQ0ZHLmh1ZVJlbGF4IHx8IDAuMikpKTsKICAgICAgICAgIHNwZFtpXSA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKTsKICAgICAgICAgIGNvbnN0IEwgPSA1MCArIE1hdGgubWluKDQ1LCBzcGRbaV0qOCk7CiAgICAgICAgICBjb25zdCBTID0gODAgKyBNYXRoLm1pbigyMCwgc3BkW2ldKjYpOwogICAgICAgICAgY29uc3QgZHJhd0h1ZSA9IChodWVbaV0gKyBodWVPZmZbaV0pICUgMzYwOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgke2RyYXdIdWV9LCAke1N9JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IGBoc2woJHtkcmF3SHVlfSwgOTAlLCA2MCUpYDsKICAgICAgICAgIGNvbnN0IGdsb3dRdWFsaXR5ID0gKGZwc0F2ZyA8IDUwID8gMC41IDogMS4wKTsKICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gZ2xvd1F1YWxpdHkgKiAoQ0ZHLmdsb3dCYXNlICsgTWF0aC5taW4oQ0ZHLmdsb3dNYXgsIHNwZFtpXSpDRkcuZ2xvd1NjYWxlKSk7CgogICAgICAgICAgLy8gdHJhaWwgc2VnbWVudAogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY3R4Lm1vdmVUbyhwcmV2eFtpXSwgcHJldnlbaV0pOwogICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSwgcHlbaV0pOwogICAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICAgIC8vIGJvaWQgaGVhZCBzaGFwZQogICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMih2eVtpXSwgdnhbaV0pOwogICAgICAgICAgY29uc3QgY2EgPSBNYXRoLmNvcyhhbmcpLCBzYSA9IE1hdGguc2luKGFuZyk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYGhzbCgke2h1ZVtpXX0sIDk1JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuY29tZXRTaXplICogKDEgKyAoc2l6ZU11bFtpXXx8MCkpOwogICAgICAgICAgaWYgKENGRy5zaGFwZSA9PT0gJ3RyaWFuZ2xlJykgewogICAgICAgICAgICBjb25zdCBDMjYgPSAwLjg1Njg4ODc1MywgUzI2ID0gMC41MTU0OTg7IC8vIGNvcy9zaW4oMi42KQogICAgICAgICAgICBjb25zdCB4MCA9IHB4W2ldICsgY2EqcyoxLjYsIHkwID0gcHlbaV0gKyBzYSpzKjEuNjsKICAgICAgICAgICAgY29uc3QgY2FfcCA9IGNhKkMyNiAtIHNhKlMyNiwgc2FfcCA9IHNhKkMyNiArIGNhKlMyNjsKICAgICAgICAgICAgY29uc3QgY2FfbSA9IGNhKkMyNiArIHNhKlMyNiwgc2FfbSA9IHNhKkMyNiAtIGNhKlMyNjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4MCwgeTApOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcCpzLCAgcHlbaV0gKyBzYV9wKnMpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbSpzLCAgcHlbaV0gKyBzYV9tKnMpOwogICAgICAgICAgfSBlbHNlIGlmIChDRkcuc2hhcGUgPT09ICdvcmInKSB7CiAgICAgICAgICAgIGN0eC5hcmMocHhbaV0sIHB5W2ldLCBzKjAuNiwgMCwgTWF0aC5QSSoyKTsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNwYXJrCiAgICAgICAgICAgIGNvbnN0IEMwMiA9IDAuOTgwMDY2NiwgUzAyID0gMC4xOTg2NjkzOyAvLyBjb3Mvc2luKDAuMikKICAgICAgICAgICAgY29uc3QgeGggPSBweFtpXSArIGNhKnMqMS44LCB5aCA9IHB5W2ldICsgc2EqcyoxLjg7CiAgICAgICAgICAgIGNvbnN0IGNhX3AwMiA9IGNhKkMwMiAtIHNhKlMwMiwgc2FfcDAyID0gc2EqQzAyICsgY2EqUzAyOwogICAgICAgICAgICBjb25zdCBjYV9tMDIgPSBjYSpDMDIgKyBzYSpTMDIsIHNhX20wMiA9IHNhKkMwMiAtIGNhKlMwMjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4aCwgeWgpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcDAyKnMqMC42LCAgcHlbaV0gKyBzYV9wMDIqcyowLjYpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbTAyKnMqMC42LCAgcHlbaV0gKyBzYV9tMDIqcyowLjYpOwogICAgICAgICAgfQogICAgICAgICAgY3R4LmNsb3NlUGF0aCgpOyBjdHguZmlsbCgpOwogICAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBRdWFkdHJlZSB2aXN1YWxpemF0aW9uIChkZWZhdWx0IG9uKQogICAgICAgIGlmIChDRkcucXQpIHF0LmRyYXcoY3R4KTsKCiAgICAgICAgLy8gSFVECiAgICAgICAgaHVkRWwuaW5uZXJIVE1MID0gYDxzdHJvbmc+Qm9pZHM8L3N0cm9uZz4gwrcgTj0ke059IHZpc2lvbj0ke0NGRy52aXNpb259IHNlcD0ke0NGRy5zZXB9IGAgKwogICAgICAgICAgYMK3IHF0Q2FwPSR7Q0ZHLnF0Q2FwfSDCtyBodWU9JHtwYWxldHRlSHVlfSDCtyBxdFZpej0ke0NGRy5xdD8nb24nOidvZmYnfSDCtyBjbGljaz0ke0NGRy5jbGlja01vZGV9IMK3IGZwcz0ke2Zwc0F2Zy50b0ZpeGVkKDApfWA7CgogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CiAgICAgIH0KICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKCiAgICAgIC8vIENvbmZpZyBVSSBidWlsZCBhbmQgd2lyaW5nCiAgICAgIGNvbnN0IGNmZ0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdCdG4nKTsKICAgICAgY29uc3QgY2ZnQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQ2xvc2UnKTsKICAgICAgY29uc3QgY2ZnUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnJyk7CiAgICAgIGNvbnN0IGNmZ0JvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnQm9keScpOwogICAgICBjZmdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpKTsKICAgICAgY2ZnQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsJycpKTsKCiAgICAgIGNvbnN0IHNjaGVtYSA9IFsKICAgICAgICB7a2V5OidodWUnLCBsYWJlbDonSHVlJywgdHlwZTonaW50JywgbWluOjAsIG1heDozNjAsIHN0ZXA6MSwgdmFsdWU6QkFTRV9IVUV9LAogICAgICAgIHtrZXk6J2hlYWRlcicsIGxhYmVsOidIZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6SEVBREVSfSwKICAgICAgICB7a2V5OidzdWJoZWFkZXInLCBsYWJlbDonU3ViaGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOlNVQkhFQURFUn0sCiAgICAgICAge2tleToncXQnLCBsYWJlbDonU2hvdyBRdWFkdHJlZScsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaG93SHVkJywgbGFiZWw6J1Nob3cgSFVEJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NwYXduJywgbGFiZWw6J1NwYXduJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ2NpcmNsZScsJ2dyaWQnLCdjZW50ZXJidXJzdCddfSwKICAgICAgICB7a2V5Oidjb3VudCcsIGxhYmVsOidDb3VudCcsIHR5cGU6J2ludCcsIG1pbjo1MCwgbWF4OjEwMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTondmlzaW9uJywgbGFiZWw6J1Zpc2lvbicsIHR5cGU6J2ludCcsIG1pbjoyMCwgbWF4OjIwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidzZXAnLCBsYWJlbDonU2VwYXJhdGlvbiBEaXN0JywgdHlwZTonaW50JywgbWluOjQsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidtYXhTcGVlZCcsIGxhYmVsOidNYXggU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4xLCBtYXg6MTIsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtaW5TcGVlZCcsIGxhYmVsOidNaW4gU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4wLCBtYXg6Niwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21heEZvcmNlJywgbGFiZWw6J01heCBTdGVlcmluZyBGb3JjZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMSwgbWF4OjAuNSwgc3RlcDowLjAwMX0sCiAgICAgICAge2tleTonYWxpZ25XJywgbGFiZWw6J0FsaWduIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oidjb2hlc2lvblcnLCBsYWJlbDonQ29oZXNpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3NlcGFyYXRpb25XJywgbGFiZWw6J1NlcGFyYXRpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3RyYWlsQWxwaGEnLCBsYWJlbDonVHJhaWwgQWxwaGEnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjEsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleToncXRDYXAnLCBsYWJlbDonUXVhZHRyZWUgQ2FwYWNpdHknLCB0eXBlOidpbnQnLCBtaW46MiwgbWF4OjMyLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3dyYXAnLCBsYWJlbDonV3JhcCBCb3VuZHMnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hhcGUnLCBsYWJlbDonU2hhcGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsndHJpYW5nbGUnLCdzcGFyaycsJ29yYiddfSwKICAgICAgICB7a2V5OidibGVuZCcsIGxhYmVsOidCbGVuZCcsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydsaWdodGVyJywnc2NyZWVuJywnb3ZlcmxheScsJ3BsdXMtbGlnaHRlciddfSwKICAgICAgICB7a2V5OidsaW5lV2lkdGgnLCBsYWJlbDonTGluZSBXaWR0aCcsIHR5cGU6J251bWJlcicsIG1pbjowLjIsIG1heDo0LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonZ2xvd0Jhc2UnLCBsYWJlbDonR2xvdyBCYXNlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo2MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93TWF4JywgbGFiZWw6J0dsb3cgTWF4JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93U2NhbGUnLCBsYWJlbDonR2xvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NDAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5Oidjb21ldFNpemUnLCBsYWJlbDonQ29tZXQgU2l6ZScsIHR5cGU6J251bWJlcicsIG1pbjoxLCBtYXg6MjAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidiZ0dyYWRpZW50JywgbGFiZWw6J0JHIEdyYWRpZW50JywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQxJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAxJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDInLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDInLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MycsIGxhYmVsOidCRyBIdWUgU2hpZnQgMycsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2Zsb3cnLCBsYWJlbDonRmxvdyBGaWVsZCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidmbG93QW1wJywgbGFiZWw6J0Zsb3cgQW1wJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTY2FsZScsIGxhYmVsOidGbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAwNSwgbWF4OjAuMDIsIHN0ZXA6MC4wMDA1fSwKICAgICAgICB7a2V5OidmbG93U3BlZWQnLCBsYWJlbDonRmxvdyBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6Mywgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidjbGlja01vZGUnLCBsYWJlbDonQ2xpY2sgTW9kZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5J119LAogICAgICBdOwoKICAgICAgZnVuY3Rpb24gbWFrZVJvdyhsYWJlbCwgaW5wdXQpIHsKICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgcm93LmNsYXNzTmFtZSA9ICdyb3cnOwogICAgICAgIGNvbnN0IGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOyBsLnRleHRDb250ZW50ID0gbGFiZWw7IHJvdy5hcHBlbmRDaGlsZChsKTsKICAgICAgICByb3cuYXBwZW5kQ2hpbGQoaW5wdXQpOyByZXR1cm4gcm93OwogICAgICB9CgogICAgICBmdW5jdGlvbiBhZGRJbnB1dChpdGVtKSB7CiAgICAgICAgbGV0IGlucHV0OwogICAgICAgIGNvbnN0IHYwID0gKGl0ZW0ua2V5IGluIENGRykgPyBDRkdbaXRlbS5rZXldIDogaXRlbS52YWx1ZTsKICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vbCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0nY2hlY2tib3gnOyBpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LmNoZWNrZWQ7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzZWxlY3QnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpOwogICAgICAgICAgZm9yIChjb25zdCBvcHQgb2YgaXRlbS5vcHRpb25zKSB7IGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsgby52YWx1ZT1vcHQ7IG8udGV4dENvbnRlbnQ9b3B0OyBpZiAob3B0PT09djApIG8uc2VsZWN0ZWQ9dHJ1ZTsgaW5wdXQuYXBwZW5kQ2hpbGQobyk7IH0KICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQudmFsdWU7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSd0ZXh0JzsgaW5wdXQudmFsdWUgPSBTdHJpbmcodjB8fCcnKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpZiAoaXRlbS5rZXk9PT0naGVhZGVyJykgeyB0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmtleT09PSdzdWJoZWFkZXInKSB7IHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIGlucHV0LnZhbHVlKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmtleSA9PT0gJ2h1ZScpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5taW49JzAnOyBpbnB1dC5tYXg9JzM2MCc7IGlucHV0LnN0ZXA9JzEnOyBpbnB1dC52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5taW49JzAnOyBudW1iZXIubWF4PSczNjAnOyBudW1iZXIuc3RlcD0nMSc7IG51bWJlci52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZT1pbnB1dC52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWU9bnVtYmVyLnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBodWVDaGFuZ2VkKHZhbCl7CiAgICAgICAgICAgIC8vIHNoaWZ0IHBhbGV0dGUgaW1tZWRpYXRlbHkKICAgICAgICAgICAgY29uc3QgZGVsdGEgPSAodmFsIC0gcGFsZXR0ZUh1ZSk7CiAgICAgICAgICAgIHBhbGV0dGVIdWUgPSB2YWw7CiAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGh1ZVtpXSA9IChodWVbaV0gKyBkZWx0YSkgJSAzNjA7IH0KICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHt2YWx9LCA4NSUsIDYyJSlgKTsKICAgICAgICAgICAgdXBkYXRlVXJsRnJvbUNmZyh7aHVlOlN0cmluZyh2YWwpfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsgLy8gbnVtZXJpYyAocmFuZ2UgKyBudW1iZXIgcGFpcikKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBpbnB1dC5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBpbnB1dC5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgbnVtYmVyLm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIG51bWJlci5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGlucHV0LnZhbHVlID0gU3RyaW5nKHYwKTsgbnVtYmVyLnZhbHVlID0gU3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWUgPSBpbnB1dC52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZSA9IG51bWJlci52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBudW1DaGFuZ2VkKHZhbCl7IENGR1tpdGVtLmtleV0gPSB2YWw7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCB2YWwpOyB9CiAgICAgICAgfQogICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCBpbnB1dCkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBhcHBseUNoYW5nZShrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSA9PT0gJ2NvdW50JyB8fCBrZXkgPT09ICdzcGF3bicpIHsgcmVzZWVkKENGRy5jb3VudCk7IH0KICAgICAgICBpZiAoa2V5ID09PSAncXQnKSB7IC8qIGltbWVkaWF0ZSBkcmF3IHRvZ2dsZSB2aWEgQ0ZHICovIH0KICAgICAgICBpZiAoa2V5ID09PSAnc2hvd0h1ZCcpIHsgaHVkRWwuc3R5bGUuZGlzcGxheSA9IENGRy5zaG93SHVkID8gJycgOiAnbm9uZSc7IH0KICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKCk7CiAgICAgIH0KCiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzY2hlbWEpIGFkZElucHV0KGl0ZW0pOwogICAgICAvLyBpbml0aWFsIEhVRCB2aXNpYmlsaXR5CiAgICAgIGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSAoQ0ZHLnNob3dIdWQ9PT1mYWxzZSkgPyAnbm9uZScgOiAnJzsKCiAgICAgIC8vIGtleWJvYXJkIHRvZ2dsZXMgKGFmdGVyIGJ1aWxkaW5nIHBhbmVsKQogICAgICBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHsKICAgICAgICBjb25zdCBrID0gZS5rZXkudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoayA9PT0gJ3EnKSB7IENGRy5xdCA9ICFDRkcucXQ7IHVwZGF0ZVVybEZyb21DZmcoKTsgfQogICAgICAgIGlmIChrID09PSAnYycpIHsgY2ZnUGFuZWwudG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nKTsgfQogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4K" download="boids-dod-quadtree-19-impl.html" class="download-btn" title="Download boids-dod-quadtree-19-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=334 · spawn=circle · wrap · triangle · plus-lighter · hue=265 · qtCap=8 · flow" data-filename="boids-dod-quadtree-14-impl.html"><a href="boids-dod-quadtree-14-impl.html" target="viewer"><strong>Boids DOD+QT · N=334 · spawn=circle · wrap · triangle · plus-lighter · hue=265 · qtCap=8 · flow</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTMzNCDCtyBzcGF3bj1jaXJjbGUgwrcgd3JhcCDCtyB0cmlhbmdsZSDCtyBwbHVzLWxpZ2h0ZXIgwrcgaHVlPTI2NSDCtyBxdENhcD04IMK3IGZsb3c8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICBodG1sLCBib2R5IHsgaGVpZ2h0OiAxMDAlOyBtYXJnaW46IDA7IH0KICAgICAgYm9keSB7CiAgICAgICAgYmFja2dyb3VuZDogIzA1MDcwYTsKICAgICAgICBjb2xvcjogI2U2ZWRmMzsKICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIGZvbnQtZmFtaWx5OiB1aS1zYW5zLXNlcmlmLCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIFNlZ29lIFVJLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsICJBcHBsZSBDb2xvciBFbW9qaSIsICJTZWdvZSBVSSBFbW9qaSI7CiAgICAgIH0KICAgICAgI3NjZW5lIHsgZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMDB2dzsgaGVpZ2h0OiAxMDB2aDsgfQogICAgICAub3ZlcmxheSB7IHBvc2l0aW9uOiBmaXhlZDsgaW5zZXQ6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gMWZyIGF1dG87IH0KICAgICAgLnRpdGxlIHsgbWFyZ2luOiAxOHB4IDIwcHggMnB4OyBmb250LXdlaWdodDogNzAwOyBmb250LXNpemU6IGNsYW1wKDE4cHgsIDN2dywgMjhweCk7IGxldHRlci1zcGFjaW5nOiAwLjJweDsgY29sb3I6IHZhcigtLWFjY2VudCwgIzdkZDNmYyk7IHRleHQtc2hhZG93OiAwIDAgMTBweCBjb2xvci1taXgoaW4gb2tsYWIsIHZhcigtLWFjY2VudCwgIzdkZDNmYykgODAlLCAjMDAwIDIwJSk7IH0KICAgICAgLnN1YnRpdGxlIHsgbWFyZ2luOiAwIDIwcHggMTBweDsgZm9udC13ZWlnaHQ6IDUwMDsgZm9udC1zaXplOiBjbGFtcCgxMnB4LCAydncsIDE2cHgpOyBvcGFjaXR5OiAwLjg1OyB9CiAgICAgIC5odWQgeyBwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IDEycHg7IGJvdHRvbTogMTJweDsgcGFkZGluZzogOHB4IDEwcHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA0MDsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoOHB4KSBzYXR1cmF0ZSgxMjAlKTsgZm9udC1zaXplOiAxMnB4OyBsaW5lLWhlaWdodDogMS40OyB9CiAgICAgIC5odWQgc3Ryb25nIHsgY29sb3I6IHZhcigtLWFjY2VudCwgIzdkZDNmYyk7IH0KICAgICAgLmNmZ0J0biB7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAxMnB4OyByaWdodDogMTJweDsgei1pbmRleDogMTA7IHBvaW50ZXItZXZlbnRzOiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJhY2tncm91bmQ6ICMwYjEyMjBjYzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlci1yYWRpdXM6IDhweDsgcGFkZGluZzogNnB4IDhweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgIC5jb25maWdQYW5lbCB7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiA1NnB4OyByaWdodDogMTJweDsgd2lkdGg6IG1pbigzODBweCwgOTB2dyk7IG1heC1oZWlnaHQ6IDgwdmg7IG92ZXJmbG93OiBhdXRvOyB6LWluZGV4OiAyMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJhY2tncm91bmQ6ICMwYjEyMjBlNjsgY29sb3I6ICNlNmVkZjM7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYm9yZGVyLXJhZGl1czogMTBweDsgYm94LXNoYWRvdzogMCAxMHB4IDQwcHggIzAwMDg7IGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KSBzYXR1cmF0ZSgxMjAlKTsgfQogICAgICAuY29uZmlnSGVhZGVyIHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBwYWRkaW5nOiAxMHB4IDEycHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMDAwMDAwNTU7IHBvc2l0aW9uOiBzdGlja3k7IHRvcDogMDsgYmFja2dyb3VuZDogIzBiMTIyMGYyOyB9CiAgICAgIC5jb25maWdCb2R5IHsgcGFkZGluZzogMTBweCAxMnB4OyBkaXNwbGF5OiBncmlkOyBnYXA6IDEwcHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJvdyB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIGF1dG87IGdhcDogOHB4OyBhbGlnbi1pdGVtczogY2VudGVyOyB9CiAgICAgIC5jb25maWdCb2R5IC5yYW5nZVJvdyB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDcycHg7IGdhcDogOHB4OyB9CiAgICAgIC5jZmdDbG9zZSB7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzEyMWEyYmNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogNnB4OyBwYWRkaW5nOiA0cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXQsIC5jb25maWdCb2R5IHNlbGVjdCB7IGZvbnQtc2l6ZTogMTRweDsgcGFkZGluZzogNnB4IDhweDsgYmFja2dyb3VuZDogIzEwMTgyNzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYm9yZGVyLXJhZGl1czogNnB4OyB9CiAgICAgIC5jb25maWdCb2R5IGlucHV0W3R5cGU9cmFuZ2VdIHsgcGFkZGluZzogMDsgaGVpZ2h0OiAyOHB4OyBhY2NlbnQtY29sb3I6IHZhcigtLWFjY2VudCwgIzdkZDNmYyk7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyB9CiAgICA8L3N0eWxlPgogIDwvaGVhZD4KICA8Ym9keT4KICAgIDxjYW52YXMgaWQ9InNjZW5lIj48L2NhbnZhcz4KICAgIDxkaXYgY2xhc3M9Im92ZXJsYXkiPgogICAgICA8ZGl2IGNsYXNzPSJ0aXRsZSIgaWQ9InRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ic3VidGl0bGUiIGlkPSJzdWJ0aXRsZSI+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9Imh1ZCIgaWQ9Imh1ZCI+PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxidXR0b24gaWQ9ImNmZ0J0biIgY2xhc3M9ImNmZ0J0biIgYXJpYS1sYWJlbD0iT3BlbiBjb25maWciPuKame+4jjwvYnV0dG9uPgogICAgPGRpdiBpZD0iY29uZmlnIiBjbGFzcz0iY29uZmlnUGFuZWwiIGhpZGRlbj4KICAgICAgPGRpdiBjbGFzcz0iY29uZmlnSGVhZGVyIj4KICAgICAgICA8c3Ryb25nPkNvbmZpZzwvc3Ryb25nPgogICAgICAgIDxidXR0b24gaWQ9ImNmZ0Nsb3NlIiBjbGFzcz0iY2ZnQ2xvc2UiIGFyaWEtbGFiZWw9IkNsb3NlIj7inJU8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgaWQ9ImNvbmZpZ0JvZHkiIGNsYXNzPSJjb25maWdCb2R5Ij48L2Rpdj4KICAgIDwvZGl2PgogICAgPHNjcmlwdD4KICAgICAgJ3VzZSBzdHJpY3QnOwoKICAgICAgLy8gVVJMIHBhcmFtZXRlcnMKICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpOwogICAgICBjb25zdCBERUZBVUxUX0hVRSA9IDI2NTsKICAgICAgY29uc3QgQkFTRV9IVUUgPSBjbGFtcEludChwYXJzZUludChwYXJhbXMuZ2V0KCdodWUnKSksIDAsIDM2MCwgREVGQVVMVF9IVUUpOwogICAgICBsZXQgcGFsZXR0ZUh1ZSA9IEJBU0VfSFVFOwogICAgICBjb25zdCBIRUFERVIgPSBwYXJhbXMuZ2V0KCdoZWFkZXInKSB8fCAnQm9pZHMg4oCUIERhdGEtT3JpZW50ZWQgKyBRdWFkdHJlZSc7CiAgICAgIGNvbnN0IFNVQkhFQURFUiA9IHBhcmFtcy5nZXQoJ3N1YmhlYWRlcicpIHx8ICdTaG9ja3dhdmVzIG9uIGNsaWNrL2RyYWcgwrcgcXVhZHRyZWUgdml6IG9uJzsKICAgICAgLy8gUXVhZHRyZWUgdml6IGlzIGhhbmRsZWQgYnkgQ0ZHLnF0OyBVUkwgcGFyYW0gJ3F0JyBvdmVycmlkZXMgaXQuCgogICAgICAvLyBET00KICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjZW5lJyk7CiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pOwogICAgICBjb25zdCB0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJyk7CiAgICAgIGNvbnN0IHN1YnRpdGxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VidGl0bGUnKTsKICAgICAgY29uc3QgaHVkRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHVkJyk7CgogICAgICAvLyBTdHlsZSBob29rCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQnLCBgaHNsKCR7cGFsZXR0ZUh1ZX0sIDg1JSwgNjIlKWApOwogICAgICB0aXRsZUVsLnRleHRDb250ZW50ID0gSEVBREVSOwogICAgICBzdWJ0aXRsZUVsLnRleHRDb250ZW50ID0gU1VCSEVBREVSOwoKICAgICAgLy8gQ29uZmlnIChpbmplY3RlZCBieSBnZW5lcmF0b3IpIOKAlCBtdXRhYmxlIGF0IHJ1bnRpbWUKICAgICAgbGV0IENGRyA9IHsiY291bnQiOiAzMzQsICJ2aXNpb24iOiA2NywgInNlcCI6IDE3LCAibWF4U3BlZWQiOiA0LjAxLCAibWF4Rm9yY2UiOiAwLjA2NiwgIm1pblNwZWVkIjogMS4zLCAiYWxpZ25XIjogMC45NywgImNvaGVzaW9uVyI6IDAuOTksICJzZXBhcmF0aW9uVyI6IDEuOTMsICJ0cmFpbEFscGhhIjogMC4xMSwgInF0Q2FwIjogOCwgIndyYXAiOiB0cnVlLCAic2hhcGUiOiAidHJpYW5nbGUiLCAiYmxlbmQiOiAicGx1cy1saWdodGVyIiwgImxpbmVXaWR0aCI6IDEuMjYsICJnbG93QmFzZSI6IDI0LCAiZ2xvd01heCI6IDQwLCAiZ2xvd1NjYWxlIjogNi4zLCAiY29tZXRTaXplIjogNS45OSwgImJnR3JhZGllbnQiOiB0cnVlLCAiYmdIdWVTaGlmdDEiOiAyMywgImJnSHVlU2hpZnQyIjogMzYsICJiZ0h1ZVNoaWZ0MyI6IDEyOSwgInNwYXduIjogImNpcmNsZSIsICJxdCI6IHRydWUsICJzaG93SHVkIjogdHJ1ZSwgImZsb3ciOiB0cnVlLCAiZmxvd0FtcCI6IDAuOTUsICJmbG93U2NhbGUiOiAwLjAwNzEsICJmbG93U3BlZWQiOiAxLjE3LCAiY2xpY2tNb2RlIjogInJhbmRvbSJ9OwogICAgICBDRkcubWluU3BlZWQgPSBDRkcubWluU3BlZWQgPz8gMC44OwogICAgICBDRkcucXQgPSAodHlwZW9mIENGRy5xdCA9PT0gJ2Jvb2xlYW4nKSA/IENGRy5xdCA6IHRydWU7CiAgICAgIENGRy5jbGlja01vZGUgPSBDRkcuY2xpY2tNb2RlIHx8ICdyYW5kb20nOwogICAgICBDRkcuY2xpY2tNb2RlcyA9IENGRy5jbGlja01vZGVzIHx8IFsKICAgICAgICAnc2hvY2snLCd2b3J0ZXgnLCdpbXBsb3Npb24nLCdzcHJheScsJ3N0dW4nLCdmZWFyJywnYXR0cmFjdCcsJ29yYml0Q1cnLCdvcmJpdENDVycsCiAgICAgICAgJ3NwaXJhbE91dCcsJ3NwaXJhbEluJywnZnJlZXplJywnc2NyYW1ibGUnLCdzY2F0dGVyJywnbWFnbmV0JywncHVsc2UnLAogICAgICAgICd3YXJwJywnZ3JvdycsJ3R1bm5lbCcsJ3JpcHBsZScsJ2ppdHRlcmJ1cnN0JywnY2hyb21hYnVyc3QnLCdzbG93ZG93bicsJ3NwZWVkdXAnLAogICAgICAgICdwZXJsaW5EcmFnJywnbGlzc2FQdWxzZScsJ21ldGVvcicsCiAgICAgICAgLy8gc3RlZXJpbmctd2VpZ2h0IGVmZmVjdHMKICAgICAgICAnYWxpZ24nLCdkZWFsaWduJywnY29oZXJlJywnbG9vc2VuJywnc2VwYXJhdGUnLCdkaXNwZXJzZScKICAgICAgXTsKCiAgICAgIGZ1bmN0aW9uIHBhcnNlQm9vbCh2LCBkKSB7CiAgICAgICAgaWYgKHYgPT0gbnVsbCkgcmV0dXJuIGQ7CiAgICAgICAgY29uc3QgcyA9IFN0cmluZyh2KS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChbJzEnLCd0cnVlJywneWVzJywnb24nXS5pbmNsdWRlcyhzKSkgcmV0dXJuIHRydWU7CiAgICAgICAgaWYgKFsnMCcsJ2ZhbHNlJywnbm8nLCdvZmYnXS5pbmNsdWRlcyhzKSkgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiBkOwogICAgICB9CgogICAgICAvLyBVUkwgb3ZlcnJpZGVzIGZvciBjb25maWcKICAgICAgKGZ1bmN0aW9uIHVybE92ZXJyaWRlKCl7CiAgICAgICAgY29uc3QgaW50S2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdxdENhcCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MyddOwogICAgICAgIGNvbnN0IG51bUtleXMgPSBbJ21heFNwZWVkJywnbWluU3BlZWQnLCdtYXhGb3JjZScsJ2FsaWduVycsJ2NvaGVzaW9uVycsJ3NlcGFyYXRpb25XJywndHJhaWxBbHBoYScsJ2xpbmVXaWR0aCcsJ2dsb3dCYXNlJywnZ2xvd01heCcsJ2dsb3dTY2FsZScsJ2NvbWV0U2l6ZScsJ2Zsb3dBbXAnLCdmbG93U2NhbGUnLCdmbG93U3BlZWQnXTsKICAgICAgICBjb25zdCBib29sS2V5cyA9IFsnd3JhcCcsJ2JnR3JhZGllbnQnLCdxdCcsJ2Zsb3cnLCdzaG93SHVkJ107CiAgICAgICAgY29uc3Qgc3RyS2V5cyA9IFsnc2hhcGUnLCdibGVuZCcsJ3NwYXduJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGludEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gTWF0aC5tYXgoLTk5OTk5LCBNYXRoLm1pbig5OTk5OSwgcGFyc2VJbnQodikpKTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBudW1LZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE51bWJlcih2KTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBib29sS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBwYXJzZUJvb2wodiwgQ0ZHW2tdKTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBzdHJLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IHY7IH0KICAgICAgICBjb25zdCBjbSA9IHBhcmFtcy5nZXQoJ2NsaWNrTW9kZScpOyBpZiAoY20pIENGRy5jbGlja01vZGUgPSBjbTsKICAgICAgICBjb25zdCBjbXMgPSBwYXJhbXMuZ2V0KCdjbGlja01vZGVzJyk7IGlmIChjbXMpIENGRy5jbGlja01vZGVzID0gY21zLnNwbGl0KCcsJyk7CiAgICAgIH0pKCk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVVcmxGcm9tQ2ZnKGV4dHJhPXt9KSB7CiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChsb2NhdGlvbi5ocmVmKTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaHVlJywgcGFsZXR0ZUh1ZSk7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2hlYWRlcicsIHRpdGxlRWwudGV4dENvbnRlbnQpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdWJoZWFkZXInLCBzdWJ0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICBjb25zdCBrZXlzID0gWydjb3VudCcsJ3Zpc2lvbicsJ3NlcCcsJ21heFNwZWVkJywnbWluU3BlZWQnLCdtYXhGb3JjZScsJ2FsaWduVycsJ2NvaGVzaW9uVycsJ3NlcGFyYXRpb25XJywndHJhaWxBbHBoYScsJ3F0Q2FwJywnd3JhcCcsJ3NoYXBlJywnYmxlbmQnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdiZ0dyYWRpZW50JywnYmdIdWVTaGlmdDEnLCdiZ0h1ZVNoaWZ0MicsJ2JnSHVlU2hpZnQzJywncXQnLCdjbGlja01vZGUnLCdjbGlja01vZGVzJywnZmxvdycsJ2Zsb3dBbXAnLCdmbG93U2NhbGUnLCdmbG93U3BlZWQnLCdzcGF3bicsJ3Nob3dIdWQnXTsKICAgICAgICBmb3IgKGNvbnN0IGsgb2Yga2V5cykgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgU3RyaW5nKENGR1trXSkpOwogICAgICAgIGlmIChDRkcuY2xpY2tNb2RlcyAmJiBBcnJheS5pc0FycmF5KENGRy5jbGlja01vZGVzKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NsaWNrTW9kZXMnLCBDRkcuY2xpY2tNb2Rlcy5qb2luKCcsJykpOwogICAgICAgIGZvciAoY29uc3QgW2ssdl0gb2YgT2JqZWN0LmVudHJpZXMoZXh0cmEpKSB1cmwuc2VhcmNoUGFyYW1zLnNldChrLCB2KTsKICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCAnJywgdXJsLnRvU3RyaW5nKCkpOwogICAgICB9CgogICAgICBjb25zdCBUQVUgPSBNYXRoLlBJICogMjsKCiAgICAgIC8vIENhbnZhcyBzaXppbmcgd2l0aCBEUFIKICAgICAgbGV0IERQUiA9IE1hdGgubWF4KDEsIE1hdGgubWluKDIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKTsKICAgICAgZnVuY3Rpb24gcmVzaXplKCkgewogICAgICAgIERQUiA9IE1hdGgubWF4KDEsIE1hdGgubWluKDIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKTsKICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmZsb29yKGlubmVyV2lkdGggKiBEUFIpOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKGlubmVySGVpZ2h0ICogRFBSKTsKICAgICAgICBjdHguc2V0VHJhbnNmb3JtKERQUiwgMCwgMCwgRFBSLCAwLCAwKTsKICAgICAgICBjbGVhckhhcmQoKTsKICAgICAgfQogICAgICBhZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemUpOwogICAgICByZXNpemUoKTsKCiAgICAgIGZ1bmN0aW9uIGNsZWFySGFyZCgpIHsKICAgICAgICBpZiAoQ0ZHLmJnR3JhZGllbnQpIHsKICAgICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoaW5uZXJXaWR0aCowLjY1LCBpbm5lckhlaWdodCowLjM1LCBNYXRoLm1pbihpbm5lcldpZHRoLCBpbm5lckhlaWdodCkqMC4xNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJXaWR0aCowLjUsIGlubmVySGVpZ2h0KjAuNSwgTWF0aC5oeXBvdChpbm5lcldpZHRoLCBpbm5lckhlaWdodCkqMC43KTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MSklMzYwfSA4MCUgMTAlKWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC41LCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQyKSUzNjB9IDcwJSA4JSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDEuMCwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MyklMzYwfSA2MCUgNiUpYCk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICB9CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gY2xhbXBJbnQobiwgbG8sIGhpLCBmYWxsYmFjaykgewogICAgICAgIG4gPSBOdW1iZXIuaXNGaW5pdGUobikgPyBuIDogZmFsbGJhY2s7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KGxvLCBNYXRoLm1pbihoaSwgbikpOwogICAgICB9CgogICAgICAvLyBEcmlmdCBhIGh1ZSB2YWx1ZSB0b3dhcmQgYSB0YXJnZXQgb24gYSBjaXJjdWxhciBjb2xvciB3aGVlbAogICAgICBmdW5jdGlvbiBhcHByb2FjaEh1ZShoLCB0YXJnZXQsIHJhdGUpIHsKICAgICAgICAvLyByYXRlIGlzIDAuLjEgZnJhY3Rpb24gdG93YXJkIHRhcmdldCBwZXIgY2FsbAogICAgICAgIGxldCBkID0gKCh0YXJnZXQgLSBoICsgNTQwKSAlIDM2MCkgLSAxODA7IC8vIHNob3J0ZXN0IHNpZ25lZCBkZWx0YSBbLTE4MCwxODApCiAgICAgICAgcmV0dXJuIChoICsgZCAqIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHJhdGUpKSArIDM2MCkgJSAzNjA7CiAgICAgIH0KCiAgICAgIC8vIExpZ2h0d2VpZ2h0IDJEIHZhbHVlIG5vaXNlIChmb3IgcGVybGluLWxpa2UgZHJhZykKICAgICAgbGV0IG5vaXNlU2VlZCA9IChCQVNFX0hVRSAqIDE2NjQ1MjUgKyAxMDEzOTA0MjIzKSAmIDB4ZmZmZmZmZmY7CiAgICAgIGZ1bmN0aW9uIGZyYWN0KHgpeyByZXR1cm4geCAtIE1hdGguZmxvb3IoeCk7IH0KICAgICAgZnVuY3Rpb24gX3JhbmQoaXgsIGl5KXsKICAgICAgICBjb25zdCBrID0gKGl4ICogMzc0NzYxMzkzICsgaXkgKiA2NjgyNjUyNjMgKyBub2lzZVNlZWQpID4+PiAwOwogICAgICAgIHJldHVybiBmcmFjdChNYXRoLnNpbihrKSAqIDQzNzU4LjU0NTMpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIG5vaXNlMih4LCB5KXsKICAgICAgICBjb25zdCB4aSA9IE1hdGguZmxvb3IoeCksIHlpID0gTWF0aC5mbG9vcih5KTsKICAgICAgICBjb25zdCB4ZiA9IHggLSB4aSwgeWYgPSB5IC0geWk7CiAgICAgICAgY29uc3QgdSA9IHhmKnhmKigzLTIqeGYpLCB2ID0geWYqeWYqKDMtMip5Zik7CiAgICAgICAgY29uc3QgdjAwID0gX3JhbmQoeGksIHlpKSwgdjEwID0gX3JhbmQoeGkrMSwgeWkpLCB2MDEgPSBfcmFuZCh4aSwgeWkrMSksIHYxMSA9IF9yYW5kKHhpKzEsIHlpKzEpOwogICAgICAgIGNvbnN0IHgxID0gdjAwKigxLXUpICsgdjEwKnUsIHgyID0gdjAxKigxLXUpICsgdjExKnU7CiAgICAgICAgcmV0dXJuIHgxKigxLXYpICsgeDIqdjsKICAgICAgfQogICAgICBmdW5jdGlvbiBwZXJsaW5WZWMoeCwgeSwgc2NhbGUsIGFtcCl7CiAgICAgICAgY29uc3QgbiA9IG5vaXNlMih4KnNjYWxlLCB5KnNjYWxlKTsKICAgICAgICBjb25zdCBhID0gbiAqIFRBVTsKICAgICAgICByZXR1cm4gW01hdGguY29zKGEpKmFtcCwgTWF0aC5zaW4oYSkqYW1wXTsKICAgICAgfQoKICAgICAgLy8gU2VlZGVkIFBSTkcgZm9yIHN1YnRsZSBkZXRlcm1pbmlzbSBmcm9tIEJBU0VfSFVFCiAgICAgIGxldCBfc2VlZCA9IChCQVNFX0hVRSAqIDkzMDEgKyA0OTI5NykgJSAyMzMyODA7CiAgICAgIGZ1bmN0aW9uIHJuZCgpIHsgX3NlZWQgPSAoMTEwMzUxNTI0NSAqIF9zZWVkICsgMTIzNDUpICYgMHg3ZmZmZmZmZjsgcmV0dXJuIChfc2VlZCA+Pj4gOCkgLyAweDdmZmZmZjsgfQogICAgICBmdW5jdGlvbiByYW5kKG1pbiwgbWF4KSB7IHJldHVybiBybmQoKSAqIChtYXggLSBtaW4pICsgbWluOyB9CgogICAgICAvLyBEYXRhLU9yaWVudGVkIFN0YXRlIChTb0EpIOKAlCBkeW5hbWljCiAgICAgIGxldCBOID0gQ0ZHLmNvdW50OwogICAgICBsZXQgcHgsIHB5LCB2eCwgdnksIGF4LCBheSwgaHVlLCBzcGQsIHByZXZ4LCBwcmV2eTsKICAgICAgLy8gdHJhbnNpZW50IHBlci1ib2lkIG1vZGlmaWVycyAoZGVjYXkgZWFjaCBmcmFtZSkKICAgICAgbGV0IHNpemVNdWwsIHZCb29zdCwgaHVlT2ZmLCBqaXRBbXA7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBzdGVlcmluZyBtdWx0aXBsaWVycyAoZGVjYXkgZWFjaCBmcmFtZSkKICAgICAgbGV0IGFsaWduTXVsLCBjb2hlc2lvbk11bCwgc2VwYXJhdGlvbk11bDsKCiAgICAgIGZ1bmN0aW9uIGFsbG9jKG4pIHsKICAgICAgICBweCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHB5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICB2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBheCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGF5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBodWUgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBzcGQgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHByZXZ4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgcHJldnkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHNpemVNdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2Qm9vc3QgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBodWVPZmYgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBqaXRBbXAgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGFsaWduTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgY29oZXNpb25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBzZXBhcmF0aW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2VlZEJvaWRzKCkgewogICAgICAgIGNvbnN0IG1vZGUgPSBDRkcuc3Bhd24gfHwgJ3JhbmRvbSc7CiAgICAgICAgaWYgKG1vZGUgPT09ICdjaXJjbGUnKSB7CiAgICAgICAgICBjb25zdCBjeCA9IGlubmVyV2lkdGgvMiwgY3kgPSBpbm5lckhlaWdodC8yLCByID0gTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpLzM7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCB0ID0gTWF0aC5yYW5kb20oKSpNYXRoLlBJKjI7IHB4W2ldPWN4K01hdGguY29zKHQpKnI7IHB5W2ldPWN5K01hdGguc2luKHQpKnI7IHZ4W2ldPXJhbmQoLTEsMSk7IHZ5W2ldPXJhbmQoLTEsMSk7IH0KICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdncmlkJykgewogICAgICAgICAgY29uc3QgY29scz1NYXRoLm1heCgxMCwgTWF0aC5mbG9vcihNYXRoLnNxcnQoTikpKTsgY29uc3Qgcm93cz1NYXRoLmNlaWwoTi9jb2xzKTsKICAgICAgICAgIGNvbnN0IGd4PWlubmVyV2lkdGgvKGNvbHMrMSksIGd5PWlubmVySGVpZ2h0Lyhyb3dzKzEpOyBsZXQgaz0wOwogICAgICAgICAgZm9yIChsZXQgeT0xO3k8PXJvd3M7eSsrKSBmb3IgKGxldCB4PTE7eDw9Y29sczt4KyspIHsgaWYgKGs+PU4pIGJyZWFrOyBweFtrXT1neCp4OyBweVtrXT1neSp5OyB2eFtrXT1yYW5kKC0xLDEpOyB2eVtrXT1yYW5kKC0xLDEpOyBrKys7IH0KICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdjZW50ZXJidXJzdCcpIHsKICAgICAgICAgIGNvbnN0IGN4PWlubmVyV2lkdGgvMiwgY3k9aW5uZXJIZWlnaHQvMjsKICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGNvbnN0IGE9TWF0aC5yYW5kb20oKSpNYXRoLlBJKjIsIGQ9cmFuZCgwLCBNYXRoLm1pbihpbm5lcldpZHRoLGlubmVySGVpZ2h0KS8yKTsgcHhbaV09Y3grTWF0aC5jb3MoYSkqZDsgcHlbaV09Y3krTWF0aC5zaW4oYSkqZDsgdnhbaV09TWF0aC5jb3MoYSk7IHZ5W2ldPU1hdGguc2luKGEpOyB9CiAgICAgICAgfSBlbHNlIHsgLy8gcmFuZG9tCiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBweFtpXT1yYW5kKDAsaW5uZXJXaWR0aCk7IHB5W2ldPXJhbmQoMCxpbm5lckhlaWdodCk7IHZ4W2ldPXJhbmQoLTEsMSk7IHZ5W2ldPXJhbmQoLTEsMSk7IH0KICAgICAgICB9CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIGNvbnN0IG09TWF0aC5oeXBvdCh2eFtpXSx2eVtpXSl8fDE7IHZ4W2ldKj0yLjAvbTsgdnlbaV0qPTIuMC9tOwogICAgICAgICAgaHVlW2ldID0gKHBhbGV0dGVIdWUgKyByYW5kKC0zMCwgMzApKSAlIDM2MDsgcHJldnhbaV09cHhbaV07IHByZXZ5W2ldPXB5W2ldOwogICAgICAgICAgc2l6ZU11bFtpXT0wOyB2Qm9vc3RbaV09MDsgaHVlT2ZmW2ldPTA7IGppdEFtcFtpXT0wOwogICAgICAgICAgYWxpZ25NdWxbaV09MDsgY29oZXNpb25NdWxbaV09MDsgc2VwYXJhdGlvbk11bFtpXT0wOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gcmVzZWVkKG4pIHsKICAgICAgICBOID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihuKSk7CiAgICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwogICAgICB9CgogICAgICBhbGxvYyhOKTsgc2VlZEJvaWRzKCk7CgogICAgICAvLyBRdWFkdHJlZSBpbXBsZW1lbnRhdGlvbgogICAgICBjbGFzcyBRVE5vZGUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy54ID0geDsgdGhpcy55ID0geTsgdGhpcy53ID0gdzsgdGhpcy5oID0gaDsKICAgICAgICAgIHRoaXMuY2FwID0gY2FwOyB0aGlzLmNvdW50ID0gMDsgdGhpcy5pZHggPSBuZXcgSW50MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5wdHN4ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOyB0aGlzLnB0c3kgPSBuZXcgRmxvYXQzMkFycmF5KGNhcCk7CiAgICAgICAgICB0aGlzLmRpdmlkZWQgPSBmYWxzZTsgdGhpcy5jaGlsZHJlbiA9IG51bGw7CiAgICAgICAgfQogICAgICB9CgogICAgICBjbGFzcyBRdWFkdHJlZSB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCwgY2FwKSB7CiAgICAgICAgICB0aGlzLnJvb3QgPSBuZXcgUVROb2RlKHgsIHksIHcsIGgsIGNhcCk7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsKICAgICAgICB9CgogICAgICAgIGluc2VydChpLCB4LCB5LCBub2RlID0gdGhpcy5yb290KSB7CiAgICAgICAgICBpZiAoeCA8IG5vZGUueCB8fCB5IDwgbm9kZS55IHx8IHggPj0gbm9kZS54ICsgbm9kZS53IHx8IHkgPj0gbm9kZS55ICsgbm9kZS5oKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICBpZiAobm9kZS5jb3VudCA8IG5vZGUuY2FwICYmICFub2RlLmRpdmlkZWQpIHsKICAgICAgICAgICAgY29uc3QgaiA9IG5vZGUuY291bnQrKzsgbm9kZS5pZHhbal0gPSBpOyBub2RlLnB0c3hbal0gPSB4OyBub2RlLnB0c3lbal0gPSB5OyByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghbm9kZS5kaXZpZGVkKSB0aGlzLnN1YmRpdmlkZShub2RlKTsKICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydChpLCB4LCB5LCBub2RlLmNoaWxkcmVuWyAoeSA8IG5vZGUueSArIG5vZGUuaC8yID8gMCA6IDIpICsgKHggPCBub2RlLnggKyBub2RlLncvMiA/IDAgOiAxKSBdKTsKICAgICAgICB9CgogICAgICAgIHN1YmRpdmlkZShub2RlKSB7CiAgICAgICAgICBub2RlLmRpdmlkZWQgPSB0cnVlOwogICAgICAgICAgY29uc3QgaHcgPSBub2RlLncvMiwgaGggPSBub2RlLmgvMjsKICAgICAgICAgIG5vZGUuY2hpbGRyZW4gPSBbCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnksICAgICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBOVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTkUKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngsICAgICAgIG5vZGUueStoaCwgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIFNXCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54K2h3LCAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTRQogICAgICAgICAgXTsKICAgICAgICAgIC8vIHJlaW5zZXJ0IGV4aXN0aW5nIHBvaW50cwogICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBub2RlLmNvdW50OyBrKyspIHsKICAgICAgICAgICAgY29uc3QgaSA9IG5vZGUuaWR4W2tdOyBjb25zdCB4ID0gbm9kZS5wdHN4W2tdOyBjb25zdCB5ID0gbm9kZS5wdHN5W2tdOwogICAgICAgICAgICB0aGlzLmluc2VydChpLCB4LCB5LCBub2RlLmNoaWxkcmVuWyAoeSA8IG5vZGUueSArIG5vZGUuaC8yID8gMCA6IDIpICsgKHggPCBub2RlLnggKyBub2RlLncvMiA/IDAgOiAxKSBdKTsKICAgICAgICAgIH0KICAgICAgICAgIG5vZGUuY291bnQgPSAwOyAvLyBjbGVhciBsZWFmIHN0b3JhZ2UKICAgICAgICB9CgogICAgICAgIHF1ZXJ5KGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICB0aGlzLl9xdWVyeU5vZGUodGhpcy5yb290LCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQogICAgICAgIF9xdWVyeU5vZGUobm9kZSwgY3gsIGN5LCByLCBvdXQpIHsKICAgICAgICAgIC8vIGNpcmNsZS1yZWN0IHF1aWNrIHJlamVjdAogICAgICAgICAgY29uc3Qgcng9bm9kZS54LCByeT1ub2RlLnksIHJ3PW5vZGUudywgcmg9bm9kZS5oOwogICAgICAgICAgbGV0IG54ID0gTWF0aC5tYXgocngsIE1hdGgubWluKGN4LCByeCtydykpOwogICAgICAgICAgbGV0IG55ID0gTWF0aC5tYXgocnksIE1hdGgubWluKGN5LCByeStyaCkpOwogICAgICAgICAgY29uc3QgZGlzdCA9IChjeC1ueCkqKGN4LW54KSsoY3ktbnkpKihjeS1ueSk7CiAgICAgICAgICBpZiAoZGlzdCA+IHIqcikgcmV0dXJuOwoKICAgICAgICAgIGlmICghbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGZvciAobGV0IGs9MDtrPG5vZGUuY291bnQ7aysrKSB7IG91dC5wdXNoKG5vZGUuaWR4W2tdKTsgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKGxldCBjPTA7Yzw0O2MrKykgdGhpcy5fcXVlcnlOb2RlKG5vZGUuY2hpbGRyZW5bY10sIGN4LCBjeSwgciwgb3V0KTsKICAgICAgICB9CgogICAgICAgIGRyYXcoY3R4KSB7CiAgICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgkeyhwYWxldHRlSHVlKzE4MCklMzYwfSA4MCUgNzAlIC8gMC4xNClgOwogICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7CiAgICAgICAgICB0aGlzLl9kcmF3Tm9kZShjdHgsIHRoaXMucm9vdCk7CiAgICAgICAgICBjdHgucmVzdG9yZSgpOwogICAgICAgIH0KICAgICAgICBfZHJhd05vZGUoY3R4LCBub2RlKSB7CiAgICAgICAgICBjdHguc3Ryb2tlUmVjdChub2RlLngsIG5vZGUueSwgbm9kZS53LCBub2RlLmgpOwogICAgICAgICAgaWYgKG5vZGUuZGl2aWRlZCkgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX2RyYXdOb2RlKGN0eCwgbm9kZS5jaGlsZHJlbltjXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBJbnRlcmFjdGlvbiBlZmZlY3RzCiAgICAgIGNvbnN0IGVmZmVjdHMgPSBbXTsgLy8ge3gseSx0LGxpZmUsc2lnbix0eXBlLC4uLmV4dHJhc30KICAgICAgbGV0IG1vdXNlRG93biA9IGZhbHNlOwogICAgICBjb25zdCBwb2ludGVyID0ge3g6IGlubmVyV2lkdGgvMiwgeTogaW5uZXJIZWlnaHQvMiwgdng6IDAsIHZ5OiAwLCB0OiBwZXJmb3JtYW5jZS5ub3coKX07CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IHRydWU7IHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgICBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgbW91c2VEb3duID0gZmFsc2U7IHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCAtMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgaWYgKG1vdXNlRG93bikgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksICsxKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwoKICAgICAgZnVuY3Rpb24gcGlja0NsaWNrVHlwZSgpIHsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZSAmJiBDRkcuY2xpY2tNb2RlICE9PSAncmFuZG9tJykgcmV0dXJuIENGRy5jbGlja01vZGU7CiAgICAgICAgY29uc3QgbGlzdCA9IENGRy5jbGlja01vZGVzIHx8IFsnc2hvY2snXTsKICAgICAgICByZXR1cm4gbGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbGlzdC5sZW5ndGgpXSB8fCAnc2hvY2snOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHNwYXduRWZmZWN0KHgsIHksIHNpZ24pIHsKICAgICAgICBjb25zdCB0eXBlID0gcGlja0NsaWNrVHlwZSgpOwogICAgICAgIGNvbnN0IGxpZmUgPSAodHlwZT09PSdpbXBsb3Npb24nKSA/IDAuOSA6ICh0eXBlPT09J3ZvcnRleCcgfHwgdHlwZT09PSdtZXRlb3InID8gMS44IDogMS4yKTsKICAgICAgICBjb25zdCBFID0geyB4LCB5LCB0OiAwLCBsaWZlLCBzaWduLCB0eXBlIH07CiAgICAgICAgaWYgKHR5cGUgPT09ICdsaXNzYVB1bHNlJykgewogICAgICAgICAgY29uc3Qgc3AgPSBNYXRoLm1pbigzLCBNYXRoLmh5cG90KHBvaW50ZXIudngsIHBvaW50ZXIudnkpKjEyMCk7CiAgICAgICAgICBFLmEgPSAyICsgTWF0aC5mbG9vcihzcCU0KTsgRS5iID0gMyArIE1hdGguZmxvb3IoKHNwKjEuNyklNCk7IEUucGhhc2UgPSBNYXRoLnJhbmRvbSgpKlRBVTsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICBjb25zdCBzY2FsZSA9IDkwMDsgRS52eCA9IHBvaW50ZXIudngqc2NhbGU7IEUudnkgPSBwb2ludGVyLnZ5KnNjYWxlOyBFLm1hc3MgPSAyMjAgKyBNYXRoLnJhbmRvbSgpKjE4MDsgRS5kcmFnPTAuOTg7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAncGVybGluRHJhZycpIHsKICAgICAgICAgIEUuc2NhbGUgPSAwLjAwNiArIE1hdGgucmFuZG9tKCkqMC4wMDY7IEUuYW1wID0gMS4yICsgTWF0aC5yYW5kb20oKSoxLjI7CiAgICAgICAgfQogICAgICAgIGVmZmVjdHMucHVzaChFKTsKICAgICAgfQoKICAgICAgLy8gUGh5c2ljcyBoZWxwZXJzCiAgICAgIGZ1bmN0aW9uIGxpbWl0KHZ4LCB2eSwgbWF4KSB7CiAgICAgICAgY29uc3QgbTIgPSB2eCp2eCArIHZ5KnZ5OyBpZiAobTIgPiBtYXgqbWF4KSB7CiAgICAgICAgICBjb25zdCBtID0gTWF0aC5zcXJ0KG0yKSB8fCAxOyBjb25zdCBzID0gbWF4IC8gbTsgcmV0dXJuIFt2eCpzLCB2eSpzXTsKICAgICAgICB9IHJldHVybiBbdngsIHZ5XTsKICAgICAgfQoKICAgICAgLy8gTWFpbiBsb29wCiAgICAgIGxldCBsYXN0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgIGxldCBmcHNBdmcgPSAwOwogICAgICBmdW5jdGlvbiBmcmFtZSh0KSB7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1pbigzMiwgdCAtIGxhc3QpICogMC4wMDE7IC8vIGNsYW1wCiAgICAgICAgbGFzdCA9IHQ7CiAgICAgICAgY29uc3QgZnBzTm93ID0gMSAvIE1hdGgubWF4KDFlLTYsIGR0KTsKICAgICAgICBmcHNBdmcgPSBmcHNBdmcgPyAoZnBzQXZnKjAuOSArIGZwc05vdyowLjEpIDogZnBzTm93OwogICAgICAgIGNvbnN0IFcgPSBpbm5lcldpZHRoLCBIID0gaW5uZXJIZWlnaHQ7CgogICAgICAgIC8vIHRyYWlsczogdHJhbnNsdWNlbnQgZmlsbAogICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInOwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgQ0ZHLnRyYWlsQWxwaGEpKTsKICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwNTA3MGEnOwogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBXLCBIKTsKICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBCdWlsZCBxdWFkdHJlZQogICAgICAgIGNvbnN0IHF0ID0gbmV3IFF1YWR0cmVlKDAsIDAsIFcsIEgsIENGRy5xdENhcCk7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHF0Lmluc2VydChpLCBweFtpXSwgcHlbaV0pOwoKICAgICAgLy8gQXBwbHkgZmxvY2tpbmcgdmlhIG5laWdoYm9yIHF1ZXJpZXMgKGFkYXB0aXZlIHZpc2lvbiB1bmRlciBsb2FkKQogICAgICBjb25zdCB2aXNpb24gPSBDRkcudmlzaW9uICogKGZwc0F2ZyA8IDUwID8gMC45IDogMS4wKTsgY29uc3Qgc2VwID0gQ0ZHLnNlcDsKICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgYXhbaV09MDsgYXlbaV09MDsgfQogICAgICBsZXQgdG1wID0gW107CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgdG1wLmxlbmd0aCA9IDA7IHF0LnF1ZXJ5KHB4W2ldLCBweVtpXSwgdmlzaW9uLCB0bXApOwogICAgICAgICAgbGV0IGN4PTAsIGN5PTAsIHZ4c3VtPTAsIHZ5c3VtPTAsIHN4PTAsIHN5PTAsIHRvdGFsPTAsIHNjbG9zZT0wOwogICAgICAgICAgZm9yIChsZXQgaz0wO2s8dG1wLmxlbmd0aDtrKyspIHsKICAgICAgICAgICAgY29uc3QgaiA9IHRtcFtrXTsgaWYgKGo9PT1pKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZHggPSBweFtqXS1weFtpXTsgY29uc3QgZHkgPSBweVtqXS1weVtpXTsKICAgICAgICAgICAgY29uc3QgZDIgPSBkeCpkeCArIGR5KmR5OyBpZiAoZDIgPT09IDApIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBkID0gTWF0aC5zcXJ0KGQyKTsKICAgICAgICAgICAgaWYgKGQgPCB2aXNpb24pIHsgdG90YWwrKzsgY3ggKz0gcHhbal07IGN5ICs9IHB5W2pdOyB2eHN1bSArPSB2eFtqXTsgdnlzdW0gKz0gdnlbal07IH0KICAgICAgICAgICAgaWYgKGQgPCBzZXApIHsgc2Nsb3NlKys7IHN4IC09IGR4LyhkfHwxKTsgc3kgLT0gZHkvKGR8fDEpOyB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodG90YWw+MCkgewogICAgICAgICAgICAvLyBhbGlnbm1lbnQKICAgICAgICAgICAgbGV0IGF4diA9ICh2eHN1bS90b3RhbCkgLSB2eFtpXTsgbGV0IGF5diA9ICh2eXN1bS90b3RhbCkgLSB2eVtpXTsKICAgICAgICAgICAgY29uc3QgYWxpZ25XID0gQ0ZHLmFsaWduVyAqICgxICsgKGFsaWduTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtheHYsIGF5dl0gPSBsaW1pdChheHYsIGF5diwgQ0ZHLm1heEZvcmNlKTsKICAgICAgICAgICAgYXhbaV0gKz0gYXh2ICogYWxpZ25XOyBheVtpXSArPSBheXYgKiBhbGlnblc7CiAgICAgICAgICAgIC8vIGNvaGVzaW9uCiAgICAgICAgICAgIGxldCBjeHYgPSAoY3gvdG90YWwgLSBweFtpXSk7IGxldCBjeXYgPSAoY3kvdG90YWwgLSBweVtpXSk7CiAgICAgICAgICAgIGNvbnN0IGNvaFcgPSBDRkcuY29oZXNpb25XICogKDEgKyAoY29oZXNpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgW2N4diwgY3l2XSA9IGxpbWl0KGN4diwgY3l2LCBDRkcubWF4Rm9yY2UpOyBheFtpXSArPSBjeHYgKiBjb2hXOyBheVtpXSArPSBjeXYgKiBjb2hXOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHNjbG9zZT4wKSB7CiAgICAgICAgICAgIGxldCBzeHYgPSBzeDsgbGV0IHN5diA9IHN5OyBbc3h2LCBzeXZdID0gbGltaXQoc3h2LCBzeXYsIENGRy5tYXhGb3JjZSoxLjUpOwogICAgICAgICAgICBjb25zdCBzZXBXID0gQ0ZHLnNlcGFyYXRpb25XICogKDEgKyAoc2VwYXJhdGlvbk11bFtpXXx8MCkpOwogICAgICAgICAgICBheFtpXSArPSBzeHYgKiBzZXBXOyBheVtpXSArPSBzeXYgKiBzZXBXOwogICAgICAgICAgfQogICAgICAgIC8vIG9wdGlvbmFsIGZsb3cgZmllbGQgZm9yIHBhdHRlcm4gdmFyaWV0eQogICAgICAgIGlmIChDRkcuZmxvdykgewogICAgICAgICAgY29uc3QgcyA9IENGRy5mbG93U2NhbGUgfHwgMC4wMDQ7IGNvbnN0IGEgPSBDRkcuZmxvd0FtcCB8fCAwLjY7IGNvbnN0IHNwID0gQ0ZHLmZsb3dTcGVlZCB8fCAwLjY7CiAgICAgICAgICBjb25zdCB0MCA9IHBlcmZvcm1hbmNlLm5vdygpKjAuMDAxKnNwOwogICAgICAgICAgY29uc3QgZnggPSBNYXRoLnNpbihweVtpXSpzICsgdDApICogYTsKICAgICAgICAgIGNvbnN0IGZ5ID0gTWF0aC5jb3MocHhbaV0qcyAtIHQwKSAqIGE7CiAgICAgICAgICBheFtpXSArPSBmeDsgYXlbaV0gKz0gZnk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBJbnRlcmFjdGlvbiBlZmZlY3RzOiB+MjArIG1vZGVzIGluY2x1ZGluZyBwZXJsaW5EcmFnLCBsaXNzYVB1bHNlLCBtZXRlb3IKICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdsaWdodGVyJzsKICAgICAgbGV0IHRtcDIgPSBbXTsKICAgICAgZm9yIChsZXQgZT1lZmZlY3RzLmxlbmd0aC0xOyBlPj0wOyBlLS0pIHsKICAgICAgICBjb25zdCBFID0gZWZmZWN0c1tlXTsgRS50ICs9IGR0OyBjb25zdCBrID0gRS50IC8gRS5saWZlOwogICAgICAgIGNvbnN0IHIgPSAzMCArIGsgKiAyNjA7IGNvbnN0IHN0ciA9IDEuMCAtIGs7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsgRS54ICs9IChFLnZ4fHwwKSpkdDsgRS55ICs9IChFLnZ5fHwwKSpkdDsgRS52eCAqPSAoRS5kcmFnfHwxKTsgRS52eSAqPSAoRS5kcmFnfHwxKTsgRS5tYXNzICo9IDAuOTg1OyB9CiAgICAgICAgdG1wMi5sZW5ndGggPSAwOyBxdC5xdWVyeShFLngsIEUueSwgciwgdG1wMik7CiAgICAgICAgZm9yIChsZXQgaWk9MDsgaWk8dG1wMi5sZW5ndGg7IGlpKyspIHsKICAgICAgICAgIGNvbnN0IGkgPSB0bXAyW2lpXTsgY29uc3QgZHggPSBweFtpXS1FLng7IGNvbnN0IGR5ID0gcHlbaV0tRS55OyBjb25zdCBkID0gTWF0aC5oeXBvdChkeCwgZHkpfHwxOwogICAgICAgICAgY29uc3QgZmFsbCA9ICgxIC0gTWF0aC5taW4oMSwgZC9yKSk7CiAgICAgICAgICBpZiAoRS50eXBlID09PSAncGVybGluRHJhZycpIHsKICAgICAgICAgICAgY29uc3QgdiA9IHBlcmxpblZlYyhweFtpXS1FLngsIHB5W2ldLUUueSwgRS5zY2FsZXx8MC4wMDgsIChFLmFtcHx8MS41KSAqIGZhbGwpOwogICAgICAgICAgICBheFtpXSArPSB2WzBdOyBheVtpXSArPSB2WzFdOyBodWVPZmZbaV0gKz0gNDAqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMihkeSwgZHgpOwogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oRS5hKmFuZyArIEUucGhhc2UpICogTWF0aC5jb3MoRS5iKmFuZyAtIEUucGhhc2UpOwogICAgICAgICAgICBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgICBjb25zdCBHID0gODAwOyBjb25zdCBmID0gTWF0aC5taW4oMy4wLCAoRyooRS5tYXNzfHwyMDApKS8oKGQqZCkrMjAwKSk7CiAgICAgICAgICAgIGF4W2ldIC09IChkeC9kKSpmKmZhbGw7IGF5W2ldIC09IChkeS9kKSpmKmZhbGw7IHZCb29zdFtpXSArPSAwLjIqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjE1KmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3ZvcnRleCcgfHwgRS50eXBlPT09J29yYml0Q1cnIHx8IEUudHlwZT09PSdvcmJpdENDVycgfHwgRS50eXBlPT09J3NwaXJhbE91dCcgfHwgRS50eXBlPT09J3NwaXJhbEluJykgewogICAgICAgICAgICBjb25zdCBkaXIgPSAoRS50eXBlPT09J29yYml0Q0NXJykgPyAtMSA6IDE7CiAgICAgICAgICAgIGNvbnN0IHR4ID0gLWR5L2QsIHR5ID0gZHgvZDsgbGV0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAxLjIgKiBmYWxsICogZGlyOwogICAgICAgICAgICBpZiAoRS50eXBlPT09J3NwaXJhbE91dCcpIHsgcyA9IDEuMipmYWxsOyBheFtpXSArPSAoZHgvZCkqZmFsbCowLjg7IGF5W2ldICs9IChkeS9kKSpmYWxsKjAuODsgfQogICAgICAgICAgICBpZiAoRS50eXBlPT09J3NwaXJhbEluJykgeyBzID0gLTEuMipmYWxsOyBheFtpXSAtPSAoZHgvZCkqZmFsbCowLjY7IGF5W2ldIC09IChkeS9kKSpmYWxsKjAuNjsgfQogICAgICAgICAgICBheFtpXSArPSB0eCpzOyBheVtpXSArPSB0eSpzOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ltcGxvc2lvbicgfHwgRS50eXBlPT09J2F0dHJhY3QnIHx8IEUudHlwZT09PSdtYWduZXQnKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS50eXBlPT09J2ltcGxvc2lvbicgPyAtMi4yIDogLTEuMikgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICAgIHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyB2Qm9vc3RbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NwcmF5JyB8fCBFLnR5cGU9PT0nc2NhdHRlcicpIHsKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8xOi0xKSAqIChFLnR5cGU9PT0nc2NhdHRlcic/My4wOjIuNCkgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICAgIHZ4W2ldICs9IChkeC9kKSAqIDAuMjUgKiBmYWxsOyB2eVtpXSArPSAoZHkvZCkgKiAwLjI1ICogZmFsbDsgaml0QW1wW2ldICs9IDAuMTUqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc3R1bicgfHwgRS50eXBlPT09J2ZyZWV6ZScpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IChFLnR5cGU9PT0nZnJlZXplJz8wLjY6MC4zKSAqIGZhbGw7IHNpemVNdWxbaV0gKz0gMC4zKmZhbGw7IHZ4W2ldICo9IDAuOTY7IHZ5W2ldICo9IDAuOTY7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ZlYXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAyLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IGppdEFtcFtpXSArPSAwLjI1KmZhbGw7IGh1ZU9mZltpXSArPSA4MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzY3JhbWJsZScpIHsKICAgICAgICAgICAgdnhbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyB2eVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMS41KmZhbGw7IGppdEFtcFtpXSArPSAwLjMqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAncHVsc2UnIHx8IEUudHlwZT09PSdyaXBwbGUnKSB7CiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNpbihrKk1hdGguUEkqMik7IGNvbnN0IHMgPSB3ICogMi4wICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gKz0gMC44ICogZmFsbDsgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjMgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdkZWFsaWduJykgewogICAgICAgICAgICBhbGlnbk11bFtpXSAtPSAwLjggKiBmYWxsOyBjb2hlc2lvbk11bFtpXSArPSAwLjIgKiBmYWxsOyBqaXRBbXBbaV0gKz0gMC4xICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnY29oZXJlJyB8fCBFLnR5cGU9PT0ndGlnaHRlbicgfHwgRS50eXBlPT09J2xvb3NlbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdsb29zZW4nKSA/IC0xIDogMTsgLy8gbG9vc2VuIHJlZHVjZXMgY29oZXNpb24KICAgICAgICAgICAgY29oZXNpb25NdWxbaV0gKz0gZGlyICogMC45ICogZmFsbDsgaWYgKGRpcj4wKSBzZXBhcmF0aW9uTXVsW2ldIC09IDAuMiAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NlcGFyYXRlJyB8fCBFLnR5cGU9PT0nZGlzcGVyc2UnKSB7CiAgICAgICAgICAgIHNlcGFyYXRpb25NdWxbaV0gKz0gMS4wICogZmFsbDsgY29oZXNpb25NdWxbaV0gLT0gMC40ICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnd2FycCcgfHwgRS50eXBlPT09J3NwZWVkdXAnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSArPSAwLjYqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3Nsb3dkb3duJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gLT0gMC41KmZhbGw7IGh1ZU9mZltpXSAtPSAyMCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdncm93JykgewogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuNipmYWxsOyBodWVPZmZbaV0gKz0gMzAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAndHVubmVsJykgewogICAgICAgICAgICBjb25zdCB0YXJnZXQgPSByKjAuNzsgY29uc3QgcyA9IChkPHRhcmdldD8rMTotMSkgKiAxLjIgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ppdHRlcmJ1cnN0JykgewogICAgICAgICAgICBqaXRBbXBbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2Nocm9tYWJ1cnN0JykgewogICAgICAgICAgICBodWVPZmZbaV0gKz0gMTYwICogZmFsbDsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNob2NrIC8gZGVmYXVsdAogICAgICAgICAgICBjb25zdCBzID0gKEUuc2lnbj4wPysxOi0xKSAqIDEuOCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfQogICAgICAgICAgLy8gZ2VuZXJhbCBjb2xvciBlbmVyZ3kKICAgICAgICAgIGh1ZVtpXSA9IChodWVbaV0gKyA5MCAqIGZhbGwpICUgMzYwOwogICAgICAgIH0KICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KEUueCwgRS55LCBNYXRoLm1heCgxLCByKjAuNiksIEUueCwgRS55LCByKTsKICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsYSgkeyhwYWxldHRlSHVlKzIwKSUzNjB9LCA5NSUsIDcwJSwgJHswLjM0KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjYsIGBoc2xhKCR7KHBhbGV0dGVIdWUrNjApJTM2MH0sIDk1JSwgNjAlLCAkezAuMjIqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuOTUsIGBoc2xhKCR7KHBhbGV0dGVIdWUrMTAwKSUzNjB9LCA5NSUsIDU1JSwgMClgKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsYSgke3BhbGV0dGVIdWV9LCA5NSUsIDY1JSwgJHswLjI1KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjYsIGBoc2xhKCR7KHBhbGV0dGVIdWUrNDApJTM2MH0sIDk1JSwgNTUlLCAkezAuMTgqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuOSwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs4MCklMzYwfSwgOTUlLCA2MCUsIDApYCk7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsU3R5bGUgPSBnOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMoRS54LCBFLnksIHIsIDAsIE1hdGguUEkqMik7IGN0eC5maWxsKCk7CiAgICAgICAgaWYgKGsgPj0gMSkgZWZmZWN0cy5zcGxpY2UoZSwgMSk7CiAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBJbnRlZ3JhdGUgYW5kIGRyYXcgYm9pZHMgd2l0aCBnbG93IGFuZCB0cmFpbHMKICAgICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gQ0ZHLmJsZW5kOwogICAgICBjdHgubGluZVdpZHRoID0gQ0ZHLmxpbmVXaWR0aDsKICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgICAgLy8gaW50ZWdyYXRlCiAgICAgICAgICBpZiAoaml0QW1wW2ldID4gMC4wMDAxKSB7IGF4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAwLjIgKiBqaXRBbXBbaV07IGF5W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAwLjIgKiBqaXRBbXBbaV07IH0KICAgICAgICAgIHZ4W2ldICs9IGF4W2ldOyB2eVtpXSArPSBheVtpXTsKICAgICAgICAgIGNvbnN0IHZNYXggPSBDRkcubWF4U3BlZWQgKiAoMSArIE1hdGgubWF4KC0wLjcsIHZCb29zdFtpXSkqMC44KTsKICAgICAgICAgIFt2eFtpXSwgdnlbaV1dID0gbGltaXQodnhbaV0sIHZ5W2ldLCB2TWF4KTsKICAgICAgICAgIC8vIGVuZm9yY2UgbWluIHNwZWVkICh3aXRoIGJvb3N0KQogICAgICAgICAgeyBjb25zdCBzcCA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKSB8fCAxOyBjb25zdCB2TWluID0gQ0ZHLm1pblNwZWVkICogKDEgKyBNYXRoLm1heCgwLCB2Qm9vc3RbaV0pKjAuNSk7IGlmIChzcCA8IHZNaW4pIHsgY29uc3QgcyA9IHZNaW4gLyBzcDsgdnhbaV0gKj0gczsgdnlbaV0gKj0gczsgfSB9CiAgICAgICAgICBwcmV2eFtpXSA9IHB4W2ldOyBwcmV2eVtpXSA9IHB5W2ldOwogICAgICAgICAgcHhbaV0gKz0gdnhbaV07IHB5W2ldICs9IHZ5W2ldOwoKICAgICAgICAgIC8vIGJvdW5kYXJpZXMKICAgICAgICAgIGlmIChDRkcud3JhcCkgewogICAgICAgICAgICBpZiAocHhbaV0gPCAtNSkgcHhbaV0gPSBXICsgNTsgZWxzZSBpZiAocHhbaV0gPiBXKzUpIHB4W2ldID0gLTU7CiAgICAgICAgICAgIGlmIChweVtpXSA8IC01KSBweVtpXSA9IEggKyA1OyBlbHNlIGlmIChweVtpXSA+IEgrNSkgcHlbaV0gPSAtNTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChweFtpXSA8IDAgfHwgcHhbaV0gPiBXKSB7IHZ4W2ldID0gLXZ4W2ldOyB9CiAgICAgICAgICAgIGlmIChweVtpXSA8IDAgfHwgcHlbaV0gPiBIKSB7IHZ5W2ldID0gLXZ5W2ldOyB9CiAgICAgICAgICAgIHB4W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oVywgcHhbaV0pKTsKICAgICAgICAgICAgcHlbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihILCBweVtpXSkpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIGRlY2F5IG1vZGlmaWVycyBhbmQgY29tcHV0ZSB0aW50CiAgICAgICAgICB2Qm9vc3RbaV0gKj0gMC45Mjsgc2l6ZU11bFtpXSAqPSAwLjkwOyBodWVPZmZbaV0gKj0gMC45NDsgaml0QW1wW2ldICo9IDAuODg7CiAgICAgICAgICBhbGlnbk11bFtpXSAqPSAwLjk0OyBjb2hlc2lvbk11bFtpXSAqPSAwLjk0OyBzZXBhcmF0aW9uTXVsW2ldICo9IDAuOTQ7CiAgICAgICAgICAvLyBzbG93bHkgZHJpZnQgYm9pZCBodWUgYmFjayB0b3dhcmQgYmFzZSBwYWxldHRlIGh1ZQogICAgICAgICAgaHVlW2ldID0gYXBwcm9hY2hIdWUoaHVlW2ldLCBwYWxldHRlSHVlLCBNYXRoLm1pbigxLCBkdCAqIChDRkcuaHVlUmVsYXggfHwgMC4yKSkpOwogICAgICAgICAgc3BkW2ldID0gTWF0aC5oeXBvdCh2eFtpXSwgdnlbaV0pOwogICAgICAgICAgY29uc3QgTCA9IDUwICsgTWF0aC5taW4oNDUsIHNwZFtpXSo4KTsKICAgICAgICAgIGNvbnN0IFMgPSA4MCArIE1hdGgubWluKDIwLCBzcGRbaV0qNik7CiAgICAgICAgICBjb25zdCBkcmF3SHVlID0gKGh1ZVtpXSArIGh1ZU9mZltpXSkgJSAzNjA7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgaHNsKCR7ZHJhd0h1ZX0sICR7U30lLCAke0x9JSlgOwogICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gYGhzbCgke2RyYXdIdWV9LCA5MCUsIDYwJSlgOwogICAgICAgICAgY29uc3QgZ2xvd1F1YWxpdHkgPSAoZnBzQXZnIDwgNTAgPyAwLjUgOiAxLjApOwogICAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSBnbG93UXVhbGl0eSAqIChDRkcuZ2xvd0Jhc2UgKyBNYXRoLm1pbihDRkcuZ2xvd01heCwgc3BkW2ldKkNGRy5nbG93U2NhbGUpKTsKCiAgICAgICAgICAvLyB0cmFpbCBzZWdtZW50CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjdHgubW92ZVRvKHByZXZ4W2ldLCBwcmV2eVtpXSk7CiAgICAgICAgICBjdHgubGluZVRvKHB4W2ldLCBweVtpXSk7CiAgICAgICAgICBjdHguc3Ryb2tlKCk7CgogICAgICAgICAgLy8gYm9pZCBoZWFkIHNoYXBlCiAgICAgICAgICBjb25zdCBhbmcgPSBNYXRoLmF0YW4yKHZ5W2ldLCB2eFtpXSk7CiAgICAgICAgICBjb25zdCBjYSA9IE1hdGguY29zKGFuZyksIHNhID0gTWF0aC5zaW4oYW5nKTsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBgaHNsKCR7aHVlW2ldfSwgOTUlLCAke0x9JSlgOwogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY29uc3QgcyA9IENGRy5jb21ldFNpemUgKiAoMSArIChzaXplTXVsW2ldfHwwKSk7CiAgICAgICAgICBpZiAoQ0ZHLnNoYXBlID09PSAndHJpYW5nbGUnKSB7CiAgICAgICAgICAgIGNvbnN0IEMyNiA9IDAuODU2ODg4NzUzLCBTMjYgPSAwLjUxNTQ5ODsgLy8gY29zL3NpbigyLjYpCiAgICAgICAgICAgIGNvbnN0IHgwID0gcHhbaV0gKyBjYSpzKjEuNiwgeTAgPSBweVtpXSArIHNhKnMqMS42OwogICAgICAgICAgICBjb25zdCBjYV9wID0gY2EqQzI2IC0gc2EqUzI2LCBzYV9wID0gc2EqQzI2ICsgY2EqUzI2OwogICAgICAgICAgICBjb25zdCBjYV9tID0gY2EqQzI2ICsgc2EqUzI2LCBzYV9tID0gc2EqQzI2IC0gY2EqUzI2OwogICAgICAgICAgICBjdHgubW92ZVRvKHgwLCB5MCk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9wKnMsICBweVtpXSArIHNhX3Aqcyk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9tKnMsICBweVtpXSArIHNhX20qcyk7CiAgICAgICAgICB9IGVsc2UgaWYgKENGRy5zaGFwZSA9PT0gJ29yYicpIHsKICAgICAgICAgICAgY3R4LmFyYyhweFtpXSwgcHlbaV0sIHMqMC42LCAwLCBNYXRoLlBJKjIpOwogICAgICAgICAgfSBlbHNlIHsgLy8gc3BhcmsKICAgICAgICAgICAgY29uc3QgQzAyID0gMC45ODAwNjY2LCBTMDIgPSAwLjE5ODY2OTM7IC8vIGNvcy9zaW4oMC4yKQogICAgICAgICAgICBjb25zdCB4aCA9IHB4W2ldICsgY2EqcyoxLjgsIHloID0gcHlbaV0gKyBzYSpzKjEuODsKICAgICAgICAgICAgY29uc3QgY2FfcDAyID0gY2EqQzAyIC0gc2EqUzAyLCBzYV9wMDIgPSBzYSpDMDIgKyBjYSpTMDI7CiAgICAgICAgICAgIGNvbnN0IGNhX20wMiA9IGNhKkMwMiArIHNhKlMwMiwgc2FfbTAyID0gc2EqQzAyIC0gY2EqUzAyOwogICAgICAgICAgICBjdHgubW92ZVRvKHhoLCB5aCk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9wMDIqcyowLjYsICBweVtpXSArIHNhX3AwMipzKjAuNik7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9tMDIqcyowLjYsICBweVtpXSArIHNhX20wMipzKjAuNik7CiAgICAgICAgICB9CiAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7IGN0eC5maWxsKCk7CiAgICAgICAgfQogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIFF1YWR0cmVlIHZpc3VhbGl6YXRpb24gKGRlZmF1bHQgb24pCiAgICAgICAgaWYgKENGRy5xdCkgcXQuZHJhdyhjdHgpOwoKICAgICAgICAvLyBIVUQKICAgICAgICBodWRFbC5pbm5lckhUTUwgPSBgPHN0cm9uZz5Cb2lkczwvc3Ryb25nPiDCtyBOPSR7Tn0gdmlzaW9uPSR7Q0ZHLnZpc2lvbn0gc2VwPSR7Q0ZHLnNlcH0gYCArCiAgICAgICAgICBgwrcgcXRDYXA9JHtDRkcucXRDYXB9IMK3IGh1ZT0ke3BhbGV0dGVIdWV9IMK3IHF0Vml6PSR7Q0ZHLnF0Pydvbic6J29mZid9IMK3IGNsaWNrPSR7Q0ZHLmNsaWNrTW9kZX0gwrcgZnBzPSR7ZnBzQXZnLnRvRml4ZWQoMCl9YDsKCiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKICAgICAgfQogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpOwoKICAgICAgLy8gQ29uZmlnIFVJIGJ1aWxkIGFuZCB3aXJpbmcKICAgICAgY29uc3QgY2ZnQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmZ0J0bicpOwogICAgICBjb25zdCBjZmdDbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdDbG9zZScpOwogICAgICBjb25zdCBjZmdQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maWcnKTsKICAgICAgY29uc3QgY2ZnQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maWdCb2R5Jyk7CiAgICAgIGNmZ0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNmZ1BhbmVsLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJykpOwogICAgICBjZmdDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNmZ1BhbmVsLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywnJykpOwoKICAgICAgY29uc3Qgc2NoZW1hID0gWwogICAgICAgIHtrZXk6J2h1ZScsIGxhYmVsOidIdWUnLCB0eXBlOidpbnQnLCBtaW46MCwgbWF4OjM2MCwgc3RlcDoxLCB2YWx1ZTpCQVNFX0hVRX0sCiAgICAgICAge2tleTonaGVhZGVyJywgbGFiZWw6J0hlYWRlcicsIHR5cGU6J3RleHQnLCB2YWx1ZTpIRUFERVJ9LAogICAgICAgIHtrZXk6J3N1YmhlYWRlcicsIGxhYmVsOidTdWJoZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6U1VCSEVBREVSfSwKICAgICAgICB7a2V5OidxdCcsIGxhYmVsOidTaG93IFF1YWR0cmVlJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3Nob3dIdWQnLCBsYWJlbDonU2hvdyBIVUQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc3Bhd24nLCBsYWJlbDonU3Bhd24nLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsncmFuZG9tJywnY2lyY2xlJywnZ3JpZCcsJ2NlbnRlcmJ1cnN0J119LAogICAgICAgIHtrZXk6J2NvdW50JywgbGFiZWw6J0NvdW50JywgdHlwZTonaW50JywgbWluOjUwLCBtYXg6MTAwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5Oid2aXNpb24nLCBsYWJlbDonVmlzaW9uJywgdHlwZTonaW50JywgbWluOjIwLCBtYXg6MjAwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3NlcCcsIGxhYmVsOidTZXBhcmF0aW9uIERpc3QnLCB0eXBlOidpbnQnLCBtaW46NCwgbWF4OjgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J21heFNwZWVkJywgbGFiZWw6J01heCBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLjEsIG1heDoxMiwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21pblNwZWVkJywgbGFiZWw6J01pbiBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLjAsIG1heDo2LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonbWF4Rm9yY2UnLCBsYWJlbDonTWF4IFN0ZWVyaW5nIEZvcmNlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAxLCBtYXg6MC41LCBzdGVwOjAuMDAxfSwKICAgICAgICB7a2V5OidhbGlnblcnLCBsYWJlbDonQWxpZ24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J2NvaGVzaW9uVycsIGxhYmVsOidDb2hlc2lvbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonc2VwYXJhdGlvblcnLCBsYWJlbDonU2VwYXJhdGlvbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTondHJhaWxBbHBoYScsIGxhYmVsOidUcmFpbCBBbHBoYScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6MSwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidxdENhcCcsIGxhYmVsOidRdWFkdHJlZSBDYXBhY2l0eScsIHR5cGU6J2ludCcsIG1pbjoyLCBtYXg6MzIsIHN0ZXA6MX0sCiAgICAgICAge2tleTond3JhcCcsIGxhYmVsOidXcmFwIEJvdW5kcycsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaGFwZScsIGxhYmVsOidTaGFwZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6Wyd0cmlhbmdsZScsJ3NwYXJrJywnb3JiJ119LAogICAgICAgIHtrZXk6J2JsZW5kJywgbGFiZWw6J0JsZW5kJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ2xpZ2h0ZXInLCdzY3JlZW4nLCdvdmVybGF5JywncGx1cy1saWdodGVyJ119LAogICAgICAgIHtrZXk6J2xpbmVXaWR0aCcsIGxhYmVsOidMaW5lIFdpZHRoJywgdHlwZTonbnVtYmVyJywgbWluOjAuMiwgbWF4OjQsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidnbG93QmFzZScsIGxhYmVsOidHbG93IEJhc2UnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjYwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2dsb3dNYXgnLCBsYWJlbDonR2xvdyBNYXgnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2dsb3dTY2FsZScsIGxhYmVsOidHbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0MCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2NvbWV0U2l6ZScsIGxhYmVsOidDb21ldCBTaXplJywgdHlwZTonbnVtYmVyJywgbWluOjEsIG1heDoyMCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2JnR3JhZGllbnQnLCBsYWJlbDonQkcgR3JhZGllbnQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDEnLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDEnLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MicsIGxhYmVsOidCRyBIdWUgU2hpZnQgMicsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQzJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAzJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZmxvdycsIGxhYmVsOidGbG93IEZpZWxkJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2Zsb3dBbXAnLCBsYWJlbDonRmxvdyBBbXAnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wNX0sCiAgICAgICAge2tleTonZmxvd1NjYWxlJywgbGFiZWw6J0Zsb3cgU2NhbGUnLCB0eXBlOidudW1iZXInLCBtaW46MC4wMDA1LCBtYXg6MC4wMiwgc3RlcDowLjAwMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTcGVlZCcsIGxhYmVsOidGbG93IFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDozLCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J2NsaWNrTW9kZScsIGxhYmVsOidDbGljayBNb2RlJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknXX0sCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBtYWtlUm93KGxhYmVsLCBpbnB1dCkgewogICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyByb3cuY2xhc3NOYW1lID0gJ3Jvdyc7CiAgICAgICAgY29uc3QgbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7IGwudGV4dENvbnRlbnQgPSBsYWJlbDsgcm93LmFwcGVuZENoaWxkKGwpOwogICAgICAgIHJvdy5hcHBlbmRDaGlsZChpbnB1dCk7IHJldHVybiByb3c7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFkZElucHV0KGl0ZW0pIHsKICAgICAgICBsZXQgaW5wdXQ7CiAgICAgICAgY29uc3QgdjAgPSAoaXRlbS5rZXkgaW4gQ0ZHKSA/IENGR1tpdGVtLmtleV0gOiBpdGVtLnZhbHVlOwogICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdib29sJykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdjaGVja2JveCc7IGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQuY2hlY2tlZDsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIENGR1tpdGVtLmtleV0pOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3NlbGVjdCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7CiAgICAgICAgICBmb3IgKGNvbnN0IG9wdCBvZiBpdGVtLm9wdGlvbnMpIHsgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOyBvLnZhbHVlPW9wdDsgby50ZXh0Q29udGVudD1vcHQ7IGlmIChvcHQ9PT12MCkgby5zZWxlY3RlZD10cnVlOyBpbnB1dC5hcHBlbmRDaGlsZChvKTsgfQogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IENGR1tpdGVtLmtleV0gPSBpbnB1dC52YWx1ZTsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIENGR1tpdGVtLmtleV0pOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3RleHQnOyBpbnB1dC52YWx1ZSA9IFN0cmluZyh2MHx8JycpOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlmIChpdGVtLmtleT09PSdoZWFkZXInKSB7IHRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ua2V5PT09J3N1YmhlYWRlcicpIHsgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseUNoYW5nZShpdGVtLmtleSwgaW5wdXQudmFsdWUpOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ua2V5ID09PSAnaHVlJykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdyYW5nZSc7IGlucHV0Lm1pbj0nMCc7IGlucHV0Lm1heD0nMzYwJzsgaW5wdXQuc3RlcD0nMSc7IGlucHV0LnZhbHVlPVN0cmluZyh2MCk7CiAgICAgICAgICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBudW1iZXIudHlwZT0nbnVtYmVyJzsgbnVtYmVyLm1pbj0nMCc7IG51bWJlci5tYXg9JzM2MCc7IG51bWJlci5zdGVwPScxJzsgbnVtYmVyLnZhbHVlPVN0cmluZyh2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgbnVtYmVyLnZhbHVlPWlucHV0LnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZT1udW1iZXIudmFsdWU7IGh1ZUNoYW5nZWQocGFyc2VJbnQobnVtYmVyLnZhbHVlKSk7IH0pOwogICAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyB3cmFwLmNsYXNzTmFtZT0ncmFuZ2VSb3cnOyB3cmFwLmFwcGVuZENoaWxkKGlucHV0KTsgd3JhcC5hcHBlbmRDaGlsZChudW1iZXIpOwogICAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIHdyYXApKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGZ1bmN0aW9uIGh1ZUNoYW5nZWQodmFsKXsKICAgICAgICAgICAgLy8gc2hpZnQgcGFsZXR0ZSBpbW1lZGlhdGVseQogICAgICAgICAgICBjb25zdCBkZWx0YSA9ICh2YWwgLSBwYWxldHRlSHVlKTsKICAgICAgICAgICAgcGFsZXR0ZUh1ZSA9IHZhbDsKICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgaHVlW2ldID0gKGh1ZVtpXSArIGRlbHRhKSAlIDM2MDsgfQogICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3ZhbH0sIDg1JSwgNjIlKWApOwogICAgICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKHtodWU6U3RyaW5nKHZhbCl9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgeyAvLyBudW1lcmljIChyYW5nZSArIG51bWJlciBwYWlyKQogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdyYW5nZSc7IGlucHV0LnN0ZXA9U3RyaW5nKGl0ZW0uc3RlcHx8MSk7CiAgICAgICAgICBpZiAoaXRlbS5taW4hPW51bGwpIGlucHV0Lm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIGlucHV0Lm1heD1TdHJpbmcoaXRlbS5tYXgpOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBudW1iZXIubWluPVN0cmluZyhpdGVtLm1pbik7IGlmIChpdGVtLm1heCE9bnVsbCkgbnVtYmVyLm1heD1TdHJpbmcoaXRlbS5tYXgpOwogICAgICAgICAgaW5wdXQudmFsdWUgPSBTdHJpbmcodjApOyBudW1iZXIudmFsdWUgPSBTdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZSA9IGlucHV0LnZhbHVlOyBudW1DaGFuZ2VkKHBhcnNlRmxvYXQoaW5wdXQudmFsdWUpKTsgfSk7CiAgICAgICAgICBudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlucHV0LnZhbHVlID0gbnVtYmVyLnZhbHVlOyBudW1DaGFuZ2VkKHBhcnNlRmxvYXQobnVtYmVyLnZhbHVlKSk7IH0pOwogICAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyB3cmFwLmNsYXNzTmFtZT0ncmFuZ2VSb3cnOyB3cmFwLmFwcGVuZENoaWxkKGlucHV0KTsgd3JhcC5hcHBlbmRDaGlsZChudW1iZXIpOwogICAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIHdyYXApKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGZ1bmN0aW9uIG51bUNoYW5nZWQodmFsKXsgQ0ZHW2l0ZW0ua2V5XSA9IHZhbDsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIHZhbCk7IH0KICAgICAgICB9CiAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIGlucHV0KSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFwcGx5Q2hhbmdlKGtleSwgdmFsdWUpIHsKICAgICAgICBpZiAoa2V5ID09PSAnY291bnQnIHx8IGtleSA9PT0gJ3NwYXduJykgeyByZXNlZWQoQ0ZHLmNvdW50KTsgfQogICAgICAgIGlmIChrZXkgPT09ICdxdCcpIHsgLyogaW1tZWRpYXRlIGRyYXcgdG9nZ2xlIHZpYSBDRkcgKi8gfQogICAgICAgIGlmIChrZXkgPT09ICdzaG93SHVkJykgeyBodWRFbC5zdHlsZS5kaXNwbGF5ID0gQ0ZHLnNob3dIdWQgPyAnJyA6ICdub25lJzsgfQogICAgICAgIHVwZGF0ZVVybEZyb21DZmcoKTsKICAgICAgfQoKICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNjaGVtYSkgYWRkSW5wdXQoaXRlbSk7CiAgICAgIC8vIGluaXRpYWwgSFVEIHZpc2liaWxpdHkKICAgICAgaHVkRWwuc3R5bGUuZGlzcGxheSA9IChDRkcuc2hvd0h1ZD09PWZhbHNlKSA/ICdub25lJyA6ICcnOwoKICAgICAgLy8ga2V5Ym9hcmQgdG9nZ2xlcyAoYWZ0ZXIgYnVpbGRpbmcgcGFuZWwpCiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gewogICAgICAgIGNvbnN0IGsgPSBlLmtleS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChrID09PSAncScpIHsgQ0ZHLnF0ID0gIUNGRy5xdDsgdXBkYXRlVXJsRnJvbUNmZygpOyB9CiAgICAgICAgaWYgKGsgPT09ICdjJykgeyBjZmdQYW5lbC50b2dnbGVBdHRyaWJ1dGUoJ2hpZGRlbicpOyB9CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgIDwvc2NyaXB0PgogIDwvYm9keT4KPC9odG1sPgo=" download="boids-dod-quadtree-14-impl.html" class="download-btn" title="Download boids-dod-quadtree-14-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=337 · spawn=centerburst · wrap · triangle · lighter · hue=243 · qtCap=10" data-filename="boids-dod-quadtree-12-impl.html"><a href="boids-dod-quadtree-12-impl.html" target="viewer"><strong>Boids DOD+QT · N=337 · spawn=centerburst · wrap · triangle · lighter · hue=243 · qtCap=10</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTMzNyDCtyBzcGF3bj1jZW50ZXJidXJzdCDCtyB3cmFwIMK3IHRyaWFuZ2xlIMK3IGxpZ2h0ZXIgwrcgaHVlPTI0MyDCtyBxdENhcD0xMDwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgIGh0bWwsIGJvZHkgeyBoZWlnaHQ6IDEwMCU7IG1hcmdpbjogMDsgfQogICAgICBib2R5IHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMDUwNzBhOwogICAgICAgIGNvbG9yOiAjZTZlZGYzOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgZm9udC1mYW1pbHk6IHVpLXNhbnMtc2VyaWYsIHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgU2Vnb2UgVUksIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIjsKICAgICAgfQogICAgICAjc2NlbmUgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyB9CiAgICAgIC5vdmVybGF5IHsgcG9zaXRpb246IGZpeGVkOyBpbnNldDogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnIgYXV0bzsgfQogICAgICAudGl0bGUgeyBtYXJnaW46IDE4cHggMjBweCAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogY2xhbXAoMThweCwgM3Z3LCAyOHB4KTsgbGV0dGVyLXNwYWNpbmc6IDAuMnB4OyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgdGV4dC1zaGFkb3c6IDAgMCAxMHB4IGNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYWNjZW50LCAjN2RkM2ZjKSA4MCUsICMwMDAgMjAlKTsgfQogICAgICAuc3VidGl0bGUgeyBtYXJnaW46IDAgMjBweCAxMHB4OyBmb250LXdlaWdodDogNTAwOyBmb250LXNpemU6IGNsYW1wKDEycHgsIDJ2dywgMTZweCk7IG9wYWNpdHk6IDAuODU7IH0KICAgICAgLmh1ZCB7IHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMTJweDsgYm90dG9tOiAxMnB4OyBwYWRkaW5nOiA4cHggMTBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDQwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpIHNhdHVyYXRlKDEyMCUpOyBmb250LXNpemU6IDEycHg7IGxpbmUtaGVpZ2h0OiAxLjQ7IH0KICAgICAgLmh1ZCBzdHJvbmcgeyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgfQogICAgICAuY2ZnQnRuIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDEycHg7IHJpZ2h0OiAxMnB4OyB6LWluZGV4OiAxMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiA2cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ1BhbmVsIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDU2cHg7IHJpZ2h0OiAxMnB4OyB3aWR0aDogbWluKDM4MHB4LCA5MHZ3KTsgbWF4LWhlaWdodDogODB2aDsgb3ZlcmZsb3c6IGF1dG87IHotaW5kZXg6IDIwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYmFja2dyb3VuZDogIzBiMTIyMGU2OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3gtc2hhZG93OiAwIDEwcHggNDBweCAjMDAwODsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpIHNhdHVyYXRlKDEyMCUpOyB9CiAgICAgIC5jb25maWdIZWFkZXIgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDEwcHggMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAwMDA1NTsgcG9zaXRpb246IHN0aWNreTsgdG9wOiAwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZjI7IH0KICAgICAgLmNvbmZpZ0JvZHkgeyBwYWRkaW5nOiAxMHB4IDEycHg7IGRpc3BsYXk6IGdyaWQ7IGdhcDogMTBweDsgfQogICAgICAuY29uZmlnQm9keSAucm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bzsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJhbmdlUm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNzJweDsgZ2FwOiA4cHg7IH0KICAgICAgLmNmZ0Nsb3NlIHsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMTIxYTJiY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA2cHg7IHBhZGRpbmc6IDRweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dCwgLmNvbmZpZ0JvZHkgc2VsZWN0IHsgZm9udC1zaXplOiAxNHB4OyBwYWRkaW5nOiA2cHggOHB4OyBiYWNrZ3JvdW5kOiAjMTAxODI3OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiA2cHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXRbdHlwZT1yYW5nZV0geyBwYWRkaW5nOiAwOyBoZWlnaHQ6IDI4cHg7IGFjY2VudC1jb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPGNhbnZhcyBpZD0ic2NlbmUiPjwvY2FudmFzPgogICAgPGRpdiBjbGFzcz0ib3ZlcmxheSI+CiAgICAgIDxkaXYgY2xhc3M9InRpdGxlIiBpZD0idGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJzdWJ0aXRsZSIgaWQ9InN1YnRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaHVkIiBpZD0iaHVkIj48L2Rpdj4KICAgIDwvZGl2PgogICAgPGJ1dHRvbiBpZD0iY2ZnQnRuIiBjbGFzcz0iY2ZnQnRuIiBhcmlhLWxhYmVsPSJPcGVuIGNvbmZpZyI+4pqZ77iOPC9idXR0b24+CiAgICA8ZGl2IGlkPSJjb25maWciIGNsYXNzPSJjb25maWdQYW5lbCIgaGlkZGVuPgogICAgICA8ZGl2IGNsYXNzPSJjb25maWdIZWFkZXIiPgogICAgICAgIDxzdHJvbmc+Q29uZmlnPC9zdHJvbmc+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2ZnQ2xvc2UiIGNsYXNzPSJjZmdDbG9zZSIgYXJpYS1sYWJlbD0iQ2xvc2UiPuKclTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBpZD0iY29uZmlnQm9keSIgY2xhc3M9ImNvbmZpZ0JvZHkiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICAndXNlIHN0cmljdCc7CgogICAgICAvLyBVUkwgcGFyYW1ldGVycwogICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgICAgIGNvbnN0IERFRkFVTFRfSFVFID0gMjQzOwogICAgICBjb25zdCBCQVNFX0hVRSA9IGNsYW1wSW50KHBhcnNlSW50KHBhcmFtcy5nZXQoJ2h1ZScpKSwgMCwgMzYwLCBERUZBVUxUX0hVRSk7CiAgICAgIGxldCBwYWxldHRlSHVlID0gQkFTRV9IVUU7CiAgICAgIGNvbnN0IEhFQURFUiA9IHBhcmFtcy5nZXQoJ2hlYWRlcicpIHx8ICdCb2lkcyDigJQgRGF0YS1PcmllbnRlZCArIFF1YWR0cmVlJzsKICAgICAgY29uc3QgU1VCSEVBREVSID0gcGFyYW1zLmdldCgnc3ViaGVhZGVyJykgfHwgJ1Nob2Nrd2F2ZXMgb24gY2xpY2svZHJhZyDCtyBxdWFkdHJlZSB2aXogb24nOwogICAgICAvLyBRdWFkdHJlZSB2aXogaXMgaGFuZGxlZCBieSBDRkcucXQ7IFVSTCBwYXJhbSAncXQnIG92ZXJyaWRlcyBpdC4KCiAgICAgIC8vIERPTQogICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NlbmUnKTsKICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogZmFsc2UgfSk7CiAgICAgIGNvbnN0IHRpdGxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKTsKICAgICAgY29uc3Qgc3VidGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJ0aXRsZScpOwogICAgICBjb25zdCBodWRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdodWQnKTsKCiAgICAgIC8vIFN0eWxlIGhvb2sKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHtwYWxldHRlSHVlfSwgODUlLCA2MiUpYCk7CiAgICAgIHRpdGxlRWwudGV4dENvbnRlbnQgPSBIRUFERVI7CiAgICAgIHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBTVUJIRUFERVI7CgogICAgICAvLyBDb25maWcgKGluamVjdGVkIGJ5IGdlbmVyYXRvcikg4oCUIG11dGFibGUgYXQgcnVudGltZQogICAgICBsZXQgQ0ZHID0geyJjb3VudCI6IDMzNywgInZpc2lvbiI6IDY5LCAic2VwIjogMjcsICJtYXhTcGVlZCI6IDIuNTksICJtYXhGb3JjZSI6IDAuMDc2LCAibWluU3BlZWQiOiAwLjg1LCAiYWxpZ25XIjogMC45NywgImNvaGVzaW9uVyI6IDAuNzUsICJzZXBhcmF0aW9uVyI6IDEuODksICJ0cmFpbEFscGhhIjogMC4xLCAicXRDYXAiOiAxMCwgIndyYXAiOiB0cnVlLCAic2hhcGUiOiAidHJpYW5nbGUiLCAiYmxlbmQiOiAibGlnaHRlciIsICJsaW5lV2lkdGgiOiAxLjM1LCAiZ2xvd0Jhc2UiOiAxOCwgImdsb3dNYXgiOiAzMSwgImdsb3dTY2FsZSI6IDkuNywgImNvbWV0U2l6ZSI6IDYuNTEsICJiZ0dyYWRpZW50IjogdHJ1ZSwgImJnSHVlU2hpZnQxIjogLTYsICJiZ0h1ZVNoaWZ0MiI6IDMzLCAiYmdIdWVTaGlmdDMiOiAxMTAsICJzcGF3biI6ICJjZW50ZXJidXJzdCIsICJxdCI6IHRydWUsICJzaG93SHVkIjogdHJ1ZSwgImZsb3ciOiBmYWxzZSwgImZsb3dBbXAiOiAwLjM2LCAiZmxvd1NjYWxlIjogMC4wMDIyLCAiZmxvd1NwZWVkIjogMC44MywgImNsaWNrTW9kZSI6ICJyYW5kb20ifTsKICAgICAgQ0ZHLm1pblNwZWVkID0gQ0ZHLm1pblNwZWVkID8/IDAuODsKICAgICAgQ0ZHLnF0ID0gKHR5cGVvZiBDRkcucXQgPT09ICdib29sZWFuJykgPyBDRkcucXQgOiB0cnVlOwogICAgICBDRkcuY2xpY2tNb2RlID0gQ0ZHLmNsaWNrTW9kZSB8fCAncmFuZG9tJzsKICAgICAgQ0ZHLmNsaWNrTW9kZXMgPSBDRkcuY2xpY2tNb2RlcyB8fCBbCiAgICAgICAgJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknLCdzdHVuJywnZmVhcicsJ2F0dHJhY3QnLCdvcmJpdENXJywnb3JiaXRDQ1cnLAogICAgICAgICdzcGlyYWxPdXQnLCdzcGlyYWxJbicsJ2ZyZWV6ZScsJ3NjcmFtYmxlJywnc2NhdHRlcicsJ21hZ25ldCcsJ3B1bHNlJywKICAgICAgICAnd2FycCcsJ2dyb3cnLCd0dW5uZWwnLCdyaXBwbGUnLCdqaXR0ZXJidXJzdCcsJ2Nocm9tYWJ1cnN0Jywnc2xvd2Rvd24nLCdzcGVlZHVwJywKICAgICAgICAncGVybGluRHJhZycsJ2xpc3NhUHVsc2UnLCdtZXRlb3InLAogICAgICAgIC8vIHN0ZWVyaW5nLXdlaWdodCBlZmZlY3RzCiAgICAgICAgJ2FsaWduJywnZGVhbGlnbicsJ2NvaGVyZScsJ2xvb3NlbicsJ3NlcGFyYXRlJywnZGlzcGVyc2UnCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBwYXJzZUJvb2wodiwgZCkgewogICAgICAgIGlmICh2ID09IG51bGwpIHJldHVybiBkOwogICAgICAgIGNvbnN0IHMgPSBTdHJpbmcodikudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoWycxJywndHJ1ZScsJ3llcycsJ29uJ10uaW5jbHVkZXMocykpIHJldHVybiB0cnVlOwogICAgICAgIGlmIChbJzAnLCdmYWxzZScsJ25vJywnb2ZmJ10uaW5jbHVkZXMocykpIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gZDsKICAgICAgfQoKICAgICAgLy8gVVJMIG92ZXJyaWRlcyBmb3IgY29uZmlnCiAgICAgIChmdW5jdGlvbiB1cmxPdmVycmlkZSgpewogICAgICAgIGNvbnN0IGludEtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywncXRDYXAnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnXTsKICAgICAgICBjb25zdCBudW1LZXlzID0gWydtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJ107CiAgICAgICAgY29uc3QgYm9vbEtleXMgPSBbJ3dyYXAnLCdiZ0dyYWRpZW50JywncXQnLCdmbG93Jywnc2hvd0h1ZCddOwogICAgICAgIGNvbnN0IHN0cktleXMgPSBbJ3NoYXBlJywnYmxlbmQnLCdzcGF3biddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBpbnRLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE1hdGgubWF4KC05OTk5OSwgTWF0aC5taW4oOTk5OTksIHBhcnNlSW50KHYpKSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgbnVtS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBOdW1iZXIodik7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgYm9vbEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gcGFyc2VCb29sKHYsIENGR1trXSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2Ygc3RyS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSB2OyB9CiAgICAgICAgY29uc3QgY20gPSBwYXJhbXMuZ2V0KCdjbGlja01vZGUnKTsgaWYgKGNtKSBDRkcuY2xpY2tNb2RlID0gY207CiAgICAgICAgY29uc3QgY21zID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlcycpOyBpZiAoY21zKSBDRkcuY2xpY2tNb2RlcyA9IGNtcy5zcGxpdCgnLCcpOwogICAgICB9KSgpOwoKICAgICAgZnVuY3Rpb24gdXBkYXRlVXJsRnJvbUNmZyhleHRyYT17fSkgewogICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwobG9jYXRpb24uaHJlZik7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2h1ZScsIHBhbGV0dGVIdWUpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdoZWFkZXInLCB0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3ViaGVhZGVyJywgc3VidGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qga2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdxdENhcCcsJ3dyYXAnLCdzaGFwZScsJ2JsZW5kJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnYmdHcmFkaWVudCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MycsJ3F0JywnY2xpY2tNb2RlJywnY2xpY2tNb2RlcycsJ2Zsb3cnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJywnc3Bhd24nLCdzaG93SHVkJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIFN0cmluZyhDRkdba10pKTsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZXMgJiYgQXJyYXkuaXNBcnJheShDRkcuY2xpY2tNb2RlcykpIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdjbGlja01vZGVzJywgQ0ZHLmNsaWNrTW9kZXMuam9pbignLCcpKTsKICAgICAgICBmb3IgKGNvbnN0IFtrLHZdIG9mIE9iamVjdC5lbnRyaWVzKGV4dHJhKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgdik7CiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgJycsIHVybC50b1N0cmluZygpKTsKICAgICAgfQoKICAgICAgY29uc3QgVEFVID0gTWF0aC5QSSAqIDI7CgogICAgICAvLyBDYW52YXMgc2l6aW5nIHdpdGggRFBSCiAgICAgIGxldCBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgICBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcihpbm5lcldpZHRoICogRFBSKTsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihpbm5lckhlaWdodCAqIERQUik7CiAgICAgICAgY3R4LnNldFRyYW5zZm9ybShEUFIsIDAsIDAsIERQUiwgMCwgMCk7CiAgICAgICAgY2xlYXJIYXJkKCk7CiAgICAgIH0KICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKTsKICAgICAgcmVzaXplKCk7CgogICAgICBmdW5jdGlvbiBjbGVhckhhcmQoKSB7CiAgICAgICAgaWYgKENGRy5iZ0dyYWRpZW50KSB7CiAgICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGlubmVyV2lkdGgqMC42NSwgaW5uZXJIZWlnaHQqMC4zNSwgTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuMTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyV2lkdGgqMC41LCBpbm5lckhlaWdodCowLjUsIE1hdGguaHlwb3QoaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuNyk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDEpJTM2MH0gODAlIDEwJSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNSwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MiklMzYwfSA3MCUgOCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgxLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDMpJTM2MH0gNjAlIDYlKWApOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBpbm5lcldpZHRoLCBpbm5lckhlaWdodCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNsYW1wSW50KG4sIGxvLCBoaSwgZmFsbGJhY2spIHsKICAgICAgICBuID0gTnVtYmVyLmlzRmluaXRlKG4pID8gbiA6IGZhbGxiYWNrOwogICAgICAgIHJldHVybiBNYXRoLm1heChsbywgTWF0aC5taW4oaGksIG4pKTsKICAgICAgfQoKICAgICAgLy8gRHJpZnQgYSBodWUgdmFsdWUgdG93YXJkIGEgdGFyZ2V0IG9uIGEgY2lyY3VsYXIgY29sb3Igd2hlZWwKICAgICAgZnVuY3Rpb24gYXBwcm9hY2hIdWUoaCwgdGFyZ2V0LCByYXRlKSB7CiAgICAgICAgLy8gcmF0ZSBpcyAwLi4xIGZyYWN0aW9uIHRvd2FyZCB0YXJnZXQgcGVyIGNhbGwKICAgICAgICBsZXQgZCA9ICgodGFyZ2V0IC0gaCArIDU0MCkgJSAzNjApIC0gMTgwOyAvLyBzaG9ydGVzdCBzaWduZWQgZGVsdGEgWy0xODAsMTgwKQogICAgICAgIHJldHVybiAoaCArIGQgKiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCByYXRlKSkgKyAzNjApICUgMzYwOwogICAgICB9CgogICAgICAvLyBMaWdodHdlaWdodCAyRCB2YWx1ZSBub2lzZSAoZm9yIHBlcmxpbi1saWtlIGRyYWcpCiAgICAgIGxldCBub2lzZVNlZWQgPSAoQkFTRV9IVUUgKiAxNjY0NTI1ICsgMTAxMzkwNDIyMykgJiAweGZmZmZmZmZmOwogICAgICBmdW5jdGlvbiBmcmFjdCh4KXsgcmV0dXJuIHggLSBNYXRoLmZsb29yKHgpOyB9CiAgICAgIGZ1bmN0aW9uIF9yYW5kKGl4LCBpeSl7CiAgICAgICAgY29uc3QgayA9IChpeCAqIDM3NDc2MTM5MyArIGl5ICogNjY4MjY1MjYzICsgbm9pc2VTZWVkKSA+Pj4gMDsKICAgICAgICByZXR1cm4gZnJhY3QoTWF0aC5zaW4oaykgKiA0Mzc1OC41NDUzKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBub2lzZTIoeCwgeSl7CiAgICAgICAgY29uc3QgeGkgPSBNYXRoLmZsb29yKHgpLCB5aSA9IE1hdGguZmxvb3IoeSk7CiAgICAgICAgY29uc3QgeGYgPSB4IC0geGksIHlmID0geSAtIHlpOwogICAgICAgIGNvbnN0IHUgPSB4Zip4ZiooMy0yKnhmKSwgdiA9IHlmKnlmKigzLTIqeWYpOwogICAgICAgIGNvbnN0IHYwMCA9IF9yYW5kKHhpLCB5aSksIHYxMCA9IF9yYW5kKHhpKzEsIHlpKSwgdjAxID0gX3JhbmQoeGksIHlpKzEpLCB2MTEgPSBfcmFuZCh4aSsxLCB5aSsxKTsKICAgICAgICBjb25zdCB4MSA9IHYwMCooMS11KSArIHYxMCp1LCB4MiA9IHYwMSooMS11KSArIHYxMSp1OwogICAgICAgIHJldHVybiB4MSooMS12KSArIHgyKnY7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gcGVybGluVmVjKHgsIHksIHNjYWxlLCBhbXApewogICAgICAgIGNvbnN0IG4gPSBub2lzZTIoeCpzY2FsZSwgeSpzY2FsZSk7CiAgICAgICAgY29uc3QgYSA9IG4gKiBUQVU7CiAgICAgICAgcmV0dXJuIFtNYXRoLmNvcyhhKSphbXAsIE1hdGguc2luKGEpKmFtcF07CiAgICAgIH0KCiAgICAgIC8vIFNlZWRlZCBQUk5HIGZvciBzdWJ0bGUgZGV0ZXJtaW5pc20gZnJvbSBCQVNFX0hVRQogICAgICBsZXQgX3NlZWQgPSAoQkFTRV9IVUUgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwOwogICAgICBmdW5jdGlvbiBybmQoKSB7IF9zZWVkID0gKDExMDM1MTUyNDUgKiBfc2VlZCArIDEyMzQ1KSAmIDB4N2ZmZmZmZmY7IHJldHVybiAoX3NlZWQgPj4+IDgpIC8gMHg3ZmZmZmY7IH0KICAgICAgZnVuY3Rpb24gcmFuZChtaW4sIG1heCkgeyByZXR1cm4gcm5kKCkgKiAobWF4IC0gbWluKSArIG1pbjsgfQoKICAgICAgLy8gRGF0YS1PcmllbnRlZCBTdGF0ZSAoU29BKSDigJQgZHluYW1pYwogICAgICBsZXQgTiA9IENGRy5jb3VudDsKICAgICAgbGV0IHB4LCBweSwgdngsIHZ5LCBheCwgYXksIGh1ZSwgc3BkLCBwcmV2eCwgcHJldnk7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBtb2RpZmllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBzaXplTXVsLCB2Qm9vc3QsIGh1ZU9mZiwgaml0QW1wOwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgc3RlZXJpbmcgbXVsdGlwbGllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBhbGlnbk11bCwgY29oZXNpb25NdWwsIHNlcGFyYXRpb25NdWw7CgogICAgICBmdW5jdGlvbiBhbGxvYyhuKSB7CiAgICAgICAgcHggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBweSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgdnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYXggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBheSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgaHVlID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc3BkID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBwcmV2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHByZXZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBzaXplTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdkJvb3N0ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaHVlT2ZmID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaml0QW1wID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBhbGlnbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGNvaGVzaW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc2VwYXJhdGlvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHNlZWRCb2lkcygpIHsKICAgICAgICBjb25zdCBtb2RlID0gQ0ZHLnNwYXduIHx8ICdyYW5kb20nOwogICAgICAgIGlmIChtb2RlID09PSAnY2lyY2xlJykgewogICAgICAgICAgY29uc3QgY3ggPSBpbm5lcldpZHRoLzIsIGN5ID0gaW5uZXJIZWlnaHQvMiwgciA9IE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KS8zOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgdCA9IE1hdGgucmFuZG9tKCkqTWF0aC5QSSoyOyBweFtpXT1jeCtNYXRoLmNvcyh0KSpyOyBweVtpXT1jeStNYXRoLnNpbih0KSpyOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnZ3JpZCcpIHsKICAgICAgICAgIGNvbnN0IGNvbHM9TWF0aC5tYXgoMTAsIE1hdGguZmxvb3IoTWF0aC5zcXJ0KE4pKSk7IGNvbnN0IHJvd3M9TWF0aC5jZWlsKE4vY29scyk7CiAgICAgICAgICBjb25zdCBneD1pbm5lcldpZHRoLyhjb2xzKzEpLCBneT1pbm5lckhlaWdodC8ocm93cysxKTsgbGV0IGs9MDsKICAgICAgICAgIGZvciAobGV0IHk9MTt5PD1yb3dzO3krKykgZm9yIChsZXQgeD0xO3g8PWNvbHM7eCsrKSB7IGlmIChrPj1OKSBicmVhazsgcHhba109Z3gqeDsgcHlba109Z3kqeTsgdnhba109cmFuZCgtMSwxKTsgdnlba109cmFuZCgtMSwxKTsgaysrOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnY2VudGVyYnVyc3QnKSB7CiAgICAgICAgICBjb25zdCBjeD1pbm5lcldpZHRoLzIsIGN5PWlubmVySGVpZ2h0LzI7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCBhPU1hdGgucmFuZG9tKCkqTWF0aC5QSSoyLCBkPXJhbmQoMCwgTWF0aC5taW4oaW5uZXJXaWR0aCxpbm5lckhlaWdodCkvMik7IHB4W2ldPWN4K01hdGguY29zKGEpKmQ7IHB5W2ldPWN5K01hdGguc2luKGEpKmQ7IHZ4W2ldPU1hdGguY29zKGEpOyB2eVtpXT1NYXRoLnNpbihhKTsgfQogICAgICAgIH0gZWxzZSB7IC8vIHJhbmRvbQogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgcHhbaV09cmFuZCgwLGlubmVyV2lkdGgpOyBweVtpXT1yYW5kKDAsaW5uZXJIZWlnaHQpOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICBjb25zdCBtPU1hdGguaHlwb3QodnhbaV0sdnlbaV0pfHwxOyB2eFtpXSo9Mi4wL207IHZ5W2ldKj0yLjAvbTsKICAgICAgICAgIGh1ZVtpXSA9IChwYWxldHRlSHVlICsgcmFuZCgtMzAsIDMwKSkgJSAzNjA7IHByZXZ4W2ldPXB4W2ldOyBwcmV2eVtpXT1weVtpXTsKICAgICAgICAgIHNpemVNdWxbaV09MDsgdkJvb3N0W2ldPTA7IGh1ZU9mZltpXT0wOyBqaXRBbXBbaV09MDsKICAgICAgICAgIGFsaWduTXVsW2ldPTA7IGNvaGVzaW9uTXVsW2ldPTA7IHNlcGFyYXRpb25NdWxbaV09MDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHJlc2VlZChuKSB7CiAgICAgICAgTiA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IobikpOwogICAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKICAgICAgfQoKICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwoKICAgICAgLy8gUXVhZHRyZWUgaW1wbGVtZW50YXRpb24KICAgICAgY2xhc3MgUVROb2RlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMueCA9IHg7IHRoaXMueSA9IHk7IHRoaXMudyA9IHc7IHRoaXMuaCA9IGg7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsgdGhpcy5jb3VudCA9IDA7IHRoaXMuaWR4ID0gbmV3IEludDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMucHRzeCA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsgdGhpcy5wdHN5ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5kaXZpZGVkID0gZmFsc2U7IHRoaXMuY2hpbGRyZW4gPSBudWxsOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY2xhc3MgUXVhZHRyZWUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy5yb290ID0gbmV3IFFUTm9kZSh4LCB5LCB3LCBoLCBjYXApOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7CiAgICAgICAgfQoKICAgICAgICBpbnNlcnQoaSwgeCwgeSwgbm9kZSA9IHRoaXMucm9vdCkgewogICAgICAgICAgaWYgKHggPCBub2RlLnggfHwgeSA8IG5vZGUueSB8fCB4ID49IG5vZGUueCArIG5vZGUudyB8fCB5ID49IG5vZGUueSArIG5vZGUuaCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgaWYgKG5vZGUuY291bnQgPCBub2RlLmNhcCAmJiAhbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSBub2RlLmNvdW50Kys7IG5vZGUuaWR4W2pdID0gaTsgbm9kZS5wdHN4W2pdID0geDsgbm9kZS5wdHN5W2pdID0geTsgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgdGhpcy5zdWJkaXZpZGUobm9kZSk7CiAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgfQoKICAgICAgICBzdWJkaXZpZGUobm9kZSkgewogICAgICAgICAgbm9kZS5kaXZpZGVkID0gdHJ1ZTsKICAgICAgICAgIGNvbnN0IGh3ID0gbm9kZS53LzIsIGhoID0gbm9kZS5oLzI7CiAgICAgICAgICBub2RlLmNoaWxkcmVuID0gWwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTlcKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5FCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU0UKICAgICAgICAgIF07CiAgICAgICAgICAvLyByZWluc2VydCBleGlzdGluZyBwb2ludHMKICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbm9kZS5jb3VudDsgaysrKSB7CiAgICAgICAgICAgIGNvbnN0IGkgPSBub2RlLmlkeFtrXTsgY29uc3QgeCA9IG5vZGUucHRzeFtrXTsgY29uc3QgeSA9IG5vZGUucHRzeVtrXTsKICAgICAgICAgICAgdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgICB9CiAgICAgICAgICBub2RlLmNvdW50ID0gMDsgLy8gY2xlYXIgbGVhZiBzdG9yYWdlCiAgICAgICAgfQoKICAgICAgICBxdWVyeShjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgdGhpcy5fcXVlcnlOb2RlKHRoaXMucm9vdCwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KICAgICAgICBfcXVlcnlOb2RlKG5vZGUsIGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICAvLyBjaXJjbGUtcmVjdCBxdWljayByZWplY3QKICAgICAgICAgIGNvbnN0IHJ4PW5vZGUueCwgcnk9bm9kZS55LCBydz1ub2RlLncsIHJoPW5vZGUuaDsKICAgICAgICAgIGxldCBueCA9IE1hdGgubWF4KHJ4LCBNYXRoLm1pbihjeCwgcngrcncpKTsKICAgICAgICAgIGxldCBueSA9IE1hdGgubWF4KHJ5LCBNYXRoLm1pbihjeSwgcnkrcmgpKTsKICAgICAgICAgIGNvbnN0IGRpc3QgPSAoY3gtbngpKihjeC1ueCkrKGN5LW55KSooY3ktbnkpOwogICAgICAgICAgaWYgKGRpc3QgPiByKnIpIHJldHVybjsKCiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBmb3IgKGxldCBrPTA7azxub2RlLmNvdW50O2srKykgeyBvdXQucHVzaChub2RlLmlkeFtrXSk7IH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX3F1ZXJ5Tm9kZShub2RlLmNoaWxkcmVuW2NdLCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQoKICAgICAgICBkcmF3KGN0eCkgewogICAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHsocGFsZXR0ZUh1ZSsxODApJTM2MH0gODAlIDcwJSAvIDAuMTQpYDsKICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgdGhpcy5fZHJhd05vZGUoY3R4LCB0aGlzLnJvb3QpOwogICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICAgICAgX2RyYXdOb2RlKGN0eCwgbm9kZSkgewogICAgICAgICAgY3R4LnN0cm9rZVJlY3Qobm9kZS54LCBub2RlLnksIG5vZGUudywgbm9kZS5oKTsKICAgICAgICAgIGlmIChub2RlLmRpdmlkZWQpIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9kcmF3Tm9kZShjdHgsIG5vZGUuY2hpbGRyZW5bY10pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0cwogICAgICBjb25zdCBlZmZlY3RzID0gW107IC8vIHt4LHksdCxsaWZlLHNpZ24sdHlwZSwuLi5leHRyYXN9CiAgICAgIGxldCBtb3VzZURvd24gPSBmYWxzZTsKICAgICAgY29uc3QgcG9pbnRlciA9IHt4OiBpbm5lcldpZHRoLzIsIHk6IGlubmVySGVpZ2h0LzIsIHZ4OiAwLCB2eTogMCwgdDogcGVyZm9ybWFuY2Uubm93KCl9OwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSB0cnVlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsICAgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IGZhbHNlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgLTEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIGlmIChtb3VzZURvd24pIHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKCiAgICAgIGZ1bmN0aW9uIHBpY2tDbGlja1R5cGUoKSB7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGUgJiYgQ0ZHLmNsaWNrTW9kZSAhPT0gJ3JhbmRvbScpIHJldHVybiBDRkcuY2xpY2tNb2RlOwogICAgICAgIGNvbnN0IGxpc3QgPSBDRkcuY2xpY2tNb2RlcyB8fCBbJ3Nob2NrJ107CiAgICAgICAgcmV0dXJuIGxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmxpc3QubGVuZ3RoKV0gfHwgJ3Nob2NrJzsKICAgICAgfQogICAgICBmdW5jdGlvbiBzcGF3bkVmZmVjdCh4LCB5LCBzaWduKSB7CiAgICAgICAgY29uc3QgdHlwZSA9IHBpY2tDbGlja1R5cGUoKTsKICAgICAgICBjb25zdCBsaWZlID0gKHR5cGU9PT0naW1wbG9zaW9uJykgPyAwLjkgOiAodHlwZT09PSd2b3J0ZXgnIHx8IHR5cGU9PT0nbWV0ZW9yJyA/IDEuOCA6IDEuMik7CiAgICAgICAgY29uc3QgRSA9IHsgeCwgeSwgdDogMCwgbGlmZSwgc2lnbiwgdHlwZSB9OwogICAgICAgIGlmICh0eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgIGNvbnN0IHNwID0gTWF0aC5taW4oMywgTWF0aC5oeXBvdChwb2ludGVyLnZ4LCBwb2ludGVyLnZ5KSoxMjApOwogICAgICAgICAgRS5hID0gMiArIE1hdGguZmxvb3Ioc3AlNCk7IEUuYiA9IDMgKyBNYXRoLmZsb29yKChzcCoxLjcpJTQpOyBFLnBoYXNlID0gTWF0aC5yYW5kb20oKSpUQVU7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgY29uc3Qgc2NhbGUgPSA5MDA7IEUudnggPSBwb2ludGVyLnZ4KnNjYWxlOyBFLnZ5ID0gcG9pbnRlci52eSpzY2FsZTsgRS5tYXNzID0gMjIwICsgTWF0aC5yYW5kb20oKSoxODA7IEUuZHJhZz0wLjk4OwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICBFLnNjYWxlID0gMC4wMDYgKyBNYXRoLnJhbmRvbSgpKjAuMDA2OyBFLmFtcCA9IDEuMiArIE1hdGgucmFuZG9tKCkqMS4yOwogICAgICAgIH0KICAgICAgICBlZmZlY3RzLnB1c2goRSk7CiAgICAgIH0KCiAgICAgIC8vIFBoeXNpY3MgaGVscGVycwogICAgICBmdW5jdGlvbiBsaW1pdCh2eCwgdnksIG1heCkgewogICAgICAgIGNvbnN0IG0yID0gdngqdnggKyB2eSp2eTsgaWYgKG0yID4gbWF4Km1heCkgewogICAgICAgICAgY29uc3QgbSA9IE1hdGguc3FydChtMikgfHwgMTsgY29uc3QgcyA9IG1heCAvIG07IHJldHVybiBbdngqcywgdnkqc107CiAgICAgICAgfSByZXR1cm4gW3Z4LCB2eV07CiAgICAgIH0KCiAgICAgIC8vIE1haW4gbG9vcAogICAgICBsZXQgbGFzdCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICBsZXQgZnBzQXZnID0gMDsKICAgICAgZnVuY3Rpb24gZnJhbWUodCkgewogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5taW4oMzIsIHQgLSBsYXN0KSAqIDAuMDAxOyAvLyBjbGFtcAogICAgICAgIGxhc3QgPSB0OwogICAgICAgIGNvbnN0IGZwc05vdyA9IDEgLyBNYXRoLm1heCgxZS02LCBkdCk7CiAgICAgICAgZnBzQXZnID0gZnBzQXZnID8gKGZwc0F2ZyowLjkgKyBmcHNOb3cqMC4xKSA6IGZwc05vdzsKICAgICAgICBjb25zdCBXID0gaW5uZXJXaWR0aCwgSCA9IGlubmVySGVpZ2h0OwoKICAgICAgICAvLyB0cmFpbHM6IHRyYW5zbHVjZW50IGZpbGwKICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJzsKICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIENGRy50cmFpbEFscGhhKSk7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgVywgSCk7CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gQnVpbGQgcXVhZHRyZWUKICAgICAgICBjb25zdCBxdCA9IG5ldyBRdWFkdHJlZSgwLCAwLCBXLCBILCBDRkcucXRDYXApOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSBxdC5pbnNlcnQoaSwgcHhbaV0sIHB5W2ldKTsKCiAgICAgIC8vIEFwcGx5IGZsb2NraW5nIHZpYSBuZWlnaGJvciBxdWVyaWVzIChhZGFwdGl2ZSB2aXNpb24gdW5kZXIgbG9hZCkKICAgICAgY29uc3QgdmlzaW9uID0gQ0ZHLnZpc2lvbiAqIChmcHNBdmcgPCA1MCA/IDAuOSA6IDEuMCk7IGNvbnN0IHNlcCA9IENGRy5zZXA7CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGF4W2ldPTA7IGF5W2ldPTA7IH0KICAgICAgbGV0IHRtcCA9IFtdOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgIHRtcC5sZW5ndGggPSAwOyBxdC5xdWVyeShweFtpXSwgcHlbaV0sIHZpc2lvbiwgdG1wKTsKICAgICAgICAgIGxldCBjeD0wLCBjeT0wLCB2eHN1bT0wLCB2eXN1bT0wLCBzeD0wLCBzeT0wLCB0b3RhbD0wLCBzY2xvc2U9MDsKICAgICAgICAgIGZvciAobGV0IGs9MDtrPHRtcC5sZW5ndGg7aysrKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSB0bXBba107IGlmIChqPT09aSkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGR4ID0gcHhbal0tcHhbaV07IGNvbnN0IGR5ID0gcHlbal0tcHlbaV07CiAgICAgICAgICAgIGNvbnN0IGQyID0gZHgqZHggKyBkeSpkeTsgaWYgKGQyID09PSAwKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChkMik7CiAgICAgICAgICAgIGlmIChkIDwgdmlzaW9uKSB7IHRvdGFsKys7IGN4ICs9IHB4W2pdOyBjeSArPSBweVtqXTsgdnhzdW0gKz0gdnhbal07IHZ5c3VtICs9IHZ5W2pdOyB9CiAgICAgICAgICAgIGlmIChkIDwgc2VwKSB7IHNjbG9zZSsrOyBzeCAtPSBkeC8oZHx8MSk7IHN5IC09IGR5LyhkfHwxKTsgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKHRvdGFsPjApIHsKICAgICAgICAgICAgLy8gYWxpZ25tZW50CiAgICAgICAgICAgIGxldCBheHYgPSAodnhzdW0vdG90YWwpIC0gdnhbaV07IGxldCBheXYgPSAodnlzdW0vdG90YWwpIC0gdnlbaV07CiAgICAgICAgICAgIGNvbnN0IGFsaWduVyA9IENGRy5hbGlnblcgKiAoMSArIChhbGlnbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbYXh2LCBheXZdID0gbGltaXQoYXh2LCBheXYsIENGRy5tYXhGb3JjZSk7CiAgICAgICAgICAgIGF4W2ldICs9IGF4diAqIGFsaWduVzsgYXlbaV0gKz0gYXl2ICogYWxpZ25XOwogICAgICAgICAgICAvLyBjb2hlc2lvbgogICAgICAgICAgICBsZXQgY3h2ID0gKGN4L3RvdGFsIC0gcHhbaV0pOyBsZXQgY3l2ID0gKGN5L3RvdGFsIC0gcHlbaV0pOwogICAgICAgICAgICBjb25zdCBjb2hXID0gQ0ZHLmNvaGVzaW9uVyAqICgxICsgKGNvaGVzaW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtjeHYsIGN5dl0gPSBsaW1pdChjeHYsIGN5diwgQ0ZHLm1heEZvcmNlKTsgYXhbaV0gKz0gY3h2ICogY29oVzsgYXlbaV0gKz0gY3l2ICogY29oVzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChzY2xvc2U+MCkgewogICAgICAgICAgICBsZXQgc3h2ID0gc3g7IGxldCBzeXYgPSBzeTsgW3N4diwgc3l2XSA9IGxpbWl0KHN4diwgc3l2LCBDRkcubWF4Rm9yY2UqMS41KTsKICAgICAgICAgICAgY29uc3Qgc2VwVyA9IENGRy5zZXBhcmF0aW9uVyAqICgxICsgKHNlcGFyYXRpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgYXhbaV0gKz0gc3h2ICogc2VwVzsgYXlbaV0gKz0gc3l2ICogc2VwVzsKICAgICAgICAgIH0KICAgICAgICAvLyBvcHRpb25hbCBmbG93IGZpZWxkIGZvciBwYXR0ZXJuIHZhcmlldHkKICAgICAgICBpZiAoQ0ZHLmZsb3cpIHsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuZmxvd1NjYWxlIHx8IDAuMDA0OyBjb25zdCBhID0gQ0ZHLmZsb3dBbXAgfHwgMC42OyBjb25zdCBzcCA9IENGRy5mbG93U3BlZWQgfHwgMC42OwogICAgICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKSowLjAwMSpzcDsKICAgICAgICAgIGNvbnN0IGZ4ID0gTWF0aC5zaW4ocHlbaV0qcyArIHQwKSAqIGE7CiAgICAgICAgICBjb25zdCBmeSA9IE1hdGguY29zKHB4W2ldKnMgLSB0MCkgKiBhOwogICAgICAgICAgYXhbaV0gKz0gZng7IGF5W2ldICs9IGZ5OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0czogfjIwKyBtb2RlcyBpbmNsdWRpbmcgcGVybGluRHJhZywgbGlzc2FQdWxzZSwgbWV0ZW9yCiAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcic7CiAgICAgIGxldCB0bXAyID0gW107CiAgICAgIGZvciAobGV0IGU9ZWZmZWN0cy5sZW5ndGgtMTsgZT49MDsgZS0tKSB7CiAgICAgICAgY29uc3QgRSA9IGVmZmVjdHNbZV07IEUudCArPSBkdDsgY29uc3QgayA9IEUudCAvIEUubGlmZTsKICAgICAgICBjb25zdCByID0gMzAgKyBrICogMjYwOyBjb25zdCBzdHIgPSAxLjAgLSBrOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7IEUueCArPSAoRS52eHx8MCkqZHQ7IEUueSArPSAoRS52eXx8MCkqZHQ7IEUudnggKj0gKEUuZHJhZ3x8MSk7IEUudnkgKj0gKEUuZHJhZ3x8MSk7IEUubWFzcyAqPSAwLjk4NTsgfQogICAgICAgIHRtcDIubGVuZ3RoID0gMDsgcXQucXVlcnkoRS54LCBFLnksIHIsIHRtcDIpOwogICAgICAgIGZvciAobGV0IGlpPTA7IGlpPHRtcDIubGVuZ3RoOyBpaSsrKSB7CiAgICAgICAgICBjb25zdCBpID0gdG1wMltpaV07IGNvbnN0IGR4ID0gcHhbaV0tRS54OyBjb25zdCBkeSA9IHB5W2ldLUUueTsgY29uc3QgZCA9IE1hdGguaHlwb3QoZHgsIGR5KXx8MTsKICAgICAgICAgIGNvbnN0IGZhbGwgPSAoMSAtIE1hdGgubWluKDEsIGQvcikpOwogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICAgIGNvbnN0IHYgPSBwZXJsaW5WZWMocHhbaV0tRS54LCBweVtpXS1FLnksIEUuc2NhbGV8fDAuMDA4LCAoRS5hbXB8fDEuNSkgKiBmYWxsKTsKICAgICAgICAgICAgYXhbaV0gKz0gdlswXTsgYXlbaV0gKz0gdlsxXTsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIoZHksIGR4KTsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKEUuYSphbmcgKyBFLnBoYXNlKSAqIE1hdGguY29zKEUuYiphbmcgLSBFLnBoYXNlKTsKICAgICAgICAgICAgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgICAgY29uc3QgRyA9IDgwMDsgY29uc3QgZiA9IE1hdGgubWluKDMuMCwgKEcqKEUubWFzc3x8MjAwKSkvKChkKmQpKzIwMCkpOwogICAgICAgICAgICBheFtpXSAtPSAoZHgvZCkqZipmYWxsOyBheVtpXSAtPSAoZHkvZCkqZipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICd2b3J0ZXgnIHx8IEUudHlwZT09PSdvcmJpdENXJyB8fCBFLnR5cGU9PT0nb3JiaXRDQ1cnIHx8IEUudHlwZT09PSdzcGlyYWxPdXQnIHx8IEUudHlwZT09PSdzcGlyYWxJbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdvcmJpdENDVycpID8gLTEgOiAxOwogICAgICAgICAgICBjb25zdCB0eCA9IC1keS9kLCB0eSA9IGR4L2Q7IGxldCBzID0gKEUuc2lnbj4wPzE6LTEpICogMS4yICogZmFsbCAqIGRpcjsKICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxPdXQnKSB7IHMgPSAxLjIqZmFsbDsgYXhbaV0gKz0gKGR4L2QpKmZhbGwqMC44OyBheVtpXSArPSAoZHkvZCkqZmFsbCowLjg7IH0KICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxJbicpIHsgcyA9IC0xLjIqZmFsbDsgYXhbaV0gLT0gKGR4L2QpKmZhbGwqMC42OyBheVtpXSAtPSAoZHkvZCkqZmFsbCowLjY7IH0KICAgICAgICAgICAgYXhbaV0gKz0gdHgqczsgYXlbaV0gKz0gdHkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdpbXBsb3Npb24nIHx8IEUudHlwZT09PSdhdHRyYWN0JyB8fCBFLnR5cGU9PT0nbWFnbmV0JykgewogICAgICAgICAgICBjb25zdCBzID0gKEUudHlwZT09PSdpbXBsb3Npb24nID8gLTIuMiA6IC0xLjIpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzcHJheScgfHwgRS50eXBlPT09J3NjYXR0ZXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAoRS50eXBlPT09J3NjYXR0ZXInPzMuMDoyLjQpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICB2eFtpXSArPSAoZHgvZCkgKiAwLjI1ICogZmFsbDsgdnlbaV0gKz0gKGR5L2QpICogMC4yNSAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjE1KmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3N0dW4nIHx8IEUudHlwZT09PSdmcmVlemUnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAoRS50eXBlPT09J2ZyZWV6ZSc/MC42OjAuMykgKiBmYWxsOyBzaXplTXVsW2ldICs9IDAuMypmYWxsOyB2eFtpXSAqPSAwLjk2OyB2eVtpXSAqPSAwLjk2OwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdmZWFyJykgewogICAgICAgICAgICBjb25zdCBzID0gMi44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBqaXRBbXBbaV0gKz0gMC4yNSpmYWxsOyBodWVPZmZbaV0gKz0gODAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2NyYW1ibGUnKSB7CiAgICAgICAgICAgIHZ4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgdnlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyBqaXRBbXBbaV0gKz0gMC4zKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3B1bHNlJyB8fCBFLnR5cGU9PT0ncmlwcGxlJykgewogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oaypNYXRoLlBJKjIpOyBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldICs9IDAuOCAqIGZhbGw7IHNlcGFyYXRpb25NdWxbaV0gLT0gMC4zICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZGVhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gLT0gMC44ICogZmFsbDsgY29oZXNpb25NdWxbaV0gKz0gMC4yICogZmFsbDsgaml0QW1wW2ldICs9IDAuMSAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2NvaGVyZScgfHwgRS50eXBlPT09J3RpZ2h0ZW4nIHx8IEUudHlwZT09PSdsb29zZW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nbG9vc2VuJykgPyAtMSA6IDE7IC8vIGxvb3NlbiByZWR1Y2VzIGNvaGVzaW9uCiAgICAgICAgICAgIGNvaGVzaW9uTXVsW2ldICs9IGRpciAqIDAuOSAqIGZhbGw7IGlmIChkaXI+MCkgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjIgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzZXBhcmF0ZScgfHwgRS50eXBlPT09J2Rpc3BlcnNlJykgewogICAgICAgICAgICBzZXBhcmF0aW9uTXVsW2ldICs9IDEuMCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldIC09IDAuNCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3dhcnAnIHx8IEUudHlwZT09PSdzcGVlZHVwJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGh1ZU9mZltpXSArPSA0MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzbG93ZG93bicpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IDAuNSpmYWxsOyBodWVPZmZbaV0gLT0gMjAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZ3JvdycpIHsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjYqZmFsbDsgaHVlT2ZmW2ldICs9IDMwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3R1bm5lbCcpIHsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gciowLjc7IGNvbnN0IHMgPSAoZDx0YXJnZXQ/KzE6LTEpICogMS4yICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdqaXR0ZXJidXJzdCcpIHsKICAgICAgICAgICAgaml0QW1wW2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjaHJvbWFidXJzdCcpIHsKICAgICAgICAgICAgaHVlT2ZmW2ldICs9IDE2MCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzaG9jayAvIGRlZmF1bHQKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8rMTotMSkgKiAxLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGdlbmVyYWwgY29sb3IgZW5lcmd5CiAgICAgICAgICBodWVbaV0gPSAoaHVlW2ldICsgOTAgKiBmYWxsKSAlIDM2MDsKICAgICAgICB9CiAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChFLngsIEUueSwgTWF0aC5tYXgoMSwgciowLjYpLCBFLngsIEUueSwgcik7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsyMCklMzYwfSwgOTUlLCA3MCUsICR7MC4zNCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzYwKSUzNjB9LCA5NSUsIDYwJSwgJHswLjIyKnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjk1LCBgaHNsYSgkeyhwYWxldHRlSHVlKzEwMCklMzYwfSwgOTUlLCA1NSUsIDApYCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHtwYWxldHRlSHVlfSwgOTUlLCA2NSUsICR7MC4yNSpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzQwKSUzNjB9LCA5NSUsIDU1JSwgJHswLjE4KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjksIGBoc2xhKCR7KHBhbGV0dGVIdWUrODApJTM2MH0sIDk1JSwgNjAlLCAwKWApOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKEUueCwgRS55LCByLCAwLCBNYXRoLlBJKjIpOyBjdHguZmlsbCgpOwogICAgICAgIGlmIChrID49IDEpIGVmZmVjdHMuc3BsaWNlKGUsIDEpOwogICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gSW50ZWdyYXRlIGFuZCBkcmF3IGJvaWRzIHdpdGggZ2xvdyBhbmQgdHJhaWxzCiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IENGRy5ibGVuZDsKICAgICAgY3R4LmxpbmVXaWR0aCA9IENGRy5saW5lV2lkdGg7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIC8vIGludGVncmF0ZQogICAgICAgICAgaWYgKGppdEFtcFtpXSA+IDAuMDAwMSkgeyBheFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyBheVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyB9CiAgICAgICAgICB2eFtpXSArPSBheFtpXTsgdnlbaV0gKz0gYXlbaV07CiAgICAgICAgICBjb25zdCB2TWF4ID0gQ0ZHLm1heFNwZWVkICogKDEgKyBNYXRoLm1heCgtMC43LCB2Qm9vc3RbaV0pKjAuOCk7CiAgICAgICAgICBbdnhbaV0sIHZ5W2ldXSA9IGxpbWl0KHZ4W2ldLCB2eVtpXSwgdk1heCk7CiAgICAgICAgICAvLyBlbmZvcmNlIG1pbiBzcGVlZCAod2l0aCBib29zdCkKICAgICAgICAgIHsgY29uc3Qgc3AgPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSkgfHwgMTsgY29uc3Qgdk1pbiA9IENGRy5taW5TcGVlZCAqICgxICsgTWF0aC5tYXgoMCwgdkJvb3N0W2ldKSowLjUpOyBpZiAoc3AgPCB2TWluKSB7IGNvbnN0IHMgPSB2TWluIC8gc3A7IHZ4W2ldICo9IHM7IHZ5W2ldICo9IHM7IH0gfQogICAgICAgICAgcHJldnhbaV0gPSBweFtpXTsgcHJldnlbaV0gPSBweVtpXTsKICAgICAgICAgIHB4W2ldICs9IHZ4W2ldOyBweVtpXSArPSB2eVtpXTsKCiAgICAgICAgICAvLyBib3VuZGFyaWVzCiAgICAgICAgICBpZiAoQ0ZHLndyYXApIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgLTUpIHB4W2ldID0gVyArIDU7IGVsc2UgaWYgKHB4W2ldID4gVys1KSBweFtpXSA9IC01OwogICAgICAgICAgICBpZiAocHlbaV0gPCAtNSkgcHlbaV0gPSBIICsgNTsgZWxzZSBpZiAocHlbaV0gPiBIKzUpIHB5W2ldID0gLTU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAocHhbaV0gPCAwIHx8IHB4W2ldID4gVykgeyB2eFtpXSA9IC12eFtpXTsgfQogICAgICAgICAgICBpZiAocHlbaV0gPCAwIHx8IHB5W2ldID4gSCkgeyB2eVtpXSA9IC12eVtpXTsgfQogICAgICAgICAgICBweFtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKFcsIHB4W2ldKSk7CiAgICAgICAgICAgIHB5W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oSCwgcHlbaV0pKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBkZWNheSBtb2RpZmllcnMgYW5kIGNvbXB1dGUgdGludAogICAgICAgICAgdkJvb3N0W2ldICo9IDAuOTI7IHNpemVNdWxbaV0gKj0gMC45MDsgaHVlT2ZmW2ldICo9IDAuOTQ7IGppdEFtcFtpXSAqPSAwLjg4OwogICAgICAgICAgYWxpZ25NdWxbaV0gKj0gMC45NDsgY29oZXNpb25NdWxbaV0gKj0gMC45NDsgc2VwYXJhdGlvbk11bFtpXSAqPSAwLjk0OwogICAgICAgICAgLy8gc2xvd2x5IGRyaWZ0IGJvaWQgaHVlIGJhY2sgdG93YXJkIGJhc2UgcGFsZXR0ZSBodWUKICAgICAgICAgIGh1ZVtpXSA9IGFwcHJvYWNoSHVlKGh1ZVtpXSwgcGFsZXR0ZUh1ZSwgTWF0aC5taW4oMSwgZHQgKiAoQ0ZHLmh1ZVJlbGF4IHx8IDAuMikpKTsKICAgICAgICAgIHNwZFtpXSA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKTsKICAgICAgICAgIGNvbnN0IEwgPSA1MCArIE1hdGgubWluKDQ1LCBzcGRbaV0qOCk7CiAgICAgICAgICBjb25zdCBTID0gODAgKyBNYXRoLm1pbigyMCwgc3BkW2ldKjYpOwogICAgICAgICAgY29uc3QgZHJhd0h1ZSA9IChodWVbaV0gKyBodWVPZmZbaV0pICUgMzYwOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgke2RyYXdIdWV9LCAke1N9JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IGBoc2woJHtkcmF3SHVlfSwgOTAlLCA2MCUpYDsKICAgICAgICAgIGNvbnN0IGdsb3dRdWFsaXR5ID0gKGZwc0F2ZyA8IDUwID8gMC41IDogMS4wKTsKICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gZ2xvd1F1YWxpdHkgKiAoQ0ZHLmdsb3dCYXNlICsgTWF0aC5taW4oQ0ZHLmdsb3dNYXgsIHNwZFtpXSpDRkcuZ2xvd1NjYWxlKSk7CgogICAgICAgICAgLy8gdHJhaWwgc2VnbWVudAogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY3R4Lm1vdmVUbyhwcmV2eFtpXSwgcHJldnlbaV0pOwogICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSwgcHlbaV0pOwogICAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICAgIC8vIGJvaWQgaGVhZCBzaGFwZQogICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMih2eVtpXSwgdnhbaV0pOwogICAgICAgICAgY29uc3QgY2EgPSBNYXRoLmNvcyhhbmcpLCBzYSA9IE1hdGguc2luKGFuZyk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYGhzbCgke2h1ZVtpXX0sIDk1JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuY29tZXRTaXplICogKDEgKyAoc2l6ZU11bFtpXXx8MCkpOwogICAgICAgICAgaWYgKENGRy5zaGFwZSA9PT0gJ3RyaWFuZ2xlJykgewogICAgICAgICAgICBjb25zdCBDMjYgPSAwLjg1Njg4ODc1MywgUzI2ID0gMC41MTU0OTg7IC8vIGNvcy9zaW4oMi42KQogICAgICAgICAgICBjb25zdCB4MCA9IHB4W2ldICsgY2EqcyoxLjYsIHkwID0gcHlbaV0gKyBzYSpzKjEuNjsKICAgICAgICAgICAgY29uc3QgY2FfcCA9IGNhKkMyNiAtIHNhKlMyNiwgc2FfcCA9IHNhKkMyNiArIGNhKlMyNjsKICAgICAgICAgICAgY29uc3QgY2FfbSA9IGNhKkMyNiArIHNhKlMyNiwgc2FfbSA9IHNhKkMyNiAtIGNhKlMyNjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4MCwgeTApOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcCpzLCAgcHlbaV0gKyBzYV9wKnMpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbSpzLCAgcHlbaV0gKyBzYV9tKnMpOwogICAgICAgICAgfSBlbHNlIGlmIChDRkcuc2hhcGUgPT09ICdvcmInKSB7CiAgICAgICAgICAgIGN0eC5hcmMocHhbaV0sIHB5W2ldLCBzKjAuNiwgMCwgTWF0aC5QSSoyKTsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNwYXJrCiAgICAgICAgICAgIGNvbnN0IEMwMiA9IDAuOTgwMDY2NiwgUzAyID0gMC4xOTg2NjkzOyAvLyBjb3Mvc2luKDAuMikKICAgICAgICAgICAgY29uc3QgeGggPSBweFtpXSArIGNhKnMqMS44LCB5aCA9IHB5W2ldICsgc2EqcyoxLjg7CiAgICAgICAgICAgIGNvbnN0IGNhX3AwMiA9IGNhKkMwMiAtIHNhKlMwMiwgc2FfcDAyID0gc2EqQzAyICsgY2EqUzAyOwogICAgICAgICAgICBjb25zdCBjYV9tMDIgPSBjYSpDMDIgKyBzYSpTMDIsIHNhX20wMiA9IHNhKkMwMiAtIGNhKlMwMjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4aCwgeWgpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcDAyKnMqMC42LCAgcHlbaV0gKyBzYV9wMDIqcyowLjYpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbTAyKnMqMC42LCAgcHlbaV0gKyBzYV9tMDIqcyowLjYpOwogICAgICAgICAgfQogICAgICAgICAgY3R4LmNsb3NlUGF0aCgpOyBjdHguZmlsbCgpOwogICAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBRdWFkdHJlZSB2aXN1YWxpemF0aW9uIChkZWZhdWx0IG9uKQogICAgICAgIGlmIChDRkcucXQpIHF0LmRyYXcoY3R4KTsKCiAgICAgICAgLy8gSFVECiAgICAgICAgaHVkRWwuaW5uZXJIVE1MID0gYDxzdHJvbmc+Qm9pZHM8L3N0cm9uZz4gwrcgTj0ke059IHZpc2lvbj0ke0NGRy52aXNpb259IHNlcD0ke0NGRy5zZXB9IGAgKwogICAgICAgICAgYMK3IHF0Q2FwPSR7Q0ZHLnF0Q2FwfSDCtyBodWU9JHtwYWxldHRlSHVlfSDCtyBxdFZpej0ke0NGRy5xdD8nb24nOidvZmYnfSDCtyBjbGljaz0ke0NGRy5jbGlja01vZGV9IMK3IGZwcz0ke2Zwc0F2Zy50b0ZpeGVkKDApfWA7CgogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CiAgICAgIH0KICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKCiAgICAgIC8vIENvbmZpZyBVSSBidWlsZCBhbmQgd2lyaW5nCiAgICAgIGNvbnN0IGNmZ0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdCdG4nKTsKICAgICAgY29uc3QgY2ZnQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQ2xvc2UnKTsKICAgICAgY29uc3QgY2ZnUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnJyk7CiAgICAgIGNvbnN0IGNmZ0JvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnQm9keScpOwogICAgICBjZmdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpKTsKICAgICAgY2ZnQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsJycpKTsKCiAgICAgIGNvbnN0IHNjaGVtYSA9IFsKICAgICAgICB7a2V5OidodWUnLCBsYWJlbDonSHVlJywgdHlwZTonaW50JywgbWluOjAsIG1heDozNjAsIHN0ZXA6MSwgdmFsdWU6QkFTRV9IVUV9LAogICAgICAgIHtrZXk6J2hlYWRlcicsIGxhYmVsOidIZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6SEVBREVSfSwKICAgICAgICB7a2V5OidzdWJoZWFkZXInLCBsYWJlbDonU3ViaGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOlNVQkhFQURFUn0sCiAgICAgICAge2tleToncXQnLCBsYWJlbDonU2hvdyBRdWFkdHJlZScsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaG93SHVkJywgbGFiZWw6J1Nob3cgSFVEJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NwYXduJywgbGFiZWw6J1NwYXduJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ2NpcmNsZScsJ2dyaWQnLCdjZW50ZXJidXJzdCddfSwKICAgICAgICB7a2V5Oidjb3VudCcsIGxhYmVsOidDb3VudCcsIHR5cGU6J2ludCcsIG1pbjo1MCwgbWF4OjEwMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTondmlzaW9uJywgbGFiZWw6J1Zpc2lvbicsIHR5cGU6J2ludCcsIG1pbjoyMCwgbWF4OjIwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidzZXAnLCBsYWJlbDonU2VwYXJhdGlvbiBEaXN0JywgdHlwZTonaW50JywgbWluOjQsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidtYXhTcGVlZCcsIGxhYmVsOidNYXggU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4xLCBtYXg6MTIsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtaW5TcGVlZCcsIGxhYmVsOidNaW4gU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4wLCBtYXg6Niwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21heEZvcmNlJywgbGFiZWw6J01heCBTdGVlcmluZyBGb3JjZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMSwgbWF4OjAuNSwgc3RlcDowLjAwMX0sCiAgICAgICAge2tleTonYWxpZ25XJywgbGFiZWw6J0FsaWduIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oidjb2hlc2lvblcnLCBsYWJlbDonQ29oZXNpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3NlcGFyYXRpb25XJywgbGFiZWw6J1NlcGFyYXRpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3RyYWlsQWxwaGEnLCBsYWJlbDonVHJhaWwgQWxwaGEnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjEsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleToncXRDYXAnLCBsYWJlbDonUXVhZHRyZWUgQ2FwYWNpdHknLCB0eXBlOidpbnQnLCBtaW46MiwgbWF4OjMyLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3dyYXAnLCBsYWJlbDonV3JhcCBCb3VuZHMnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hhcGUnLCBsYWJlbDonU2hhcGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsndHJpYW5nbGUnLCdzcGFyaycsJ29yYiddfSwKICAgICAgICB7a2V5OidibGVuZCcsIGxhYmVsOidCbGVuZCcsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydsaWdodGVyJywnc2NyZWVuJywnb3ZlcmxheScsJ3BsdXMtbGlnaHRlciddfSwKICAgICAgICB7a2V5OidsaW5lV2lkdGgnLCBsYWJlbDonTGluZSBXaWR0aCcsIHR5cGU6J251bWJlcicsIG1pbjowLjIsIG1heDo0LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonZ2xvd0Jhc2UnLCBsYWJlbDonR2xvdyBCYXNlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo2MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93TWF4JywgbGFiZWw6J0dsb3cgTWF4JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93U2NhbGUnLCBsYWJlbDonR2xvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NDAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5Oidjb21ldFNpemUnLCBsYWJlbDonQ29tZXQgU2l6ZScsIHR5cGU6J251bWJlcicsIG1pbjoxLCBtYXg6MjAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidiZ0dyYWRpZW50JywgbGFiZWw6J0JHIEdyYWRpZW50JywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQxJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAxJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDInLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDInLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MycsIGxhYmVsOidCRyBIdWUgU2hpZnQgMycsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2Zsb3cnLCBsYWJlbDonRmxvdyBGaWVsZCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidmbG93QW1wJywgbGFiZWw6J0Zsb3cgQW1wJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTY2FsZScsIGxhYmVsOidGbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAwNSwgbWF4OjAuMDIsIHN0ZXA6MC4wMDA1fSwKICAgICAgICB7a2V5OidmbG93U3BlZWQnLCBsYWJlbDonRmxvdyBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6Mywgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidjbGlja01vZGUnLCBsYWJlbDonQ2xpY2sgTW9kZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5J119LAogICAgICBdOwoKICAgICAgZnVuY3Rpb24gbWFrZVJvdyhsYWJlbCwgaW5wdXQpIHsKICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgcm93LmNsYXNzTmFtZSA9ICdyb3cnOwogICAgICAgIGNvbnN0IGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOyBsLnRleHRDb250ZW50ID0gbGFiZWw7IHJvdy5hcHBlbmRDaGlsZChsKTsKICAgICAgICByb3cuYXBwZW5kQ2hpbGQoaW5wdXQpOyByZXR1cm4gcm93OwogICAgICB9CgogICAgICBmdW5jdGlvbiBhZGRJbnB1dChpdGVtKSB7CiAgICAgICAgbGV0IGlucHV0OwogICAgICAgIGNvbnN0IHYwID0gKGl0ZW0ua2V5IGluIENGRykgPyBDRkdbaXRlbS5rZXldIDogaXRlbS52YWx1ZTsKICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vbCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0nY2hlY2tib3gnOyBpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LmNoZWNrZWQ7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzZWxlY3QnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpOwogICAgICAgICAgZm9yIChjb25zdCBvcHQgb2YgaXRlbS5vcHRpb25zKSB7IGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsgby52YWx1ZT1vcHQ7IG8udGV4dENvbnRlbnQ9b3B0OyBpZiAob3B0PT09djApIG8uc2VsZWN0ZWQ9dHJ1ZTsgaW5wdXQuYXBwZW5kQ2hpbGQobyk7IH0KICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQudmFsdWU7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSd0ZXh0JzsgaW5wdXQudmFsdWUgPSBTdHJpbmcodjB8fCcnKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpZiAoaXRlbS5rZXk9PT0naGVhZGVyJykgeyB0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmtleT09PSdzdWJoZWFkZXInKSB7IHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIGlucHV0LnZhbHVlKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmtleSA9PT0gJ2h1ZScpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5taW49JzAnOyBpbnB1dC5tYXg9JzM2MCc7IGlucHV0LnN0ZXA9JzEnOyBpbnB1dC52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5taW49JzAnOyBudW1iZXIubWF4PSczNjAnOyBudW1iZXIuc3RlcD0nMSc7IG51bWJlci52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZT1pbnB1dC52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWU9bnVtYmVyLnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBodWVDaGFuZ2VkKHZhbCl7CiAgICAgICAgICAgIC8vIHNoaWZ0IHBhbGV0dGUgaW1tZWRpYXRlbHkKICAgICAgICAgICAgY29uc3QgZGVsdGEgPSAodmFsIC0gcGFsZXR0ZUh1ZSk7CiAgICAgICAgICAgIHBhbGV0dGVIdWUgPSB2YWw7CiAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGh1ZVtpXSA9IChodWVbaV0gKyBkZWx0YSkgJSAzNjA7IH0KICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHt2YWx9LCA4NSUsIDYyJSlgKTsKICAgICAgICAgICAgdXBkYXRlVXJsRnJvbUNmZyh7aHVlOlN0cmluZyh2YWwpfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsgLy8gbnVtZXJpYyAocmFuZ2UgKyBudW1iZXIgcGFpcikKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBpbnB1dC5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBpbnB1dC5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgbnVtYmVyLm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIG51bWJlci5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGlucHV0LnZhbHVlID0gU3RyaW5nKHYwKTsgbnVtYmVyLnZhbHVlID0gU3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWUgPSBpbnB1dC52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZSA9IG51bWJlci52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBudW1DaGFuZ2VkKHZhbCl7IENGR1tpdGVtLmtleV0gPSB2YWw7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCB2YWwpOyB9CiAgICAgICAgfQogICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCBpbnB1dCkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBhcHBseUNoYW5nZShrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSA9PT0gJ2NvdW50JyB8fCBrZXkgPT09ICdzcGF3bicpIHsgcmVzZWVkKENGRy5jb3VudCk7IH0KICAgICAgICBpZiAoa2V5ID09PSAncXQnKSB7IC8qIGltbWVkaWF0ZSBkcmF3IHRvZ2dsZSB2aWEgQ0ZHICovIH0KICAgICAgICBpZiAoa2V5ID09PSAnc2hvd0h1ZCcpIHsgaHVkRWwuc3R5bGUuZGlzcGxheSA9IENGRy5zaG93SHVkID8gJycgOiAnbm9uZSc7IH0KICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKCk7CiAgICAgIH0KCiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzY2hlbWEpIGFkZElucHV0KGl0ZW0pOwogICAgICAvLyBpbml0aWFsIEhVRCB2aXNpYmlsaXR5CiAgICAgIGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSAoQ0ZHLnNob3dIdWQ9PT1mYWxzZSkgPyAnbm9uZScgOiAnJzsKCiAgICAgIC8vIGtleWJvYXJkIHRvZ2dsZXMgKGFmdGVyIGJ1aWxkaW5nIHBhbmVsKQogICAgICBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHsKICAgICAgICBjb25zdCBrID0gZS5rZXkudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoayA9PT0gJ3EnKSB7IENGRy5xdCA9ICFDRkcucXQ7IHVwZGF0ZVVybEZyb21DZmcoKTsgfQogICAgICAgIGlmIChrID09PSAnYycpIHsgY2ZnUGFuZWwudG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nKTsgfQogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4K" download="boids-dod-quadtree-12-impl.html" class="download-btn" title="Download boids-dod-quadtree-12-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=357 · spawn=circle · bounce · spark · lighter · hue=117 · qtCap=12" data-filename="boids-dod-quadtree-9-impl.html"><a href="boids-dod-quadtree-9-impl.html" target="viewer"><strong>Boids DOD+QT · N=357 · spawn=circle · bounce · spark · lighter · hue=117 · qtCap=12</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTM1NyDCtyBzcGF3bj1jaXJjbGUgwrcgYm91bmNlIMK3IHNwYXJrIMK3IGxpZ2h0ZXIgwrcgaHVlPTExNyDCtyBxdENhcD0xMjwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgIGh0bWwsIGJvZHkgeyBoZWlnaHQ6IDEwMCU7IG1hcmdpbjogMDsgfQogICAgICBib2R5IHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMDUwNzBhOwogICAgICAgIGNvbG9yOiAjZTZlZGYzOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgZm9udC1mYW1pbHk6IHVpLXNhbnMtc2VyaWYsIHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgU2Vnb2UgVUksIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIjsKICAgICAgfQogICAgICAjc2NlbmUgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyB9CiAgICAgIC5vdmVybGF5IHsgcG9zaXRpb246IGZpeGVkOyBpbnNldDogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnIgYXV0bzsgfQogICAgICAudGl0bGUgeyBtYXJnaW46IDE4cHggMjBweCAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogY2xhbXAoMThweCwgM3Z3LCAyOHB4KTsgbGV0dGVyLXNwYWNpbmc6IDAuMnB4OyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgdGV4dC1zaGFkb3c6IDAgMCAxMHB4IGNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYWNjZW50LCAjN2RkM2ZjKSA4MCUsICMwMDAgMjAlKTsgfQogICAgICAuc3VidGl0bGUgeyBtYXJnaW46IDAgMjBweCAxMHB4OyBmb250LXdlaWdodDogNTAwOyBmb250LXNpemU6IGNsYW1wKDEycHgsIDJ2dywgMTZweCk7IG9wYWNpdHk6IDAuODU7IH0KICAgICAgLmh1ZCB7IHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMTJweDsgYm90dG9tOiAxMnB4OyBwYWRkaW5nOiA4cHggMTBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDQwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpIHNhdHVyYXRlKDEyMCUpOyBmb250LXNpemU6IDEycHg7IGxpbmUtaGVpZ2h0OiAxLjQ7IH0KICAgICAgLmh1ZCBzdHJvbmcgeyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgfQogICAgICAuY2ZnQnRuIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDEycHg7IHJpZ2h0OiAxMnB4OyB6LWluZGV4OiAxMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiA2cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ1BhbmVsIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDU2cHg7IHJpZ2h0OiAxMnB4OyB3aWR0aDogbWluKDM4MHB4LCA5MHZ3KTsgbWF4LWhlaWdodDogODB2aDsgb3ZlcmZsb3c6IGF1dG87IHotaW5kZXg6IDIwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYmFja2dyb3VuZDogIzBiMTIyMGU2OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3gtc2hhZG93OiAwIDEwcHggNDBweCAjMDAwODsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpIHNhdHVyYXRlKDEyMCUpOyB9CiAgICAgIC5jb25maWdIZWFkZXIgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDEwcHggMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAwMDA1NTsgcG9zaXRpb246IHN0aWNreTsgdG9wOiAwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZjI7IH0KICAgICAgLmNvbmZpZ0JvZHkgeyBwYWRkaW5nOiAxMHB4IDEycHg7IGRpc3BsYXk6IGdyaWQ7IGdhcDogMTBweDsgfQogICAgICAuY29uZmlnQm9keSAucm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bzsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJhbmdlUm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNzJweDsgZ2FwOiA4cHg7IH0KICAgICAgLmNmZ0Nsb3NlIHsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMTIxYTJiY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA2cHg7IHBhZGRpbmc6IDRweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dCwgLmNvbmZpZ0JvZHkgc2VsZWN0IHsgZm9udC1zaXplOiAxNHB4OyBwYWRkaW5nOiA2cHggOHB4OyBiYWNrZ3JvdW5kOiAjMTAxODI3OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiA2cHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXRbdHlwZT1yYW5nZV0geyBwYWRkaW5nOiAwOyBoZWlnaHQ6IDI4cHg7IGFjY2VudC1jb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPGNhbnZhcyBpZD0ic2NlbmUiPjwvY2FudmFzPgogICAgPGRpdiBjbGFzcz0ib3ZlcmxheSI+CiAgICAgIDxkaXYgY2xhc3M9InRpdGxlIiBpZD0idGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJzdWJ0aXRsZSIgaWQ9InN1YnRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaHVkIiBpZD0iaHVkIj48L2Rpdj4KICAgIDwvZGl2PgogICAgPGJ1dHRvbiBpZD0iY2ZnQnRuIiBjbGFzcz0iY2ZnQnRuIiBhcmlhLWxhYmVsPSJPcGVuIGNvbmZpZyI+4pqZ77iOPC9idXR0b24+CiAgICA8ZGl2IGlkPSJjb25maWciIGNsYXNzPSJjb25maWdQYW5lbCIgaGlkZGVuPgogICAgICA8ZGl2IGNsYXNzPSJjb25maWdIZWFkZXIiPgogICAgICAgIDxzdHJvbmc+Q29uZmlnPC9zdHJvbmc+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2ZnQ2xvc2UiIGNsYXNzPSJjZmdDbG9zZSIgYXJpYS1sYWJlbD0iQ2xvc2UiPuKclTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBpZD0iY29uZmlnQm9keSIgY2xhc3M9ImNvbmZpZ0JvZHkiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICAndXNlIHN0cmljdCc7CgogICAgICAvLyBVUkwgcGFyYW1ldGVycwogICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgICAgIGNvbnN0IERFRkFVTFRfSFVFID0gMTE3OwogICAgICBjb25zdCBCQVNFX0hVRSA9IGNsYW1wSW50KHBhcnNlSW50KHBhcmFtcy5nZXQoJ2h1ZScpKSwgMCwgMzYwLCBERUZBVUxUX0hVRSk7CiAgICAgIGxldCBwYWxldHRlSHVlID0gQkFTRV9IVUU7CiAgICAgIGNvbnN0IEhFQURFUiA9IHBhcmFtcy5nZXQoJ2hlYWRlcicpIHx8ICdCb2lkcyDigJQgRGF0YS1PcmllbnRlZCArIFF1YWR0cmVlJzsKICAgICAgY29uc3QgU1VCSEVBREVSID0gcGFyYW1zLmdldCgnc3ViaGVhZGVyJykgfHwgJ1Nob2Nrd2F2ZXMgb24gY2xpY2svZHJhZyDCtyBxdWFkdHJlZSB2aXogb24nOwogICAgICAvLyBRdWFkdHJlZSB2aXogaXMgaGFuZGxlZCBieSBDRkcucXQ7IFVSTCBwYXJhbSAncXQnIG92ZXJyaWRlcyBpdC4KCiAgICAgIC8vIERPTQogICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NlbmUnKTsKICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogZmFsc2UgfSk7CiAgICAgIGNvbnN0IHRpdGxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKTsKICAgICAgY29uc3Qgc3VidGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJ0aXRsZScpOwogICAgICBjb25zdCBodWRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdodWQnKTsKCiAgICAgIC8vIFN0eWxlIGhvb2sKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHtwYWxldHRlSHVlfSwgODUlLCA2MiUpYCk7CiAgICAgIHRpdGxlRWwudGV4dENvbnRlbnQgPSBIRUFERVI7CiAgICAgIHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBTVUJIRUFERVI7CgogICAgICAvLyBDb25maWcgKGluamVjdGVkIGJ5IGdlbmVyYXRvcikg4oCUIG11dGFibGUgYXQgcnVudGltZQogICAgICBsZXQgQ0ZHID0geyJjb3VudCI6IDM1NywgInZpc2lvbiI6IDYxLCAic2VwIjogMjIsICJtYXhTcGVlZCI6IDIuODcsICJtYXhGb3JjZSI6IDAuMDc0LCAibWluU3BlZWQiOiAwLjY2LCAiYWxpZ25XIjogMC45MSwgImNvaGVzaW9uVyI6IDAuNTUsICJzZXBhcmF0aW9uVyI6IDEuNDIsICJ0cmFpbEFscGhhIjogMC4xLCAicXRDYXAiOiAxMiwgIndyYXAiOiBmYWxzZSwgInNoYXBlIjogInNwYXJrIiwgImJsZW5kIjogImxpZ2h0ZXIiLCAibGluZVdpZHRoIjogMS4zNywgImdsb3dCYXNlIjogMjIsICJnbG93TWF4IjogMjQsICJnbG93U2NhbGUiOiAxMS4xLCAiY29tZXRTaXplIjogNy4wMywgImJnR3JhZGllbnQiOiB0cnVlLCAiYmdIdWVTaGlmdDEiOiA2LCAiYmdIdWVTaGlmdDIiOiA2NywgImJnSHVlU2hpZnQzIjogMTEwLCAic3Bhd24iOiAiY2lyY2xlIiwgInF0IjogdHJ1ZSwgInNob3dIdWQiOiB0cnVlLCAiZmxvdyI6IGZhbHNlLCAiZmxvd0FtcCI6IDAuNTcsICJmbG93U2NhbGUiOiAwLjAwMTUsICJmbG93U3BlZWQiOiAxLjQsICJjbGlja01vZGUiOiAicmFuZG9tIn07CiAgICAgIENGRy5taW5TcGVlZCA9IENGRy5taW5TcGVlZCA/PyAwLjg7CiAgICAgIENGRy5xdCA9ICh0eXBlb2YgQ0ZHLnF0ID09PSAnYm9vbGVhbicpID8gQ0ZHLnF0IDogdHJ1ZTsKICAgICAgQ0ZHLmNsaWNrTW9kZSA9IENGRy5jbGlja01vZGUgfHwgJ3JhbmRvbSc7CiAgICAgIENGRy5jbGlja01vZGVzID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWwogICAgICAgICdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5Jywnc3R1bicsJ2ZlYXInLCdhdHRyYWN0Jywnb3JiaXRDVycsJ29yYml0Q0NXJywKICAgICAgICAnc3BpcmFsT3V0Jywnc3BpcmFsSW4nLCdmcmVlemUnLCdzY3JhbWJsZScsJ3NjYXR0ZXInLCdtYWduZXQnLCdwdWxzZScsCiAgICAgICAgJ3dhcnAnLCdncm93JywndHVubmVsJywncmlwcGxlJywnaml0dGVyYnVyc3QnLCdjaHJvbWFidXJzdCcsJ3Nsb3dkb3duJywnc3BlZWR1cCcsCiAgICAgICAgJ3BlcmxpbkRyYWcnLCdsaXNzYVB1bHNlJywnbWV0ZW9yJywKICAgICAgICAvLyBzdGVlcmluZy13ZWlnaHQgZWZmZWN0cwogICAgICAgICdhbGlnbicsJ2RlYWxpZ24nLCdjb2hlcmUnLCdsb29zZW4nLCdzZXBhcmF0ZScsJ2Rpc3BlcnNlJwogICAgICBdOwoKICAgICAgZnVuY3Rpb24gcGFyc2VCb29sKHYsIGQpIHsKICAgICAgICBpZiAodiA9PSBudWxsKSByZXR1cm4gZDsKICAgICAgICBjb25zdCBzID0gU3RyaW5nKHYpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKFsnMScsJ3RydWUnLCd5ZXMnLCdvbiddLmluY2x1ZGVzKHMpKSByZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAoWycwJywnZmFsc2UnLCdubycsJ29mZiddLmluY2x1ZGVzKHMpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIGQ7CiAgICAgIH0KCiAgICAgIC8vIFVSTCBvdmVycmlkZXMgZm9yIGNvbmZpZwogICAgICAoZnVuY3Rpb24gdXJsT3ZlcnJpZGUoKXsKICAgICAgICBjb25zdCBpbnRLZXlzID0gWydjb3VudCcsJ3Zpc2lvbicsJ3NlcCcsJ3F0Q2FwJywnYmdIdWVTaGlmdDEnLCdiZ0h1ZVNoaWZ0MicsJ2JnSHVlU2hpZnQzJ107CiAgICAgICAgY29uc3QgbnVtS2V5cyA9IFsnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCddOwogICAgICAgIGNvbnN0IGJvb2xLZXlzID0gWyd3cmFwJywnYmdHcmFkaWVudCcsJ3F0JywnZmxvdycsJ3Nob3dIdWQnXTsKICAgICAgICBjb25zdCBzdHJLZXlzID0gWydzaGFwZScsJ2JsZW5kJywnc3Bhd24nXTsKICAgICAgICBmb3IgKGNvbnN0IGsgb2YgaW50S2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBNYXRoLm1heCgtOTk5OTksIE1hdGgubWluKDk5OTk5LCBwYXJzZUludCh2KSkpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIG51bUtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gTnVtYmVyKHYpOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGJvb2xLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IHBhcnNlQm9vbCh2LCBDRkdba10pOyB9CiAgICAgICAgZm9yIChjb25zdCBrIG9mIHN0cktleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gdjsgfQogICAgICAgIGNvbnN0IGNtID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlJyk7IGlmIChjbSkgQ0ZHLmNsaWNrTW9kZSA9IGNtOwogICAgICAgIGNvbnN0IGNtcyA9IHBhcmFtcy5nZXQoJ2NsaWNrTW9kZXMnKTsgaWYgKGNtcykgQ0ZHLmNsaWNrTW9kZXMgPSBjbXMuc3BsaXQoJywnKTsKICAgICAgfSkoKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVVybEZyb21DZmcoZXh0cmE9e30pIHsKICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdodWUnLCBwYWxldHRlSHVlKTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaGVhZGVyJywgdGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N1YmhlYWRlcicsIHN1YnRpdGxlRWwudGV4dENvbnRlbnQpOwogICAgICAgIGNvbnN0IGtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywnbWF4U3BlZWQnLCdtaW5TcGVlZCcsJ21heEZvcmNlJywnYWxpZ25XJywnY29oZXNpb25XJywnc2VwYXJhdGlvblcnLCd0cmFpbEFscGhhJywncXRDYXAnLCd3cmFwJywnc2hhcGUnLCdibGVuZCcsJ2xpbmVXaWR0aCcsJ2dsb3dCYXNlJywnZ2xvd01heCcsJ2dsb3dTY2FsZScsJ2NvbWV0U2l6ZScsJ2JnR3JhZGllbnQnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnLCdxdCcsJ2NsaWNrTW9kZScsJ2NsaWNrTW9kZXMnLCdmbG93JywnZmxvd0FtcCcsJ2Zsb3dTY2FsZScsJ2Zsb3dTcGVlZCcsJ3NwYXduJywnc2hvd0h1ZCddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB1cmwuc2VhcmNoUGFyYW1zLnNldChrLCBTdHJpbmcoQ0ZHW2tdKSk7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGVzICYmIEFycmF5LmlzQXJyYXkoQ0ZHLmNsaWNrTW9kZXMpKSB1cmwuc2VhcmNoUGFyYW1zLnNldCgnY2xpY2tNb2RlcycsIENGRy5jbGlja01vZGVzLmpvaW4oJywnKSk7CiAgICAgICAgZm9yIChjb25zdCBbayx2XSBvZiBPYmplY3QuZW50cmllcyhleHRyYSkpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIHYpOwogICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsICcnLCB1cmwudG9TdHJpbmcoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IFRBVSA9IE1hdGguUEkgKiAyOwoKICAgICAgLy8gQ2FudmFzIHNpemluZyB3aXRoIERQUgogICAgICBsZXQgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgICAgRFBSID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpOwogICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3IoaW5uZXJXaWR0aCAqIERQUik7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IoaW5uZXJIZWlnaHQgKiBEUFIpOwogICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oRFBSLCAwLCAwLCBEUFIsIDAsIDApOwogICAgICAgIGNsZWFySGFyZCgpOwogICAgICB9CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZSk7CiAgICAgIHJlc2l6ZSgpOwoKICAgICAgZnVuY3Rpb24gY2xlYXJIYXJkKCkgewogICAgICAgIGlmIChDRkcuYmdHcmFkaWVudCkgewogICAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChpbm5lcldpZHRoKjAuNjUsIGlubmVySGVpZ2h0KjAuMzUsIE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjE1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lcldpZHRoKjAuNSwgaW5uZXJIZWlnaHQqMC41LCBNYXRoLmh5cG90KGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KSowLjcpOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQxKSUzNjB9IDgwJSAxMCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjUsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDIpJTM2MH0gNzAlIDglKWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMS4wLCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQzKSUzNjB9IDYwJSA2JSlgKTsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwNTA3MGEnOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBjbGFtcEludChuLCBsbywgaGksIGZhbGxiYWNrKSB7CiAgICAgICAgbiA9IE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiBmYWxsYmFjazsKICAgICAgICByZXR1cm4gTWF0aC5tYXgobG8sIE1hdGgubWluKGhpLCBuKSk7CiAgICAgIH0KCiAgICAgIC8vIERyaWZ0IGEgaHVlIHZhbHVlIHRvd2FyZCBhIHRhcmdldCBvbiBhIGNpcmN1bGFyIGNvbG9yIHdoZWVsCiAgICAgIGZ1bmN0aW9uIGFwcHJvYWNoSHVlKGgsIHRhcmdldCwgcmF0ZSkgewogICAgICAgIC8vIHJhdGUgaXMgMC4uMSBmcmFjdGlvbiB0b3dhcmQgdGFyZ2V0IHBlciBjYWxsCiAgICAgICAgbGV0IGQgPSAoKHRhcmdldCAtIGggKyA1NDApICUgMzYwKSAtIDE4MDsgLy8gc2hvcnRlc3Qgc2lnbmVkIGRlbHRhIFstMTgwLDE4MCkKICAgICAgICByZXR1cm4gKGggKyBkICogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcmF0ZSkpICsgMzYwKSAlIDM2MDsKICAgICAgfQoKICAgICAgLy8gTGlnaHR3ZWlnaHQgMkQgdmFsdWUgbm9pc2UgKGZvciBwZXJsaW4tbGlrZSBkcmFnKQogICAgICBsZXQgbm9pc2VTZWVkID0gKEJBU0VfSFVFICogMTY2NDUyNSArIDEwMTM5MDQyMjMpICYgMHhmZmZmZmZmZjsKICAgICAgZnVuY3Rpb24gZnJhY3QoeCl7IHJldHVybiB4IC0gTWF0aC5mbG9vcih4KTsgfQogICAgICBmdW5jdGlvbiBfcmFuZChpeCwgaXkpewogICAgICAgIGNvbnN0IGsgPSAoaXggKiAzNzQ3NjEzOTMgKyBpeSAqIDY2ODI2NTI2MyArIG5vaXNlU2VlZCkgPj4+IDA7CiAgICAgICAgcmV0dXJuIGZyYWN0KE1hdGguc2luKGspICogNDM3NTguNTQ1Myk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gbm9pc2UyKHgsIHkpewogICAgICAgIGNvbnN0IHhpID0gTWF0aC5mbG9vcih4KSwgeWkgPSBNYXRoLmZsb29yKHkpOwogICAgICAgIGNvbnN0IHhmID0geCAtIHhpLCB5ZiA9IHkgLSB5aTsKICAgICAgICBjb25zdCB1ID0geGYqeGYqKDMtMip4ZiksIHYgPSB5Zip5ZiooMy0yKnlmKTsKICAgICAgICBjb25zdCB2MDAgPSBfcmFuZCh4aSwgeWkpLCB2MTAgPSBfcmFuZCh4aSsxLCB5aSksIHYwMSA9IF9yYW5kKHhpLCB5aSsxKSwgdjExID0gX3JhbmQoeGkrMSwgeWkrMSk7CiAgICAgICAgY29uc3QgeDEgPSB2MDAqKDEtdSkgKyB2MTAqdSwgeDIgPSB2MDEqKDEtdSkgKyB2MTEqdTsKICAgICAgICByZXR1cm4geDEqKDEtdikgKyB4Mip2OwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHBlcmxpblZlYyh4LCB5LCBzY2FsZSwgYW1wKXsKICAgICAgICBjb25zdCBuID0gbm9pc2UyKHgqc2NhbGUsIHkqc2NhbGUpOwogICAgICAgIGNvbnN0IGEgPSBuICogVEFVOwogICAgICAgIHJldHVybiBbTWF0aC5jb3MoYSkqYW1wLCBNYXRoLnNpbihhKSphbXBdOwogICAgICB9CgogICAgICAvLyBTZWVkZWQgUFJORyBmb3Igc3VidGxlIGRldGVybWluaXNtIGZyb20gQkFTRV9IVUUKICAgICAgbGV0IF9zZWVkID0gKEJBU0VfSFVFICogOTMwMSArIDQ5Mjk3KSAlIDIzMzI4MDsKICAgICAgZnVuY3Rpb24gcm5kKCkgeyBfc2VlZCA9ICgxMTAzNTE1MjQ1ICogX3NlZWQgKyAxMjM0NSkgJiAweDdmZmZmZmZmOyByZXR1cm4gKF9zZWVkID4+PiA4KSAvIDB4N2ZmZmZmOyB9CiAgICAgIGZ1bmN0aW9uIHJhbmQobWluLCBtYXgpIHsgcmV0dXJuIHJuZCgpICogKG1heCAtIG1pbikgKyBtaW47IH0KCiAgICAgIC8vIERhdGEtT3JpZW50ZWQgU3RhdGUgKFNvQSkg4oCUIGR5bmFtaWMKICAgICAgbGV0IE4gPSBDRkcuY291bnQ7CiAgICAgIGxldCBweCwgcHksIHZ4LCB2eSwgYXgsIGF5LCBodWUsIHNwZCwgcHJldngsIHByZXZ5OwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgbW9kaWZpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgc2l6ZU11bCwgdkJvb3N0LCBodWVPZmYsIGppdEFtcDsKICAgICAgLy8gdHJhbnNpZW50IHBlci1ib2lkIHN0ZWVyaW5nIG11bHRpcGxpZXJzIChkZWNheSBlYWNoIGZyYW1lKQogICAgICBsZXQgYWxpZ25NdWwsIGNvaGVzaW9uTXVsLCBzZXBhcmF0aW9uTXVsOwoKICAgICAgZnVuY3Rpb24gYWxsb2MobikgewogICAgICAgIHB4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgcHkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHZ4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdnkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGF4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgYXkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGh1ZSA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNwZCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgcHJldnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBwcmV2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgc2l6ZU11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHZCb29zdCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGh1ZU9mZiA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGppdEFtcCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYWxpZ25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBjb2hlc2lvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHNlcGFyYXRpb25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzZWVkQm9pZHMoKSB7CiAgICAgICAgY29uc3QgbW9kZSA9IENGRy5zcGF3biB8fCAncmFuZG9tJzsKICAgICAgICBpZiAobW9kZSA9PT0gJ2NpcmNsZScpIHsKICAgICAgICAgIGNvbnN0IGN4ID0gaW5uZXJXaWR0aC8yLCBjeSA9IGlubmVySGVpZ2h0LzIsIHIgPSBNYXRoLm1pbihpbm5lcldpZHRoLCBpbm5lckhlaWdodCkvMzsKICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGNvbnN0IHQgPSBNYXRoLnJhbmRvbSgpKk1hdGguUEkqMjsgcHhbaV09Y3grTWF0aC5jb3ModCkqcjsgcHlbaV09Y3krTWF0aC5zaW4odCkqcjsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2dyaWQnKSB7CiAgICAgICAgICBjb25zdCBjb2xzPU1hdGgubWF4KDEwLCBNYXRoLmZsb29yKE1hdGguc3FydChOKSkpOyBjb25zdCByb3dzPU1hdGguY2VpbChOL2NvbHMpOwogICAgICAgICAgY29uc3QgZ3g9aW5uZXJXaWR0aC8oY29scysxKSwgZ3k9aW5uZXJIZWlnaHQvKHJvd3MrMSk7IGxldCBrPTA7CiAgICAgICAgICBmb3IgKGxldCB5PTE7eTw9cm93czt5KyspIGZvciAobGV0IHg9MTt4PD1jb2xzO3grKykgeyBpZiAoaz49TikgYnJlYWs7IHB4W2tdPWd4Kng7IHB5W2tdPWd5Knk7IHZ4W2tdPXJhbmQoLTEsMSk7IHZ5W2tdPXJhbmQoLTEsMSk7IGsrKzsgfQogICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2NlbnRlcmJ1cnN0JykgewogICAgICAgICAgY29uc3QgY3g9aW5uZXJXaWR0aC8yLCBjeT1pbm5lckhlaWdodC8yOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgYT1NYXRoLnJhbmRvbSgpKk1hdGguUEkqMiwgZD1yYW5kKDAsIE1hdGgubWluKGlubmVyV2lkdGgsaW5uZXJIZWlnaHQpLzIpOyBweFtpXT1jeCtNYXRoLmNvcyhhKSpkOyBweVtpXT1jeStNYXRoLnNpbihhKSpkOyB2eFtpXT1NYXRoLmNvcyhhKTsgdnlbaV09TWF0aC5zaW4oYSk7IH0KICAgICAgICB9IGVsc2UgeyAvLyByYW5kb20KICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IHB4W2ldPXJhbmQoMCxpbm5lcldpZHRoKTsgcHlbaV09cmFuZCgwLGlubmVySGVpZ2h0KTsgdnhbaV09cmFuZCgtMSwxKTsgdnlbaV09cmFuZCgtMSwxKTsgfQogICAgICAgIH0KICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgICAgY29uc3QgbT1NYXRoLmh5cG90KHZ4W2ldLHZ5W2ldKXx8MTsgdnhbaV0qPTIuMC9tOyB2eVtpXSo9Mi4wL207CiAgICAgICAgICBodWVbaV0gPSAocGFsZXR0ZUh1ZSArIHJhbmQoLTMwLCAzMCkpICUgMzYwOyBwcmV2eFtpXT1weFtpXTsgcHJldnlbaV09cHlbaV07CiAgICAgICAgICBzaXplTXVsW2ldPTA7IHZCb29zdFtpXT0wOyBodWVPZmZbaV09MDsgaml0QW1wW2ldPTA7CiAgICAgICAgICBhbGlnbk11bFtpXT0wOyBjb2hlc2lvbk11bFtpXT0wOyBzZXBhcmF0aW9uTXVsW2ldPTA7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiByZXNlZWQobikgewogICAgICAgIE4gPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKG4pKTsKICAgICAgICBhbGxvYyhOKTsgc2VlZEJvaWRzKCk7CiAgICAgIH0KCiAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKCiAgICAgIC8vIFF1YWR0cmVlIGltcGxlbWVudGF0aW9uCiAgICAgIGNsYXNzIFFUTm9kZSB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCwgY2FwKSB7CiAgICAgICAgICB0aGlzLnggPSB4OyB0aGlzLnkgPSB5OyB0aGlzLncgPSB3OyB0aGlzLmggPSBoOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7IHRoaXMuY291bnQgPSAwOyB0aGlzLmlkeCA9IG5ldyBJbnQzMkFycmF5KGNhcCk7CiAgICAgICAgICB0aGlzLnB0c3ggPSBuZXcgRmxvYXQzMkFycmF5KGNhcCk7IHRoaXMucHRzeSA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMuZGl2aWRlZCA9IGZhbHNlOyB0aGlzLmNoaWxkcmVuID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNsYXNzIFF1YWR0cmVlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMucm9vdCA9IG5ldyBRVE5vZGUoeCwgeSwgdywgaCwgY2FwKTsKICAgICAgICAgIHRoaXMuY2FwID0gY2FwOwogICAgICAgIH0KCiAgICAgICAgaW5zZXJ0KGksIHgsIHksIG5vZGUgPSB0aGlzLnJvb3QpIHsKICAgICAgICAgIGlmICh4IDwgbm9kZS54IHx8IHkgPCBub2RlLnkgfHwgeCA+PSBub2RlLnggKyBub2RlLncgfHwgeSA+PSBub2RlLnkgKyBub2RlLmgpIHJldHVybiBmYWxzZTsKICAgICAgICAgIGlmIChub2RlLmNvdW50IDwgbm9kZS5jYXAgJiYgIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBjb25zdCBqID0gbm9kZS5jb3VudCsrOyBub2RlLmlkeFtqXSA9IGk7IG5vZGUucHRzeFtqXSA9IHg7IG5vZGUucHRzeVtqXSA9IHk7IHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHRoaXMuc3ViZGl2aWRlKG5vZGUpOwogICAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgIH0KCiAgICAgICAgc3ViZGl2aWRlKG5vZGUpIHsKICAgICAgICAgIG5vZGUuZGl2aWRlZCA9IHRydWU7CiAgICAgICAgICBjb25zdCBodyA9IG5vZGUudy8yLCBoaCA9IG5vZGUuaC8yOwogICAgICAgICAgbm9kZS5jaGlsZHJlbiA9IFsKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngsICAgICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5XCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54K2h3LCAgICBub2RlLnksICAgICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBORQogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU1cKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueStoaCwgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIFNFCiAgICAgICAgICBdOwogICAgICAgICAgLy8gcmVpbnNlcnQgZXhpc3RpbmcgcG9pbnRzCiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG5vZGUuY291bnQ7IGsrKykgewogICAgICAgICAgICBjb25zdCBpID0gbm9kZS5pZHhba107IGNvbnN0IHggPSBub2RlLnB0c3hba107IGNvbnN0IHkgPSBub2RlLnB0c3lba107CiAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGksIHgsIHksIG5vZGUuY2hpbGRyZW5bICh5IDwgbm9kZS55ICsgbm9kZS5oLzIgPyAwIDogMikgKyAoeCA8IG5vZGUueCArIG5vZGUudy8yID8gMCA6IDEpIF0pOwogICAgICAgICAgfQogICAgICAgICAgbm9kZS5jb3VudCA9IDA7IC8vIGNsZWFyIGxlYWYgc3RvcmFnZQogICAgICAgIH0KCiAgICAgICAgcXVlcnkoY3gsIGN5LCByLCBvdXQpIHsKICAgICAgICAgIHRoaXMuX3F1ZXJ5Tm9kZSh0aGlzLnJvb3QsIGN4LCBjeSwgciwgb3V0KTsKICAgICAgICB9CiAgICAgICAgX3F1ZXJ5Tm9kZShub2RlLCBjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgLy8gY2lyY2xlLXJlY3QgcXVpY2sgcmVqZWN0CiAgICAgICAgICBjb25zdCByeD1ub2RlLngsIHJ5PW5vZGUueSwgcnc9bm9kZS53LCByaD1ub2RlLmg7CiAgICAgICAgICBsZXQgbnggPSBNYXRoLm1heChyeCwgTWF0aC5taW4oY3gsIHJ4K3J3KSk7CiAgICAgICAgICBsZXQgbnkgPSBNYXRoLm1heChyeSwgTWF0aC5taW4oY3ksIHJ5K3JoKSk7CiAgICAgICAgICBjb25zdCBkaXN0ID0gKGN4LW54KSooY3gtbngpKyhjeS1ueSkqKGN5LW55KTsKICAgICAgICAgIGlmIChkaXN0ID4gcipyKSByZXR1cm47CgogICAgICAgICAgaWYgKCFub2RlLmRpdmlkZWQpIHsKICAgICAgICAgICAgZm9yIChsZXQgaz0wO2s8bm9kZS5jb3VudDtrKyspIHsgb3V0LnB1c2gobm9kZS5pZHhba10pOyB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9xdWVyeU5vZGUobm9kZS5jaGlsZHJlbltjXSwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KCiAgICAgICAgZHJhdyhjdHgpIHsKICAgICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgaHNsKCR7KHBhbGV0dGVIdWUrMTgwKSUzNjB9IDgwJSA3MCUgLyAwLjE0KWA7CiAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTsKICAgICAgICAgIHRoaXMuX2RyYXdOb2RlKGN0eCwgdGhpcy5yb290KTsKICAgICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgfQogICAgICAgIF9kcmF3Tm9kZShjdHgsIG5vZGUpIHsKICAgICAgICAgIGN0eC5zdHJva2VSZWN0KG5vZGUueCwgbm9kZS55LCBub2RlLncsIG5vZGUuaCk7CiAgICAgICAgICBpZiAobm9kZS5kaXZpZGVkKSBmb3IgKGxldCBjPTA7Yzw0O2MrKykgdGhpcy5fZHJhd05vZGUoY3R4LCBub2RlLmNoaWxkcmVuW2NdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHMKICAgICAgY29uc3QgZWZmZWN0cyA9IFtdOyAvLyB7eCx5LHQsbGlmZSxzaWduLHR5cGUsLi4uZXh0cmFzfQogICAgICBsZXQgbW91c2VEb3duID0gZmFsc2U7CiAgICAgIGNvbnN0IHBvaW50ZXIgPSB7eDogaW5uZXJXaWR0aC8yLCB5OiBpbm5lckhlaWdodC8yLCB2eDogMCwgdnk6IDAsIHQ6IHBlcmZvcm1hbmNlLm5vdygpfTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksICsxKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCAgIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSBmYWxzZTsgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksIC0xKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBpZiAobW91c2VEb3duKSBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CgogICAgICBmdW5jdGlvbiBwaWNrQ2xpY2tUeXBlKCkgewogICAgICAgIGlmIChDRkcuY2xpY2tNb2RlICYmIENGRy5jbGlja01vZGUgIT09ICdyYW5kb20nKSByZXR1cm4gQ0ZHLmNsaWNrTW9kZTsKICAgICAgICBjb25zdCBsaXN0ID0gQ0ZHLmNsaWNrTW9kZXMgfHwgWydzaG9jayddOwogICAgICAgIHJldHVybiBsaXN0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpsaXN0Lmxlbmd0aCldIHx8ICdzaG9jayc7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gc3Bhd25FZmZlY3QoeCwgeSwgc2lnbikgewogICAgICAgIGNvbnN0IHR5cGUgPSBwaWNrQ2xpY2tUeXBlKCk7CiAgICAgICAgY29uc3QgbGlmZSA9ICh0eXBlPT09J2ltcGxvc2lvbicpID8gMC45IDogKHR5cGU9PT0ndm9ydGV4JyB8fCB0eXBlPT09J21ldGVvcicgPyAxLjggOiAxLjIpOwogICAgICAgIGNvbnN0IEUgPSB7IHgsIHksIHQ6IDAsIGxpZmUsIHNpZ24sIHR5cGUgfTsKICAgICAgICBpZiAodHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICBjb25zdCBzcCA9IE1hdGgubWluKDMsIE1hdGguaHlwb3QocG9pbnRlci52eCwgcG9pbnRlci52eSkqMTIwKTsKICAgICAgICAgIEUuYSA9IDIgKyBNYXRoLmZsb29yKHNwJTQpOyBFLmIgPSAzICsgTWF0aC5mbG9vcigoc3AqMS43KSU0KTsgRS5waGFzZSA9IE1hdGgucmFuZG9tKCkqVEFVOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGNvbnN0IHNjYWxlID0gOTAwOyBFLnZ4ID0gcG9pbnRlci52eCpzY2FsZTsgRS52eSA9IHBvaW50ZXIudnkqc2NhbGU7IEUubWFzcyA9IDIyMCArIE1hdGgucmFuZG9tKCkqMTgwOyBFLmRyYWc9MC45ODsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgRS5zY2FsZSA9IDAuMDA2ICsgTWF0aC5yYW5kb20oKSowLjAwNjsgRS5hbXAgPSAxLjIgKyBNYXRoLnJhbmRvbSgpKjEuMjsKICAgICAgICB9CiAgICAgICAgZWZmZWN0cy5wdXNoKEUpOwogICAgICB9CgogICAgICAvLyBQaHlzaWNzIGhlbHBlcnMKICAgICAgZnVuY3Rpb24gbGltaXQodngsIHZ5LCBtYXgpIHsKICAgICAgICBjb25zdCBtMiA9IHZ4KnZ4ICsgdnkqdnk7IGlmIChtMiA+IG1heCptYXgpIHsKICAgICAgICAgIGNvbnN0IG0gPSBNYXRoLnNxcnQobTIpIHx8IDE7IGNvbnN0IHMgPSBtYXggLyBtOyByZXR1cm4gW3Z4KnMsIHZ5KnNdOwogICAgICAgIH0gcmV0dXJuIFt2eCwgdnldOwogICAgICB9CgogICAgICAvLyBNYWluIGxvb3AKICAgICAgbGV0IGxhc3QgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgbGV0IGZwc0F2ZyA9IDA7CiAgICAgIGZ1bmN0aW9uIGZyYW1lKHQpIHsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWluKDMyLCB0IC0gbGFzdCkgKiAwLjAwMTsgLy8gY2xhbXAKICAgICAgICBsYXN0ID0gdDsKICAgICAgICBjb25zdCBmcHNOb3cgPSAxIC8gTWF0aC5tYXgoMWUtNiwgZHQpOwogICAgICAgIGZwc0F2ZyA9IGZwc0F2ZyA/IChmcHNBdmcqMC45ICsgZnBzTm93KjAuMSkgOiBmcHNOb3c7CiAgICAgICAgY29uc3QgVyA9IGlubmVyV2lkdGgsIEggPSBpbm5lckhlaWdodDsKCiAgICAgICAgLy8gdHJhaWxzOiB0cmFuc2x1Y2VudCBmaWxsCiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7CiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBDRkcudHJhaWxBbHBoYSkpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIFcsIEgpOwogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEJ1aWxkIHF1YWR0cmVlCiAgICAgICAgY29uc3QgcXQgPSBuZXcgUXVhZHRyZWUoMCwgMCwgVywgSCwgQ0ZHLnF0Q2FwKTsKICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgcXQuaW5zZXJ0KGksIHB4W2ldLCBweVtpXSk7CgogICAgICAvLyBBcHBseSBmbG9ja2luZyB2aWEgbmVpZ2hib3IgcXVlcmllcyAoYWRhcHRpdmUgdmlzaW9uIHVuZGVyIGxvYWQpCiAgICAgIGNvbnN0IHZpc2lvbiA9IENGRy52aXNpb24gKiAoZnBzQXZnIDwgNTAgPyAwLjkgOiAxLjApOyBjb25zdCBzZXAgPSBDRkcuc2VwOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBheFtpXT0wOyBheVtpXT0wOyB9CiAgICAgIGxldCB0bXAgPSBbXTsKICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICB0bXAubGVuZ3RoID0gMDsgcXQucXVlcnkocHhbaV0sIHB5W2ldLCB2aXNpb24sIHRtcCk7CiAgICAgICAgICBsZXQgY3g9MCwgY3k9MCwgdnhzdW09MCwgdnlzdW09MCwgc3g9MCwgc3k9MCwgdG90YWw9MCwgc2Nsb3NlPTA7CiAgICAgICAgICBmb3IgKGxldCBrPTA7azx0bXAubGVuZ3RoO2srKykgewogICAgICAgICAgICBjb25zdCBqID0gdG1wW2tdOyBpZiAoaj09PWkpIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBkeCA9IHB4W2pdLXB4W2ldOyBjb25zdCBkeSA9IHB5W2pdLXB5W2ldOwogICAgICAgICAgICBjb25zdCBkMiA9IGR4KmR4ICsgZHkqZHk7IGlmIChkMiA9PT0gMCkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGQgPSBNYXRoLnNxcnQoZDIpOwogICAgICAgICAgICBpZiAoZCA8IHZpc2lvbikgeyB0b3RhbCsrOyBjeCArPSBweFtqXTsgY3kgKz0gcHlbal07IHZ4c3VtICs9IHZ4W2pdOyB2eXN1bSArPSB2eVtqXTsgfQogICAgICAgICAgICBpZiAoZCA8IHNlcCkgeyBzY2xvc2UrKzsgc3ggLT0gZHgvKGR8fDEpOyBzeSAtPSBkeS8oZHx8MSk7IH0KICAgICAgICAgIH0KICAgICAgICAgIGlmICh0b3RhbD4wKSB7CiAgICAgICAgICAgIC8vIGFsaWdubWVudAogICAgICAgICAgICBsZXQgYXh2ID0gKHZ4c3VtL3RvdGFsKSAtIHZ4W2ldOyBsZXQgYXl2ID0gKHZ5c3VtL3RvdGFsKSAtIHZ5W2ldOwogICAgICAgICAgICBjb25zdCBhbGlnblcgPSBDRkcuYWxpZ25XICogKDEgKyAoYWxpZ25NdWxbaV18fDApKTsKICAgICAgICAgICAgW2F4diwgYXl2XSA9IGxpbWl0KGF4diwgYXl2LCBDRkcubWF4Rm9yY2UpOwogICAgICAgICAgICBheFtpXSArPSBheHYgKiBhbGlnblc7IGF5W2ldICs9IGF5diAqIGFsaWduVzsKICAgICAgICAgICAgLy8gY29oZXNpb24KICAgICAgICAgICAgbGV0IGN4diA9IChjeC90b3RhbCAtIHB4W2ldKTsgbGV0IGN5diA9IChjeS90b3RhbCAtIHB5W2ldKTsKICAgICAgICAgICAgY29uc3QgY29oVyA9IENGRy5jb2hlc2lvblcgKiAoMSArIChjb2hlc2lvbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbY3h2LCBjeXZdID0gbGltaXQoY3h2LCBjeXYsIENGRy5tYXhGb3JjZSk7IGF4W2ldICs9IGN4diAqIGNvaFc7IGF5W2ldICs9IGN5diAqIGNvaFc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc2Nsb3NlPjApIHsKICAgICAgICAgICAgbGV0IHN4diA9IHN4OyBsZXQgc3l2ID0gc3k7IFtzeHYsIHN5dl0gPSBsaW1pdChzeHYsIHN5diwgQ0ZHLm1heEZvcmNlKjEuNSk7CiAgICAgICAgICAgIGNvbnN0IHNlcFcgPSBDRkcuc2VwYXJhdGlvblcgKiAoMSArIChzZXBhcmF0aW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIGF4W2ldICs9IHN4diAqIHNlcFc7IGF5W2ldICs9IHN5diAqIHNlcFc7CiAgICAgICAgICB9CiAgICAgICAgLy8gb3B0aW9uYWwgZmxvdyBmaWVsZCBmb3IgcGF0dGVybiB2YXJpZXR5CiAgICAgICAgaWYgKENGRy5mbG93KSB7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmZsb3dTY2FsZSB8fCAwLjAwNDsgY29uc3QgYSA9IENGRy5mbG93QW1wIHx8IDAuNjsgY29uc3Qgc3AgPSBDRkcuZmxvd1NwZWVkIHx8IDAuNjsKICAgICAgICAgIGNvbnN0IHQwID0gcGVyZm9ybWFuY2Uubm93KCkqMC4wMDEqc3A7CiAgICAgICAgICBjb25zdCBmeCA9IE1hdGguc2luKHB5W2ldKnMgKyB0MCkgKiBhOwogICAgICAgICAgY29uc3QgZnkgPSBNYXRoLmNvcyhweFtpXSpzIC0gdDApICogYTsKICAgICAgICAgIGF4W2ldICs9IGZ4OyBheVtpXSArPSBmeTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIEludGVyYWN0aW9uIGVmZmVjdHM6IH4yMCsgbW9kZXMgaW5jbHVkaW5nIHBlcmxpbkRyYWcsIGxpc3NhUHVsc2UsIG1ldGVvcgogICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInOwogICAgICBsZXQgdG1wMiA9IFtdOwogICAgICBmb3IgKGxldCBlPWVmZmVjdHMubGVuZ3RoLTE7IGU+PTA7IGUtLSkgewogICAgICAgIGNvbnN0IEUgPSBlZmZlY3RzW2VdOyBFLnQgKz0gZHQ7IGNvbnN0IGsgPSBFLnQgLyBFLmxpZmU7CiAgICAgICAgY29uc3QgciA9IDMwICsgayAqIDI2MDsgY29uc3Qgc3RyID0gMS4wIC0gazsKICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgeyBFLnggKz0gKEUudnh8fDApKmR0OyBFLnkgKz0gKEUudnl8fDApKmR0OyBFLnZ4ICo9IChFLmRyYWd8fDEpOyBFLnZ5ICo9IChFLmRyYWd8fDEpOyBFLm1hc3MgKj0gMC45ODU7IH0KICAgICAgICB0bXAyLmxlbmd0aCA9IDA7IHF0LnF1ZXJ5KEUueCwgRS55LCByLCB0bXAyKTsKICAgICAgICBmb3IgKGxldCBpaT0wOyBpaTx0bXAyLmxlbmd0aDsgaWkrKykgewogICAgICAgICAgY29uc3QgaSA9IHRtcDJbaWldOyBjb25zdCBkeCA9IHB4W2ldLUUueDsgY29uc3QgZHkgPSBweVtpXS1FLnk7IGNvbnN0IGQgPSBNYXRoLmh5cG90KGR4LCBkeSl8fDE7CiAgICAgICAgICBjb25zdCBmYWxsID0gKDEgLSBNYXRoLm1pbigxLCBkL3IpKTsKICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdwZXJsaW5EcmFnJykgewogICAgICAgICAgICBjb25zdCB2ID0gcGVybGluVmVjKHB4W2ldLUUueCwgcHlbaV0tRS55LCBFLnNjYWxlfHwwLjAwOCwgKEUuYW1wfHwxLjUpICogZmFsbCk7CiAgICAgICAgICAgIGF4W2ldICs9IHZbMF07IGF5W2ldICs9IHZbMV07IGh1ZU9mZltpXSArPSA0MCpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdsaXNzYVB1bHNlJykgewogICAgICAgICAgICBjb25zdCBhbmcgPSBNYXRoLmF0YW4yKGR5LCBkeCk7CiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNpbihFLmEqYW5nICsgRS5waGFzZSkgKiBNYXRoLmNvcyhFLmIqYW5nIC0gRS5waGFzZSk7CiAgICAgICAgICAgIGNvbnN0IHMgPSB3ICogMi4wICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICAgIGNvbnN0IEcgPSA4MDA7IGNvbnN0IGYgPSBNYXRoLm1pbigzLjAsIChHKihFLm1hc3N8fDIwMCkpLygoZCpkKSsyMDApKTsKICAgICAgICAgICAgYXhbaV0gLT0gKGR4L2QpKmYqZmFsbDsgYXlbaV0gLT0gKGR5L2QpKmYqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOyBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAndm9ydGV4JyB8fCBFLnR5cGU9PT0nb3JiaXRDVycgfHwgRS50eXBlPT09J29yYml0Q0NXJyB8fCBFLnR5cGU9PT0nc3BpcmFsT3V0JyB8fCBFLnR5cGU9PT0nc3BpcmFsSW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nb3JiaXRDQ1cnKSA/IC0xIDogMTsKICAgICAgICAgICAgY29uc3QgdHggPSAtZHkvZCwgdHkgPSBkeC9kOyBsZXQgcyA9IChFLnNpZ24+MD8xOi0xKSAqIDEuMiAqIGZhbGwgKiBkaXI7CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsT3V0JykgeyBzID0gMS4yKmZhbGw7IGF4W2ldICs9IChkeC9kKSpmYWxsKjAuODsgYXlbaV0gKz0gKGR5L2QpKmZhbGwqMC44OyB9CiAgICAgICAgICAgIGlmIChFLnR5cGU9PT0nc3BpcmFsSW4nKSB7IHMgPSAtMS4yKmZhbGw7IGF4W2ldIC09IChkeC9kKSpmYWxsKjAuNjsgYXlbaV0gLT0gKGR5L2QpKmZhbGwqMC42OyB9CiAgICAgICAgICAgIGF4W2ldICs9IHR4KnM7IGF5W2ldICs9IHR5KnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IHZCb29zdFtpXSArPSAwLjIqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaW1wbG9zaW9uJyB8fCBFLnR5cGU9PT0nYXR0cmFjdCcgfHwgRS50eXBlPT09J21hZ25ldCcpIHsKICAgICAgICAgICAgY29uc3QgcyA9IChFLnR5cGU9PT0naW1wbG9zaW9uJyA/IC0yLjIgOiAtMS4yKSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjE1KmZhbGw7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc3ByYXknIHx8IEUudHlwZT09PSdzY2F0dGVyJykgewogICAgICAgICAgICBjb25zdCBzID0gKEUuc2lnbj4wPzE6LTEpICogKEUudHlwZT09PSdzY2F0dGVyJz8zLjA6Mi40KSAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgICAgdnhbaV0gKz0gKGR4L2QpICogMC4yNSAqIGZhbGw7IHZ5W2ldICs9IChkeS9kKSAqIDAuMjUgKiBmYWxsOyBqaXRBbXBbaV0gKz0gMC4xNSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzdHVuJyB8fCBFLnR5cGU9PT0nZnJlZXplJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gLT0gKEUudHlwZT09PSdmcmVlemUnPzAuNjowLjMpICogZmFsbDsgc2l6ZU11bFtpXSArPSAwLjMqZmFsbDsgdnhbaV0gKj0gMC45NjsgdnlbaV0gKj0gMC45NjsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZmVhcicpIHsKICAgICAgICAgICAgY29uc3QgcyA9IDIuOCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgaml0QW1wW2ldICs9IDAuMjUqZmFsbDsgaHVlT2ZmW2ldICs9IDgwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NjcmFtYmxlJykgewogICAgICAgICAgICB2eFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMS41KmZhbGw7IHZ5W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgaml0QW1wW2ldICs9IDAuMypmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdwdWxzZScgfHwgRS50eXBlPT09J3JpcHBsZScpIHsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKGsqTWF0aC5QSSoyKTsgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2FsaWduJykgewogICAgICAgICAgICBhbGlnbk11bFtpXSArPSAwLjggKiBmYWxsOyBzZXBhcmF0aW9uTXVsW2ldIC09IDAuMyAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2RlYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldIC09IDAuOCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldICs9IDAuMiAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjEgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjb2hlcmUnIHx8IEUudHlwZT09PSd0aWdodGVuJyB8fCBFLnR5cGU9PT0nbG9vc2VuJykgewogICAgICAgICAgICBjb25zdCBkaXIgPSAoRS50eXBlPT09J2xvb3NlbicpID8gLTEgOiAxOyAvLyBsb29zZW4gcmVkdWNlcyBjb2hlc2lvbgogICAgICAgICAgICBjb2hlc2lvbk11bFtpXSArPSBkaXIgKiAwLjkgKiBmYWxsOyBpZiAoZGlyPjApIHNlcGFyYXRpb25NdWxbaV0gLT0gMC4yICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2VwYXJhdGUnIHx8IEUudHlwZT09PSdkaXNwZXJzZScpIHsKICAgICAgICAgICAgc2VwYXJhdGlvbk11bFtpXSArPSAxLjAgKiBmYWxsOyBjb2hlc2lvbk11bFtpXSAtPSAwLjQgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd3YXJwJyB8fCBFLnR5cGU9PT0nc3BlZWR1cCcpIHsKICAgICAgICAgICAgdkJvb3N0W2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyBodWVPZmZbaV0gKz0gNDAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2xvd2Rvd24nKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAwLjUqZmFsbDsgaHVlT2ZmW2ldIC09IDIwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2dyb3cnKSB7CiAgICAgICAgICAgIHNpemVNdWxbaV0gKz0gMC42KmZhbGw7IGh1ZU9mZltpXSArPSAzMCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICd0dW5uZWwnKSB7CiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHIqMC43OyBjb25zdCBzID0gKGQ8dGFyZ2V0PysxOi0xKSAqIDEuMiAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnaml0dGVyYnVyc3QnKSB7CiAgICAgICAgICAgIGppdEFtcFtpXSArPSAwLjYqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnY2hyb21hYnVyc3QnKSB7CiAgICAgICAgICAgIGh1ZU9mZltpXSArPSAxNjAgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIHsgLy8gc2hvY2sgLyBkZWZhdWx0CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/KzE6LTEpICogMS44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyB2Qm9vc3RbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBnZW5lcmFsIGNvbG9yIGVuZXJneQogICAgICAgICAgaHVlW2ldID0gKGh1ZVtpXSArIDkwICogZmFsbCkgJSAzNjA7CiAgICAgICAgfQogICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoRS54LCBFLnksIE1hdGgubWF4KDEsIHIqMC42KSwgRS54LCBFLnksIHIpOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7KHBhbGV0dGVIdWUrMjApJTM2MH0sIDk1JSwgNzAlLCAkezAuMzQqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs2MCklMzYwfSwgOTUlLCA2MCUsICR7MC4yMipzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45NSwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsxMDApJTM2MH0sIDk1JSwgNTUlLCAwKWApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2xhKCR7cGFsZXR0ZUh1ZX0sIDk1JSwgNjUlLCAkezAuMjUqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNiwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs0MCklMzYwfSwgOTUlLCA1NSUsICR7MC4xOCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC45LCBgaHNsYSgkeyhwYWxldHRlSHVlKzgwKSUzNjB9LCA5NSUsIDYwJSwgMClgKTsKICAgICAgICB9CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYyhFLngsIEUueSwgciwgMCwgTWF0aC5QSSoyKTsgY3R4LmZpbGwoKTsKICAgICAgICBpZiAoayA+PSAxKSBlZmZlY3RzLnNwbGljZShlLCAxKTsKICAgICAgfQogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIEludGVncmF0ZSBhbmQgZHJhdyBib2lkcyB3aXRoIGdsb3cgYW5kIHRyYWlscwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBDRkcuYmxlbmQ7CiAgICAgIGN0eC5saW5lV2lkdGggPSBDRkcubGluZVdpZHRoOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICAvLyBpbnRlZ3JhdGUKICAgICAgICAgIGlmIChqaXRBbXBbaV0gPiAwLjAwMDEpIHsgYXhbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgYXlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDAuMiAqIGppdEFtcFtpXTsgfQogICAgICAgICAgdnhbaV0gKz0gYXhbaV07IHZ5W2ldICs9IGF5W2ldOwogICAgICAgICAgY29uc3Qgdk1heCA9IENGRy5tYXhTcGVlZCAqICgxICsgTWF0aC5tYXgoLTAuNywgdkJvb3N0W2ldKSowLjgpOwogICAgICAgICAgW3Z4W2ldLCB2eVtpXV0gPSBsaW1pdCh2eFtpXSwgdnlbaV0sIHZNYXgpOwogICAgICAgICAgLy8gZW5mb3JjZSBtaW4gc3BlZWQgKHdpdGggYm9vc3QpCiAgICAgICAgICB7IGNvbnN0IHNwID0gTWF0aC5oeXBvdCh2eFtpXSwgdnlbaV0pIHx8IDE7IGNvbnN0IHZNaW4gPSBDRkcubWluU3BlZWQgKiAoMSArIE1hdGgubWF4KDAsIHZCb29zdFtpXSkqMC41KTsgaWYgKHNwIDwgdk1pbikgeyBjb25zdCBzID0gdk1pbiAvIHNwOyB2eFtpXSAqPSBzOyB2eVtpXSAqPSBzOyB9IH0KICAgICAgICAgIHByZXZ4W2ldID0gcHhbaV07IHByZXZ5W2ldID0gcHlbaV07CiAgICAgICAgICBweFtpXSArPSB2eFtpXTsgcHlbaV0gKz0gdnlbaV07CgogICAgICAgICAgLy8gYm91bmRhcmllcwogICAgICAgICAgaWYgKENGRy53cmFwKSB7CiAgICAgICAgICAgIGlmIChweFtpXSA8IC01KSBweFtpXSA9IFcgKyA1OyBlbHNlIGlmIChweFtpXSA+IFcrNSkgcHhbaV0gPSAtNTsKICAgICAgICAgICAgaWYgKHB5W2ldIDwgLTUpIHB5W2ldID0gSCArIDU7IGVsc2UgaWYgKHB5W2ldID4gSCs1KSBweVtpXSA9IC01OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgMCB8fCBweFtpXSA+IFcpIHsgdnhbaV0gPSAtdnhbaV07IH0KICAgICAgICAgICAgaWYgKHB5W2ldIDwgMCB8fCBweVtpXSA+IEgpIHsgdnlbaV0gPSAtdnlbaV07IH0KICAgICAgICAgICAgcHhbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihXLCBweFtpXSkpOwogICAgICAgICAgICBweVtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKEgsIHB5W2ldKSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZGVjYXkgbW9kaWZpZXJzIGFuZCBjb21wdXRlIHRpbnQKICAgICAgICAgIHZCb29zdFtpXSAqPSAwLjkyOyBzaXplTXVsW2ldICo9IDAuOTA7IGh1ZU9mZltpXSAqPSAwLjk0OyBqaXRBbXBbaV0gKj0gMC44ODsKICAgICAgICAgIGFsaWduTXVsW2ldICo9IDAuOTQ7IGNvaGVzaW9uTXVsW2ldICo9IDAuOTQ7IHNlcGFyYXRpb25NdWxbaV0gKj0gMC45NDsKICAgICAgICAgIC8vIHNsb3dseSBkcmlmdCBib2lkIGh1ZSBiYWNrIHRvd2FyZCBiYXNlIHBhbGV0dGUgaHVlCiAgICAgICAgICBodWVbaV0gPSBhcHByb2FjaEh1ZShodWVbaV0sIHBhbGV0dGVIdWUsIE1hdGgubWluKDEsIGR0ICogKENGRy5odWVSZWxheCB8fCAwLjIpKSk7CiAgICAgICAgICBzcGRbaV0gPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSk7CiAgICAgICAgICBjb25zdCBMID0gNTAgKyBNYXRoLm1pbig0NSwgc3BkW2ldKjgpOwogICAgICAgICAgY29uc3QgUyA9IDgwICsgTWF0aC5taW4oMjAsIHNwZFtpXSo2KTsKICAgICAgICAgIGNvbnN0IGRyYXdIdWUgPSAoaHVlW2ldICsgaHVlT2ZmW2ldKSAlIDM2MDsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHtkcmF3SHVlfSwgJHtTfSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguc2hhZG93Q29sb3IgPSBgaHNsKCR7ZHJhd0h1ZX0sIDkwJSwgNjAlKWA7CiAgICAgICAgICBjb25zdCBnbG93UXVhbGl0eSA9IChmcHNBdmcgPCA1MCA/IDAuNSA6IDEuMCk7CiAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IGdsb3dRdWFsaXR5ICogKENGRy5nbG93QmFzZSArIE1hdGgubWluKENGRy5nbG93TWF4LCBzcGRbaV0qQ0ZHLmdsb3dTY2FsZSkpOwoKICAgICAgICAgIC8vIHRyYWlsIHNlZ21lbnQKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5tb3ZlVG8ocHJldnhbaV0sIHByZXZ5W2ldKTsKICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0sIHB5W2ldKTsKICAgICAgICAgIGN0eC5zdHJva2UoKTsKCiAgICAgICAgICAvLyBib2lkIGhlYWQgc2hhcGUKICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIodnlbaV0sIHZ4W2ldKTsKICAgICAgICAgIGNvbnN0IGNhID0gTWF0aC5jb3MoYW5nKSwgc2EgPSBNYXRoLnNpbihhbmcpOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGBoc2woJHtodWVbaV19LCA5NSUsICR7TH0lKWA7CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjb25zdCBzID0gQ0ZHLmNvbWV0U2l6ZSAqICgxICsgKHNpemVNdWxbaV18fDApKTsKICAgICAgICAgIGlmIChDRkcuc2hhcGUgPT09ICd0cmlhbmdsZScpIHsKICAgICAgICAgICAgY29uc3QgQzI2ID0gMC44NTY4ODg3NTMsIFMyNiA9IDAuNTE1NDk4OyAvLyBjb3Mvc2luKDIuNikKICAgICAgICAgICAgY29uc3QgeDAgPSBweFtpXSArIGNhKnMqMS42LCB5MCA9IHB5W2ldICsgc2EqcyoxLjY7CiAgICAgICAgICAgIGNvbnN0IGNhX3AgPSBjYSpDMjYgLSBzYSpTMjYsIHNhX3AgPSBzYSpDMjYgKyBjYSpTMjY7CiAgICAgICAgICAgIGNvbnN0IGNhX20gPSBjYSpDMjYgKyBzYSpTMjYsIHNhX20gPSBzYSpDMjYgLSBjYSpTMjY7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeDAsIHkwKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AqcywgIHB5W2ldICsgc2FfcCpzKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20qcywgIHB5W2ldICsgc2FfbSpzKTsKICAgICAgICAgIH0gZWxzZSBpZiAoQ0ZHLnNoYXBlID09PSAnb3JiJykgewogICAgICAgICAgICBjdHguYXJjKHB4W2ldLCBweVtpXSwgcyowLjYsIDAsIE1hdGguUEkqMik7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzcGFyawogICAgICAgICAgICBjb25zdCBDMDIgPSAwLjk4MDA2NjYsIFMwMiA9IDAuMTk4NjY5MzsgLy8gY29zL3NpbigwLjIpCiAgICAgICAgICAgIGNvbnN0IHhoID0gcHhbaV0gKyBjYSpzKjEuOCwgeWggPSBweVtpXSArIHNhKnMqMS44OwogICAgICAgICAgICBjb25zdCBjYV9wMDIgPSBjYSpDMDIgLSBzYSpTMDIsIHNhX3AwMiA9IHNhKkMwMiArIGNhKlMwMjsKICAgICAgICAgICAgY29uc3QgY2FfbTAyID0gY2EqQzAyICsgc2EqUzAyLCBzYV9tMDIgPSBzYSpDMDIgLSBjYSpTMDI7CiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeGgsIHloKTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX3AwMipzKjAuNiwgIHB5W2ldICsgc2FfcDAyKnMqMC42KTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSArIGNhX20wMipzKjAuNiwgIHB5W2ldICsgc2FfbTAyKnMqMC42KTsKICAgICAgICAgIH0KICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTsgY3R4LmZpbGwoKTsKICAgICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gUXVhZHRyZWUgdmlzdWFsaXphdGlvbiAoZGVmYXVsdCBvbikKICAgICAgICBpZiAoQ0ZHLnF0KSBxdC5kcmF3KGN0eCk7CgogICAgICAgIC8vIEhVRAogICAgICAgIGh1ZEVsLmlubmVySFRNTCA9IGA8c3Ryb25nPkJvaWRzPC9zdHJvbmc+IMK3IE49JHtOfSB2aXNpb249JHtDRkcudmlzaW9ufSBzZXA9JHtDRkcuc2VwfSBgICsKICAgICAgICAgIGDCtyBxdENhcD0ke0NGRy5xdENhcH0gwrcgaHVlPSR7cGFsZXR0ZUh1ZX0gwrcgcXRWaXo9JHtDRkcucXQ/J29uJzonb2ZmJ30gwrcgY2xpY2s9JHtDRkcuY2xpY2tNb2RlfSDCtyBmcHM9JHtmcHNBdmcudG9GaXhlZCgwKX1gOwoKICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpOwogICAgICB9CiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CgogICAgICAvLyBDb25maWcgVUkgYnVpbGQgYW5kIHdpcmluZwogICAgICBjb25zdCBjZmdCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQnRuJyk7CiAgICAgIGNvbnN0IGNmZ0Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmZ0Nsb3NlJyk7CiAgICAgIGNvbnN0IGNmZ1BhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZycpOwogICAgICBjb25zdCBjZmdCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZ0JvZHknKTsKICAgICAgY2ZnQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKSk7CiAgICAgIGNmZ0Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2ZnUGFuZWwuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCcnKSk7CgogICAgICBjb25zdCBzY2hlbWEgPSBbCiAgICAgICAge2tleTonaHVlJywgbGFiZWw6J0h1ZScsIHR5cGU6J2ludCcsIG1pbjowLCBtYXg6MzYwLCBzdGVwOjEsIHZhbHVlOkJBU0VfSFVFfSwKICAgICAgICB7a2V5OidoZWFkZXInLCBsYWJlbDonSGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOkhFQURFUn0sCiAgICAgICAge2tleTonc3ViaGVhZGVyJywgbGFiZWw6J1N1YmhlYWRlcicsIHR5cGU6J3RleHQnLCB2YWx1ZTpTVUJIRUFERVJ9LAogICAgICAgIHtrZXk6J3F0JywgbGFiZWw6J1Nob3cgUXVhZHRyZWUnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hvd0h1ZCcsIGxhYmVsOidTaG93IEhVRCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzcGF3bicsIGxhYmVsOidTcGF3bicsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdjaXJjbGUnLCdncmlkJywnY2VudGVyYnVyc3QnXX0sCiAgICAgICAge2tleTonY291bnQnLCBsYWJlbDonQ291bnQnLCB0eXBlOidpbnQnLCBtaW46NTAsIG1heDoxMDAwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3Zpc2lvbicsIGxhYmVsOidWaXNpb24nLCB0eXBlOidpbnQnLCBtaW46MjAsIG1heDoyMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonc2VwJywgbGFiZWw6J1NlcGFyYXRpb24gRGlzdCcsIHR5cGU6J2ludCcsIG1pbjo0LCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonbWF4U3BlZWQnLCBsYWJlbDonTWF4IFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMSwgbWF4OjEyLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonbWluU3BlZWQnLCBsYWJlbDonTWluIFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAuMCwgbWF4OjYsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtYXhGb3JjZScsIGxhYmVsOidNYXggU3RlZXJpbmcgRm9yY2UnLCB0eXBlOidudW1iZXInLCBtaW46MC4wMDEsIG1heDowLjUsIHN0ZXA6MC4wMDF9LAogICAgICAgIHtrZXk6J2FsaWduVycsIGxhYmVsOidBbGlnbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY29oZXNpb25XJywgbGFiZWw6J0NvaGVzaW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidzZXBhcmF0aW9uVycsIGxhYmVsOidTZXBhcmF0aW9uIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oid0cmFpbEFscGhhJywgbGFiZWw6J1RyYWlsIEFscGhhJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDoxLCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3F0Q2FwJywgbGFiZWw6J1F1YWR0cmVlIENhcGFjaXR5JywgdHlwZTonaW50JywgbWluOjIsIG1heDozMiwgc3RlcDoxfSwKICAgICAgICB7a2V5Oid3cmFwJywgbGFiZWw6J1dyYXAgQm91bmRzJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NoYXBlJywgbGFiZWw6J1NoYXBlJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3RyaWFuZ2xlJywnc3BhcmsnLCdvcmInXX0sCiAgICAgICAge2tleTonYmxlbmQnLCBsYWJlbDonQmxlbmQnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsnbGlnaHRlcicsJ3NjcmVlbicsJ292ZXJsYXknLCdwbHVzLWxpZ2h0ZXInXX0sCiAgICAgICAge2tleTonbGluZVdpZHRoJywgbGFiZWw6J0xpbmUgV2lkdGgnLCB0eXBlOidudW1iZXInLCBtaW46MC4yLCBtYXg6NCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2dsb3dCYXNlJywgbGFiZWw6J0dsb3cgQmFzZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NjAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd01heCcsIGxhYmVsOidHbG93IE1heCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6ODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZ2xvd1NjYWxlJywgbGFiZWw6J0dsb3cgU2NhbGUnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonY29tZXRTaXplJywgbGFiZWw6J0NvbWV0IFNpemUnLCB0eXBlOidudW1iZXInLCBtaW46MSwgbWF4OjIwLCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonYmdHcmFkaWVudCcsIGxhYmVsOidCRyBHcmFkaWVudCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MScsIGxhYmVsOidCRyBIdWUgU2hpZnQgMScsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQyJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAyJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDMnLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDMnLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidmbG93JywgbGFiZWw6J0Zsb3cgRmllbGQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonZmxvd0FtcCcsIGxhYmVsOidGbG93IEFtcCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjA1fSwKICAgICAgICB7a2V5OidmbG93U2NhbGUnLCBsYWJlbDonRmxvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMDUsIG1heDowLjAyLCBzdGVwOjAuMDAwNX0sCiAgICAgICAge2tleTonZmxvd1NwZWVkJywgbGFiZWw6J0Zsb3cgU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjMsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonY2xpY2tNb2RlJywgbGFiZWw6J0NsaWNrIE1vZGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsncmFuZG9tJywnc2hvY2snLCd2b3J0ZXgnLCdpbXBsb3Npb24nLCdzcHJheSddfSwKICAgICAgXTsKCiAgICAgIGZ1bmN0aW9uIG1ha2VSb3cobGFiZWwsIGlucHV0KSB7CiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHJvdy5jbGFzc05hbWUgPSAncm93JzsKICAgICAgICBjb25zdCBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsgbC50ZXh0Q29udGVudCA9IGxhYmVsOyByb3cuYXBwZW5kQ2hpbGQobCk7CiAgICAgICAgcm93LmFwcGVuZENoaWxkKGlucHV0KTsgcmV0dXJuIHJvdzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYWRkSW5wdXQoaXRlbSkgewogICAgICAgIGxldCBpbnB1dDsKICAgICAgICBjb25zdCB2MCA9IChpdGVtLmtleSBpbiBDRkcpID8gQ0ZHW2l0ZW0ua2V5XSA6IGl0ZW0udmFsdWU7CiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Jvb2wnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J2NoZWNrYm94JzsgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IENGR1tpdGVtLmtleV0gPSBpbnB1dC5jaGVja2VkOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnc2VsZWN0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTsKICAgICAgICAgIGZvciAoY29uc3Qgb3B0IG9mIGl0ZW0ub3B0aW9ucykgeyBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7IG8udmFsdWU9b3B0OyBvLnRleHRDb250ZW50PW9wdDsgaWYgKG9wdD09PXYwKSBvLnNlbGVjdGVkPXRydWU7IGlucHV0LmFwcGVuZENoaWxkKG8pOyB9CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LnZhbHVlOyBhcHBseUNoYW5nZShpdGVtLmtleSwgQ0ZHW2l0ZW0ua2V5XSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAndGV4dCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ndGV4dCc7IGlucHV0LnZhbHVlID0gU3RyaW5nKHYwfHwnJyk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaWYgKGl0ZW0ua2V5PT09J2hlYWRlcicpIHsgdGl0bGVFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5rZXk9PT0nc3ViaGVhZGVyJykgeyBzdWJ0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBpbnB1dC52YWx1ZSk7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5rZXkgPT09ICdodWUnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQubWluPScwJzsgaW5wdXQubWF4PSczNjAnOyBpbnB1dC5zdGVwPScxJzsgaW5wdXQudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIubWluPScwJzsgbnVtYmVyLm1heD0nMzYwJzsgbnVtYmVyLnN0ZXA9JzEnOyBudW1iZXIudmFsdWU9U3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWU9aW5wdXQudmFsdWU7IGh1ZUNoYW5nZWQocGFyc2VJbnQoaW5wdXQudmFsdWUpKTsgfSk7CiAgICAgICAgICBudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlucHV0LnZhbHVlPW51bWJlci52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gaHVlQ2hhbmdlZCh2YWwpewogICAgICAgICAgICAvLyBzaGlmdCBwYWxldHRlIGltbWVkaWF0ZWx5CiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gKHZhbCAtIHBhbGV0dGVIdWUpOwogICAgICAgICAgICBwYWxldHRlSHVlID0gdmFsOwogICAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBodWVbaV0gPSAoaHVlW2ldICsgZGVsdGEpICUgMzYwOyB9CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQnLCBgaHNsKCR7dmFsfSwgODUlLCA2MiUpYCk7CiAgICAgICAgICAgIHVwZGF0ZVVybEZyb21DZmcoe2h1ZTpTdHJpbmcodmFsKX0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG51bWVyaWMgKHJhbmdlICsgbnVtYmVyIHBhaXIpCiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3JhbmdlJzsgaW5wdXQuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgaW5wdXQubWluPVN0cmluZyhpdGVtLm1pbik7IGlmIChpdGVtLm1heCE9bnVsbCkgaW5wdXQubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBudW1iZXIudHlwZT0nbnVtYmVyJzsgbnVtYmVyLnN0ZXA9U3RyaW5nKGl0ZW0uc3RlcHx8MSk7CiAgICAgICAgICBpZiAoaXRlbS5taW4hPW51bGwpIG51bWJlci5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBudW1iZXIubWF4PVN0cmluZyhpdGVtLm1heCk7CiAgICAgICAgICBpbnB1dC52YWx1ZSA9IFN0cmluZyh2MCk7IG51bWJlci52YWx1ZSA9IFN0cmluZyh2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgbnVtYmVyLnZhbHVlID0gaW5wdXQudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWUgPSBudW1iZXIudmFsdWU7IG51bUNoYW5nZWQocGFyc2VGbG9hdChudW1iZXIudmFsdWUpKTsgfSk7CiAgICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHdyYXAuY2xhc3NOYW1lPSdyYW5nZVJvdyc7IHdyYXAuYXBwZW5kQ2hpbGQoaW5wdXQpOyB3cmFwLmFwcGVuZENoaWxkKG51bWJlcik7CiAgICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgd3JhcCkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZnVuY3Rpb24gbnVtQ2hhbmdlZCh2YWwpeyBDRkdbaXRlbS5rZXldID0gdmFsOyBhcHBseUNoYW5nZShpdGVtLmtleSwgdmFsKTsgfQogICAgICAgIH0KICAgICAgICBjZmdCb2R5LmFwcGVuZENoaWxkKG1ha2VSb3coaXRlbS5sYWJlbCwgaW5wdXQpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYXBwbHlDaGFuZ2Uoa2V5LCB2YWx1ZSkgewogICAgICAgIGlmIChrZXkgPT09ICdjb3VudCcgfHwga2V5ID09PSAnc3Bhd24nKSB7IHJlc2VlZChDRkcuY291bnQpOyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3F0JykgeyAvKiBpbW1lZGlhdGUgZHJhdyB0b2dnbGUgdmlhIENGRyAqLyB9CiAgICAgICAgaWYgKGtleSA9PT0gJ3Nob3dIdWQnKSB7IGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSBDRkcuc2hvd0h1ZCA/ICcnIDogJ25vbmUnOyB9CiAgICAgICAgdXBkYXRlVXJsRnJvbUNmZygpOwogICAgICB9CgogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc2NoZW1hKSBhZGRJbnB1dChpdGVtKTsKICAgICAgLy8gaW5pdGlhbCBIVUQgdmlzaWJpbGl0eQogICAgICBodWRFbC5zdHlsZS5kaXNwbGF5ID0gKENGRy5zaG93SHVkPT09ZmFsc2UpID8gJ25vbmUnIDogJyc7CgogICAgICAvLyBrZXlib2FyZCB0b2dnbGVzIChhZnRlciBidWlsZGluZyBwYW5lbCkKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7CiAgICAgICAgY29uc3QgayA9IGUua2V5LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKGsgPT09ICdxJykgeyBDRkcucXQgPSAhQ0ZHLnF0OyB1cGRhdGVVcmxGcm9tQ2ZnKCk7IH0KICAgICAgICBpZiAoayA9PT0gJ2MnKSB7IGNmZ1BhbmVsLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJyk7IH0KICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwogICAgPC9zY3JpcHQ+CiAgPC9ib2R5Pgo8L2h0bWw+Cg==" download="boids-dod-quadtree-9-impl.html" class="download-btn" title="Download boids-dod-quadtree-9-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=374 · spawn=circle · bounce · triangle · plus-lighter · hue=69 · qtCap=10 · flow" data-filename="boids-dod-quadtree-16-impl.html"><a href="boids-dod-quadtree-16-impl.html" target="viewer"><strong>Boids DOD+QT · N=374 · spawn=circle · bounce · triangle · plus-lighter · hue=69 · qtCap=10 · flow</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTM3NCDCtyBzcGF3bj1jaXJjbGUgwrcgYm91bmNlIMK3IHRyaWFuZ2xlIMK3IHBsdXMtbGlnaHRlciDCtyBodWU9NjkgwrcgcXRDYXA9MTAgwrcgZmxvdzwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgIGh0bWwsIGJvZHkgeyBoZWlnaHQ6IDEwMCU7IG1hcmdpbjogMDsgfQogICAgICBib2R5IHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMDUwNzBhOwogICAgICAgIGNvbG9yOiAjZTZlZGYzOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgZm9udC1mYW1pbHk6IHVpLXNhbnMtc2VyaWYsIHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgU2Vnb2UgVUksIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIjsKICAgICAgfQogICAgICAjc2NlbmUgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyB9CiAgICAgIC5vdmVybGF5IHsgcG9zaXRpb246IGZpeGVkOyBpbnNldDogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnIgYXV0bzsgfQogICAgICAudGl0bGUgeyBtYXJnaW46IDE4cHggMjBweCAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogY2xhbXAoMThweCwgM3Z3LCAyOHB4KTsgbGV0dGVyLXNwYWNpbmc6IDAuMnB4OyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgdGV4dC1zaGFkb3c6IDAgMCAxMHB4IGNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYWNjZW50LCAjN2RkM2ZjKSA4MCUsICMwMDAgMjAlKTsgfQogICAgICAuc3VidGl0bGUgeyBtYXJnaW46IDAgMjBweCAxMHB4OyBmb250LXdlaWdodDogNTAwOyBmb250LXNpemU6IGNsYW1wKDEycHgsIDJ2dywgMTZweCk7IG9wYWNpdHk6IDAuODU7IH0KICAgICAgLmh1ZCB7IHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMTJweDsgYm90dG9tOiAxMnB4OyBwYWRkaW5nOiA4cHggMTBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDQwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpIHNhdHVyYXRlKDEyMCUpOyBmb250LXNpemU6IDEycHg7IGxpbmUtaGVpZ2h0OiAxLjQ7IH0KICAgICAgLmh1ZCBzdHJvbmcgeyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgfQogICAgICAuY2ZnQnRuIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDEycHg7IHJpZ2h0OiAxMnB4OyB6LWluZGV4OiAxMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiA2cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ1BhbmVsIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDU2cHg7IHJpZ2h0OiAxMnB4OyB3aWR0aDogbWluKDM4MHB4LCA5MHZ3KTsgbWF4LWhlaWdodDogODB2aDsgb3ZlcmZsb3c6IGF1dG87IHotaW5kZXg6IDIwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYmFja2dyb3VuZDogIzBiMTIyMGU2OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3gtc2hhZG93OiAwIDEwcHggNDBweCAjMDAwODsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpIHNhdHVyYXRlKDEyMCUpOyB9CiAgICAgIC5jb25maWdIZWFkZXIgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDEwcHggMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAwMDA1NTsgcG9zaXRpb246IHN0aWNreTsgdG9wOiAwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZjI7IH0KICAgICAgLmNvbmZpZ0JvZHkgeyBwYWRkaW5nOiAxMHB4IDEycHg7IGRpc3BsYXk6IGdyaWQ7IGdhcDogMTBweDsgfQogICAgICAuY29uZmlnQm9keSAucm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bzsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJhbmdlUm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNzJweDsgZ2FwOiA4cHg7IH0KICAgICAgLmNmZ0Nsb3NlIHsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMTIxYTJiY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA2cHg7IHBhZGRpbmc6IDRweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dCwgLmNvbmZpZ0JvZHkgc2VsZWN0IHsgZm9udC1zaXplOiAxNHB4OyBwYWRkaW5nOiA2cHggOHB4OyBiYWNrZ3JvdW5kOiAjMTAxODI3OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiA2cHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXRbdHlwZT1yYW5nZV0geyBwYWRkaW5nOiAwOyBoZWlnaHQ6IDI4cHg7IGFjY2VudC1jb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPGNhbnZhcyBpZD0ic2NlbmUiPjwvY2FudmFzPgogICAgPGRpdiBjbGFzcz0ib3ZlcmxheSI+CiAgICAgIDxkaXYgY2xhc3M9InRpdGxlIiBpZD0idGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJzdWJ0aXRsZSIgaWQ9InN1YnRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaHVkIiBpZD0iaHVkIj48L2Rpdj4KICAgIDwvZGl2PgogICAgPGJ1dHRvbiBpZD0iY2ZnQnRuIiBjbGFzcz0iY2ZnQnRuIiBhcmlhLWxhYmVsPSJPcGVuIGNvbmZpZyI+4pqZ77iOPC9idXR0b24+CiAgICA8ZGl2IGlkPSJjb25maWciIGNsYXNzPSJjb25maWdQYW5lbCIgaGlkZGVuPgogICAgICA8ZGl2IGNsYXNzPSJjb25maWdIZWFkZXIiPgogICAgICAgIDxzdHJvbmc+Q29uZmlnPC9zdHJvbmc+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2ZnQ2xvc2UiIGNsYXNzPSJjZmdDbG9zZSIgYXJpYS1sYWJlbD0iQ2xvc2UiPuKclTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBpZD0iY29uZmlnQm9keSIgY2xhc3M9ImNvbmZpZ0JvZHkiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICAndXNlIHN0cmljdCc7CgogICAgICAvLyBVUkwgcGFyYW1ldGVycwogICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgICAgIGNvbnN0IERFRkFVTFRfSFVFID0gNjk7CiAgICAgIGNvbnN0IEJBU0VfSFVFID0gY2xhbXBJbnQocGFyc2VJbnQocGFyYW1zLmdldCgnaHVlJykpLCAwLCAzNjAsIERFRkFVTFRfSFVFKTsKICAgICAgbGV0IHBhbGV0dGVIdWUgPSBCQVNFX0hVRTsKICAgICAgY29uc3QgSEVBREVSID0gcGFyYW1zLmdldCgnaGVhZGVyJykgfHwgJ0JvaWRzIOKAlCBEYXRhLU9yaWVudGVkICsgUXVhZHRyZWUnOwogICAgICBjb25zdCBTVUJIRUFERVIgPSBwYXJhbXMuZ2V0KCdzdWJoZWFkZXInKSB8fCAnU2hvY2t3YXZlcyBvbiBjbGljay9kcmFnIMK3IHF1YWR0cmVlIHZpeiBvbic7CiAgICAgIC8vIFF1YWR0cmVlIHZpeiBpcyBoYW5kbGVkIGJ5IENGRy5xdDsgVVJMIHBhcmFtICdxdCcgb3ZlcnJpZGVzIGl0LgoKICAgICAgLy8gRE9NCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2VuZScpOwogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBmYWxzZSB9KTsKICAgICAgY29uc3QgdGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpOwogICAgICBjb25zdCBzdWJ0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YnRpdGxlJyk7CiAgICAgIGNvbnN0IGh1ZEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h1ZCcpOwoKICAgICAgLy8gU3R5bGUgaG9vawogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3BhbGV0dGVIdWV9LCA4NSUsIDYyJSlgKTsKICAgICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IEhFQURFUjsKICAgICAgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IFNVQkhFQURFUjsKCiAgICAgIC8vIENvbmZpZyAoaW5qZWN0ZWQgYnkgZ2VuZXJhdG9yKSDigJQgbXV0YWJsZSBhdCBydW50aW1lCiAgICAgIGxldCBDRkcgPSB7ImNvdW50IjogMzc0LCAidmlzaW9uIjogMTEyLCAic2VwIjogMjQsICJtYXhTcGVlZCI6IDIuODYsICJtYXhGb3JjZSI6IDAuMDU1LCAibWluU3BlZWQiOiAxLjA0LCAiYWxpZ25XIjogMS4yLCAiY29oZXNpb25XIjogMS4wLCAic2VwYXJhdGlvblciOiAyLjI2LCAidHJhaWxBbHBoYSI6IDAuMTUsICJxdENhcCI6IDEwLCAid3JhcCI6IGZhbHNlLCAic2hhcGUiOiAidHJpYW5nbGUiLCAiYmxlbmQiOiAicGx1cy1saWdodGVyIiwgImxpbmVXaWR0aCI6IDEuMDMsICJnbG93QmFzZSI6IDI0LCAiZ2xvd01heCI6IDM0LCAiZ2xvd1NjYWxlIjogMTEuNSwgImNvbWV0U2l6ZSI6IDguNCwgImJnR3JhZGllbnQiOiBmYWxzZSwgImJnSHVlU2hpZnQxIjogLTI0LCAiYmdIdWVTaGlmdDIiOiAzOSwgImJnSHVlU2hpZnQzIjogMTA3LCAic3Bhd24iOiAiY2lyY2xlIiwgInF0IjogdHJ1ZSwgInNob3dIdWQiOiB0cnVlLCAiZmxvdyI6IHRydWUsICJmbG93QW1wIjogMC45LCAiZmxvd1NjYWxlIjogMC4wMDk0LCAiZmxvd1NwZWVkIjogMC43MywgImNsaWNrTW9kZSI6ICJyYW5kb20ifTsKICAgICAgQ0ZHLm1pblNwZWVkID0gQ0ZHLm1pblNwZWVkID8/IDAuODsKICAgICAgQ0ZHLnF0ID0gKHR5cGVvZiBDRkcucXQgPT09ICdib29sZWFuJykgPyBDRkcucXQgOiB0cnVlOwogICAgICBDRkcuY2xpY2tNb2RlID0gQ0ZHLmNsaWNrTW9kZSB8fCAncmFuZG9tJzsKICAgICAgQ0ZHLmNsaWNrTW9kZXMgPSBDRkcuY2xpY2tNb2RlcyB8fCBbCiAgICAgICAgJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknLCdzdHVuJywnZmVhcicsJ2F0dHJhY3QnLCdvcmJpdENXJywnb3JiaXRDQ1cnLAogICAgICAgICdzcGlyYWxPdXQnLCdzcGlyYWxJbicsJ2ZyZWV6ZScsJ3NjcmFtYmxlJywnc2NhdHRlcicsJ21hZ25ldCcsJ3B1bHNlJywKICAgICAgICAnd2FycCcsJ2dyb3cnLCd0dW5uZWwnLCdyaXBwbGUnLCdqaXR0ZXJidXJzdCcsJ2Nocm9tYWJ1cnN0Jywnc2xvd2Rvd24nLCdzcGVlZHVwJywKICAgICAgICAncGVybGluRHJhZycsJ2xpc3NhUHVsc2UnLCdtZXRlb3InLAogICAgICAgIC8vIHN0ZWVyaW5nLXdlaWdodCBlZmZlY3RzCiAgICAgICAgJ2FsaWduJywnZGVhbGlnbicsJ2NvaGVyZScsJ2xvb3NlbicsJ3NlcGFyYXRlJywnZGlzcGVyc2UnCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBwYXJzZUJvb2wodiwgZCkgewogICAgICAgIGlmICh2ID09IG51bGwpIHJldHVybiBkOwogICAgICAgIGNvbnN0IHMgPSBTdHJpbmcodikudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoWycxJywndHJ1ZScsJ3llcycsJ29uJ10uaW5jbHVkZXMocykpIHJldHVybiB0cnVlOwogICAgICAgIGlmIChbJzAnLCdmYWxzZScsJ25vJywnb2ZmJ10uaW5jbHVkZXMocykpIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gZDsKICAgICAgfQoKICAgICAgLy8gVVJMIG92ZXJyaWRlcyBmb3IgY29uZmlnCiAgICAgIChmdW5jdGlvbiB1cmxPdmVycmlkZSgpewogICAgICAgIGNvbnN0IGludEtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywncXRDYXAnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnXTsKICAgICAgICBjb25zdCBudW1LZXlzID0gWydtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJ107CiAgICAgICAgY29uc3QgYm9vbEtleXMgPSBbJ3dyYXAnLCdiZ0dyYWRpZW50JywncXQnLCdmbG93Jywnc2hvd0h1ZCddOwogICAgICAgIGNvbnN0IHN0cktleXMgPSBbJ3NoYXBlJywnYmxlbmQnLCdzcGF3biddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBpbnRLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE1hdGgubWF4KC05OTk5OSwgTWF0aC5taW4oOTk5OTksIHBhcnNlSW50KHYpKSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgbnVtS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBOdW1iZXIodik7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgYm9vbEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gcGFyc2VCb29sKHYsIENGR1trXSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2Ygc3RyS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSB2OyB9CiAgICAgICAgY29uc3QgY20gPSBwYXJhbXMuZ2V0KCdjbGlja01vZGUnKTsgaWYgKGNtKSBDRkcuY2xpY2tNb2RlID0gY207CiAgICAgICAgY29uc3QgY21zID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlcycpOyBpZiAoY21zKSBDRkcuY2xpY2tNb2RlcyA9IGNtcy5zcGxpdCgnLCcpOwogICAgICB9KSgpOwoKICAgICAgZnVuY3Rpb24gdXBkYXRlVXJsRnJvbUNmZyhleHRyYT17fSkgewogICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwobG9jYXRpb24uaHJlZik7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2h1ZScsIHBhbGV0dGVIdWUpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdoZWFkZXInLCB0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3ViaGVhZGVyJywgc3VidGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qga2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdxdENhcCcsJ3dyYXAnLCdzaGFwZScsJ2JsZW5kJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnYmdHcmFkaWVudCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MycsJ3F0JywnY2xpY2tNb2RlJywnY2xpY2tNb2RlcycsJ2Zsb3cnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJywnc3Bhd24nLCdzaG93SHVkJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIFN0cmluZyhDRkdba10pKTsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZXMgJiYgQXJyYXkuaXNBcnJheShDRkcuY2xpY2tNb2RlcykpIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdjbGlja01vZGVzJywgQ0ZHLmNsaWNrTW9kZXMuam9pbignLCcpKTsKICAgICAgICBmb3IgKGNvbnN0IFtrLHZdIG9mIE9iamVjdC5lbnRyaWVzKGV4dHJhKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgdik7CiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgJycsIHVybC50b1N0cmluZygpKTsKICAgICAgfQoKICAgICAgY29uc3QgVEFVID0gTWF0aC5QSSAqIDI7CgogICAgICAvLyBDYW52YXMgc2l6aW5nIHdpdGggRFBSCiAgICAgIGxldCBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgICBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcihpbm5lcldpZHRoICogRFBSKTsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihpbm5lckhlaWdodCAqIERQUik7CiAgICAgICAgY3R4LnNldFRyYW5zZm9ybShEUFIsIDAsIDAsIERQUiwgMCwgMCk7CiAgICAgICAgY2xlYXJIYXJkKCk7CiAgICAgIH0KICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKTsKICAgICAgcmVzaXplKCk7CgogICAgICBmdW5jdGlvbiBjbGVhckhhcmQoKSB7CiAgICAgICAgaWYgKENGRy5iZ0dyYWRpZW50KSB7CiAgICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGlubmVyV2lkdGgqMC42NSwgaW5uZXJIZWlnaHQqMC4zNSwgTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuMTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyV2lkdGgqMC41LCBpbm5lckhlaWdodCowLjUsIE1hdGguaHlwb3QoaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuNyk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDEpJTM2MH0gODAlIDEwJSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNSwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MiklMzYwfSA3MCUgOCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgxLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDMpJTM2MH0gNjAlIDYlKWApOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBpbm5lcldpZHRoLCBpbm5lckhlaWdodCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNsYW1wSW50KG4sIGxvLCBoaSwgZmFsbGJhY2spIHsKICAgICAgICBuID0gTnVtYmVyLmlzRmluaXRlKG4pID8gbiA6IGZhbGxiYWNrOwogICAgICAgIHJldHVybiBNYXRoLm1heChsbywgTWF0aC5taW4oaGksIG4pKTsKICAgICAgfQoKICAgICAgLy8gRHJpZnQgYSBodWUgdmFsdWUgdG93YXJkIGEgdGFyZ2V0IG9uIGEgY2lyY3VsYXIgY29sb3Igd2hlZWwKICAgICAgZnVuY3Rpb24gYXBwcm9hY2hIdWUoaCwgdGFyZ2V0LCByYXRlKSB7CiAgICAgICAgLy8gcmF0ZSBpcyAwLi4xIGZyYWN0aW9uIHRvd2FyZCB0YXJnZXQgcGVyIGNhbGwKICAgICAgICBsZXQgZCA9ICgodGFyZ2V0IC0gaCArIDU0MCkgJSAzNjApIC0gMTgwOyAvLyBzaG9ydGVzdCBzaWduZWQgZGVsdGEgWy0xODAsMTgwKQogICAgICAgIHJldHVybiAoaCArIGQgKiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCByYXRlKSkgKyAzNjApICUgMzYwOwogICAgICB9CgogICAgICAvLyBMaWdodHdlaWdodCAyRCB2YWx1ZSBub2lzZSAoZm9yIHBlcmxpbi1saWtlIGRyYWcpCiAgICAgIGxldCBub2lzZVNlZWQgPSAoQkFTRV9IVUUgKiAxNjY0NTI1ICsgMTAxMzkwNDIyMykgJiAweGZmZmZmZmZmOwogICAgICBmdW5jdGlvbiBmcmFjdCh4KXsgcmV0dXJuIHggLSBNYXRoLmZsb29yKHgpOyB9CiAgICAgIGZ1bmN0aW9uIF9yYW5kKGl4LCBpeSl7CiAgICAgICAgY29uc3QgayA9IChpeCAqIDM3NDc2MTM5MyArIGl5ICogNjY4MjY1MjYzICsgbm9pc2VTZWVkKSA+Pj4gMDsKICAgICAgICByZXR1cm4gZnJhY3QoTWF0aC5zaW4oaykgKiA0Mzc1OC41NDUzKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBub2lzZTIoeCwgeSl7CiAgICAgICAgY29uc3QgeGkgPSBNYXRoLmZsb29yKHgpLCB5aSA9IE1hdGguZmxvb3IoeSk7CiAgICAgICAgY29uc3QgeGYgPSB4IC0geGksIHlmID0geSAtIHlpOwogICAgICAgIGNvbnN0IHUgPSB4Zip4ZiooMy0yKnhmKSwgdiA9IHlmKnlmKigzLTIqeWYpOwogICAgICAgIGNvbnN0IHYwMCA9IF9yYW5kKHhpLCB5aSksIHYxMCA9IF9yYW5kKHhpKzEsIHlpKSwgdjAxID0gX3JhbmQoeGksIHlpKzEpLCB2MTEgPSBfcmFuZCh4aSsxLCB5aSsxKTsKICAgICAgICBjb25zdCB4MSA9IHYwMCooMS11KSArIHYxMCp1LCB4MiA9IHYwMSooMS11KSArIHYxMSp1OwogICAgICAgIHJldHVybiB4MSooMS12KSArIHgyKnY7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gcGVybGluVmVjKHgsIHksIHNjYWxlLCBhbXApewogICAgICAgIGNvbnN0IG4gPSBub2lzZTIoeCpzY2FsZSwgeSpzY2FsZSk7CiAgICAgICAgY29uc3QgYSA9IG4gKiBUQVU7CiAgICAgICAgcmV0dXJuIFtNYXRoLmNvcyhhKSphbXAsIE1hdGguc2luKGEpKmFtcF07CiAgICAgIH0KCiAgICAgIC8vIFNlZWRlZCBQUk5HIGZvciBzdWJ0bGUgZGV0ZXJtaW5pc20gZnJvbSBCQVNFX0hVRQogICAgICBsZXQgX3NlZWQgPSAoQkFTRV9IVUUgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwOwogICAgICBmdW5jdGlvbiBybmQoKSB7IF9zZWVkID0gKDExMDM1MTUyNDUgKiBfc2VlZCArIDEyMzQ1KSAmIDB4N2ZmZmZmZmY7IHJldHVybiAoX3NlZWQgPj4+IDgpIC8gMHg3ZmZmZmY7IH0KICAgICAgZnVuY3Rpb24gcmFuZChtaW4sIG1heCkgeyByZXR1cm4gcm5kKCkgKiAobWF4IC0gbWluKSArIG1pbjsgfQoKICAgICAgLy8gRGF0YS1PcmllbnRlZCBTdGF0ZSAoU29BKSDigJQgZHluYW1pYwogICAgICBsZXQgTiA9IENGRy5jb3VudDsKICAgICAgbGV0IHB4LCBweSwgdngsIHZ5LCBheCwgYXksIGh1ZSwgc3BkLCBwcmV2eCwgcHJldnk7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBtb2RpZmllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBzaXplTXVsLCB2Qm9vc3QsIGh1ZU9mZiwgaml0QW1wOwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgc3RlZXJpbmcgbXVsdGlwbGllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBhbGlnbk11bCwgY29oZXNpb25NdWwsIHNlcGFyYXRpb25NdWw7CgogICAgICBmdW5jdGlvbiBhbGxvYyhuKSB7CiAgICAgICAgcHggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBweSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgdnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYXggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBheSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgaHVlID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc3BkID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBwcmV2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHByZXZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBzaXplTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdkJvb3N0ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaHVlT2ZmID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaml0QW1wID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBhbGlnbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGNvaGVzaW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc2VwYXJhdGlvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHNlZWRCb2lkcygpIHsKICAgICAgICBjb25zdCBtb2RlID0gQ0ZHLnNwYXduIHx8ICdyYW5kb20nOwogICAgICAgIGlmIChtb2RlID09PSAnY2lyY2xlJykgewogICAgICAgICAgY29uc3QgY3ggPSBpbm5lcldpZHRoLzIsIGN5ID0gaW5uZXJIZWlnaHQvMiwgciA9IE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KS8zOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgdCA9IE1hdGgucmFuZG9tKCkqTWF0aC5QSSoyOyBweFtpXT1jeCtNYXRoLmNvcyh0KSpyOyBweVtpXT1jeStNYXRoLnNpbih0KSpyOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnZ3JpZCcpIHsKICAgICAgICAgIGNvbnN0IGNvbHM9TWF0aC5tYXgoMTAsIE1hdGguZmxvb3IoTWF0aC5zcXJ0KE4pKSk7IGNvbnN0IHJvd3M9TWF0aC5jZWlsKE4vY29scyk7CiAgICAgICAgICBjb25zdCBneD1pbm5lcldpZHRoLyhjb2xzKzEpLCBneT1pbm5lckhlaWdodC8ocm93cysxKTsgbGV0IGs9MDsKICAgICAgICAgIGZvciAobGV0IHk9MTt5PD1yb3dzO3krKykgZm9yIChsZXQgeD0xO3g8PWNvbHM7eCsrKSB7IGlmIChrPj1OKSBicmVhazsgcHhba109Z3gqeDsgcHlba109Z3kqeTsgdnhba109cmFuZCgtMSwxKTsgdnlba109cmFuZCgtMSwxKTsgaysrOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnY2VudGVyYnVyc3QnKSB7CiAgICAgICAgICBjb25zdCBjeD1pbm5lcldpZHRoLzIsIGN5PWlubmVySGVpZ2h0LzI7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCBhPU1hdGgucmFuZG9tKCkqTWF0aC5QSSoyLCBkPXJhbmQoMCwgTWF0aC5taW4oaW5uZXJXaWR0aCxpbm5lckhlaWdodCkvMik7IHB4W2ldPWN4K01hdGguY29zKGEpKmQ7IHB5W2ldPWN5K01hdGguc2luKGEpKmQ7IHZ4W2ldPU1hdGguY29zKGEpOyB2eVtpXT1NYXRoLnNpbihhKTsgfQogICAgICAgIH0gZWxzZSB7IC8vIHJhbmRvbQogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgcHhbaV09cmFuZCgwLGlubmVyV2lkdGgpOyBweVtpXT1yYW5kKDAsaW5uZXJIZWlnaHQpOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICBjb25zdCBtPU1hdGguaHlwb3QodnhbaV0sdnlbaV0pfHwxOyB2eFtpXSo9Mi4wL207IHZ5W2ldKj0yLjAvbTsKICAgICAgICAgIGh1ZVtpXSA9IChwYWxldHRlSHVlICsgcmFuZCgtMzAsIDMwKSkgJSAzNjA7IHByZXZ4W2ldPXB4W2ldOyBwcmV2eVtpXT1weVtpXTsKICAgICAgICAgIHNpemVNdWxbaV09MDsgdkJvb3N0W2ldPTA7IGh1ZU9mZltpXT0wOyBqaXRBbXBbaV09MDsKICAgICAgICAgIGFsaWduTXVsW2ldPTA7IGNvaGVzaW9uTXVsW2ldPTA7IHNlcGFyYXRpb25NdWxbaV09MDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHJlc2VlZChuKSB7CiAgICAgICAgTiA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IobikpOwogICAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKICAgICAgfQoKICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwoKICAgICAgLy8gUXVhZHRyZWUgaW1wbGVtZW50YXRpb24KICAgICAgY2xhc3MgUVROb2RlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMueCA9IHg7IHRoaXMueSA9IHk7IHRoaXMudyA9IHc7IHRoaXMuaCA9IGg7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsgdGhpcy5jb3VudCA9IDA7IHRoaXMuaWR4ID0gbmV3IEludDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMucHRzeCA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsgdGhpcy5wdHN5ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5kaXZpZGVkID0gZmFsc2U7IHRoaXMuY2hpbGRyZW4gPSBudWxsOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY2xhc3MgUXVhZHRyZWUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy5yb290ID0gbmV3IFFUTm9kZSh4LCB5LCB3LCBoLCBjYXApOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7CiAgICAgICAgfQoKICAgICAgICBpbnNlcnQoaSwgeCwgeSwgbm9kZSA9IHRoaXMucm9vdCkgewogICAgICAgICAgaWYgKHggPCBub2RlLnggfHwgeSA8IG5vZGUueSB8fCB4ID49IG5vZGUueCArIG5vZGUudyB8fCB5ID49IG5vZGUueSArIG5vZGUuaCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgaWYgKG5vZGUuY291bnQgPCBub2RlLmNhcCAmJiAhbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSBub2RlLmNvdW50Kys7IG5vZGUuaWR4W2pdID0gaTsgbm9kZS5wdHN4W2pdID0geDsgbm9kZS5wdHN5W2pdID0geTsgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgdGhpcy5zdWJkaXZpZGUobm9kZSk7CiAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgfQoKICAgICAgICBzdWJkaXZpZGUobm9kZSkgewogICAgICAgICAgbm9kZS5kaXZpZGVkID0gdHJ1ZTsKICAgICAgICAgIGNvbnN0IGh3ID0gbm9kZS53LzIsIGhoID0gbm9kZS5oLzI7CiAgICAgICAgICBub2RlLmNoaWxkcmVuID0gWwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTlcKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5FCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU0UKICAgICAgICAgIF07CiAgICAgICAgICAvLyByZWluc2VydCBleGlzdGluZyBwb2ludHMKICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbm9kZS5jb3VudDsgaysrKSB7CiAgICAgICAgICAgIGNvbnN0IGkgPSBub2RlLmlkeFtrXTsgY29uc3QgeCA9IG5vZGUucHRzeFtrXTsgY29uc3QgeSA9IG5vZGUucHRzeVtrXTsKICAgICAgICAgICAgdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgICB9CiAgICAgICAgICBub2RlLmNvdW50ID0gMDsgLy8gY2xlYXIgbGVhZiBzdG9yYWdlCiAgICAgICAgfQoKICAgICAgICBxdWVyeShjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgdGhpcy5fcXVlcnlOb2RlKHRoaXMucm9vdCwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KICAgICAgICBfcXVlcnlOb2RlKG5vZGUsIGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICAvLyBjaXJjbGUtcmVjdCBxdWljayByZWplY3QKICAgICAgICAgIGNvbnN0IHJ4PW5vZGUueCwgcnk9bm9kZS55LCBydz1ub2RlLncsIHJoPW5vZGUuaDsKICAgICAgICAgIGxldCBueCA9IE1hdGgubWF4KHJ4LCBNYXRoLm1pbihjeCwgcngrcncpKTsKICAgICAgICAgIGxldCBueSA9IE1hdGgubWF4KHJ5LCBNYXRoLm1pbihjeSwgcnkrcmgpKTsKICAgICAgICAgIGNvbnN0IGRpc3QgPSAoY3gtbngpKihjeC1ueCkrKGN5LW55KSooY3ktbnkpOwogICAgICAgICAgaWYgKGRpc3QgPiByKnIpIHJldHVybjsKCiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBmb3IgKGxldCBrPTA7azxub2RlLmNvdW50O2srKykgeyBvdXQucHVzaChub2RlLmlkeFtrXSk7IH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX3F1ZXJ5Tm9kZShub2RlLmNoaWxkcmVuW2NdLCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQoKICAgICAgICBkcmF3KGN0eCkgewogICAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHsocGFsZXR0ZUh1ZSsxODApJTM2MH0gODAlIDcwJSAvIDAuMTQpYDsKICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgdGhpcy5fZHJhd05vZGUoY3R4LCB0aGlzLnJvb3QpOwogICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICAgICAgX2RyYXdOb2RlKGN0eCwgbm9kZSkgewogICAgICAgICAgY3R4LnN0cm9rZVJlY3Qobm9kZS54LCBub2RlLnksIG5vZGUudywgbm9kZS5oKTsKICAgICAgICAgIGlmIChub2RlLmRpdmlkZWQpIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9kcmF3Tm9kZShjdHgsIG5vZGUuY2hpbGRyZW5bY10pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0cwogICAgICBjb25zdCBlZmZlY3RzID0gW107IC8vIHt4LHksdCxsaWZlLHNpZ24sdHlwZSwuLi5leHRyYXN9CiAgICAgIGxldCBtb3VzZURvd24gPSBmYWxzZTsKICAgICAgY29uc3QgcG9pbnRlciA9IHt4OiBpbm5lcldpZHRoLzIsIHk6IGlubmVySGVpZ2h0LzIsIHZ4OiAwLCB2eTogMCwgdDogcGVyZm9ybWFuY2Uubm93KCl9OwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSB0cnVlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsICAgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IGZhbHNlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgLTEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIGlmIChtb3VzZURvd24pIHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKCiAgICAgIGZ1bmN0aW9uIHBpY2tDbGlja1R5cGUoKSB7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGUgJiYgQ0ZHLmNsaWNrTW9kZSAhPT0gJ3JhbmRvbScpIHJldHVybiBDRkcuY2xpY2tNb2RlOwogICAgICAgIGNvbnN0IGxpc3QgPSBDRkcuY2xpY2tNb2RlcyB8fCBbJ3Nob2NrJ107CiAgICAgICAgcmV0dXJuIGxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmxpc3QubGVuZ3RoKV0gfHwgJ3Nob2NrJzsKICAgICAgfQogICAgICBmdW5jdGlvbiBzcGF3bkVmZmVjdCh4LCB5LCBzaWduKSB7CiAgICAgICAgY29uc3QgdHlwZSA9IHBpY2tDbGlja1R5cGUoKTsKICAgICAgICBjb25zdCBsaWZlID0gKHR5cGU9PT0naW1wbG9zaW9uJykgPyAwLjkgOiAodHlwZT09PSd2b3J0ZXgnIHx8IHR5cGU9PT0nbWV0ZW9yJyA/IDEuOCA6IDEuMik7CiAgICAgICAgY29uc3QgRSA9IHsgeCwgeSwgdDogMCwgbGlmZSwgc2lnbiwgdHlwZSB9OwogICAgICAgIGlmICh0eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgIGNvbnN0IHNwID0gTWF0aC5taW4oMywgTWF0aC5oeXBvdChwb2ludGVyLnZ4LCBwb2ludGVyLnZ5KSoxMjApOwogICAgICAgICAgRS5hID0gMiArIE1hdGguZmxvb3Ioc3AlNCk7IEUuYiA9IDMgKyBNYXRoLmZsb29yKChzcCoxLjcpJTQpOyBFLnBoYXNlID0gTWF0aC5yYW5kb20oKSpUQVU7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgY29uc3Qgc2NhbGUgPSA5MDA7IEUudnggPSBwb2ludGVyLnZ4KnNjYWxlOyBFLnZ5ID0gcG9pbnRlci52eSpzY2FsZTsgRS5tYXNzID0gMjIwICsgTWF0aC5yYW5kb20oKSoxODA7IEUuZHJhZz0wLjk4OwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICBFLnNjYWxlID0gMC4wMDYgKyBNYXRoLnJhbmRvbSgpKjAuMDA2OyBFLmFtcCA9IDEuMiArIE1hdGgucmFuZG9tKCkqMS4yOwogICAgICAgIH0KICAgICAgICBlZmZlY3RzLnB1c2goRSk7CiAgICAgIH0KCiAgICAgIC8vIFBoeXNpY3MgaGVscGVycwogICAgICBmdW5jdGlvbiBsaW1pdCh2eCwgdnksIG1heCkgewogICAgICAgIGNvbnN0IG0yID0gdngqdnggKyB2eSp2eTsgaWYgKG0yID4gbWF4Km1heCkgewogICAgICAgICAgY29uc3QgbSA9IE1hdGguc3FydChtMikgfHwgMTsgY29uc3QgcyA9IG1heCAvIG07IHJldHVybiBbdngqcywgdnkqc107CiAgICAgICAgfSByZXR1cm4gW3Z4LCB2eV07CiAgICAgIH0KCiAgICAgIC8vIE1haW4gbG9vcAogICAgICBsZXQgbGFzdCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICBsZXQgZnBzQXZnID0gMDsKICAgICAgZnVuY3Rpb24gZnJhbWUodCkgewogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5taW4oMzIsIHQgLSBsYXN0KSAqIDAuMDAxOyAvLyBjbGFtcAogICAgICAgIGxhc3QgPSB0OwogICAgICAgIGNvbnN0IGZwc05vdyA9IDEgLyBNYXRoLm1heCgxZS02LCBkdCk7CiAgICAgICAgZnBzQXZnID0gZnBzQXZnID8gKGZwc0F2ZyowLjkgKyBmcHNOb3cqMC4xKSA6IGZwc05vdzsKICAgICAgICBjb25zdCBXID0gaW5uZXJXaWR0aCwgSCA9IGlubmVySGVpZ2h0OwoKICAgICAgICAvLyB0cmFpbHM6IHRyYW5zbHVjZW50IGZpbGwKICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJzsKICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIENGRy50cmFpbEFscGhhKSk7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgVywgSCk7CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gQnVpbGQgcXVhZHRyZWUKICAgICAgICBjb25zdCBxdCA9IG5ldyBRdWFkdHJlZSgwLCAwLCBXLCBILCBDRkcucXRDYXApOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSBxdC5pbnNlcnQoaSwgcHhbaV0sIHB5W2ldKTsKCiAgICAgIC8vIEFwcGx5IGZsb2NraW5nIHZpYSBuZWlnaGJvciBxdWVyaWVzIChhZGFwdGl2ZSB2aXNpb24gdW5kZXIgbG9hZCkKICAgICAgY29uc3QgdmlzaW9uID0gQ0ZHLnZpc2lvbiAqIChmcHNBdmcgPCA1MCA/IDAuOSA6IDEuMCk7IGNvbnN0IHNlcCA9IENGRy5zZXA7CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGF4W2ldPTA7IGF5W2ldPTA7IH0KICAgICAgbGV0IHRtcCA9IFtdOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgIHRtcC5sZW5ndGggPSAwOyBxdC5xdWVyeShweFtpXSwgcHlbaV0sIHZpc2lvbiwgdG1wKTsKICAgICAgICAgIGxldCBjeD0wLCBjeT0wLCB2eHN1bT0wLCB2eXN1bT0wLCBzeD0wLCBzeT0wLCB0b3RhbD0wLCBzY2xvc2U9MDsKICAgICAgICAgIGZvciAobGV0IGs9MDtrPHRtcC5sZW5ndGg7aysrKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSB0bXBba107IGlmIChqPT09aSkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGR4ID0gcHhbal0tcHhbaV07IGNvbnN0IGR5ID0gcHlbal0tcHlbaV07CiAgICAgICAgICAgIGNvbnN0IGQyID0gZHgqZHggKyBkeSpkeTsgaWYgKGQyID09PSAwKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChkMik7CiAgICAgICAgICAgIGlmIChkIDwgdmlzaW9uKSB7IHRvdGFsKys7IGN4ICs9IHB4W2pdOyBjeSArPSBweVtqXTsgdnhzdW0gKz0gdnhbal07IHZ5c3VtICs9IHZ5W2pdOyB9CiAgICAgICAgICAgIGlmIChkIDwgc2VwKSB7IHNjbG9zZSsrOyBzeCAtPSBkeC8oZHx8MSk7IHN5IC09IGR5LyhkfHwxKTsgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKHRvdGFsPjApIHsKICAgICAgICAgICAgLy8gYWxpZ25tZW50CiAgICAgICAgICAgIGxldCBheHYgPSAodnhzdW0vdG90YWwpIC0gdnhbaV07IGxldCBheXYgPSAodnlzdW0vdG90YWwpIC0gdnlbaV07CiAgICAgICAgICAgIGNvbnN0IGFsaWduVyA9IENGRy5hbGlnblcgKiAoMSArIChhbGlnbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbYXh2LCBheXZdID0gbGltaXQoYXh2LCBheXYsIENGRy5tYXhGb3JjZSk7CiAgICAgICAgICAgIGF4W2ldICs9IGF4diAqIGFsaWduVzsgYXlbaV0gKz0gYXl2ICogYWxpZ25XOwogICAgICAgICAgICAvLyBjb2hlc2lvbgogICAgICAgICAgICBsZXQgY3h2ID0gKGN4L3RvdGFsIC0gcHhbaV0pOyBsZXQgY3l2ID0gKGN5L3RvdGFsIC0gcHlbaV0pOwogICAgICAgICAgICBjb25zdCBjb2hXID0gQ0ZHLmNvaGVzaW9uVyAqICgxICsgKGNvaGVzaW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtjeHYsIGN5dl0gPSBsaW1pdChjeHYsIGN5diwgQ0ZHLm1heEZvcmNlKTsgYXhbaV0gKz0gY3h2ICogY29oVzsgYXlbaV0gKz0gY3l2ICogY29oVzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChzY2xvc2U+MCkgewogICAgICAgICAgICBsZXQgc3h2ID0gc3g7IGxldCBzeXYgPSBzeTsgW3N4diwgc3l2XSA9IGxpbWl0KHN4diwgc3l2LCBDRkcubWF4Rm9yY2UqMS41KTsKICAgICAgICAgICAgY29uc3Qgc2VwVyA9IENGRy5zZXBhcmF0aW9uVyAqICgxICsgKHNlcGFyYXRpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgYXhbaV0gKz0gc3h2ICogc2VwVzsgYXlbaV0gKz0gc3l2ICogc2VwVzsKICAgICAgICAgIH0KICAgICAgICAvLyBvcHRpb25hbCBmbG93IGZpZWxkIGZvciBwYXR0ZXJuIHZhcmlldHkKICAgICAgICBpZiAoQ0ZHLmZsb3cpIHsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuZmxvd1NjYWxlIHx8IDAuMDA0OyBjb25zdCBhID0gQ0ZHLmZsb3dBbXAgfHwgMC42OyBjb25zdCBzcCA9IENGRy5mbG93U3BlZWQgfHwgMC42OwogICAgICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKSowLjAwMSpzcDsKICAgICAgICAgIGNvbnN0IGZ4ID0gTWF0aC5zaW4ocHlbaV0qcyArIHQwKSAqIGE7CiAgICAgICAgICBjb25zdCBmeSA9IE1hdGguY29zKHB4W2ldKnMgLSB0MCkgKiBhOwogICAgICAgICAgYXhbaV0gKz0gZng7IGF5W2ldICs9IGZ5OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0czogfjIwKyBtb2RlcyBpbmNsdWRpbmcgcGVybGluRHJhZywgbGlzc2FQdWxzZSwgbWV0ZW9yCiAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcic7CiAgICAgIGxldCB0bXAyID0gW107CiAgICAgIGZvciAobGV0IGU9ZWZmZWN0cy5sZW5ndGgtMTsgZT49MDsgZS0tKSB7CiAgICAgICAgY29uc3QgRSA9IGVmZmVjdHNbZV07IEUudCArPSBkdDsgY29uc3QgayA9IEUudCAvIEUubGlmZTsKICAgICAgICBjb25zdCByID0gMzAgKyBrICogMjYwOyBjb25zdCBzdHIgPSAxLjAgLSBrOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7IEUueCArPSAoRS52eHx8MCkqZHQ7IEUueSArPSAoRS52eXx8MCkqZHQ7IEUudnggKj0gKEUuZHJhZ3x8MSk7IEUudnkgKj0gKEUuZHJhZ3x8MSk7IEUubWFzcyAqPSAwLjk4NTsgfQogICAgICAgIHRtcDIubGVuZ3RoID0gMDsgcXQucXVlcnkoRS54LCBFLnksIHIsIHRtcDIpOwogICAgICAgIGZvciAobGV0IGlpPTA7IGlpPHRtcDIubGVuZ3RoOyBpaSsrKSB7CiAgICAgICAgICBjb25zdCBpID0gdG1wMltpaV07IGNvbnN0IGR4ID0gcHhbaV0tRS54OyBjb25zdCBkeSA9IHB5W2ldLUUueTsgY29uc3QgZCA9IE1hdGguaHlwb3QoZHgsIGR5KXx8MTsKICAgICAgICAgIGNvbnN0IGZhbGwgPSAoMSAtIE1hdGgubWluKDEsIGQvcikpOwogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICAgIGNvbnN0IHYgPSBwZXJsaW5WZWMocHhbaV0tRS54LCBweVtpXS1FLnksIEUuc2NhbGV8fDAuMDA4LCAoRS5hbXB8fDEuNSkgKiBmYWxsKTsKICAgICAgICAgICAgYXhbaV0gKz0gdlswXTsgYXlbaV0gKz0gdlsxXTsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIoZHksIGR4KTsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKEUuYSphbmcgKyBFLnBoYXNlKSAqIE1hdGguY29zKEUuYiphbmcgLSBFLnBoYXNlKTsKICAgICAgICAgICAgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgICAgY29uc3QgRyA9IDgwMDsgY29uc3QgZiA9IE1hdGgubWluKDMuMCwgKEcqKEUubWFzc3x8MjAwKSkvKChkKmQpKzIwMCkpOwogICAgICAgICAgICBheFtpXSAtPSAoZHgvZCkqZipmYWxsOyBheVtpXSAtPSAoZHkvZCkqZipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICd2b3J0ZXgnIHx8IEUudHlwZT09PSdvcmJpdENXJyB8fCBFLnR5cGU9PT0nb3JiaXRDQ1cnIHx8IEUudHlwZT09PSdzcGlyYWxPdXQnIHx8IEUudHlwZT09PSdzcGlyYWxJbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdvcmJpdENDVycpID8gLTEgOiAxOwogICAgICAgICAgICBjb25zdCB0eCA9IC1keS9kLCB0eSA9IGR4L2Q7IGxldCBzID0gKEUuc2lnbj4wPzE6LTEpICogMS4yICogZmFsbCAqIGRpcjsKICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxPdXQnKSB7IHMgPSAxLjIqZmFsbDsgYXhbaV0gKz0gKGR4L2QpKmZhbGwqMC44OyBheVtpXSArPSAoZHkvZCkqZmFsbCowLjg7IH0KICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxJbicpIHsgcyA9IC0xLjIqZmFsbDsgYXhbaV0gLT0gKGR4L2QpKmZhbGwqMC42OyBheVtpXSAtPSAoZHkvZCkqZmFsbCowLjY7IH0KICAgICAgICAgICAgYXhbaV0gKz0gdHgqczsgYXlbaV0gKz0gdHkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdpbXBsb3Npb24nIHx8IEUudHlwZT09PSdhdHRyYWN0JyB8fCBFLnR5cGU9PT0nbWFnbmV0JykgewogICAgICAgICAgICBjb25zdCBzID0gKEUudHlwZT09PSdpbXBsb3Npb24nID8gLTIuMiA6IC0xLjIpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzcHJheScgfHwgRS50eXBlPT09J3NjYXR0ZXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAoRS50eXBlPT09J3NjYXR0ZXInPzMuMDoyLjQpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICB2eFtpXSArPSAoZHgvZCkgKiAwLjI1ICogZmFsbDsgdnlbaV0gKz0gKGR5L2QpICogMC4yNSAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjE1KmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3N0dW4nIHx8IEUudHlwZT09PSdmcmVlemUnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAoRS50eXBlPT09J2ZyZWV6ZSc/MC42OjAuMykgKiBmYWxsOyBzaXplTXVsW2ldICs9IDAuMypmYWxsOyB2eFtpXSAqPSAwLjk2OyB2eVtpXSAqPSAwLjk2OwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdmZWFyJykgewogICAgICAgICAgICBjb25zdCBzID0gMi44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBqaXRBbXBbaV0gKz0gMC4yNSpmYWxsOyBodWVPZmZbaV0gKz0gODAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2NyYW1ibGUnKSB7CiAgICAgICAgICAgIHZ4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgdnlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyBqaXRBbXBbaV0gKz0gMC4zKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3B1bHNlJyB8fCBFLnR5cGU9PT0ncmlwcGxlJykgewogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oaypNYXRoLlBJKjIpOyBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldICs9IDAuOCAqIGZhbGw7IHNlcGFyYXRpb25NdWxbaV0gLT0gMC4zICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZGVhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gLT0gMC44ICogZmFsbDsgY29oZXNpb25NdWxbaV0gKz0gMC4yICogZmFsbDsgaml0QW1wW2ldICs9IDAuMSAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2NvaGVyZScgfHwgRS50eXBlPT09J3RpZ2h0ZW4nIHx8IEUudHlwZT09PSdsb29zZW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nbG9vc2VuJykgPyAtMSA6IDE7IC8vIGxvb3NlbiByZWR1Y2VzIGNvaGVzaW9uCiAgICAgICAgICAgIGNvaGVzaW9uTXVsW2ldICs9IGRpciAqIDAuOSAqIGZhbGw7IGlmIChkaXI+MCkgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjIgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzZXBhcmF0ZScgfHwgRS50eXBlPT09J2Rpc3BlcnNlJykgewogICAgICAgICAgICBzZXBhcmF0aW9uTXVsW2ldICs9IDEuMCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldIC09IDAuNCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3dhcnAnIHx8IEUudHlwZT09PSdzcGVlZHVwJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGh1ZU9mZltpXSArPSA0MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzbG93ZG93bicpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IDAuNSpmYWxsOyBodWVPZmZbaV0gLT0gMjAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZ3JvdycpIHsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjYqZmFsbDsgaHVlT2ZmW2ldICs9IDMwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3R1bm5lbCcpIHsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gciowLjc7IGNvbnN0IHMgPSAoZDx0YXJnZXQ/KzE6LTEpICogMS4yICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdqaXR0ZXJidXJzdCcpIHsKICAgICAgICAgICAgaml0QW1wW2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjaHJvbWFidXJzdCcpIHsKICAgICAgICAgICAgaHVlT2ZmW2ldICs9IDE2MCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzaG9jayAvIGRlZmF1bHQKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8rMTotMSkgKiAxLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGdlbmVyYWwgY29sb3IgZW5lcmd5CiAgICAgICAgICBodWVbaV0gPSAoaHVlW2ldICsgOTAgKiBmYWxsKSAlIDM2MDsKICAgICAgICB9CiAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChFLngsIEUueSwgTWF0aC5tYXgoMSwgciowLjYpLCBFLngsIEUueSwgcik7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsyMCklMzYwfSwgOTUlLCA3MCUsICR7MC4zNCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzYwKSUzNjB9LCA5NSUsIDYwJSwgJHswLjIyKnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjk1LCBgaHNsYSgkeyhwYWxldHRlSHVlKzEwMCklMzYwfSwgOTUlLCA1NSUsIDApYCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHtwYWxldHRlSHVlfSwgOTUlLCA2NSUsICR7MC4yNSpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzQwKSUzNjB9LCA5NSUsIDU1JSwgJHswLjE4KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjksIGBoc2xhKCR7KHBhbGV0dGVIdWUrODApJTM2MH0sIDk1JSwgNjAlLCAwKWApOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKEUueCwgRS55LCByLCAwLCBNYXRoLlBJKjIpOyBjdHguZmlsbCgpOwogICAgICAgIGlmIChrID49IDEpIGVmZmVjdHMuc3BsaWNlKGUsIDEpOwogICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gSW50ZWdyYXRlIGFuZCBkcmF3IGJvaWRzIHdpdGggZ2xvdyBhbmQgdHJhaWxzCiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IENGRy5ibGVuZDsKICAgICAgY3R4LmxpbmVXaWR0aCA9IENGRy5saW5lV2lkdGg7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIC8vIGludGVncmF0ZQogICAgICAgICAgaWYgKGppdEFtcFtpXSA+IDAuMDAwMSkgeyBheFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyBheVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyB9CiAgICAgICAgICB2eFtpXSArPSBheFtpXTsgdnlbaV0gKz0gYXlbaV07CiAgICAgICAgICBjb25zdCB2TWF4ID0gQ0ZHLm1heFNwZWVkICogKDEgKyBNYXRoLm1heCgtMC43LCB2Qm9vc3RbaV0pKjAuOCk7CiAgICAgICAgICBbdnhbaV0sIHZ5W2ldXSA9IGxpbWl0KHZ4W2ldLCB2eVtpXSwgdk1heCk7CiAgICAgICAgICAvLyBlbmZvcmNlIG1pbiBzcGVlZCAod2l0aCBib29zdCkKICAgICAgICAgIHsgY29uc3Qgc3AgPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSkgfHwgMTsgY29uc3Qgdk1pbiA9IENGRy5taW5TcGVlZCAqICgxICsgTWF0aC5tYXgoMCwgdkJvb3N0W2ldKSowLjUpOyBpZiAoc3AgPCB2TWluKSB7IGNvbnN0IHMgPSB2TWluIC8gc3A7IHZ4W2ldICo9IHM7IHZ5W2ldICo9IHM7IH0gfQogICAgICAgICAgcHJldnhbaV0gPSBweFtpXTsgcHJldnlbaV0gPSBweVtpXTsKICAgICAgICAgIHB4W2ldICs9IHZ4W2ldOyBweVtpXSArPSB2eVtpXTsKCiAgICAgICAgICAvLyBib3VuZGFyaWVzCiAgICAgICAgICBpZiAoQ0ZHLndyYXApIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgLTUpIHB4W2ldID0gVyArIDU7IGVsc2UgaWYgKHB4W2ldID4gVys1KSBweFtpXSA9IC01OwogICAgICAgICAgICBpZiAocHlbaV0gPCAtNSkgcHlbaV0gPSBIICsgNTsgZWxzZSBpZiAocHlbaV0gPiBIKzUpIHB5W2ldID0gLTU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAocHhbaV0gPCAwIHx8IHB4W2ldID4gVykgeyB2eFtpXSA9IC12eFtpXTsgfQogICAgICAgICAgICBpZiAocHlbaV0gPCAwIHx8IHB5W2ldID4gSCkgeyB2eVtpXSA9IC12eVtpXTsgfQogICAgICAgICAgICBweFtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKFcsIHB4W2ldKSk7CiAgICAgICAgICAgIHB5W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oSCwgcHlbaV0pKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBkZWNheSBtb2RpZmllcnMgYW5kIGNvbXB1dGUgdGludAogICAgICAgICAgdkJvb3N0W2ldICo9IDAuOTI7IHNpemVNdWxbaV0gKj0gMC45MDsgaHVlT2ZmW2ldICo9IDAuOTQ7IGppdEFtcFtpXSAqPSAwLjg4OwogICAgICAgICAgYWxpZ25NdWxbaV0gKj0gMC45NDsgY29oZXNpb25NdWxbaV0gKj0gMC45NDsgc2VwYXJhdGlvbk11bFtpXSAqPSAwLjk0OwogICAgICAgICAgLy8gc2xvd2x5IGRyaWZ0IGJvaWQgaHVlIGJhY2sgdG93YXJkIGJhc2UgcGFsZXR0ZSBodWUKICAgICAgICAgIGh1ZVtpXSA9IGFwcHJvYWNoSHVlKGh1ZVtpXSwgcGFsZXR0ZUh1ZSwgTWF0aC5taW4oMSwgZHQgKiAoQ0ZHLmh1ZVJlbGF4IHx8IDAuMikpKTsKICAgICAgICAgIHNwZFtpXSA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKTsKICAgICAgICAgIGNvbnN0IEwgPSA1MCArIE1hdGgubWluKDQ1LCBzcGRbaV0qOCk7CiAgICAgICAgICBjb25zdCBTID0gODAgKyBNYXRoLm1pbigyMCwgc3BkW2ldKjYpOwogICAgICAgICAgY29uc3QgZHJhd0h1ZSA9IChodWVbaV0gKyBodWVPZmZbaV0pICUgMzYwOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgke2RyYXdIdWV9LCAke1N9JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IGBoc2woJHtkcmF3SHVlfSwgOTAlLCA2MCUpYDsKICAgICAgICAgIGNvbnN0IGdsb3dRdWFsaXR5ID0gKGZwc0F2ZyA8IDUwID8gMC41IDogMS4wKTsKICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gZ2xvd1F1YWxpdHkgKiAoQ0ZHLmdsb3dCYXNlICsgTWF0aC5taW4oQ0ZHLmdsb3dNYXgsIHNwZFtpXSpDRkcuZ2xvd1NjYWxlKSk7CgogICAgICAgICAgLy8gdHJhaWwgc2VnbWVudAogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY3R4Lm1vdmVUbyhwcmV2eFtpXSwgcHJldnlbaV0pOwogICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSwgcHlbaV0pOwogICAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICAgIC8vIGJvaWQgaGVhZCBzaGFwZQogICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMih2eVtpXSwgdnhbaV0pOwogICAgICAgICAgY29uc3QgY2EgPSBNYXRoLmNvcyhhbmcpLCBzYSA9IE1hdGguc2luKGFuZyk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYGhzbCgke2h1ZVtpXX0sIDk1JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuY29tZXRTaXplICogKDEgKyAoc2l6ZU11bFtpXXx8MCkpOwogICAgICAgICAgaWYgKENGRy5zaGFwZSA9PT0gJ3RyaWFuZ2xlJykgewogICAgICAgICAgICBjb25zdCBDMjYgPSAwLjg1Njg4ODc1MywgUzI2ID0gMC41MTU0OTg7IC8vIGNvcy9zaW4oMi42KQogICAgICAgICAgICBjb25zdCB4MCA9IHB4W2ldICsgY2EqcyoxLjYsIHkwID0gcHlbaV0gKyBzYSpzKjEuNjsKICAgICAgICAgICAgY29uc3QgY2FfcCA9IGNhKkMyNiAtIHNhKlMyNiwgc2FfcCA9IHNhKkMyNiArIGNhKlMyNjsKICAgICAgICAgICAgY29uc3QgY2FfbSA9IGNhKkMyNiArIHNhKlMyNiwgc2FfbSA9IHNhKkMyNiAtIGNhKlMyNjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4MCwgeTApOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcCpzLCAgcHlbaV0gKyBzYV9wKnMpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbSpzLCAgcHlbaV0gKyBzYV9tKnMpOwogICAgICAgICAgfSBlbHNlIGlmIChDRkcuc2hhcGUgPT09ICdvcmInKSB7CiAgICAgICAgICAgIGN0eC5hcmMocHhbaV0sIHB5W2ldLCBzKjAuNiwgMCwgTWF0aC5QSSoyKTsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNwYXJrCiAgICAgICAgICAgIGNvbnN0IEMwMiA9IDAuOTgwMDY2NiwgUzAyID0gMC4xOTg2NjkzOyAvLyBjb3Mvc2luKDAuMikKICAgICAgICAgICAgY29uc3QgeGggPSBweFtpXSArIGNhKnMqMS44LCB5aCA9IHB5W2ldICsgc2EqcyoxLjg7CiAgICAgICAgICAgIGNvbnN0IGNhX3AwMiA9IGNhKkMwMiAtIHNhKlMwMiwgc2FfcDAyID0gc2EqQzAyICsgY2EqUzAyOwogICAgICAgICAgICBjb25zdCBjYV9tMDIgPSBjYSpDMDIgKyBzYSpTMDIsIHNhX20wMiA9IHNhKkMwMiAtIGNhKlMwMjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4aCwgeWgpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcDAyKnMqMC42LCAgcHlbaV0gKyBzYV9wMDIqcyowLjYpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbTAyKnMqMC42LCAgcHlbaV0gKyBzYV9tMDIqcyowLjYpOwogICAgICAgICAgfQogICAgICAgICAgY3R4LmNsb3NlUGF0aCgpOyBjdHguZmlsbCgpOwogICAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBRdWFkdHJlZSB2aXN1YWxpemF0aW9uIChkZWZhdWx0IG9uKQogICAgICAgIGlmIChDRkcucXQpIHF0LmRyYXcoY3R4KTsKCiAgICAgICAgLy8gSFVECiAgICAgICAgaHVkRWwuaW5uZXJIVE1MID0gYDxzdHJvbmc+Qm9pZHM8L3N0cm9uZz4gwrcgTj0ke059IHZpc2lvbj0ke0NGRy52aXNpb259IHNlcD0ke0NGRy5zZXB9IGAgKwogICAgICAgICAgYMK3IHF0Q2FwPSR7Q0ZHLnF0Q2FwfSDCtyBodWU9JHtwYWxldHRlSHVlfSDCtyBxdFZpej0ke0NGRy5xdD8nb24nOidvZmYnfSDCtyBjbGljaz0ke0NGRy5jbGlja01vZGV9IMK3IGZwcz0ke2Zwc0F2Zy50b0ZpeGVkKDApfWA7CgogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CiAgICAgIH0KICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKCiAgICAgIC8vIENvbmZpZyBVSSBidWlsZCBhbmQgd2lyaW5nCiAgICAgIGNvbnN0IGNmZ0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdCdG4nKTsKICAgICAgY29uc3QgY2ZnQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQ2xvc2UnKTsKICAgICAgY29uc3QgY2ZnUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnJyk7CiAgICAgIGNvbnN0IGNmZ0JvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnQm9keScpOwogICAgICBjZmdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpKTsKICAgICAgY2ZnQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsJycpKTsKCiAgICAgIGNvbnN0IHNjaGVtYSA9IFsKICAgICAgICB7a2V5OidodWUnLCBsYWJlbDonSHVlJywgdHlwZTonaW50JywgbWluOjAsIG1heDozNjAsIHN0ZXA6MSwgdmFsdWU6QkFTRV9IVUV9LAogICAgICAgIHtrZXk6J2hlYWRlcicsIGxhYmVsOidIZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6SEVBREVSfSwKICAgICAgICB7a2V5OidzdWJoZWFkZXInLCBsYWJlbDonU3ViaGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOlNVQkhFQURFUn0sCiAgICAgICAge2tleToncXQnLCBsYWJlbDonU2hvdyBRdWFkdHJlZScsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaG93SHVkJywgbGFiZWw6J1Nob3cgSFVEJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NwYXduJywgbGFiZWw6J1NwYXduJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ2NpcmNsZScsJ2dyaWQnLCdjZW50ZXJidXJzdCddfSwKICAgICAgICB7a2V5Oidjb3VudCcsIGxhYmVsOidDb3VudCcsIHR5cGU6J2ludCcsIG1pbjo1MCwgbWF4OjEwMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTondmlzaW9uJywgbGFiZWw6J1Zpc2lvbicsIHR5cGU6J2ludCcsIG1pbjoyMCwgbWF4OjIwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidzZXAnLCBsYWJlbDonU2VwYXJhdGlvbiBEaXN0JywgdHlwZTonaW50JywgbWluOjQsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidtYXhTcGVlZCcsIGxhYmVsOidNYXggU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4xLCBtYXg6MTIsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtaW5TcGVlZCcsIGxhYmVsOidNaW4gU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4wLCBtYXg6Niwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21heEZvcmNlJywgbGFiZWw6J01heCBTdGVlcmluZyBGb3JjZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMSwgbWF4OjAuNSwgc3RlcDowLjAwMX0sCiAgICAgICAge2tleTonYWxpZ25XJywgbGFiZWw6J0FsaWduIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oidjb2hlc2lvblcnLCBsYWJlbDonQ29oZXNpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3NlcGFyYXRpb25XJywgbGFiZWw6J1NlcGFyYXRpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3RyYWlsQWxwaGEnLCBsYWJlbDonVHJhaWwgQWxwaGEnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjEsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleToncXRDYXAnLCBsYWJlbDonUXVhZHRyZWUgQ2FwYWNpdHknLCB0eXBlOidpbnQnLCBtaW46MiwgbWF4OjMyLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3dyYXAnLCBsYWJlbDonV3JhcCBCb3VuZHMnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hhcGUnLCBsYWJlbDonU2hhcGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsndHJpYW5nbGUnLCdzcGFyaycsJ29yYiddfSwKICAgICAgICB7a2V5OidibGVuZCcsIGxhYmVsOidCbGVuZCcsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydsaWdodGVyJywnc2NyZWVuJywnb3ZlcmxheScsJ3BsdXMtbGlnaHRlciddfSwKICAgICAgICB7a2V5OidsaW5lV2lkdGgnLCBsYWJlbDonTGluZSBXaWR0aCcsIHR5cGU6J251bWJlcicsIG1pbjowLjIsIG1heDo0LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonZ2xvd0Jhc2UnLCBsYWJlbDonR2xvdyBCYXNlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo2MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93TWF4JywgbGFiZWw6J0dsb3cgTWF4JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93U2NhbGUnLCBsYWJlbDonR2xvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NDAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5Oidjb21ldFNpemUnLCBsYWJlbDonQ29tZXQgU2l6ZScsIHR5cGU6J251bWJlcicsIG1pbjoxLCBtYXg6MjAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidiZ0dyYWRpZW50JywgbGFiZWw6J0JHIEdyYWRpZW50JywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQxJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAxJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDInLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDInLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MycsIGxhYmVsOidCRyBIdWUgU2hpZnQgMycsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2Zsb3cnLCBsYWJlbDonRmxvdyBGaWVsZCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidmbG93QW1wJywgbGFiZWw6J0Zsb3cgQW1wJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTY2FsZScsIGxhYmVsOidGbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAwNSwgbWF4OjAuMDIsIHN0ZXA6MC4wMDA1fSwKICAgICAgICB7a2V5OidmbG93U3BlZWQnLCBsYWJlbDonRmxvdyBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6Mywgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidjbGlja01vZGUnLCBsYWJlbDonQ2xpY2sgTW9kZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5J119LAogICAgICBdOwoKICAgICAgZnVuY3Rpb24gbWFrZVJvdyhsYWJlbCwgaW5wdXQpIHsKICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgcm93LmNsYXNzTmFtZSA9ICdyb3cnOwogICAgICAgIGNvbnN0IGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOyBsLnRleHRDb250ZW50ID0gbGFiZWw7IHJvdy5hcHBlbmRDaGlsZChsKTsKICAgICAgICByb3cuYXBwZW5kQ2hpbGQoaW5wdXQpOyByZXR1cm4gcm93OwogICAgICB9CgogICAgICBmdW5jdGlvbiBhZGRJbnB1dChpdGVtKSB7CiAgICAgICAgbGV0IGlucHV0OwogICAgICAgIGNvbnN0IHYwID0gKGl0ZW0ua2V5IGluIENGRykgPyBDRkdbaXRlbS5rZXldIDogaXRlbS52YWx1ZTsKICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vbCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0nY2hlY2tib3gnOyBpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LmNoZWNrZWQ7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzZWxlY3QnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpOwogICAgICAgICAgZm9yIChjb25zdCBvcHQgb2YgaXRlbS5vcHRpb25zKSB7IGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsgby52YWx1ZT1vcHQ7IG8udGV4dENvbnRlbnQ9b3B0OyBpZiAob3B0PT09djApIG8uc2VsZWN0ZWQ9dHJ1ZTsgaW5wdXQuYXBwZW5kQ2hpbGQobyk7IH0KICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQudmFsdWU7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSd0ZXh0JzsgaW5wdXQudmFsdWUgPSBTdHJpbmcodjB8fCcnKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpZiAoaXRlbS5rZXk9PT0naGVhZGVyJykgeyB0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmtleT09PSdzdWJoZWFkZXInKSB7IHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIGlucHV0LnZhbHVlKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmtleSA9PT0gJ2h1ZScpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5taW49JzAnOyBpbnB1dC5tYXg9JzM2MCc7IGlucHV0LnN0ZXA9JzEnOyBpbnB1dC52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5taW49JzAnOyBudW1iZXIubWF4PSczNjAnOyBudW1iZXIuc3RlcD0nMSc7IG51bWJlci52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZT1pbnB1dC52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWU9bnVtYmVyLnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBodWVDaGFuZ2VkKHZhbCl7CiAgICAgICAgICAgIC8vIHNoaWZ0IHBhbGV0dGUgaW1tZWRpYXRlbHkKICAgICAgICAgICAgY29uc3QgZGVsdGEgPSAodmFsIC0gcGFsZXR0ZUh1ZSk7CiAgICAgICAgICAgIHBhbGV0dGVIdWUgPSB2YWw7CiAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGh1ZVtpXSA9IChodWVbaV0gKyBkZWx0YSkgJSAzNjA7IH0KICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHt2YWx9LCA4NSUsIDYyJSlgKTsKICAgICAgICAgICAgdXBkYXRlVXJsRnJvbUNmZyh7aHVlOlN0cmluZyh2YWwpfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsgLy8gbnVtZXJpYyAocmFuZ2UgKyBudW1iZXIgcGFpcikKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBpbnB1dC5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBpbnB1dC5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgbnVtYmVyLm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIG51bWJlci5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGlucHV0LnZhbHVlID0gU3RyaW5nKHYwKTsgbnVtYmVyLnZhbHVlID0gU3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWUgPSBpbnB1dC52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZSA9IG51bWJlci52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBudW1DaGFuZ2VkKHZhbCl7IENGR1tpdGVtLmtleV0gPSB2YWw7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCB2YWwpOyB9CiAgICAgICAgfQogICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCBpbnB1dCkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBhcHBseUNoYW5nZShrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSA9PT0gJ2NvdW50JyB8fCBrZXkgPT09ICdzcGF3bicpIHsgcmVzZWVkKENGRy5jb3VudCk7IH0KICAgICAgICBpZiAoa2V5ID09PSAncXQnKSB7IC8qIGltbWVkaWF0ZSBkcmF3IHRvZ2dsZSB2aWEgQ0ZHICovIH0KICAgICAgICBpZiAoa2V5ID09PSAnc2hvd0h1ZCcpIHsgaHVkRWwuc3R5bGUuZGlzcGxheSA9IENGRy5zaG93SHVkID8gJycgOiAnbm9uZSc7IH0KICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKCk7CiAgICAgIH0KCiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzY2hlbWEpIGFkZElucHV0KGl0ZW0pOwogICAgICAvLyBpbml0aWFsIEhVRCB2aXNpYmlsaXR5CiAgICAgIGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSAoQ0ZHLnNob3dIdWQ9PT1mYWxzZSkgPyAnbm9uZScgOiAnJzsKCiAgICAgIC8vIGtleWJvYXJkIHRvZ2dsZXMgKGFmdGVyIGJ1aWxkaW5nIHBhbmVsKQogICAgICBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHsKICAgICAgICBjb25zdCBrID0gZS5rZXkudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoayA9PT0gJ3EnKSB7IENGRy5xdCA9ICFDRkcucXQ7IHVwZGF0ZVVybEZyb21DZmcoKTsgfQogICAgICAgIGlmIChrID09PSAnYycpIHsgY2ZnUGFuZWwudG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nKTsgfQogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4K" download="boids-dod-quadtree-16-impl.html" class="download-btn" title="Download boids-dod-quadtree-16-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=374 · spawn=random · bounce · spark · overlay · hue=7 · qtCap=6 · flow" data-filename="boids-dod-quadtree-4-impl.html"><a href="boids-dod-quadtree-4-impl.html" target="viewer"><strong>Boids DOD+QT · N=374 · spawn=random · bounce · spark · overlay · hue=7 · qtCap=6 · flow</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTM3NCDCtyBzcGF3bj1yYW5kb20gwrcgYm91bmNlIMK3IHNwYXJrIMK3IG92ZXJsYXkgwrcgaHVlPTcgwrcgcXRDYXA9NiDCtyBmbG93PC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgaHRtbCwgYm9keSB7IGhlaWdodDogMTAwJTsgbWFyZ2luOiAwOyB9CiAgICAgIGJvZHkgewogICAgICAgIGJhY2tncm91bmQ6ICMwNTA3MGE7CiAgICAgICAgY29sb3I6ICNlNmVkZjM7CiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICBmb250LWZhbWlseTogdWktc2Fucy1zZXJpZiwgc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBTZWdvZSBVSSwgUm9ib3RvLCBIZWx2ZXRpY2EsIEFyaWFsLCAiQXBwbGUgQ29sb3IgRW1vamkiLCAiU2Vnb2UgVUkgRW1vamkiOwogICAgICB9CiAgICAgICNzY2VuZSB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMTAwdnc7IGhlaWdodDogMTAwdmg7IH0KICAgICAgLm92ZXJsYXkgeyBwb3NpdGlvbjogZml4ZWQ7IGluc2V0OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmciBhdXRvOyB9CiAgICAgIC50aXRsZSB7IG1hcmdpbjogMThweCAyMHB4IDJweDsgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1zaXplOiBjbGFtcCgxOHB4LCAzdncsIDI4cHgpOyBsZXR0ZXItc3BhY2luZzogMC4ycHg7IGNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyB0ZXh0LXNoYWRvdzogMCAwIDEwcHggY29sb3ItbWl4KGluIG9rbGFiLCB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpIDgwJSwgIzAwMCAyMCUpOyB9CiAgICAgIC5zdWJ0aXRsZSB7IG1hcmdpbjogMCAyMHB4IDEwcHg7IGZvbnQtd2VpZ2h0OiA1MDA7IGZvbnQtc2l6ZTogY2xhbXAoMTJweCwgMnZ3LCAxNnB4KTsgb3BhY2l0eTogMC44NTsgfQogICAgICAuaHVkIHsgcG9zaXRpb246IGZpeGVkOyBsZWZ0OiAxMnB4OyBib3R0b206IDEycHg7IHBhZGRpbmc6IDhweCAxMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNDA7IGJhY2tncm91bmQ6ICMwYjEyMjBjYzsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDhweCkgc2F0dXJhdGUoMTIwJSk7IGZvbnQtc2l6ZTogMTJweDsgbGluZS1oZWlnaHQ6IDEuNDsgfQogICAgICAuaHVkIHN0cm9uZyB7IGNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyB9CiAgICAgIC5jZmdCdG4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMTJweDsgcmlnaHQ6IDEycHg7IHotaW5kZXg6IDEwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDZweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnUGFuZWwgeyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogNTZweDsgcmlnaHQ6IDEycHg7IHdpZHRoOiBtaW4oMzgwcHgsIDkwdncpOyBtYXgtaGVpZ2h0OiA4MHZoOyBvdmVyZmxvdzogYXV0bzsgei1pbmRleDogMjA7IHBvaW50ZXItZXZlbnRzOiBhdXRvOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZTY7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGJveC1zaGFkb3c6IDAgMTBweCA0MHB4ICMwMDA4OyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCkgc2F0dXJhdGUoMTIwJSk7IH0KICAgICAgLmNvbmZpZ0hlYWRlciB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgcGFkZGluZzogMTBweCAxMnB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMDAwMDU1OyBwb3NpdGlvbjogc3RpY2t5OyB0b3A6IDA7IGJhY2tncm91bmQ6ICMwYjEyMjBmMjsgfQogICAgICAuY29uZmlnQm9keSB7IHBhZGRpbmc6IDEwcHggMTJweDsgZGlzcGxheTogZ3JpZDsgZ2FwOiAxMHB4OyB9CiAgICAgIC5jb25maWdCb2R5IC5yb3cgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciBhdXRvOyBnYXA6IDhweDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgfQogICAgICAuY29uZmlnQm9keSAucmFuZ2VSb3cgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA3MnB4OyBnYXA6IDhweDsgfQogICAgICAuY2ZnQ2xvc2UgeyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJhY2tncm91bmQ6ICMxMjFhMmJjYzsgY29sb3I6ICNlNmVkZjM7IGJvcmRlci1yYWRpdXM6IDZweDsgcGFkZGluZzogNHB4IDhweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgIC5jb25maWdCb2R5IGlucHV0LCAuY29uZmlnQm9keSBzZWxlY3QgeyBmb250LXNpemU6IDE0cHg7IHBhZGRpbmc6IDZweCA4cHg7IGJhY2tncm91bmQ6ICMxMDE4Mjc7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwNTU7IGJvcmRlci1yYWRpdXM6IDZweDsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dFt0eXBlPXJhbmdlXSB7IHBhZGRpbmc6IDA7IGhlaWdodDogMjhweDsgYWNjZW50LWNvbG9yOiB2YXIoLS1hY2NlbnQsICM3ZGQzZmMpOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgfQogICAgPC9zdHlsZT4KICA8L2hlYWQ+CiAgPGJvZHk+CiAgICA8Y2FudmFzIGlkPSJzY2VuZSI+PC9jYW52YXM+CiAgICA8ZGl2IGNsYXNzPSJvdmVybGF5Ij4KICAgICAgPGRpdiBjbGFzcz0idGl0bGUiIGlkPSJ0aXRsZSI+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InN1YnRpdGxlIiBpZD0ic3VidGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJodWQiIGlkPSJodWQiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8YnV0dG9uIGlkPSJjZmdCdG4iIGNsYXNzPSJjZmdCdG4iIGFyaWEtbGFiZWw9Ik9wZW4gY29uZmlnIj7impnvuI48L2J1dHRvbj4KICAgIDxkaXYgaWQ9ImNvbmZpZyIgY2xhc3M9ImNvbmZpZ1BhbmVsIiBoaWRkZW4+CiAgICAgIDxkaXYgY2xhc3M9ImNvbmZpZ0hlYWRlciI+CiAgICAgICAgPHN0cm9uZz5Db25maWc8L3N0cm9uZz4KICAgICAgICA8YnV0dG9uIGlkPSJjZmdDbG9zZSIgY2xhc3M9ImNmZ0Nsb3NlIiBhcmlhLWxhYmVsPSJDbG9zZSI+4pyVPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGlkPSJjb25maWdCb2R5IiBjbGFzcz0iY29uZmlnQm9keSI+PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxzY3JpcHQ+CiAgICAgICd1c2Ugc3RyaWN0JzsKCiAgICAgIC8vIFVSTCBwYXJhbWV0ZXJzCiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24uc2VhcmNoKTsKICAgICAgY29uc3QgREVGQVVMVF9IVUUgPSA3OwogICAgICBjb25zdCBCQVNFX0hVRSA9IGNsYW1wSW50KHBhcnNlSW50KHBhcmFtcy5nZXQoJ2h1ZScpKSwgMCwgMzYwLCBERUZBVUxUX0hVRSk7CiAgICAgIGxldCBwYWxldHRlSHVlID0gQkFTRV9IVUU7CiAgICAgIGNvbnN0IEhFQURFUiA9IHBhcmFtcy5nZXQoJ2hlYWRlcicpIHx8ICdCb2lkcyDigJQgRGF0YS1PcmllbnRlZCArIFF1YWR0cmVlJzsKICAgICAgY29uc3QgU1VCSEVBREVSID0gcGFyYW1zLmdldCgnc3ViaGVhZGVyJykgfHwgJ1Nob2Nrd2F2ZXMgb24gY2xpY2svZHJhZyDCtyBxdWFkdHJlZSB2aXogb24nOwogICAgICAvLyBRdWFkdHJlZSB2aXogaXMgaGFuZGxlZCBieSBDRkcucXQ7IFVSTCBwYXJhbSAncXQnIG92ZXJyaWRlcyBpdC4KCiAgICAgIC8vIERPTQogICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NlbmUnKTsKICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogZmFsc2UgfSk7CiAgICAgIGNvbnN0IHRpdGxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKTsKICAgICAgY29uc3Qgc3VidGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJ0aXRsZScpOwogICAgICBjb25zdCBodWRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdodWQnKTsKCiAgICAgIC8vIFN0eWxlIGhvb2sKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHtwYWxldHRlSHVlfSwgODUlLCA2MiUpYCk7CiAgICAgIHRpdGxlRWwudGV4dENvbnRlbnQgPSBIRUFERVI7CiAgICAgIHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBTVUJIRUFERVI7CgogICAgICAvLyBDb25maWcgKGluamVjdGVkIGJ5IGdlbmVyYXRvcikg4oCUIG11dGFibGUgYXQgcnVudGltZQogICAgICBsZXQgQ0ZHID0geyJjb3VudCI6IDM3NCwgInZpc2lvbiI6IDExOSwgInNlcCI6IDEzLCAibWF4U3BlZWQiOiAyLjgyLCAibWF4Rm9yY2UiOiAwLjA1NSwgIm1pblNwZWVkIjogMC45NywgImFsaWduVyI6IDAuOSwgImNvaGVzaW9uVyI6IDAuOTEsICJzZXBhcmF0aW9uVyI6IDIuNTcsICJ0cmFpbEFscGhhIjogMC4wOSwgInF0Q2FwIjogNiwgIndyYXAiOiBmYWxzZSwgInNoYXBlIjogInNwYXJrIiwgImJsZW5kIjogIm92ZXJsYXkiLCAibGluZVdpZHRoIjogMS41LCAiZ2xvd0Jhc2UiOiAyNCwgImdsb3dNYXgiOiAyMCwgImdsb3dTY2FsZSI6IDguMiwgImNvbWV0U2l6ZSI6IDYuMTEsICJiZ0dyYWRpZW50IjogdHJ1ZSwgImJnSHVlU2hpZnQxIjogMzQsICJiZ0h1ZVNoaWZ0MiI6IDM2LCAiYmdIdWVTaGlmdDMiOiAxMTUsICJzcGF3biI6ICJyYW5kb20iLCAicXQiOiB0cnVlLCAic2hvd0h1ZCI6IHRydWUsICJmbG93IjogdHJ1ZSwgImZsb3dBbXAiOiAxLjA3LCAiZmxvd1NjYWxlIjogMC4wMDg4LCAiZmxvd1NwZWVkIjogMC43NCwgImNsaWNrTW9kZSI6ICJyYW5kb20ifTsKICAgICAgQ0ZHLm1pblNwZWVkID0gQ0ZHLm1pblNwZWVkID8/IDAuODsKICAgICAgQ0ZHLnF0ID0gKHR5cGVvZiBDRkcucXQgPT09ICdib29sZWFuJykgPyBDRkcucXQgOiB0cnVlOwogICAgICBDRkcuY2xpY2tNb2RlID0gQ0ZHLmNsaWNrTW9kZSB8fCAncmFuZG9tJzsKICAgICAgQ0ZHLmNsaWNrTW9kZXMgPSBDRkcuY2xpY2tNb2RlcyB8fCBbCiAgICAgICAgJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknLCdzdHVuJywnZmVhcicsJ2F0dHJhY3QnLCdvcmJpdENXJywnb3JiaXRDQ1cnLAogICAgICAgICdzcGlyYWxPdXQnLCdzcGlyYWxJbicsJ2ZyZWV6ZScsJ3NjcmFtYmxlJywnc2NhdHRlcicsJ21hZ25ldCcsJ3B1bHNlJywKICAgICAgICAnd2FycCcsJ2dyb3cnLCd0dW5uZWwnLCdyaXBwbGUnLCdqaXR0ZXJidXJzdCcsJ2Nocm9tYWJ1cnN0Jywnc2xvd2Rvd24nLCdzcGVlZHVwJywKICAgICAgICAncGVybGluRHJhZycsJ2xpc3NhUHVsc2UnLCdtZXRlb3InLAogICAgICAgIC8vIHN0ZWVyaW5nLXdlaWdodCBlZmZlY3RzCiAgICAgICAgJ2FsaWduJywnZGVhbGlnbicsJ2NvaGVyZScsJ2xvb3NlbicsJ3NlcGFyYXRlJywnZGlzcGVyc2UnCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBwYXJzZUJvb2wodiwgZCkgewogICAgICAgIGlmICh2ID09IG51bGwpIHJldHVybiBkOwogICAgICAgIGNvbnN0IHMgPSBTdHJpbmcodikudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoWycxJywndHJ1ZScsJ3llcycsJ29uJ10uaW5jbHVkZXMocykpIHJldHVybiB0cnVlOwogICAgICAgIGlmIChbJzAnLCdmYWxzZScsJ25vJywnb2ZmJ10uaW5jbHVkZXMocykpIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gZDsKICAgICAgfQoKICAgICAgLy8gVVJMIG92ZXJyaWRlcyBmb3IgY29uZmlnCiAgICAgIChmdW5jdGlvbiB1cmxPdmVycmlkZSgpewogICAgICAgIGNvbnN0IGludEtleXMgPSBbJ2NvdW50JywndmlzaW9uJywnc2VwJywncXRDYXAnLCdiZ0h1ZVNoaWZ0MScsJ2JnSHVlU2hpZnQyJywnYmdIdWVTaGlmdDMnXTsKICAgICAgICBjb25zdCBudW1LZXlzID0gWydtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJ107CiAgICAgICAgY29uc3QgYm9vbEtleXMgPSBbJ3dyYXAnLCdiZ0dyYWRpZW50JywncXQnLCdmbG93Jywnc2hvd0h1ZCddOwogICAgICAgIGNvbnN0IHN0cktleXMgPSBbJ3NoYXBlJywnYmxlbmQnLCdzcGF3biddOwogICAgICAgIGZvciAoY29uc3QgayBvZiBpbnRLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE1hdGgubWF4KC05OTk5OSwgTWF0aC5taW4oOTk5OTksIHBhcnNlSW50KHYpKSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgbnVtS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBOdW1iZXIodik7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2YgYm9vbEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gcGFyc2VCb29sKHYsIENGR1trXSk7IH0KICAgICAgICBmb3IgKGNvbnN0IGsgb2Ygc3RyS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSB2OyB9CiAgICAgICAgY29uc3QgY20gPSBwYXJhbXMuZ2V0KCdjbGlja01vZGUnKTsgaWYgKGNtKSBDRkcuY2xpY2tNb2RlID0gY207CiAgICAgICAgY29uc3QgY21zID0gcGFyYW1zLmdldCgnY2xpY2tNb2RlcycpOyBpZiAoY21zKSBDRkcuY2xpY2tNb2RlcyA9IGNtcy5zcGxpdCgnLCcpOwogICAgICB9KSgpOwoKICAgICAgZnVuY3Rpb24gdXBkYXRlVXJsRnJvbUNmZyhleHRyYT17fSkgewogICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwobG9jYXRpb24uaHJlZik7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2h1ZScsIHBhbGV0dGVIdWUpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdoZWFkZXInLCB0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3ViaGVhZGVyJywgc3VidGl0bGVFbC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qga2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdtYXhTcGVlZCcsJ21pblNwZWVkJywnbWF4Rm9yY2UnLCdhbGlnblcnLCdjb2hlc2lvblcnLCdzZXBhcmF0aW9uVycsJ3RyYWlsQWxwaGEnLCdxdENhcCcsJ3dyYXAnLCdzaGFwZScsJ2JsZW5kJywnbGluZVdpZHRoJywnZ2xvd0Jhc2UnLCdnbG93TWF4JywnZ2xvd1NjYWxlJywnY29tZXRTaXplJywnYmdHcmFkaWVudCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MycsJ3F0JywnY2xpY2tNb2RlJywnY2xpY2tNb2RlcycsJ2Zsb3cnLCdmbG93QW1wJywnZmxvd1NjYWxlJywnZmxvd1NwZWVkJywnc3Bhd24nLCdzaG93SHVkJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIFN0cmluZyhDRkdba10pKTsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZXMgJiYgQXJyYXkuaXNBcnJheShDRkcuY2xpY2tNb2RlcykpIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdjbGlja01vZGVzJywgQ0ZHLmNsaWNrTW9kZXMuam9pbignLCcpKTsKICAgICAgICBmb3IgKGNvbnN0IFtrLHZdIG9mIE9iamVjdC5lbnRyaWVzKGV4dHJhKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgdik7CiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgJycsIHVybC50b1N0cmluZygpKTsKICAgICAgfQoKICAgICAgY29uc3QgVEFVID0gTWF0aC5QSSAqIDI7CgogICAgICAvLyBDYW52YXMgc2l6aW5nIHdpdGggRFBSCiAgICAgIGxldCBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgICBEUFIgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigyLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSk7CiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcihpbm5lcldpZHRoICogRFBSKTsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihpbm5lckhlaWdodCAqIERQUik7CiAgICAgICAgY3R4LnNldFRyYW5zZm9ybShEUFIsIDAsIDAsIERQUiwgMCwgMCk7CiAgICAgICAgY2xlYXJIYXJkKCk7CiAgICAgIH0KICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKTsKICAgICAgcmVzaXplKCk7CgogICAgICBmdW5jdGlvbiBjbGVhckhhcmQoKSB7CiAgICAgICAgaWYgKENGRy5iZ0dyYWRpZW50KSB7CiAgICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGlubmVyV2lkdGgqMC42NSwgaW5uZXJIZWlnaHQqMC4zNSwgTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuMTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyV2lkdGgqMC41LCBpbm5lckhlaWdodCowLjUsIE1hdGguaHlwb3QoaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpKjAuNyk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDEpJTM2MH0gODAlIDEwJSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuNSwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MiklMzYwfSA3MCUgOCUpYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgxLjAsIGBoc2woJHsocGFsZXR0ZUh1ZStDRkcuYmdIdWVTaGlmdDMpJTM2MH0gNjAlIDYlKWApOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1MDcwYSc7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBpbm5lcldpZHRoLCBpbm5lckhlaWdodCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNsYW1wSW50KG4sIGxvLCBoaSwgZmFsbGJhY2spIHsKICAgICAgICBuID0gTnVtYmVyLmlzRmluaXRlKG4pID8gbiA6IGZhbGxiYWNrOwogICAgICAgIHJldHVybiBNYXRoLm1heChsbywgTWF0aC5taW4oaGksIG4pKTsKICAgICAgfQoKICAgICAgLy8gRHJpZnQgYSBodWUgdmFsdWUgdG93YXJkIGEgdGFyZ2V0IG9uIGEgY2lyY3VsYXIgY29sb3Igd2hlZWwKICAgICAgZnVuY3Rpb24gYXBwcm9hY2hIdWUoaCwgdGFyZ2V0LCByYXRlKSB7CiAgICAgICAgLy8gcmF0ZSBpcyAwLi4xIGZyYWN0aW9uIHRvd2FyZCB0YXJnZXQgcGVyIGNhbGwKICAgICAgICBsZXQgZCA9ICgodGFyZ2V0IC0gaCArIDU0MCkgJSAzNjApIC0gMTgwOyAvLyBzaG9ydGVzdCBzaWduZWQgZGVsdGEgWy0xODAsMTgwKQogICAgICAgIHJldHVybiAoaCArIGQgKiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCByYXRlKSkgKyAzNjApICUgMzYwOwogICAgICB9CgogICAgICAvLyBMaWdodHdlaWdodCAyRCB2YWx1ZSBub2lzZSAoZm9yIHBlcmxpbi1saWtlIGRyYWcpCiAgICAgIGxldCBub2lzZVNlZWQgPSAoQkFTRV9IVUUgKiAxNjY0NTI1ICsgMTAxMzkwNDIyMykgJiAweGZmZmZmZmZmOwogICAgICBmdW5jdGlvbiBmcmFjdCh4KXsgcmV0dXJuIHggLSBNYXRoLmZsb29yKHgpOyB9CiAgICAgIGZ1bmN0aW9uIF9yYW5kKGl4LCBpeSl7CiAgICAgICAgY29uc3QgayA9IChpeCAqIDM3NDc2MTM5MyArIGl5ICogNjY4MjY1MjYzICsgbm9pc2VTZWVkKSA+Pj4gMDsKICAgICAgICByZXR1cm4gZnJhY3QoTWF0aC5zaW4oaykgKiA0Mzc1OC41NDUzKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBub2lzZTIoeCwgeSl7CiAgICAgICAgY29uc3QgeGkgPSBNYXRoLmZsb29yKHgpLCB5aSA9IE1hdGguZmxvb3IoeSk7CiAgICAgICAgY29uc3QgeGYgPSB4IC0geGksIHlmID0geSAtIHlpOwogICAgICAgIGNvbnN0IHUgPSB4Zip4ZiooMy0yKnhmKSwgdiA9IHlmKnlmKigzLTIqeWYpOwogICAgICAgIGNvbnN0IHYwMCA9IF9yYW5kKHhpLCB5aSksIHYxMCA9IF9yYW5kKHhpKzEsIHlpKSwgdjAxID0gX3JhbmQoeGksIHlpKzEpLCB2MTEgPSBfcmFuZCh4aSsxLCB5aSsxKTsKICAgICAgICBjb25zdCB4MSA9IHYwMCooMS11KSArIHYxMCp1LCB4MiA9IHYwMSooMS11KSArIHYxMSp1OwogICAgICAgIHJldHVybiB4MSooMS12KSArIHgyKnY7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gcGVybGluVmVjKHgsIHksIHNjYWxlLCBhbXApewogICAgICAgIGNvbnN0IG4gPSBub2lzZTIoeCpzY2FsZSwgeSpzY2FsZSk7CiAgICAgICAgY29uc3QgYSA9IG4gKiBUQVU7CiAgICAgICAgcmV0dXJuIFtNYXRoLmNvcyhhKSphbXAsIE1hdGguc2luKGEpKmFtcF07CiAgICAgIH0KCiAgICAgIC8vIFNlZWRlZCBQUk5HIGZvciBzdWJ0bGUgZGV0ZXJtaW5pc20gZnJvbSBCQVNFX0hVRQogICAgICBsZXQgX3NlZWQgPSAoQkFTRV9IVUUgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwOwogICAgICBmdW5jdGlvbiBybmQoKSB7IF9zZWVkID0gKDExMDM1MTUyNDUgKiBfc2VlZCArIDEyMzQ1KSAmIDB4N2ZmZmZmZmY7IHJldHVybiAoX3NlZWQgPj4+IDgpIC8gMHg3ZmZmZmY7IH0KICAgICAgZnVuY3Rpb24gcmFuZChtaW4sIG1heCkgeyByZXR1cm4gcm5kKCkgKiAobWF4IC0gbWluKSArIG1pbjsgfQoKICAgICAgLy8gRGF0YS1PcmllbnRlZCBTdGF0ZSAoU29BKSDigJQgZHluYW1pYwogICAgICBsZXQgTiA9IENGRy5jb3VudDsKICAgICAgbGV0IHB4LCBweSwgdngsIHZ5LCBheCwgYXksIGh1ZSwgc3BkLCBwcmV2eCwgcHJldnk7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBtb2RpZmllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBzaXplTXVsLCB2Qm9vc3QsIGh1ZU9mZiwgaml0QW1wOwogICAgICAvLyB0cmFuc2llbnQgcGVyLWJvaWQgc3RlZXJpbmcgbXVsdGlwbGllcnMgKGRlY2F5IGVhY2ggZnJhbWUpCiAgICAgIGxldCBhbGlnbk11bCwgY29oZXNpb25NdWwsIHNlcGFyYXRpb25NdWw7CgogICAgICBmdW5jdGlvbiBhbGxvYyhuKSB7CiAgICAgICAgcHggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBweSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgdnggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2eSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgYXggPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBheSA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgICAgaHVlID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc3BkID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBwcmV2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHByZXZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBzaXplTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgdkJvb3N0ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaHVlT2ZmID0gbmV3IEZsb2F0MzJBcnJheShuKTsgaml0QW1wID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBhbGlnbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGNvaGVzaW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgc2VwYXJhdGlvbk11bCA9IG5ldyBGbG9hdDMyQXJyYXkobik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHNlZWRCb2lkcygpIHsKICAgICAgICBjb25zdCBtb2RlID0gQ0ZHLnNwYXduIHx8ICdyYW5kb20nOwogICAgICAgIGlmIChtb2RlID09PSAnY2lyY2xlJykgewogICAgICAgICAgY29uc3QgY3ggPSBpbm5lcldpZHRoLzIsIGN5ID0gaW5uZXJIZWlnaHQvMiwgciA9IE1hdGgubWluKGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KS8zOwogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgY29uc3QgdCA9IE1hdGgucmFuZG9tKCkqTWF0aC5QSSoyOyBweFtpXT1jeCtNYXRoLmNvcyh0KSpyOyBweVtpXT1jeStNYXRoLnNpbih0KSpyOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnZ3JpZCcpIHsKICAgICAgICAgIGNvbnN0IGNvbHM9TWF0aC5tYXgoMTAsIE1hdGguZmxvb3IoTWF0aC5zcXJ0KE4pKSk7IGNvbnN0IHJvd3M9TWF0aC5jZWlsKE4vY29scyk7CiAgICAgICAgICBjb25zdCBneD1pbm5lcldpZHRoLyhjb2xzKzEpLCBneT1pbm5lckhlaWdodC8ocm93cysxKTsgbGV0IGs9MDsKICAgICAgICAgIGZvciAobGV0IHk9MTt5PD1yb3dzO3krKykgZm9yIChsZXQgeD0xO3g8PWNvbHM7eCsrKSB7IGlmIChrPj1OKSBicmVhazsgcHhba109Z3gqeDsgcHlba109Z3kqeTsgdnhba109cmFuZCgtMSwxKTsgdnlba109cmFuZCgtMSwxKTsgaysrOyB9CiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnY2VudGVyYnVyc3QnKSB7CiAgICAgICAgICBjb25zdCBjeD1pbm5lcldpZHRoLzIsIGN5PWlubmVySGVpZ2h0LzI7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCBhPU1hdGgucmFuZG9tKCkqTWF0aC5QSSoyLCBkPXJhbmQoMCwgTWF0aC5taW4oaW5uZXJXaWR0aCxpbm5lckhlaWdodCkvMik7IHB4W2ldPWN4K01hdGguY29zKGEpKmQ7IHB5W2ldPWN5K01hdGguc2luKGEpKmQ7IHZ4W2ldPU1hdGguY29zKGEpOyB2eVtpXT1NYXRoLnNpbihhKTsgfQogICAgICAgIH0gZWxzZSB7IC8vIHJhbmRvbQogICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgcHhbaV09cmFuZCgwLGlubmVyV2lkdGgpOyBweVtpXT1yYW5kKDAsaW5uZXJIZWlnaHQpOyB2eFtpXT1yYW5kKC0xLDEpOyB2eVtpXT1yYW5kKC0xLDEpOyB9CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgICBjb25zdCBtPU1hdGguaHlwb3QodnhbaV0sdnlbaV0pfHwxOyB2eFtpXSo9Mi4wL207IHZ5W2ldKj0yLjAvbTsKICAgICAgICAgIGh1ZVtpXSA9IChwYWxldHRlSHVlICsgcmFuZCgtMzAsIDMwKSkgJSAzNjA7IHByZXZ4W2ldPXB4W2ldOyBwcmV2eVtpXT1weVtpXTsKICAgICAgICAgIHNpemVNdWxbaV09MDsgdkJvb3N0W2ldPTA7IGh1ZU9mZltpXT0wOyBqaXRBbXBbaV09MDsKICAgICAgICAgIGFsaWduTXVsW2ldPTA7IGNvaGVzaW9uTXVsW2ldPTA7IHNlcGFyYXRpb25NdWxbaV09MDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHJlc2VlZChuKSB7CiAgICAgICAgTiA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IobikpOwogICAgICAgIGFsbG9jKE4pOyBzZWVkQm9pZHMoKTsKICAgICAgfQoKICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwoKICAgICAgLy8gUXVhZHRyZWUgaW1wbGVtZW50YXRpb24KICAgICAgY2xhc3MgUVROb2RlIHsKICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoLCBjYXApIHsKICAgICAgICAgIHRoaXMueCA9IHg7IHRoaXMueSA9IHk7IHRoaXMudyA9IHc7IHRoaXMuaCA9IGg7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsgdGhpcy5jb3VudCA9IDA7IHRoaXMuaWR4ID0gbmV3IEludDMyQXJyYXkoY2FwKTsKICAgICAgICAgIHRoaXMucHRzeCA9IG5ldyBGbG9hdDMyQXJyYXkoY2FwKTsgdGhpcy5wdHN5ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5kaXZpZGVkID0gZmFsc2U7IHRoaXMuY2hpbGRyZW4gPSBudWxsOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY2xhc3MgUXVhZHRyZWUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy5yb290ID0gbmV3IFFUTm9kZSh4LCB5LCB3LCBoLCBjYXApOwogICAgICAgICAgdGhpcy5jYXAgPSBjYXA7CiAgICAgICAgfQoKICAgICAgICBpbnNlcnQoaSwgeCwgeSwgbm9kZSA9IHRoaXMucm9vdCkgewogICAgICAgICAgaWYgKHggPCBub2RlLnggfHwgeSA8IG5vZGUueSB8fCB4ID49IG5vZGUueCArIG5vZGUudyB8fCB5ID49IG5vZGUueSArIG5vZGUuaCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgaWYgKG5vZGUuY291bnQgPCBub2RlLmNhcCAmJiAhbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSBub2RlLmNvdW50Kys7IG5vZGUuaWR4W2pdID0gaTsgbm9kZS5wdHN4W2pdID0geDsgbm9kZS5wdHN5W2pdID0geTsgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgdGhpcy5zdWJkaXZpZGUobm9kZSk7CiAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgfQoKICAgICAgICBzdWJkaXZpZGUobm9kZSkgewogICAgICAgICAgbm9kZS5kaXZpZGVkID0gdHJ1ZTsKICAgICAgICAgIGNvbnN0IGh3ID0gbm9kZS53LzIsIGhoID0gbm9kZS5oLzI7CiAgICAgICAgICBub2RlLmNoaWxkcmVuID0gWwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCwgICAgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTlcKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngraHcsICAgIG5vZGUueSwgICAgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIE5FCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55K2hoLCAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gU0UKICAgICAgICAgIF07CiAgICAgICAgICAvLyByZWluc2VydCBleGlzdGluZyBwb2ludHMKICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbm9kZS5jb3VudDsgaysrKSB7CiAgICAgICAgICAgIGNvbnN0IGkgPSBub2RlLmlkeFtrXTsgY29uc3QgeCA9IG5vZGUucHRzeFtrXTsgY29uc3QgeSA9IG5vZGUucHRzeVtrXTsKICAgICAgICAgICAgdGhpcy5pbnNlcnQoaSwgeCwgeSwgbm9kZS5jaGlsZHJlblsgKHkgPCBub2RlLnkgKyBub2RlLmgvMiA/IDAgOiAyKSArICh4IDwgbm9kZS54ICsgbm9kZS53LzIgPyAwIDogMSkgXSk7CiAgICAgICAgICB9CiAgICAgICAgICBub2RlLmNvdW50ID0gMDsgLy8gY2xlYXIgbGVhZiBzdG9yYWdlCiAgICAgICAgfQoKICAgICAgICBxdWVyeShjeCwgY3ksIHIsIG91dCkgewogICAgICAgICAgdGhpcy5fcXVlcnlOb2RlKHRoaXMucm9vdCwgY3gsIGN5LCByLCBvdXQpOwogICAgICAgIH0KICAgICAgICBfcXVlcnlOb2RlKG5vZGUsIGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICAvLyBjaXJjbGUtcmVjdCBxdWljayByZWplY3QKICAgICAgICAgIGNvbnN0IHJ4PW5vZGUueCwgcnk9bm9kZS55LCBydz1ub2RlLncsIHJoPW5vZGUuaDsKICAgICAgICAgIGxldCBueCA9IE1hdGgubWF4KHJ4LCBNYXRoLm1pbihjeCwgcngrcncpKTsKICAgICAgICAgIGxldCBueSA9IE1hdGgubWF4KHJ5LCBNYXRoLm1pbihjeSwgcnkrcmgpKTsKICAgICAgICAgIGNvbnN0IGRpc3QgPSAoY3gtbngpKihjeC1ueCkrKGN5LW55KSooY3ktbnkpOwogICAgICAgICAgaWYgKGRpc3QgPiByKnIpIHJldHVybjsKCiAgICAgICAgICBpZiAoIW5vZGUuZGl2aWRlZCkgewogICAgICAgICAgICBmb3IgKGxldCBrPTA7azxub2RlLmNvdW50O2srKykgeyBvdXQucHVzaChub2RlLmlkeFtrXSk7IH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX3F1ZXJ5Tm9kZShub2RlLmNoaWxkcmVuW2NdLCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQoKICAgICAgICBkcmF3KGN0eCkgewogICAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGBoc2woJHsocGFsZXR0ZUh1ZSsxODApJTM2MH0gODAlIDcwJSAvIDAuMTQpYDsKICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgdGhpcy5fZHJhd05vZGUoY3R4LCB0aGlzLnJvb3QpOwogICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICAgICAgX2RyYXdOb2RlKGN0eCwgbm9kZSkgewogICAgICAgICAgY3R4LnN0cm9rZVJlY3Qobm9kZS54LCBub2RlLnksIG5vZGUudywgbm9kZS5oKTsKICAgICAgICAgIGlmIChub2RlLmRpdmlkZWQpIGZvciAobGV0IGM9MDtjPDQ7YysrKSB0aGlzLl9kcmF3Tm9kZShjdHgsIG5vZGUuY2hpbGRyZW5bY10pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0cwogICAgICBjb25zdCBlZmZlY3RzID0gW107IC8vIHt4LHksdCxsaWZlLHNpZ24sdHlwZSwuLi5leHRyYXN9CiAgICAgIGxldCBtb3VzZURvd24gPSBmYWxzZTsKICAgICAgY29uc3QgcG9pbnRlciA9IHt4OiBpbm5lcldpZHRoLzIsIHk6IGlubmVySGVpZ2h0LzIsIHZ4OiAwLCB2eTogMCwgdDogcGVyZm9ybWFuY2Uubm93KCl9OwogICAgICBhZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGUgPT4gewogICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5tYXgoMSwgbm93IC0gcG9pbnRlci50KTsKICAgICAgICBwb2ludGVyLnZ4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXIueCkgLyBkdDsgcG9pbnRlci52eSA9IChlLmNsaWVudFkgLSBwb2ludGVyLnkpIC8gZHQ7IHBvaW50ZXIudCA9IG5vdzsKICAgICAgICBwb2ludGVyLnggPSBlLmNsaWVudFg7IHBvaW50ZXIueSA9IGUuY2xpZW50WTsKICAgICAgICBtb3VzZURvd24gPSB0cnVlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgKzEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsICAgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IGZhbHNlOyBzcGF3bkVmZmVjdChwb2ludGVyLngsIHBvaW50ZXIueSwgLTEpOwogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIGlmIChtb3VzZURvd24pIHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKCiAgICAgIGZ1bmN0aW9uIHBpY2tDbGlja1R5cGUoKSB7CiAgICAgICAgaWYgKENGRy5jbGlja01vZGUgJiYgQ0ZHLmNsaWNrTW9kZSAhPT0gJ3JhbmRvbScpIHJldHVybiBDRkcuY2xpY2tNb2RlOwogICAgICAgIGNvbnN0IGxpc3QgPSBDRkcuY2xpY2tNb2RlcyB8fCBbJ3Nob2NrJ107CiAgICAgICAgcmV0dXJuIGxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmxpc3QubGVuZ3RoKV0gfHwgJ3Nob2NrJzsKICAgICAgfQogICAgICBmdW5jdGlvbiBzcGF3bkVmZmVjdCh4LCB5LCBzaWduKSB7CiAgICAgICAgY29uc3QgdHlwZSA9IHBpY2tDbGlja1R5cGUoKTsKICAgICAgICBjb25zdCBsaWZlID0gKHR5cGU9PT0naW1wbG9zaW9uJykgPyAwLjkgOiAodHlwZT09PSd2b3J0ZXgnIHx8IHR5cGU9PT0nbWV0ZW9yJyA/IDEuOCA6IDEuMik7CiAgICAgICAgY29uc3QgRSA9IHsgeCwgeSwgdDogMCwgbGlmZSwgc2lnbiwgdHlwZSB9OwogICAgICAgIGlmICh0eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgIGNvbnN0IHNwID0gTWF0aC5taW4oMywgTWF0aC5oeXBvdChwb2ludGVyLnZ4LCBwb2ludGVyLnZ5KSoxMjApOwogICAgICAgICAgRS5hID0gMiArIE1hdGguZmxvb3Ioc3AlNCk7IEUuYiA9IDMgKyBNYXRoLmZsb29yKChzcCoxLjcpJTQpOyBFLnBoYXNlID0gTWF0aC5yYW5kb20oKSpUQVU7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgY29uc3Qgc2NhbGUgPSA5MDA7IEUudnggPSBwb2ludGVyLnZ4KnNjYWxlOyBFLnZ5ID0gcG9pbnRlci52eSpzY2FsZTsgRS5tYXNzID0gMjIwICsgTWF0aC5yYW5kb20oKSoxODA7IEUuZHJhZz0wLjk4OwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICBFLnNjYWxlID0gMC4wMDYgKyBNYXRoLnJhbmRvbSgpKjAuMDA2OyBFLmFtcCA9IDEuMiArIE1hdGgucmFuZG9tKCkqMS4yOwogICAgICAgIH0KICAgICAgICBlZmZlY3RzLnB1c2goRSk7CiAgICAgIH0KCiAgICAgIC8vIFBoeXNpY3MgaGVscGVycwogICAgICBmdW5jdGlvbiBsaW1pdCh2eCwgdnksIG1heCkgewogICAgICAgIGNvbnN0IG0yID0gdngqdnggKyB2eSp2eTsgaWYgKG0yID4gbWF4Km1heCkgewogICAgICAgICAgY29uc3QgbSA9IE1hdGguc3FydChtMikgfHwgMTsgY29uc3QgcyA9IG1heCAvIG07IHJldHVybiBbdngqcywgdnkqc107CiAgICAgICAgfSByZXR1cm4gW3Z4LCB2eV07CiAgICAgIH0KCiAgICAgIC8vIE1haW4gbG9vcAogICAgICBsZXQgbGFzdCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICBsZXQgZnBzQXZnID0gMDsKICAgICAgZnVuY3Rpb24gZnJhbWUodCkgewogICAgICAgIGNvbnN0IGR0ID0gTWF0aC5taW4oMzIsIHQgLSBsYXN0KSAqIDAuMDAxOyAvLyBjbGFtcAogICAgICAgIGxhc3QgPSB0OwogICAgICAgIGNvbnN0IGZwc05vdyA9IDEgLyBNYXRoLm1heCgxZS02LCBkdCk7CiAgICAgICAgZnBzQXZnID0gZnBzQXZnID8gKGZwc0F2ZyowLjkgKyBmcHNOb3cqMC4xKSA6IGZwc05vdzsKICAgICAgICBjb25zdCBXID0gaW5uZXJXaWR0aCwgSCA9IGlubmVySGVpZ2h0OwoKICAgICAgICAvLyB0cmFpbHM6IHRyYW5zbHVjZW50IGZpbGwKICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJzsKICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIENGRy50cmFpbEFscGhhKSk7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgVywgSCk7CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gQnVpbGQgcXVhZHRyZWUKICAgICAgICBjb25zdCBxdCA9IG5ldyBRdWFkdHJlZSgwLCAwLCBXLCBILCBDRkcucXRDYXApOwogICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSBxdC5pbnNlcnQoaSwgcHhbaV0sIHB5W2ldKTsKCiAgICAgIC8vIEFwcGx5IGZsb2NraW5nIHZpYSBuZWlnaGJvciBxdWVyaWVzIChhZGFwdGl2ZSB2aXNpb24gdW5kZXIgbG9hZCkKICAgICAgY29uc3QgdmlzaW9uID0gQ0ZHLnZpc2lvbiAqIChmcHNBdmcgPCA1MCA/IDAuOSA6IDEuMCk7IGNvbnN0IHNlcCA9IENGRy5zZXA7CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGF4W2ldPTA7IGF5W2ldPTA7IH0KICAgICAgbGV0IHRtcCA9IFtdOwogICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgIHRtcC5sZW5ndGggPSAwOyBxdC5xdWVyeShweFtpXSwgcHlbaV0sIHZpc2lvbiwgdG1wKTsKICAgICAgICAgIGxldCBjeD0wLCBjeT0wLCB2eHN1bT0wLCB2eXN1bT0wLCBzeD0wLCBzeT0wLCB0b3RhbD0wLCBzY2xvc2U9MDsKICAgICAgICAgIGZvciAobGV0IGs9MDtrPHRtcC5sZW5ndGg7aysrKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSB0bXBba107IGlmIChqPT09aSkgY29udGludWU7CiAgICAgICAgICAgIGNvbnN0IGR4ID0gcHhbal0tcHhbaV07IGNvbnN0IGR5ID0gcHlbal0tcHlbaV07CiAgICAgICAgICAgIGNvbnN0IGQyID0gZHgqZHggKyBkeSpkeTsgaWYgKGQyID09PSAwKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChkMik7CiAgICAgICAgICAgIGlmIChkIDwgdmlzaW9uKSB7IHRvdGFsKys7IGN4ICs9IHB4W2pdOyBjeSArPSBweVtqXTsgdnhzdW0gKz0gdnhbal07IHZ5c3VtICs9IHZ5W2pdOyB9CiAgICAgICAgICAgIGlmIChkIDwgc2VwKSB7IHNjbG9zZSsrOyBzeCAtPSBkeC8oZHx8MSk7IHN5IC09IGR5LyhkfHwxKTsgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKHRvdGFsPjApIHsKICAgICAgICAgICAgLy8gYWxpZ25tZW50CiAgICAgICAgICAgIGxldCBheHYgPSAodnhzdW0vdG90YWwpIC0gdnhbaV07IGxldCBheXYgPSAodnlzdW0vdG90YWwpIC0gdnlbaV07CiAgICAgICAgICAgIGNvbnN0IGFsaWduVyA9IENGRy5hbGlnblcgKiAoMSArIChhbGlnbk11bFtpXXx8MCkpOwogICAgICAgICAgICBbYXh2LCBheXZdID0gbGltaXQoYXh2LCBheXYsIENGRy5tYXhGb3JjZSk7CiAgICAgICAgICAgIGF4W2ldICs9IGF4diAqIGFsaWduVzsgYXlbaV0gKz0gYXl2ICogYWxpZ25XOwogICAgICAgICAgICAvLyBjb2hlc2lvbgogICAgICAgICAgICBsZXQgY3h2ID0gKGN4L3RvdGFsIC0gcHhbaV0pOyBsZXQgY3l2ID0gKGN5L3RvdGFsIC0gcHlbaV0pOwogICAgICAgICAgICBjb25zdCBjb2hXID0gQ0ZHLmNvaGVzaW9uVyAqICgxICsgKGNvaGVzaW9uTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtjeHYsIGN5dl0gPSBsaW1pdChjeHYsIGN5diwgQ0ZHLm1heEZvcmNlKTsgYXhbaV0gKz0gY3h2ICogY29oVzsgYXlbaV0gKz0gY3l2ICogY29oVzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChzY2xvc2U+MCkgewogICAgICAgICAgICBsZXQgc3h2ID0gc3g7IGxldCBzeXYgPSBzeTsgW3N4diwgc3l2XSA9IGxpbWl0KHN4diwgc3l2LCBDRkcubWF4Rm9yY2UqMS41KTsKICAgICAgICAgICAgY29uc3Qgc2VwVyA9IENGRy5zZXBhcmF0aW9uVyAqICgxICsgKHNlcGFyYXRpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgYXhbaV0gKz0gc3h2ICogc2VwVzsgYXlbaV0gKz0gc3l2ICogc2VwVzsKICAgICAgICAgIH0KICAgICAgICAvLyBvcHRpb25hbCBmbG93IGZpZWxkIGZvciBwYXR0ZXJuIHZhcmlldHkKICAgICAgICBpZiAoQ0ZHLmZsb3cpIHsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuZmxvd1NjYWxlIHx8IDAuMDA0OyBjb25zdCBhID0gQ0ZHLmZsb3dBbXAgfHwgMC42OyBjb25zdCBzcCA9IENGRy5mbG93U3BlZWQgfHwgMC42OwogICAgICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKSowLjAwMSpzcDsKICAgICAgICAgIGNvbnN0IGZ4ID0gTWF0aC5zaW4ocHlbaV0qcyArIHQwKSAqIGE7CiAgICAgICAgICBjb25zdCBmeSA9IE1hdGguY29zKHB4W2ldKnMgLSB0MCkgKiBhOwogICAgICAgICAgYXhbaV0gKz0gZng7IGF5W2ldICs9IGZ5OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSW50ZXJhY3Rpb24gZWZmZWN0czogfjIwKyBtb2RlcyBpbmNsdWRpbmcgcGVybGluRHJhZywgbGlzc2FQdWxzZSwgbWV0ZW9yCiAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcic7CiAgICAgIGxldCB0bXAyID0gW107CiAgICAgIGZvciAobGV0IGU9ZWZmZWN0cy5sZW5ndGgtMTsgZT49MDsgZS0tKSB7CiAgICAgICAgY29uc3QgRSA9IGVmZmVjdHNbZV07IEUudCArPSBkdDsgY29uc3QgayA9IEUudCAvIEUubGlmZTsKICAgICAgICBjb25zdCByID0gMzAgKyBrICogMjYwOyBjb25zdCBzdHIgPSAxLjAgLSBrOwogICAgICAgIGlmIChFLnR5cGUgPT09ICdtZXRlb3InKSB7IEUueCArPSAoRS52eHx8MCkqZHQ7IEUueSArPSAoRS52eXx8MCkqZHQ7IEUudnggKj0gKEUuZHJhZ3x8MSk7IEUudnkgKj0gKEUuZHJhZ3x8MSk7IEUubWFzcyAqPSAwLjk4NTsgfQogICAgICAgIHRtcDIubGVuZ3RoID0gMDsgcXQucXVlcnkoRS54LCBFLnksIHIsIHRtcDIpOwogICAgICAgIGZvciAobGV0IGlpPTA7IGlpPHRtcDIubGVuZ3RoOyBpaSsrKSB7CiAgICAgICAgICBjb25zdCBpID0gdG1wMltpaV07IGNvbnN0IGR4ID0gcHhbaV0tRS54OyBjb25zdCBkeSA9IHB5W2ldLUUueTsgY29uc3QgZCA9IE1hdGguaHlwb3QoZHgsIGR5KXx8MTsKICAgICAgICAgIGNvbnN0IGZhbGwgPSAoMSAtIE1hdGgubWluKDEsIGQvcikpOwogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3BlcmxpbkRyYWcnKSB7CiAgICAgICAgICAgIGNvbnN0IHYgPSBwZXJsaW5WZWMocHhbaV0tRS54LCBweVtpXS1FLnksIEUuc2NhbGV8fDAuMDA4LCAoRS5hbXB8fDEuNSkgKiBmYWxsKTsKICAgICAgICAgICAgYXhbaV0gKz0gdlswXTsgYXlbaV0gKz0gdlsxXTsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ2xpc3NhUHVsc2UnKSB7CiAgICAgICAgICAgIGNvbnN0IGFuZyA9IE1hdGguYXRhbjIoZHksIGR4KTsKICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguc2luKEUuYSphbmcgKyBFLnBoYXNlKSAqIE1hdGguY29zKEUuYiphbmcgLSBFLnBoYXNlKTsKICAgICAgICAgICAgY29uc3QgcyA9IHcgKiAyLjAgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgICAgY29uc3QgRyA9IDgwMDsgY29uc3QgZiA9IE1hdGgubWluKDMuMCwgKEcqKEUubWFzc3x8MjAwKSkvKChkKmQpKzIwMCkpOwogICAgICAgICAgICBheFtpXSAtPSAoZHgvZCkqZipmYWxsOyBheVtpXSAtPSAoZHkvZCkqZipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChFLnR5cGUgPT09ICd2b3J0ZXgnIHx8IEUudHlwZT09PSdvcmJpdENXJyB8fCBFLnR5cGU9PT0nb3JiaXRDQ1cnIHx8IEUudHlwZT09PSdzcGlyYWxPdXQnIHx8IEUudHlwZT09PSdzcGlyYWxJbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdvcmJpdENDVycpID8gLTEgOiAxOwogICAgICAgICAgICBjb25zdCB0eCA9IC1keS9kLCB0eSA9IGR4L2Q7IGxldCBzID0gKEUuc2lnbj4wPzE6LTEpICogMS4yICogZmFsbCAqIGRpcjsKICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxPdXQnKSB7IHMgPSAxLjIqZmFsbDsgYXhbaV0gKz0gKGR4L2QpKmZhbGwqMC44OyBheVtpXSArPSAoZHkvZCkqZmFsbCowLjg7IH0KICAgICAgICAgICAgaWYgKEUudHlwZT09PSdzcGlyYWxJbicpIHsgcyA9IC0xLjIqZmFsbDsgYXhbaV0gLT0gKGR4L2QpKmZhbGwqMC42OyBheVtpXSAtPSAoZHkvZCkqZmFsbCowLjY7IH0KICAgICAgICAgICAgYXhbaV0gKz0gdHgqczsgYXlbaV0gKz0gdHkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgdkJvb3N0W2ldICs9IDAuMipmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdpbXBsb3Npb24nIHx8IEUudHlwZT09PSdhdHRyYWN0JyB8fCBFLnR5cGU9PT0nbWFnbmV0JykgewogICAgICAgICAgICBjb25zdCBzID0gKEUudHlwZT09PSdpbXBsb3Npb24nID8gLTIuMiA6IC0xLjIpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuMTUqZmFsbDsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzcHJheScgfHwgRS50eXBlPT09J3NjYXR0ZXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAoRS50eXBlPT09J3NjYXR0ZXInPzMuMDoyLjQpICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgICB2eFtpXSArPSAoZHgvZCkgKiAwLjI1ICogZmFsbDsgdnlbaV0gKz0gKGR5L2QpICogMC4yNSAqIGZhbGw7IGppdEFtcFtpXSArPSAwLjE1KmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3N0dW4nIHx8IEUudHlwZT09PSdmcmVlemUnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSAtPSAoRS50eXBlPT09J2ZyZWV6ZSc/MC42OjAuMykgKiBmYWxsOyBzaXplTXVsW2ldICs9IDAuMypmYWxsOyB2eFtpXSAqPSAwLjk2OyB2eVtpXSAqPSAwLjk2OwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdmZWFyJykgewogICAgICAgICAgICBjb25zdCBzID0gMi44ICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOyBqaXRBbXBbaV0gKz0gMC4yNSpmYWxsOyBodWVPZmZbaV0gKz0gODAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc2NyYW1ibGUnKSB7CiAgICAgICAgICAgIHZ4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAxLjUqZmFsbDsgdnlbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyBqaXRBbXBbaV0gKz0gMC4zKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3B1bHNlJyB8fCBFLnR5cGU9PT0ncmlwcGxlJykgewogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oaypNYXRoLlBJKjIpOyBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnYWxpZ24nKSB7CiAgICAgICAgICAgIGFsaWduTXVsW2ldICs9IDAuOCAqIGZhbGw7IHNlcGFyYXRpb25NdWxbaV0gLT0gMC4zICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZGVhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gLT0gMC44ICogZmFsbDsgY29oZXNpb25NdWxbaV0gKz0gMC4yICogZmFsbDsgaml0QW1wW2ldICs9IDAuMSAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2NvaGVyZScgfHwgRS50eXBlPT09J3RpZ2h0ZW4nIHx8IEUudHlwZT09PSdsb29zZW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRpciA9IChFLnR5cGU9PT0nbG9vc2VuJykgPyAtMSA6IDE7IC8vIGxvb3NlbiByZWR1Y2VzIGNvaGVzaW9uCiAgICAgICAgICAgIGNvaGVzaW9uTXVsW2ldICs9IGRpciAqIDAuOSAqIGZhbGw7IGlmIChkaXI+MCkgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjIgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzZXBhcmF0ZScgfHwgRS50eXBlPT09J2Rpc3BlcnNlJykgewogICAgICAgICAgICBzZXBhcmF0aW9uTXVsW2ldICs9IDEuMCAqIGZhbGw7IGNvaGVzaW9uTXVsW2ldIC09IDAuNCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3dhcnAnIHx8IEUudHlwZT09PSdzcGVlZHVwJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4yKmZhbGw7IGh1ZU9mZltpXSArPSA0MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzbG93ZG93bicpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IDAuNSpmYWxsOyBodWVPZmZbaV0gLT0gMjAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnZ3JvdycpIHsKICAgICAgICAgICAgc2l6ZU11bFtpXSArPSAwLjYqZmFsbDsgaHVlT2ZmW2ldICs9IDMwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3R1bm5lbCcpIHsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gciowLjc7IGNvbnN0IHMgPSAoZDx0YXJnZXQ/KzE6LTEpICogMS4yICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdqaXR0ZXJidXJzdCcpIHsKICAgICAgICAgICAgaml0QW1wW2ldICs9IDAuNipmYWxsOyBzaXplTXVsW2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdjaHJvbWFidXJzdCcpIHsKICAgICAgICAgICAgaHVlT2ZmW2ldICs9IDE2MCAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgeyAvLyBzaG9jayAvIGRlZmF1bHQKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8rMTotMSkgKiAxLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IHZCb29zdFtpXSArPSAwLjEqZmFsbDsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGdlbmVyYWwgY29sb3IgZW5lcmd5CiAgICAgICAgICBodWVbaV0gPSAoaHVlW2ldICsgOTAgKiBmYWxsKSAlIDM2MDsKICAgICAgICB9CiAgICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChFLngsIEUueSwgTWF0aC5tYXgoMSwgciowLjYpLCBFLngsIEUueSwgcik7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHsocGFsZXR0ZUh1ZSsyMCklMzYwfSwgOTUlLCA3MCUsICR7MC4zNCpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzYwKSUzNjB9LCA5NSUsIDYwJSwgJHswLjIyKnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjk1LCBgaHNsYSgkeyhwYWxldHRlSHVlKzEwMCklMzYwfSwgOTUlLCA1NSUsIDApYCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbGEoJHtwYWxldHRlSHVlfSwgOTUlLCA2NSUsICR7MC4yNSpzdHJ9KWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC42LCBgaHNsYSgkeyhwYWxldHRlSHVlKzQwKSUzNjB9LCA5NSUsIDU1JSwgJHswLjE4KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjksIGBoc2xhKCR7KHBhbGV0dGVIdWUrODApJTM2MH0sIDk1JSwgNjAlLCAwKWApOwogICAgICAgIH0KICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKEUueCwgRS55LCByLCAwLCBNYXRoLlBJKjIpOyBjdHguZmlsbCgpOwogICAgICAgIGlmIChrID49IDEpIGVmZmVjdHMuc3BsaWNlKGUsIDEpOwogICAgICB9CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgLy8gSW50ZWdyYXRlIGFuZCBkcmF3IGJvaWRzIHdpdGggZ2xvdyBhbmQgdHJhaWxzCiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IENGRy5ibGVuZDsKICAgICAgY3R4LmxpbmVXaWR0aCA9IENGRy5saW5lV2lkdGg7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIC8vIGludGVncmF0ZQogICAgICAgICAgaWYgKGppdEFtcFtpXSA+IDAuMDAwMSkgeyBheFtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyBheVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMC4yICogaml0QW1wW2ldOyB9CiAgICAgICAgICB2eFtpXSArPSBheFtpXTsgdnlbaV0gKz0gYXlbaV07CiAgICAgICAgICBjb25zdCB2TWF4ID0gQ0ZHLm1heFNwZWVkICogKDEgKyBNYXRoLm1heCgtMC43LCB2Qm9vc3RbaV0pKjAuOCk7CiAgICAgICAgICBbdnhbaV0sIHZ5W2ldXSA9IGxpbWl0KHZ4W2ldLCB2eVtpXSwgdk1heCk7CiAgICAgICAgICAvLyBlbmZvcmNlIG1pbiBzcGVlZCAod2l0aCBib29zdCkKICAgICAgICAgIHsgY29uc3Qgc3AgPSBNYXRoLmh5cG90KHZ4W2ldLCB2eVtpXSkgfHwgMTsgY29uc3Qgdk1pbiA9IENGRy5taW5TcGVlZCAqICgxICsgTWF0aC5tYXgoMCwgdkJvb3N0W2ldKSowLjUpOyBpZiAoc3AgPCB2TWluKSB7IGNvbnN0IHMgPSB2TWluIC8gc3A7IHZ4W2ldICo9IHM7IHZ5W2ldICo9IHM7IH0gfQogICAgICAgICAgcHJldnhbaV0gPSBweFtpXTsgcHJldnlbaV0gPSBweVtpXTsKICAgICAgICAgIHB4W2ldICs9IHZ4W2ldOyBweVtpXSArPSB2eVtpXTsKCiAgICAgICAgICAvLyBib3VuZGFyaWVzCiAgICAgICAgICBpZiAoQ0ZHLndyYXApIHsKICAgICAgICAgICAgaWYgKHB4W2ldIDwgLTUpIHB4W2ldID0gVyArIDU7IGVsc2UgaWYgKHB4W2ldID4gVys1KSBweFtpXSA9IC01OwogICAgICAgICAgICBpZiAocHlbaV0gPCAtNSkgcHlbaV0gPSBIICsgNTsgZWxzZSBpZiAocHlbaV0gPiBIKzUpIHB5W2ldID0gLTU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAocHhbaV0gPCAwIHx8IHB4W2ldID4gVykgeyB2eFtpXSA9IC12eFtpXTsgfQogICAgICAgICAgICBpZiAocHlbaV0gPCAwIHx8IHB5W2ldID4gSCkgeyB2eVtpXSA9IC12eVtpXTsgfQogICAgICAgICAgICBweFtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKFcsIHB4W2ldKSk7CiAgICAgICAgICAgIHB5W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oSCwgcHlbaV0pKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBkZWNheSBtb2RpZmllcnMgYW5kIGNvbXB1dGUgdGludAogICAgICAgICAgdkJvb3N0W2ldICo9IDAuOTI7IHNpemVNdWxbaV0gKj0gMC45MDsgaHVlT2ZmW2ldICo9IDAuOTQ7IGppdEFtcFtpXSAqPSAwLjg4OwogICAgICAgICAgYWxpZ25NdWxbaV0gKj0gMC45NDsgY29oZXNpb25NdWxbaV0gKj0gMC45NDsgc2VwYXJhdGlvbk11bFtpXSAqPSAwLjk0OwogICAgICAgICAgLy8gc2xvd2x5IGRyaWZ0IGJvaWQgaHVlIGJhY2sgdG93YXJkIGJhc2UgcGFsZXR0ZSBodWUKICAgICAgICAgIGh1ZVtpXSA9IGFwcHJvYWNoSHVlKGh1ZVtpXSwgcGFsZXR0ZUh1ZSwgTWF0aC5taW4oMSwgZHQgKiAoQ0ZHLmh1ZVJlbGF4IHx8IDAuMikpKTsKICAgICAgICAgIHNwZFtpXSA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKTsKICAgICAgICAgIGNvbnN0IEwgPSA1MCArIE1hdGgubWluKDQ1LCBzcGRbaV0qOCk7CiAgICAgICAgICBjb25zdCBTID0gODAgKyBNYXRoLm1pbigyMCwgc3BkW2ldKjYpOwogICAgICAgICAgY29uc3QgZHJhd0h1ZSA9IChodWVbaV0gKyBodWVPZmZbaV0pICUgMzYwOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgke2RyYXdIdWV9LCAke1N9JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IGBoc2woJHtkcmF3SHVlfSwgOTAlLCA2MCUpYDsKICAgICAgICAgIGNvbnN0IGdsb3dRdWFsaXR5ID0gKGZwc0F2ZyA8IDUwID8gMC41IDogMS4wKTsKICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gZ2xvd1F1YWxpdHkgKiAoQ0ZHLmdsb3dCYXNlICsgTWF0aC5taW4oQ0ZHLmdsb3dNYXgsIHNwZFtpXSpDRkcuZ2xvd1NjYWxlKSk7CgogICAgICAgICAgLy8gdHJhaWwgc2VnbWVudAogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY3R4Lm1vdmVUbyhwcmV2eFtpXSwgcHJldnlbaV0pOwogICAgICAgICAgY3R4LmxpbmVUbyhweFtpXSwgcHlbaV0pOwogICAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICAgIC8vIGJvaWQgaGVhZCBzaGFwZQogICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMih2eVtpXSwgdnhbaV0pOwogICAgICAgICAgY29uc3QgY2EgPSBNYXRoLmNvcyhhbmcpLCBzYSA9IE1hdGguc2luKGFuZyk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYGhzbCgke2h1ZVtpXX0sIDk1JSwgJHtMfSUpYDsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGNvbnN0IHMgPSBDRkcuY29tZXRTaXplICogKDEgKyAoc2l6ZU11bFtpXXx8MCkpOwogICAgICAgICAgaWYgKENGRy5zaGFwZSA9PT0gJ3RyaWFuZ2xlJykgewogICAgICAgICAgICBjb25zdCBDMjYgPSAwLjg1Njg4ODc1MywgUzI2ID0gMC41MTU0OTg7IC8vIGNvcy9zaW4oMi42KQogICAgICAgICAgICBjb25zdCB4MCA9IHB4W2ldICsgY2EqcyoxLjYsIHkwID0gcHlbaV0gKyBzYSpzKjEuNjsKICAgICAgICAgICAgY29uc3QgY2FfcCA9IGNhKkMyNiAtIHNhKlMyNiwgc2FfcCA9IHNhKkMyNiArIGNhKlMyNjsKICAgICAgICAgICAgY29uc3QgY2FfbSA9IGNhKkMyNiArIHNhKlMyNiwgc2FfbSA9IHNhKkMyNiAtIGNhKlMyNjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4MCwgeTApOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcCpzLCAgcHlbaV0gKyBzYV9wKnMpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbSpzLCAgcHlbaV0gKyBzYV9tKnMpOwogICAgICAgICAgfSBlbHNlIGlmIChDRkcuc2hhcGUgPT09ICdvcmInKSB7CiAgICAgICAgICAgIGN0eC5hcmMocHhbaV0sIHB5W2ldLCBzKjAuNiwgMCwgTWF0aC5QSSoyKTsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNwYXJrCiAgICAgICAgICAgIGNvbnN0IEMwMiA9IDAuOTgwMDY2NiwgUzAyID0gMC4xOTg2NjkzOyAvLyBjb3Mvc2luKDAuMikKICAgICAgICAgICAgY29uc3QgeGggPSBweFtpXSArIGNhKnMqMS44LCB5aCA9IHB5W2ldICsgc2EqcyoxLjg7CiAgICAgICAgICAgIGNvbnN0IGNhX3AwMiA9IGNhKkMwMiAtIHNhKlMwMiwgc2FfcDAyID0gc2EqQzAyICsgY2EqUzAyOwogICAgICAgICAgICBjb25zdCBjYV9tMDIgPSBjYSpDMDIgKyBzYSpTMDIsIHNhX20wMiA9IHNhKkMwMiAtIGNhKlMwMjsKICAgICAgICAgICAgY3R4Lm1vdmVUbyh4aCwgeWgpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfcDAyKnMqMC42LCAgcHlbaV0gKyBzYV9wMDIqcyowLjYpOwogICAgICAgICAgICBjdHgubGluZVRvKHB4W2ldICsgY2FfbTAyKnMqMC42LCAgcHlbaV0gKyBzYV9tMDIqcyowLjYpOwogICAgICAgICAgfQogICAgICAgICAgY3R4LmNsb3NlUGF0aCgpOyBjdHguZmlsbCgpOwogICAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBRdWFkdHJlZSB2aXN1YWxpemF0aW9uIChkZWZhdWx0IG9uKQogICAgICAgIGlmIChDRkcucXQpIHF0LmRyYXcoY3R4KTsKCiAgICAgICAgLy8gSFVECiAgICAgICAgaHVkRWwuaW5uZXJIVE1MID0gYDxzdHJvbmc+Qm9pZHM8L3N0cm9uZz4gwrcgTj0ke059IHZpc2lvbj0ke0NGRy52aXNpb259IHNlcD0ke0NGRy5zZXB9IGAgKwogICAgICAgICAgYMK3IHF0Q2FwPSR7Q0ZHLnF0Q2FwfSDCtyBodWU9JHtwYWxldHRlSHVlfSDCtyBxdFZpej0ke0NGRy5xdD8nb24nOidvZmYnfSDCtyBjbGljaz0ke0NGRy5jbGlja01vZGV9IMK3IGZwcz0ke2Zwc0F2Zy50b0ZpeGVkKDApfWA7CgogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7CiAgICAgIH0KICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKCiAgICAgIC8vIENvbmZpZyBVSSBidWlsZCBhbmQgd2lyaW5nCiAgICAgIGNvbnN0IGNmZ0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdCdG4nKTsKICAgICAgY29uc3QgY2ZnQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2ZnQ2xvc2UnKTsKICAgICAgY29uc3QgY2ZnUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnJyk7CiAgICAgIGNvbnN0IGNmZ0JvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnQm9keScpOwogICAgICBjZmdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpKTsKICAgICAgY2ZnQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjZmdQYW5lbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsJycpKTsKCiAgICAgIGNvbnN0IHNjaGVtYSA9IFsKICAgICAgICB7a2V5OidodWUnLCBsYWJlbDonSHVlJywgdHlwZTonaW50JywgbWluOjAsIG1heDozNjAsIHN0ZXA6MSwgdmFsdWU6QkFTRV9IVUV9LAogICAgICAgIHtrZXk6J2hlYWRlcicsIGxhYmVsOidIZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6SEVBREVSfSwKICAgICAgICB7a2V5OidzdWJoZWFkZXInLCBsYWJlbDonU3ViaGVhZGVyJywgdHlwZTondGV4dCcsIHZhbHVlOlNVQkhFQURFUn0sCiAgICAgICAge2tleToncXQnLCBsYWJlbDonU2hvdyBRdWFkdHJlZScsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaG93SHVkJywgbGFiZWw6J1Nob3cgSFVEJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3NwYXduJywgbGFiZWw6J1NwYXduJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ2NpcmNsZScsJ2dyaWQnLCdjZW50ZXJidXJzdCddfSwKICAgICAgICB7a2V5Oidjb3VudCcsIGxhYmVsOidDb3VudCcsIHR5cGU6J2ludCcsIG1pbjo1MCwgbWF4OjEwMDAsIHN0ZXA6MX0sCiAgICAgICAge2tleTondmlzaW9uJywgbGFiZWw6J1Zpc2lvbicsIHR5cGU6J2ludCcsIG1pbjoyMCwgbWF4OjIwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidzZXAnLCBsYWJlbDonU2VwYXJhdGlvbiBEaXN0JywgdHlwZTonaW50JywgbWluOjQsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidtYXhTcGVlZCcsIGxhYmVsOidNYXggU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4xLCBtYXg6MTIsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidtaW5TcGVlZCcsIGxhYmVsOidNaW4gU3BlZWQnLCB0eXBlOidudW1iZXInLCBtaW46MC4wLCBtYXg6Niwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21heEZvcmNlJywgbGFiZWw6J01heCBTdGVlcmluZyBGb3JjZScsIHR5cGU6J251bWJlcicsIG1pbjowLjAwMSwgbWF4OjAuNSwgc3RlcDowLjAwMX0sCiAgICAgICAge2tleTonYWxpZ25XJywgbGFiZWw6J0FsaWduIFdlaWdodCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NCwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5Oidjb2hlc2lvblcnLCBsYWJlbDonQ29oZXNpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3NlcGFyYXRpb25XJywgbGFiZWw6J1NlcGFyYXRpb24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J3RyYWlsQWxwaGEnLCBsYWJlbDonVHJhaWwgQWxwaGEnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjEsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleToncXRDYXAnLCBsYWJlbDonUXVhZHRyZWUgQ2FwYWNpdHknLCB0eXBlOidpbnQnLCBtaW46MiwgbWF4OjMyLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3dyYXAnLCBsYWJlbDonV3JhcCBCb3VuZHMnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc2hhcGUnLCBsYWJlbDonU2hhcGUnLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsndHJpYW5nbGUnLCdzcGFyaycsJ29yYiddfSwKICAgICAgICB7a2V5OidibGVuZCcsIGxhYmVsOidCbGVuZCcsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydsaWdodGVyJywnc2NyZWVuJywnb3ZlcmxheScsJ3BsdXMtbGlnaHRlciddfSwKICAgICAgICB7a2V5OidsaW5lV2lkdGgnLCBsYWJlbDonTGluZSBXaWR0aCcsIHR5cGU6J251bWJlcicsIG1pbjowLjIsIG1heDo0LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonZ2xvd0Jhc2UnLCBsYWJlbDonR2xvdyBCYXNlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo2MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93TWF4JywgbGFiZWw6J0dsb3cgTWF4JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidnbG93U2NhbGUnLCBsYWJlbDonR2xvdyBTY2FsZScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6NDAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5Oidjb21ldFNpemUnLCBsYWJlbDonQ29tZXQgU2l6ZScsIHR5cGU6J251bWJlcicsIG1pbjoxLCBtYXg6MjAsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidiZ0dyYWRpZW50JywgbGFiZWw6J0JHIEdyYWRpZW50JywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQxJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAxJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDInLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDInLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MycsIGxhYmVsOidCRyBIdWUgU2hpZnQgMycsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2Zsb3cnLCBsYWJlbDonRmxvdyBGaWVsZCcsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidmbG93QW1wJywgbGFiZWw6J0Zsb3cgQW1wJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTY2FsZScsIGxhYmVsOidGbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAwNSwgbWF4OjAuMDIsIHN0ZXA6MC4wMDA1fSwKICAgICAgICB7a2V5OidmbG93U3BlZWQnLCBsYWJlbDonRmxvdyBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6Mywgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidjbGlja01vZGUnLCBsYWJlbDonQ2xpY2sgTW9kZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6WydyYW5kb20nLCdzaG9jaycsJ3ZvcnRleCcsJ2ltcGxvc2lvbicsJ3NwcmF5J119LAogICAgICBdOwoKICAgICAgZnVuY3Rpb24gbWFrZVJvdyhsYWJlbCwgaW5wdXQpIHsKICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgcm93LmNsYXNzTmFtZSA9ICdyb3cnOwogICAgICAgIGNvbnN0IGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOyBsLnRleHRDb250ZW50ID0gbGFiZWw7IHJvdy5hcHBlbmRDaGlsZChsKTsKICAgICAgICByb3cuYXBwZW5kQ2hpbGQoaW5wdXQpOyByZXR1cm4gcm93OwogICAgICB9CgogICAgICBmdW5jdGlvbiBhZGRJbnB1dChpdGVtKSB7CiAgICAgICAgbGV0IGlucHV0OwogICAgICAgIGNvbnN0IHYwID0gKGl0ZW0ua2V5IGluIENGRykgPyBDRkdbaXRlbS5rZXldIDogaXRlbS52YWx1ZTsKICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vbCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0nY2hlY2tib3gnOyBpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgQ0ZHW2l0ZW0ua2V5XSA9IGlucHV0LmNoZWNrZWQ7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzZWxlY3QnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpOwogICAgICAgICAgZm9yIChjb25zdCBvcHQgb2YgaXRlbS5vcHRpb25zKSB7IGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsgby52YWx1ZT1vcHQ7IG8udGV4dENvbnRlbnQ9b3B0OyBpZiAob3B0PT09djApIG8uc2VsZWN0ZWQ9dHJ1ZTsgaW5wdXQuYXBwZW5kQ2hpbGQobyk7IH0KICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQudmFsdWU7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCBDRkdbaXRlbS5rZXldKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0JykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSd0ZXh0JzsgaW5wdXQudmFsdWUgPSBTdHJpbmcodjB8fCcnKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpZiAoaXRlbS5rZXk9PT0naGVhZGVyJykgeyB0aXRsZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmtleT09PSdzdWJoZWFkZXInKSB7IHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIGlucHV0LnZhbHVlKTsgfSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmtleSA9PT0gJ2h1ZScpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5taW49JzAnOyBpbnB1dC5tYXg9JzM2MCc7IGlucHV0LnN0ZXA9JzEnOyBpbnB1dC52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5taW49JzAnOyBudW1iZXIubWF4PSczNjAnOyBudW1iZXIuc3RlcD0nMSc7IG51bWJlci52YWx1ZT1TdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZT1pbnB1dC52YWx1ZTsgaHVlQ2hhbmdlZChwYXJzZUludChpbnB1dC52YWx1ZSkpOyB9KTsKICAgICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgaW5wdXQudmFsdWU9bnVtYmVyLnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBodWVDaGFuZ2VkKHZhbCl7CiAgICAgICAgICAgIC8vIHNoaWZ0IHBhbGV0dGUgaW1tZWRpYXRlbHkKICAgICAgICAgICAgY29uc3QgZGVsdGEgPSAodmFsIC0gcGFsZXR0ZUh1ZSk7CiAgICAgICAgICAgIHBhbGV0dGVIdWUgPSB2YWw7CiAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGh1ZVtpXSA9IChodWVbaV0gKyBkZWx0YSkgJSAzNjA7IH0KICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHt2YWx9LCA4NSUsIDYyJSlgKTsKICAgICAgICAgICAgdXBkYXRlVXJsRnJvbUNmZyh7aHVlOlN0cmluZyh2YWwpfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsgLy8gbnVtZXJpYyAocmFuZ2UgKyBudW1iZXIgcGFpcikKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQudHlwZT0ncmFuZ2UnOyBpbnB1dC5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBpbnB1dC5taW49U3RyaW5nKGl0ZW0ubWluKTsgaWYgKGl0ZW0ubWF4IT1udWxsKSBpbnB1dC5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGNvbnN0IG51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IG51bWJlci50eXBlPSdudW1iZXInOyBudW1iZXIuc3RlcD1TdHJpbmcoaXRlbS5zdGVwfHwxKTsKICAgICAgICAgIGlmIChpdGVtLm1pbiE9bnVsbCkgbnVtYmVyLm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIG51bWJlci5tYXg9U3RyaW5nKGl0ZW0ubWF4KTsKICAgICAgICAgIGlucHV0LnZhbHVlID0gU3RyaW5nKHYwKTsgbnVtYmVyLnZhbHVlID0gU3RyaW5nKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBudW1iZXIudmFsdWUgPSBpbnB1dC52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZSA9IG51bWJlci52YWx1ZTsgbnVtQ2hhbmdlZChwYXJzZUZsb2F0KG51bWJlci52YWx1ZSkpOyB9KTsKICAgICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgd3JhcC5jbGFzc05hbWU9J3JhbmdlUm93Jzsgd3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7IHdyYXAuYXBwZW5kQ2hpbGQobnVtYmVyKTsKICAgICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCB3cmFwKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBmdW5jdGlvbiBudW1DaGFuZ2VkKHZhbCl7IENGR1tpdGVtLmtleV0gPSB2YWw7IGFwcGx5Q2hhbmdlKGl0ZW0ua2V5LCB2YWwpOyB9CiAgICAgICAgfQogICAgICAgIGNmZ0JvZHkuYXBwZW5kQ2hpbGQobWFrZVJvdyhpdGVtLmxhYmVsLCBpbnB1dCkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBhcHBseUNoYW5nZShrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSA9PT0gJ2NvdW50JyB8fCBrZXkgPT09ICdzcGF3bicpIHsgcmVzZWVkKENGRy5jb3VudCk7IH0KICAgICAgICBpZiAoa2V5ID09PSAncXQnKSB7IC8qIGltbWVkaWF0ZSBkcmF3IHRvZ2dsZSB2aWEgQ0ZHICovIH0KICAgICAgICBpZiAoa2V5ID09PSAnc2hvd0h1ZCcpIHsgaHVkRWwuc3R5bGUuZGlzcGxheSA9IENGRy5zaG93SHVkID8gJycgOiAnbm9uZSc7IH0KICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKCk7CiAgICAgIH0KCiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzY2hlbWEpIGFkZElucHV0KGl0ZW0pOwogICAgICAvLyBpbml0aWFsIEhVRCB2aXNpYmlsaXR5CiAgICAgIGh1ZEVsLnN0eWxlLmRpc3BsYXkgPSAoQ0ZHLnNob3dIdWQ9PT1mYWxzZSkgPyAnbm9uZScgOiAnJzsKCiAgICAgIC8vIGtleWJvYXJkIHRvZ2dsZXMgKGFmdGVyIGJ1aWxkaW5nIHBhbmVsKQogICAgICBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHsKICAgICAgICBjb25zdCBrID0gZS5rZXkudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoayA9PT0gJ3EnKSB7IENGRy5xdCA9ICFDRkcucXQ7IHVwZGF0ZVVybEZyb21DZmcoKTsgfQogICAgICAgIGlmIChrID09PSAnYycpIHsgY2ZnUGFuZWwudG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nKTsgfQogICAgICB9LCB7cGFzc2l2ZTp0cnVlfSk7CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4K" download="boids-dod-quadtree-4-impl.html" class="download-btn" title="Download boids-dod-quadtree-4-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=409 · spawn=centerburst · bounce · orb · screen · hue=26 · qtCap=12 · flow" data-filename="boids-dod-quadtree-6-impl.html"><a href="boids-dod-quadtree-6-impl.html" target="viewer"><strong>Boids DOD+QT · N=409 · spawn=centerburst · bounce · orb · screen · hue=26 · qtCap=12 · flow</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTQwOSDCtyBzcGF3bj1jZW50ZXJidXJzdCDCtyBib3VuY2Ugwrcgb3JiIMK3IHNjcmVlbiDCtyBodWU9MjYgwrcgcXRDYXA9MTIgwrcgZmxvdzwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgIGh0bWwsIGJvZHkgeyBoZWlnaHQ6IDEwMCU7IG1hcmdpbjogMDsgfQogICAgICBib2R5IHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMDUwNzBhOwogICAgICAgIGNvbG9yOiAjZTZlZGYzOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgZm9udC1mYW1pbHk6IHVpLXNhbnMtc2VyaWYsIHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgU2Vnb2UgVUksIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIjsKICAgICAgfQogICAgICAjc2NlbmUgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyB9CiAgICAgIC5vdmVybGF5IHsgcG9zaXRpb246IGZpeGVkOyBpbnNldDogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnIgYXV0bzsgfQogICAgICAudGl0bGUgeyBtYXJnaW46IDE4cHggMjBweCAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogY2xhbXAoMThweCwgM3Z3LCAyOHB4KTsgbGV0dGVyLXNwYWNpbmc6IDAuMnB4OyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgdGV4dC1zaGFkb3c6IDAgMCAxMHB4IGNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYWNjZW50LCAjN2RkM2ZjKSA4MCUsICMwMDAgMjAlKTsgfQogICAgICAuc3VidGl0bGUgeyBtYXJnaW46IDAgMjBweCAxMHB4OyBmb250LXdlaWdodDogNTAwOyBmb250LXNpemU6IGNsYW1wKDEycHgsIDJ2dywgMTZweCk7IG9wYWNpdHk6IDAuODU7IH0KICAgICAgLmh1ZCB7IHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMTJweDsgYm90dG9tOiAxMnB4OyBwYWRkaW5nOiA4cHggMTBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDQwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpIHNhdHVyYXRlKDEyMCUpOyBmb250LXNpemU6IDEycHg7IGxpbmUtaGVpZ2h0OiAxLjQ7IH0KICAgICAgLmh1ZCBzdHJvbmcgeyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgfQogICAgICAuY2ZnQnRuIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDEycHg7IHJpZ2h0OiAxMnB4OyB6LWluZGV4OiAxMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiA2cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ1BhbmVsIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDU2cHg7IHJpZ2h0OiAxMnB4OyB3aWR0aDogbWluKDM4MHB4LCA5MHZ3KTsgbWF4LWhlaWdodDogODB2aDsgb3ZlcmZsb3c6IGF1dG87IHotaW5kZXg6IDIwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYmFja2dyb3VuZDogIzBiMTIyMGU2OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3gtc2hhZG93OiAwIDEwcHggNDBweCAjMDAwODsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpIHNhdHVyYXRlKDEyMCUpOyB9CiAgICAgIC5jb25maWdIZWFkZXIgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDEwcHggMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAwMDA1NTsgcG9zaXRpb246IHN0aWNreTsgdG9wOiAwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZjI7IH0KICAgICAgLmNvbmZpZ0JvZHkgeyBwYWRkaW5nOiAxMHB4IDEycHg7IGRpc3BsYXk6IGdyaWQ7IGdhcDogMTBweDsgfQogICAgICAuY29uZmlnQm9keSAucm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bzsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJhbmdlUm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNzJweDsgZ2FwOiA4cHg7IH0KICAgICAgLmNmZ0Nsb3NlIHsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMTIxYTJiY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA2cHg7IHBhZGRpbmc6IDRweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dCwgLmNvbmZpZ0JvZHkgc2VsZWN0IHsgZm9udC1zaXplOiAxNHB4OyBwYWRkaW5nOiA2cHggOHB4OyBiYWNrZ3JvdW5kOiAjMTAxODI3OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiA2cHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXRbdHlwZT1yYW5nZV0geyBwYWRkaW5nOiAwOyBoZWlnaHQ6IDI4cHg7IGFjY2VudC1jb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPGNhbnZhcyBpZD0ic2NlbmUiPjwvY2FudmFzPgogICAgPGRpdiBjbGFzcz0ib3ZlcmxheSI+CiAgICAgIDxkaXYgY2xhc3M9InRpdGxlIiBpZD0idGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJzdWJ0aXRsZSIgaWQ9InN1YnRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaHVkIiBpZD0iaHVkIj48L2Rpdj4KICAgIDwvZGl2PgogICAgPGJ1dHRvbiBpZD0iY2ZnQnRuIiBjbGFzcz0iY2ZnQnRuIiBhcmlhLWxhYmVsPSJPcGVuIGNvbmZpZyI+4pqZ77iOPC9idXR0b24+CiAgICA8ZGl2IGlkPSJjb25maWciIGNsYXNzPSJjb25maWdQYW5lbCIgaGlkZGVuPgogICAgICA8ZGl2IGNsYXNzPSJjb25maWdIZWFkZXIiPgogICAgICAgIDxzdHJvbmc+Q29uZmlnPC9zdHJvbmc+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2ZnQ2xvc2UiIGNsYXNzPSJjZmdDbG9zZSIgYXJpYS1sYWJlbD0iQ2xvc2UiPuKclTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBpZD0iY29uZmlnQm9keSIgY2xhc3M9ImNvbmZpZ0JvZHkiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICAndXNlIHN0cmljdCc7CgogICAgICAvLyBVUkwgcGFyYW1ldGVycwogICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgICAgIGNvbnN0IERFRkFVTFRfSFVFID0gMjY7CiAgICAgIGNvbnN0IEJBU0VfSFVFID0gY2xhbXBJbnQocGFyc2VJbnQocGFyYW1zLmdldCgnaHVlJykpLCAwLCAzNjAsIERFRkFVTFRfSFVFKTsKICAgICAgbGV0IHBhbGV0dGVIdWUgPSBCQVNFX0hVRTsKICAgICAgY29uc3QgSEVBREVSID0gcGFyYW1zLmdldCgnaGVhZGVyJykgfHwgJ0JvaWRzIOKAlCBEYXRhLU9yaWVudGVkICsgUXVhZHRyZWUnOwogICAgICBjb25zdCBTVUJIRUFERVIgPSBwYXJhbXMuZ2V0KCdzdWJoZWFkZXInKSB8fCAnU2hvY2t3YXZlcyBvbiBjbGljay9kcmFnIMK3IHF1YWR0cmVlIHZpeiBvbic7CiAgICAgIC8vIFF1YWR0cmVlIHZpeiBpcyBoYW5kbGVkIGJ5IENGRy5xdDsgVVJMIHBhcmFtICdxdCcgb3ZlcnJpZGVzIGl0LgoKICAgICAgLy8gRE9NCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2VuZScpOwogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBmYWxzZSB9KTsKICAgICAgY29uc3QgdGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpOwogICAgICBjb25zdCBzdWJ0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YnRpdGxlJyk7CiAgICAgIGNvbnN0IGh1ZEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h1ZCcpOwoKICAgICAgLy8gU3R5bGUgaG9vawogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3BhbGV0dGVIdWV9LCA4NSUsIDYyJSlgKTsKICAgICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IEhFQURFUjsKICAgICAgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IFNVQkhFQURFUjsKCiAgICAgIC8vIENvbmZpZyAoaW5qZWN0ZWQgYnkgZ2VuZXJhdG9yKSDigJQgbXV0YWJsZSBhdCBydW50aW1lCiAgICAgIGxldCBDRkcgPSB7ImNvdW50IjogNDA5LCAidmlzaW9uIjogODEsICJzZXAiOiAyNCwgIm1heFNwZWVkIjogMy42MiwgIm1heEZvcmNlIjogMC4wNzMsICJtaW5TcGVlZCI6IDAuODUsICJhbGlnblciOiAxLjMzLCAiY29oZXNpb25XIjogMS4wMSwgInNlcGFyYXRpb25XIjogMi4zMSwgInRyYWlsQWxwaGEiOiAwLjA5LCAicXRDYXAiOiAxMiwgIndyYXAiOiBmYWxzZSwgInNoYXBlIjogIm9yYiIsICJibGVuZCI6ICJzY3JlZW4iLCAibGluZVdpZHRoIjogMi4xLCAiZ2xvd0Jhc2UiOiAxNSwgImdsb3dNYXgiOiAyOSwgImdsb3dTY2FsZSI6IDExLjQsICJjb21ldFNpemUiOiA3Ljg1LCAiYmdHcmFkaWVudCI6IGZhbHNlLCAiYmdIdWVTaGlmdDEiOiAtMTQsICJiZ0h1ZVNoaWZ0MiI6IDU0LCAiYmdIdWVTaGlmdDMiOiAxMjgsICJzcGF3biI6ICJjZW50ZXJidXJzdCIsICJxdCI6IHRydWUsICJzaG93SHVkIjogdHJ1ZSwgImZsb3ciOiB0cnVlLCAiZmxvd0FtcCI6IDAuNDIsICJmbG93U2NhbGUiOiAwLjAwOTQsICJmbG93U3BlZWQiOiAxLjE0LCAiY2xpY2tNb2RlIjogInJhbmRvbSJ9OwogICAgICBDRkcubWluU3BlZWQgPSBDRkcubWluU3BlZWQgPz8gMC44OwogICAgICBDRkcucXQgPSAodHlwZW9mIENGRy5xdCA9PT0gJ2Jvb2xlYW4nKSA/IENGRy5xdCA6IHRydWU7CiAgICAgIENGRy5jbGlja01vZGUgPSBDRkcuY2xpY2tNb2RlIHx8ICdyYW5kb20nOwogICAgICBDRkcuY2xpY2tNb2RlcyA9IENGRy5jbGlja01vZGVzIHx8IFsKICAgICAgICAnc2hvY2snLCd2b3J0ZXgnLCdpbXBsb3Npb24nLCdzcHJheScsJ3N0dW4nLCdmZWFyJywnYXR0cmFjdCcsJ29yYml0Q1cnLCdvcmJpdENDVycsCiAgICAgICAgJ3NwaXJhbE91dCcsJ3NwaXJhbEluJywnZnJlZXplJywnc2NyYW1ibGUnLCdzY2F0dGVyJywnbWFnbmV0JywncHVsc2UnLAogICAgICAgICd3YXJwJywnZ3JvdycsJ3R1bm5lbCcsJ3JpcHBsZScsJ2ppdHRlcmJ1cnN0JywnY2hyb21hYnVyc3QnLCdzbG93ZG93bicsJ3NwZWVkdXAnLAogICAgICAgICdwZXJsaW5EcmFnJywnbGlzc2FQdWxzZScsJ21ldGVvcicsCiAgICAgICAgLy8gc3RlZXJpbmctd2VpZ2h0IGVmZmVjdHMKICAgICAgICAnYWxpZ24nLCdkZWFsaWduJywnY29oZXJlJywnbG9vc2VuJywnc2VwYXJhdGUnLCdkaXNwZXJzZScKICAgICAgXTsKCiAgICAgIGZ1bmN0aW9uIHBhcnNlQm9vbCh2LCBkKSB7CiAgICAgICAgaWYgKHYgPT0gbnVsbCkgcmV0dXJuIGQ7CiAgICAgICAgY29uc3QgcyA9IFN0cmluZyh2KS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChbJzEnLCd0cnVlJywneWVzJywnb24nXS5pbmNsdWRlcyhzKSkgcmV0dXJuIHRydWU7CiAgICAgICAgaWYgKFsnMCcsJ2ZhbHNlJywnbm8nLCdvZmYnXS5pbmNsdWRlcyhzKSkgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiBkOwogICAgICB9CgogICAgICAvLyBVUkwgb3ZlcnJpZGVzIGZvciBjb25maWcKICAgICAgKGZ1bmN0aW9uIHVybE92ZXJyaWRlKCl7CiAgICAgICAgY29uc3QgaW50S2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdxdENhcCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MyddOwogICAgICAgIGNvbnN0IG51bUtleXMgPSBbJ21heFNwZWVkJywnbWluU3BlZWQnLCdtYXhGb3JjZScsJ2FsaWduVycsJ2NvaGVzaW9uVycsJ3NlcGFyYXRpb25XJywndHJhaWxBbHBoYScsJ2xpbmVXaWR0aCcsJ2dsb3dCYXNlJywnZ2xvd01heCcsJ2dsb3dTY2FsZScsJ2NvbWV0U2l6ZScsJ2Zsb3dBbXAnLCdmbG93U2NhbGUnLCdmbG93U3BlZWQnXTsKICAgICAgICBjb25zdCBib29sS2V5cyA9IFsnd3JhcCcsJ2JnR3JhZGllbnQnLCdxdCcsJ2Zsb3cnLCdzaG93SHVkJ107CiAgICAgICAgY29uc3Qgc3RyS2V5cyA9IFsnc2hhcGUnLCdibGVuZCcsJ3NwYXduJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGludEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gTWF0aC5tYXgoLTk5OTk5LCBNYXRoLm1pbig5OTk5OSwgcGFyc2VJbnQodikpKTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBudW1LZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE51bWJlcih2KTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBib29sS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBwYXJzZUJvb2wodiwgQ0ZHW2tdKTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBzdHJLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IHY7IH0KICAgICAgICBjb25zdCBjbSA9IHBhcmFtcy5nZXQoJ2NsaWNrTW9kZScpOyBpZiAoY20pIENGRy5jbGlja01vZGUgPSBjbTsKICAgICAgICBjb25zdCBjbXMgPSBwYXJhbXMuZ2V0KCdjbGlja01vZGVzJyk7IGlmIChjbXMpIENGRy5jbGlja01vZGVzID0gY21zLnNwbGl0KCcsJyk7CiAgICAgIH0pKCk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVVcmxGcm9tQ2ZnKGV4dHJhPXt9KSB7CiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChsb2NhdGlvbi5ocmVmKTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaHVlJywgcGFsZXR0ZUh1ZSk7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2hlYWRlcicsIHRpdGxlRWwudGV4dENvbnRlbnQpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdWJoZWFkZXInLCBzdWJ0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICBjb25zdCBrZXlzID0gWydjb3VudCcsJ3Zpc2lvbicsJ3NlcCcsJ21heFNwZWVkJywnbWluU3BlZWQnLCdtYXhGb3JjZScsJ2FsaWduVycsJ2NvaGVzaW9uVycsJ3NlcGFyYXRpb25XJywndHJhaWxBbHBoYScsJ3F0Q2FwJywnd3JhcCcsJ3NoYXBlJywnYmxlbmQnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdiZ0dyYWRpZW50JywnYmdIdWVTaGlmdDEnLCdiZ0h1ZVNoaWZ0MicsJ2JnSHVlU2hpZnQzJywncXQnLCdjbGlja01vZGUnLCdjbGlja01vZGVzJywnZmxvdycsJ2Zsb3dBbXAnLCdmbG93U2NhbGUnLCdmbG93U3BlZWQnLCdzcGF3bicsJ3Nob3dIdWQnXTsKICAgICAgICBmb3IgKGNvbnN0IGsgb2Yga2V5cykgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgU3RyaW5nKENGR1trXSkpOwogICAgICAgIGlmIChDRkcuY2xpY2tNb2RlcyAmJiBBcnJheS5pc0FycmF5KENGRy5jbGlja01vZGVzKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NsaWNrTW9kZXMnLCBDRkcuY2xpY2tNb2Rlcy5qb2luKCcsJykpOwogICAgICAgIGZvciAoY29uc3QgW2ssdl0gb2YgT2JqZWN0LmVudHJpZXMoZXh0cmEpKSB1cmwuc2VhcmNoUGFyYW1zLnNldChrLCB2KTsKICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCAnJywgdXJsLnRvU3RyaW5nKCkpOwogICAgICB9CgogICAgICBjb25zdCBUQVUgPSBNYXRoLlBJICogMjsKCiAgICAgIC8vIENhbnZhcyBzaXppbmcgd2l0aCBEUFIKICAgICAgbGV0IERQUiA9IE1hdGgubWF4KDEsIE1hdGgubWluKDIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKTsKICAgICAgZnVuY3Rpb24gcmVzaXplKCkgewogICAgICAgIERQUiA9IE1hdGgubWF4KDEsIE1hdGgubWluKDIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKTsKICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmZsb29yKGlubmVyV2lkdGggKiBEUFIpOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKGlubmVySGVpZ2h0ICogRFBSKTsKICAgICAgICBjdHguc2V0VHJhbnNmb3JtKERQUiwgMCwgMCwgRFBSLCAwLCAwKTsKICAgICAgICBjbGVhckhhcmQoKTsKICAgICAgfQogICAgICBhZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemUpOwogICAgICByZXNpemUoKTsKCiAgICAgIGZ1bmN0aW9uIGNsZWFySGFyZCgpIHsKICAgICAgICBpZiAoQ0ZHLmJnR3JhZGllbnQpIHsKICAgICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoaW5uZXJXaWR0aCowLjY1LCBpbm5lckhlaWdodCowLjM1LCBNYXRoLm1pbihpbm5lcldpZHRoLCBpbm5lckhlaWdodCkqMC4xNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJXaWR0aCowLjUsIGlubmVySGVpZ2h0KjAuNSwgTWF0aC5oeXBvdChpbm5lcldpZHRoLCBpbm5lckhlaWdodCkqMC43KTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MSklMzYwfSA4MCUgMTAlKWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC41LCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQyKSUzNjB9IDcwJSA4JSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDEuMCwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MyklMzYwfSA2MCUgNiUpYCk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICB9CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gY2xhbXBJbnQobiwgbG8sIGhpLCBmYWxsYmFjaykgewogICAgICAgIG4gPSBOdW1iZXIuaXNGaW5pdGUobikgPyBuIDogZmFsbGJhY2s7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KGxvLCBNYXRoLm1pbihoaSwgbikpOwogICAgICB9CgogICAgICAvLyBEcmlmdCBhIGh1ZSB2YWx1ZSB0b3dhcmQgYSB0YXJnZXQgb24gYSBjaXJjdWxhciBjb2xvciB3aGVlbAogICAgICBmdW5jdGlvbiBhcHByb2FjaEh1ZShoLCB0YXJnZXQsIHJhdGUpIHsKICAgICAgICAvLyByYXRlIGlzIDAuLjEgZnJhY3Rpb24gdG93YXJkIHRhcmdldCBwZXIgY2FsbAogICAgICAgIGxldCBkID0gKCh0YXJnZXQgLSBoICsgNTQwKSAlIDM2MCkgLSAxODA7IC8vIHNob3J0ZXN0IHNpZ25lZCBkZWx0YSBbLTE4MCwxODApCiAgICAgICAgcmV0dXJuIChoICsgZCAqIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHJhdGUpKSArIDM2MCkgJSAzNjA7CiAgICAgIH0KCiAgICAgIC8vIExpZ2h0d2VpZ2h0IDJEIHZhbHVlIG5vaXNlIChmb3IgcGVybGluLWxpa2UgZHJhZykKICAgICAgbGV0IG5vaXNlU2VlZCA9IChCQVNFX0hVRSAqIDE2NjQ1MjUgKyAxMDEzOTA0MjIzKSAmIDB4ZmZmZmZmZmY7CiAgICAgIGZ1bmN0aW9uIGZyYWN0KHgpeyByZXR1cm4geCAtIE1hdGguZmxvb3IoeCk7IH0KICAgICAgZnVuY3Rpb24gX3JhbmQoaXgsIGl5KXsKICAgICAgICBjb25zdCBrID0gKGl4ICogMzc0NzYxMzkzICsgaXkgKiA2NjgyNjUyNjMgKyBub2lzZVNlZWQpID4+PiAwOwogICAgICAgIHJldHVybiBmcmFjdChNYXRoLnNpbihrKSAqIDQzNzU4LjU0NTMpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIG5vaXNlMih4LCB5KXsKICAgICAgICBjb25zdCB4aSA9IE1hdGguZmxvb3IoeCksIHlpID0gTWF0aC5mbG9vcih5KTsKICAgICAgICBjb25zdCB4ZiA9IHggLSB4aSwgeWYgPSB5IC0geWk7CiAgICAgICAgY29uc3QgdSA9IHhmKnhmKigzLTIqeGYpLCB2ID0geWYqeWYqKDMtMip5Zik7CiAgICAgICAgY29uc3QgdjAwID0gX3JhbmQoeGksIHlpKSwgdjEwID0gX3JhbmQoeGkrMSwgeWkpLCB2MDEgPSBfcmFuZCh4aSwgeWkrMSksIHYxMSA9IF9yYW5kKHhpKzEsIHlpKzEpOwogICAgICAgIGNvbnN0IHgxID0gdjAwKigxLXUpICsgdjEwKnUsIHgyID0gdjAxKigxLXUpICsgdjExKnU7CiAgICAgICAgcmV0dXJuIHgxKigxLXYpICsgeDIqdjsKICAgICAgfQogICAgICBmdW5jdGlvbiBwZXJsaW5WZWMoeCwgeSwgc2NhbGUsIGFtcCl7CiAgICAgICAgY29uc3QgbiA9IG5vaXNlMih4KnNjYWxlLCB5KnNjYWxlKTsKICAgICAgICBjb25zdCBhID0gbiAqIFRBVTsKICAgICAgICByZXR1cm4gW01hdGguY29zKGEpKmFtcCwgTWF0aC5zaW4oYSkqYW1wXTsKICAgICAgfQoKICAgICAgLy8gU2VlZGVkIFBSTkcgZm9yIHN1YnRsZSBkZXRlcm1pbmlzbSBmcm9tIEJBU0VfSFVFCiAgICAgIGxldCBfc2VlZCA9IChCQVNFX0hVRSAqIDkzMDEgKyA0OTI5NykgJSAyMzMyODA7CiAgICAgIGZ1bmN0aW9uIHJuZCgpIHsgX3NlZWQgPSAoMTEwMzUxNTI0NSAqIF9zZWVkICsgMTIzNDUpICYgMHg3ZmZmZmZmZjsgcmV0dXJuIChfc2VlZCA+Pj4gOCkgLyAweDdmZmZmZjsgfQogICAgICBmdW5jdGlvbiByYW5kKG1pbiwgbWF4KSB7IHJldHVybiBybmQoKSAqIChtYXggLSBtaW4pICsgbWluOyB9CgogICAgICAvLyBEYXRhLU9yaWVudGVkIFN0YXRlIChTb0EpIOKAlCBkeW5hbWljCiAgICAgIGxldCBOID0gQ0ZHLmNvdW50OwogICAgICBsZXQgcHgsIHB5LCB2eCwgdnksIGF4LCBheSwgaHVlLCBzcGQsIHByZXZ4LCBwcmV2eTsKICAgICAgLy8gdHJhbnNpZW50IHBlci1ib2lkIG1vZGlmaWVycyAoZGVjYXkgZWFjaCBmcmFtZSkKICAgICAgbGV0IHNpemVNdWwsIHZCb29zdCwgaHVlT2ZmLCBqaXRBbXA7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBzdGVlcmluZyBtdWx0aXBsaWVycyAoZGVjYXkgZWFjaCBmcmFtZSkKICAgICAgbGV0IGFsaWduTXVsLCBjb2hlc2lvbk11bCwgc2VwYXJhdGlvbk11bDsKCiAgICAgIGZ1bmN0aW9uIGFsbG9jKG4pIHsKICAgICAgICBweCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHB5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICB2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBheCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGF5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBodWUgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBzcGQgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHByZXZ4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgcHJldnkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHNpemVNdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2Qm9vc3QgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBodWVPZmYgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBqaXRBbXAgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGFsaWduTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgY29oZXNpb25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBzZXBhcmF0aW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2VlZEJvaWRzKCkgewogICAgICAgIGNvbnN0IG1vZGUgPSBDRkcuc3Bhd24gfHwgJ3JhbmRvbSc7CiAgICAgICAgaWYgKG1vZGUgPT09ICdjaXJjbGUnKSB7CiAgICAgICAgICBjb25zdCBjeCA9IGlubmVyV2lkdGgvMiwgY3kgPSBpbm5lckhlaWdodC8yLCByID0gTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpLzM7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCB0ID0gTWF0aC5yYW5kb20oKSpNYXRoLlBJKjI7IHB4W2ldPWN4K01hdGguY29zKHQpKnI7IHB5W2ldPWN5K01hdGguc2luKHQpKnI7IHZ4W2ldPXJhbmQoLTEsMSk7IHZ5W2ldPXJhbmQoLTEsMSk7IH0KICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdncmlkJykgewogICAgICAgICAgY29uc3QgY29scz1NYXRoLm1heCgxMCwgTWF0aC5mbG9vcihNYXRoLnNxcnQoTikpKTsgY29uc3Qgcm93cz1NYXRoLmNlaWwoTi9jb2xzKTsKICAgICAgICAgIGNvbnN0IGd4PWlubmVyV2lkdGgvKGNvbHMrMSksIGd5PWlubmVySGVpZ2h0Lyhyb3dzKzEpOyBsZXQgaz0wOwogICAgICAgICAgZm9yIChsZXQgeT0xO3k8PXJvd3M7eSsrKSBmb3IgKGxldCB4PTE7eDw9Y29sczt4KyspIHsgaWYgKGs+PU4pIGJyZWFrOyBweFtrXT1neCp4OyBweVtrXT1neSp5OyB2eFtrXT1yYW5kKC0xLDEpOyB2eVtrXT1yYW5kKC0xLDEpOyBrKys7IH0KICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdjZW50ZXJidXJzdCcpIHsKICAgICAgICAgIGNvbnN0IGN4PWlubmVyV2lkdGgvMiwgY3k9aW5uZXJIZWlnaHQvMjsKICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGNvbnN0IGE9TWF0aC5yYW5kb20oKSpNYXRoLlBJKjIsIGQ9cmFuZCgwLCBNYXRoLm1pbihpbm5lcldpZHRoLGlubmVySGVpZ2h0KS8yKTsgcHhbaV09Y3grTWF0aC5jb3MoYSkqZDsgcHlbaV09Y3krTWF0aC5zaW4oYSkqZDsgdnhbaV09TWF0aC5jb3MoYSk7IHZ5W2ldPU1hdGguc2luKGEpOyB9CiAgICAgICAgfSBlbHNlIHsgLy8gcmFuZG9tCiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBweFtpXT1yYW5kKDAsaW5uZXJXaWR0aCk7IHB5W2ldPXJhbmQoMCxpbm5lckhlaWdodCk7IHZ4W2ldPXJhbmQoLTEsMSk7IHZ5W2ldPXJhbmQoLTEsMSk7IH0KICAgICAgICB9CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIGNvbnN0IG09TWF0aC5oeXBvdCh2eFtpXSx2eVtpXSl8fDE7IHZ4W2ldKj0yLjAvbTsgdnlbaV0qPTIuMC9tOwogICAgICAgICAgaHVlW2ldID0gKHBhbGV0dGVIdWUgKyByYW5kKC0zMCwgMzApKSAlIDM2MDsgcHJldnhbaV09cHhbaV07IHByZXZ5W2ldPXB5W2ldOwogICAgICAgICAgc2l6ZU11bFtpXT0wOyB2Qm9vc3RbaV09MDsgaHVlT2ZmW2ldPTA7IGppdEFtcFtpXT0wOwogICAgICAgICAgYWxpZ25NdWxbaV09MDsgY29oZXNpb25NdWxbaV09MDsgc2VwYXJhdGlvbk11bFtpXT0wOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gcmVzZWVkKG4pIHsKICAgICAgICBOID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihuKSk7CiAgICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwogICAgICB9CgogICAgICBhbGxvYyhOKTsgc2VlZEJvaWRzKCk7CgogICAgICAvLyBRdWFkdHJlZSBpbXBsZW1lbnRhdGlvbgogICAgICBjbGFzcyBRVE5vZGUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy54ID0geDsgdGhpcy55ID0geTsgdGhpcy53ID0gdzsgdGhpcy5oID0gaDsKICAgICAgICAgIHRoaXMuY2FwID0gY2FwOyB0aGlzLmNvdW50ID0gMDsgdGhpcy5pZHggPSBuZXcgSW50MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5wdHN4ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOyB0aGlzLnB0c3kgPSBuZXcgRmxvYXQzMkFycmF5KGNhcCk7CiAgICAgICAgICB0aGlzLmRpdmlkZWQgPSBmYWxzZTsgdGhpcy5jaGlsZHJlbiA9IG51bGw7CiAgICAgICAgfQogICAgICB9CgogICAgICBjbGFzcyBRdWFkdHJlZSB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCwgY2FwKSB7CiAgICAgICAgICB0aGlzLnJvb3QgPSBuZXcgUVROb2RlKHgsIHksIHcsIGgsIGNhcCk7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsKICAgICAgICB9CgogICAgICAgIGluc2VydChpLCB4LCB5LCBub2RlID0gdGhpcy5yb290KSB7CiAgICAgICAgICBpZiAoeCA8IG5vZGUueCB8fCB5IDwgbm9kZS55IHx8IHggPj0gbm9kZS54ICsgbm9kZS53IHx8IHkgPj0gbm9kZS55ICsgbm9kZS5oKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICBpZiAobm9kZS5jb3VudCA8IG5vZGUuY2FwICYmICFub2RlLmRpdmlkZWQpIHsKICAgICAgICAgICAgY29uc3QgaiA9IG5vZGUuY291bnQrKzsgbm9kZS5pZHhbal0gPSBpOyBub2RlLnB0c3hbal0gPSB4OyBub2RlLnB0c3lbal0gPSB5OyByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghbm9kZS5kaXZpZGVkKSB0aGlzLnN1YmRpdmlkZShub2RlKTsKICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydChpLCB4LCB5LCBub2RlLmNoaWxkcmVuWyAoeSA8IG5vZGUueSArIG5vZGUuaC8yID8gMCA6IDIpICsgKHggPCBub2RlLnggKyBub2RlLncvMiA/IDAgOiAxKSBdKTsKICAgICAgICB9CgogICAgICAgIHN1YmRpdmlkZShub2RlKSB7CiAgICAgICAgICBub2RlLmRpdmlkZWQgPSB0cnVlOwogICAgICAgICAgY29uc3QgaHcgPSBub2RlLncvMiwgaGggPSBub2RlLmgvMjsKICAgICAgICAgIG5vZGUuY2hpbGRyZW4gPSBbCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnksICAgICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBOVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTkUKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngsICAgICAgIG5vZGUueStoaCwgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIFNXCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54K2h3LCAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTRQogICAgICAgICAgXTsKICAgICAgICAgIC8vIHJlaW5zZXJ0IGV4aXN0aW5nIHBvaW50cwogICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBub2RlLmNvdW50OyBrKyspIHsKICAgICAgICAgICAgY29uc3QgaSA9IG5vZGUuaWR4W2tdOyBjb25zdCB4ID0gbm9kZS5wdHN4W2tdOyBjb25zdCB5ID0gbm9kZS5wdHN5W2tdOwogICAgICAgICAgICB0aGlzLmluc2VydChpLCB4LCB5LCBub2RlLmNoaWxkcmVuWyAoeSA8IG5vZGUueSArIG5vZGUuaC8yID8gMCA6IDIpICsgKHggPCBub2RlLnggKyBub2RlLncvMiA/IDAgOiAxKSBdKTsKICAgICAgICAgIH0KICAgICAgICAgIG5vZGUuY291bnQgPSAwOyAvLyBjbGVhciBsZWFmIHN0b3JhZ2UKICAgICAgICB9CgogICAgICAgIHF1ZXJ5KGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICB0aGlzLl9xdWVyeU5vZGUodGhpcy5yb290LCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQogICAgICAgIF9xdWVyeU5vZGUobm9kZSwgY3gsIGN5LCByLCBvdXQpIHsKICAgICAgICAgIC8vIGNpcmNsZS1yZWN0IHF1aWNrIHJlamVjdAogICAgICAgICAgY29uc3Qgcng9bm9kZS54LCByeT1ub2RlLnksIHJ3PW5vZGUudywgcmg9bm9kZS5oOwogICAgICAgICAgbGV0IG54ID0gTWF0aC5tYXgocngsIE1hdGgubWluKGN4LCByeCtydykpOwogICAgICAgICAgbGV0IG55ID0gTWF0aC5tYXgocnksIE1hdGgubWluKGN5LCByeStyaCkpOwogICAgICAgICAgY29uc3QgZGlzdCA9IChjeC1ueCkqKGN4LW54KSsoY3ktbnkpKihjeS1ueSk7CiAgICAgICAgICBpZiAoZGlzdCA+IHIqcikgcmV0dXJuOwoKICAgICAgICAgIGlmICghbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGZvciAobGV0IGs9MDtrPG5vZGUuY291bnQ7aysrKSB7IG91dC5wdXNoKG5vZGUuaWR4W2tdKTsgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKGxldCBjPTA7Yzw0O2MrKykgdGhpcy5fcXVlcnlOb2RlKG5vZGUuY2hpbGRyZW5bY10sIGN4LCBjeSwgciwgb3V0KTsKICAgICAgICB9CgogICAgICAgIGRyYXcoY3R4KSB7CiAgICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgkeyhwYWxldHRlSHVlKzE4MCklMzYwfSA4MCUgNzAlIC8gMC4xNClgOwogICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7CiAgICAgICAgICB0aGlzLl9kcmF3Tm9kZShjdHgsIHRoaXMucm9vdCk7CiAgICAgICAgICBjdHgucmVzdG9yZSgpOwogICAgICAgIH0KICAgICAgICBfZHJhd05vZGUoY3R4LCBub2RlKSB7CiAgICAgICAgICBjdHguc3Ryb2tlUmVjdChub2RlLngsIG5vZGUueSwgbm9kZS53LCBub2RlLmgpOwogICAgICAgICAgaWYgKG5vZGUuZGl2aWRlZCkgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX2RyYXdOb2RlKGN0eCwgbm9kZS5jaGlsZHJlbltjXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBJbnRlcmFjdGlvbiBlZmZlY3RzCiAgICAgIGNvbnN0IGVmZmVjdHMgPSBbXTsgLy8ge3gseSx0LGxpZmUsc2lnbix0eXBlLC4uLmV4dHJhc30KICAgICAgbGV0IG1vdXNlRG93biA9IGZhbHNlOwogICAgICBjb25zdCBwb2ludGVyID0ge3g6IGlubmVyV2lkdGgvMiwgeTogaW5uZXJIZWlnaHQvMiwgdng6IDAsIHZ5OiAwLCB0OiBwZXJmb3JtYW5jZS5ub3coKX07CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IHRydWU7IHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgICBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgbW91c2VEb3duID0gZmFsc2U7IHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCAtMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgaWYgKG1vdXNlRG93bikgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksICsxKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwoKICAgICAgZnVuY3Rpb24gcGlja0NsaWNrVHlwZSgpIHsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZSAmJiBDRkcuY2xpY2tNb2RlICE9PSAncmFuZG9tJykgcmV0dXJuIENGRy5jbGlja01vZGU7CiAgICAgICAgY29uc3QgbGlzdCA9IENGRy5jbGlja01vZGVzIHx8IFsnc2hvY2snXTsKICAgICAgICByZXR1cm4gbGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbGlzdC5sZW5ndGgpXSB8fCAnc2hvY2snOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHNwYXduRWZmZWN0KHgsIHksIHNpZ24pIHsKICAgICAgICBjb25zdCB0eXBlID0gcGlja0NsaWNrVHlwZSgpOwogICAgICAgIGNvbnN0IGxpZmUgPSAodHlwZT09PSdpbXBsb3Npb24nKSA/IDAuOSA6ICh0eXBlPT09J3ZvcnRleCcgfHwgdHlwZT09PSdtZXRlb3InID8gMS44IDogMS4yKTsKICAgICAgICBjb25zdCBFID0geyB4LCB5LCB0OiAwLCBsaWZlLCBzaWduLCB0eXBlIH07CiAgICAgICAgaWYgKHR5cGUgPT09ICdsaXNzYVB1bHNlJykgewogICAgICAgICAgY29uc3Qgc3AgPSBNYXRoLm1pbigzLCBNYXRoLmh5cG90KHBvaW50ZXIudngsIHBvaW50ZXIudnkpKjEyMCk7CiAgICAgICAgICBFLmEgPSAyICsgTWF0aC5mbG9vcihzcCU0KTsgRS5iID0gMyArIE1hdGguZmxvb3IoKHNwKjEuNyklNCk7IEUucGhhc2UgPSBNYXRoLnJhbmRvbSgpKlRBVTsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICBjb25zdCBzY2FsZSA9IDkwMDsgRS52eCA9IHBvaW50ZXIudngqc2NhbGU7IEUudnkgPSBwb2ludGVyLnZ5KnNjYWxlOyBFLm1hc3MgPSAyMjAgKyBNYXRoLnJhbmRvbSgpKjE4MDsgRS5kcmFnPTAuOTg7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAncGVybGluRHJhZycpIHsKICAgICAgICAgIEUuc2NhbGUgPSAwLjAwNiArIE1hdGgucmFuZG9tKCkqMC4wMDY7IEUuYW1wID0gMS4yICsgTWF0aC5yYW5kb20oKSoxLjI7CiAgICAgICAgfQogICAgICAgIGVmZmVjdHMucHVzaChFKTsKICAgICAgfQoKICAgICAgLy8gUGh5c2ljcyBoZWxwZXJzCiAgICAgIGZ1bmN0aW9uIGxpbWl0KHZ4LCB2eSwgbWF4KSB7CiAgICAgICAgY29uc3QgbTIgPSB2eCp2eCArIHZ5KnZ5OyBpZiAobTIgPiBtYXgqbWF4KSB7CiAgICAgICAgICBjb25zdCBtID0gTWF0aC5zcXJ0KG0yKSB8fCAxOyBjb25zdCBzID0gbWF4IC8gbTsgcmV0dXJuIFt2eCpzLCB2eSpzXTsKICAgICAgICB9IHJldHVybiBbdngsIHZ5XTsKICAgICAgfQoKICAgICAgLy8gTWFpbiBsb29wCiAgICAgIGxldCBsYXN0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgIGxldCBmcHNBdmcgPSAwOwogICAgICBmdW5jdGlvbiBmcmFtZSh0KSB7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1pbigzMiwgdCAtIGxhc3QpICogMC4wMDE7IC8vIGNsYW1wCiAgICAgICAgbGFzdCA9IHQ7CiAgICAgICAgY29uc3QgZnBzTm93ID0gMSAvIE1hdGgubWF4KDFlLTYsIGR0KTsKICAgICAgICBmcHNBdmcgPSBmcHNBdmcgPyAoZnBzQXZnKjAuOSArIGZwc05vdyowLjEpIDogZnBzTm93OwogICAgICAgIGNvbnN0IFcgPSBpbm5lcldpZHRoLCBIID0gaW5uZXJIZWlnaHQ7CgogICAgICAgIC8vIHRyYWlsczogdHJhbnNsdWNlbnQgZmlsbAogICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInOwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgQ0ZHLnRyYWlsQWxwaGEpKTsKICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwNTA3MGEnOwogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBXLCBIKTsKICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBCdWlsZCBxdWFkdHJlZQogICAgICAgIGNvbnN0IHF0ID0gbmV3IFF1YWR0cmVlKDAsIDAsIFcsIEgsIENGRy5xdENhcCk7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHF0Lmluc2VydChpLCBweFtpXSwgcHlbaV0pOwoKICAgICAgLy8gQXBwbHkgZmxvY2tpbmcgdmlhIG5laWdoYm9yIHF1ZXJpZXMgKGFkYXB0aXZlIHZpc2lvbiB1bmRlciBsb2FkKQogICAgICBjb25zdCB2aXNpb24gPSBDRkcudmlzaW9uICogKGZwc0F2ZyA8IDUwID8gMC45IDogMS4wKTsgY29uc3Qgc2VwID0gQ0ZHLnNlcDsKICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgYXhbaV09MDsgYXlbaV09MDsgfQogICAgICBsZXQgdG1wID0gW107CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgdG1wLmxlbmd0aCA9IDA7IHF0LnF1ZXJ5KHB4W2ldLCBweVtpXSwgdmlzaW9uLCB0bXApOwogICAgICAgICAgbGV0IGN4PTAsIGN5PTAsIHZ4c3VtPTAsIHZ5c3VtPTAsIHN4PTAsIHN5PTAsIHRvdGFsPTAsIHNjbG9zZT0wOwogICAgICAgICAgZm9yIChsZXQgaz0wO2s8dG1wLmxlbmd0aDtrKyspIHsKICAgICAgICAgICAgY29uc3QgaiA9IHRtcFtrXTsgaWYgKGo9PT1pKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZHggPSBweFtqXS1weFtpXTsgY29uc3QgZHkgPSBweVtqXS1weVtpXTsKICAgICAgICAgICAgY29uc3QgZDIgPSBkeCpkeCArIGR5KmR5OyBpZiAoZDIgPT09IDApIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBkID0gTWF0aC5zcXJ0KGQyKTsKICAgICAgICAgICAgaWYgKGQgPCB2aXNpb24pIHsgdG90YWwrKzsgY3ggKz0gcHhbal07IGN5ICs9IHB5W2pdOyB2eHN1bSArPSB2eFtqXTsgdnlzdW0gKz0gdnlbal07IH0KICAgICAgICAgICAgaWYgKGQgPCBzZXApIHsgc2Nsb3NlKys7IHN4IC09IGR4LyhkfHwxKTsgc3kgLT0gZHkvKGR8fDEpOyB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodG90YWw+MCkgewogICAgICAgICAgICAvLyBhbGlnbm1lbnQKICAgICAgICAgICAgbGV0IGF4diA9ICh2eHN1bS90b3RhbCkgLSB2eFtpXTsgbGV0IGF5diA9ICh2eXN1bS90b3RhbCkgLSB2eVtpXTsKICAgICAgICAgICAgY29uc3QgYWxpZ25XID0gQ0ZHLmFsaWduVyAqICgxICsgKGFsaWduTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtheHYsIGF5dl0gPSBsaW1pdChheHYsIGF5diwgQ0ZHLm1heEZvcmNlKTsKICAgICAgICAgICAgYXhbaV0gKz0gYXh2ICogYWxpZ25XOyBheVtpXSArPSBheXYgKiBhbGlnblc7CiAgICAgICAgICAgIC8vIGNvaGVzaW9uCiAgICAgICAgICAgIGxldCBjeHYgPSAoY3gvdG90YWwgLSBweFtpXSk7IGxldCBjeXYgPSAoY3kvdG90YWwgLSBweVtpXSk7CiAgICAgICAgICAgIGNvbnN0IGNvaFcgPSBDRkcuY29oZXNpb25XICogKDEgKyAoY29oZXNpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgW2N4diwgY3l2XSA9IGxpbWl0KGN4diwgY3l2LCBDRkcubWF4Rm9yY2UpOyBheFtpXSArPSBjeHYgKiBjb2hXOyBheVtpXSArPSBjeXYgKiBjb2hXOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHNjbG9zZT4wKSB7CiAgICAgICAgICAgIGxldCBzeHYgPSBzeDsgbGV0IHN5diA9IHN5OyBbc3h2LCBzeXZdID0gbGltaXQoc3h2LCBzeXYsIENGRy5tYXhGb3JjZSoxLjUpOwogICAgICAgICAgICBjb25zdCBzZXBXID0gQ0ZHLnNlcGFyYXRpb25XICogKDEgKyAoc2VwYXJhdGlvbk11bFtpXXx8MCkpOwogICAgICAgICAgICBheFtpXSArPSBzeHYgKiBzZXBXOyBheVtpXSArPSBzeXYgKiBzZXBXOwogICAgICAgICAgfQogICAgICAgIC8vIG9wdGlvbmFsIGZsb3cgZmllbGQgZm9yIHBhdHRlcm4gdmFyaWV0eQogICAgICAgIGlmIChDRkcuZmxvdykgewogICAgICAgICAgY29uc3QgcyA9IENGRy5mbG93U2NhbGUgfHwgMC4wMDQ7IGNvbnN0IGEgPSBDRkcuZmxvd0FtcCB8fCAwLjY7IGNvbnN0IHNwID0gQ0ZHLmZsb3dTcGVlZCB8fCAwLjY7CiAgICAgICAgICBjb25zdCB0MCA9IHBlcmZvcm1hbmNlLm5vdygpKjAuMDAxKnNwOwogICAgICAgICAgY29uc3QgZnggPSBNYXRoLnNpbihweVtpXSpzICsgdDApICogYTsKICAgICAgICAgIGNvbnN0IGZ5ID0gTWF0aC5jb3MocHhbaV0qcyAtIHQwKSAqIGE7CiAgICAgICAgICBheFtpXSArPSBmeDsgYXlbaV0gKz0gZnk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBJbnRlcmFjdGlvbiBlZmZlY3RzOiB+MjArIG1vZGVzIGluY2x1ZGluZyBwZXJsaW5EcmFnLCBsaXNzYVB1bHNlLCBtZXRlb3IKICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdsaWdodGVyJzsKICAgICAgbGV0IHRtcDIgPSBbXTsKICAgICAgZm9yIChsZXQgZT1lZmZlY3RzLmxlbmd0aC0xOyBlPj0wOyBlLS0pIHsKICAgICAgICBjb25zdCBFID0gZWZmZWN0c1tlXTsgRS50ICs9IGR0OyBjb25zdCBrID0gRS50IC8gRS5saWZlOwogICAgICAgIGNvbnN0IHIgPSAzMCArIGsgKiAyNjA7IGNvbnN0IHN0ciA9IDEuMCAtIGs7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsgRS54ICs9IChFLnZ4fHwwKSpkdDsgRS55ICs9IChFLnZ5fHwwKSpkdDsgRS52eCAqPSAoRS5kcmFnfHwxKTsgRS52eSAqPSAoRS5kcmFnfHwxKTsgRS5tYXNzICo9IDAuOTg1OyB9CiAgICAgICAgdG1wMi5sZW5ndGggPSAwOyBxdC5xdWVyeShFLngsIEUueSwgciwgdG1wMik7CiAgICAgICAgZm9yIChsZXQgaWk9MDsgaWk8dG1wMi5sZW5ndGg7IGlpKyspIHsKICAgICAgICAgIGNvbnN0IGkgPSB0bXAyW2lpXTsgY29uc3QgZHggPSBweFtpXS1FLng7IGNvbnN0IGR5ID0gcHlbaV0tRS55OyBjb25zdCBkID0gTWF0aC5oeXBvdChkeCwgZHkpfHwxOwogICAgICAgICAgY29uc3QgZmFsbCA9ICgxIC0gTWF0aC5taW4oMSwgZC9yKSk7CiAgICAgICAgICBpZiAoRS50eXBlID09PSAncGVybGluRHJhZycpIHsKICAgICAgICAgICAgY29uc3QgdiA9IHBlcmxpblZlYyhweFtpXS1FLngsIHB5W2ldLUUueSwgRS5zY2FsZXx8MC4wMDgsIChFLmFtcHx8MS41KSAqIGZhbGwpOwogICAgICAgICAgICBheFtpXSArPSB2WzBdOyBheVtpXSArPSB2WzFdOyBodWVPZmZbaV0gKz0gNDAqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMihkeSwgZHgpOwogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oRS5hKmFuZyArIEUucGhhc2UpICogTWF0aC5jb3MoRS5iKmFuZyAtIEUucGhhc2UpOwogICAgICAgICAgICBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgICBjb25zdCBHID0gODAwOyBjb25zdCBmID0gTWF0aC5taW4oMy4wLCAoRyooRS5tYXNzfHwyMDApKS8oKGQqZCkrMjAwKSk7CiAgICAgICAgICAgIGF4W2ldIC09IChkeC9kKSpmKmZhbGw7IGF5W2ldIC09IChkeS9kKSpmKmZhbGw7IHZCb29zdFtpXSArPSAwLjIqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjE1KmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3ZvcnRleCcgfHwgRS50eXBlPT09J29yYml0Q1cnIHx8IEUudHlwZT09PSdvcmJpdENDVycgfHwgRS50eXBlPT09J3NwaXJhbE91dCcgfHwgRS50eXBlPT09J3NwaXJhbEluJykgewogICAgICAgICAgICBjb25zdCBkaXIgPSAoRS50eXBlPT09J29yYml0Q0NXJykgPyAtMSA6IDE7CiAgICAgICAgICAgIGNvbnN0IHR4ID0gLWR5L2QsIHR5ID0gZHgvZDsgbGV0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAxLjIgKiBmYWxsICogZGlyOwogICAgICAgICAgICBpZiAoRS50eXBlPT09J3NwaXJhbE91dCcpIHsgcyA9IDEuMipmYWxsOyBheFtpXSArPSAoZHgvZCkqZmFsbCowLjg7IGF5W2ldICs9IChkeS9kKSpmYWxsKjAuODsgfQogICAgICAgICAgICBpZiAoRS50eXBlPT09J3NwaXJhbEluJykgeyBzID0gLTEuMipmYWxsOyBheFtpXSAtPSAoZHgvZCkqZmFsbCowLjY7IGF5W2ldIC09IChkeS9kKSpmYWxsKjAuNjsgfQogICAgICAgICAgICBheFtpXSArPSB0eCpzOyBheVtpXSArPSB0eSpzOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ltcGxvc2lvbicgfHwgRS50eXBlPT09J2F0dHJhY3QnIHx8IEUudHlwZT09PSdtYWduZXQnKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS50eXBlPT09J2ltcGxvc2lvbicgPyAtMi4yIDogLTEuMikgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICAgIHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyB2Qm9vc3RbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NwcmF5JyB8fCBFLnR5cGU9PT0nc2NhdHRlcicpIHsKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8xOi0xKSAqIChFLnR5cGU9PT0nc2NhdHRlcic/My4wOjIuNCkgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICAgIHZ4W2ldICs9IChkeC9kKSAqIDAuMjUgKiBmYWxsOyB2eVtpXSArPSAoZHkvZCkgKiAwLjI1ICogZmFsbDsgaml0QW1wW2ldICs9IDAuMTUqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc3R1bicgfHwgRS50eXBlPT09J2ZyZWV6ZScpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IChFLnR5cGU9PT0nZnJlZXplJz8wLjY6MC4zKSAqIGZhbGw7IHNpemVNdWxbaV0gKz0gMC4zKmZhbGw7IHZ4W2ldICo9IDAuOTY7IHZ5W2ldICo9IDAuOTY7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ZlYXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAyLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IGppdEFtcFtpXSArPSAwLjI1KmZhbGw7IGh1ZU9mZltpXSArPSA4MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzY3JhbWJsZScpIHsKICAgICAgICAgICAgdnhbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyB2eVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMS41KmZhbGw7IGppdEFtcFtpXSArPSAwLjMqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAncHVsc2UnIHx8IEUudHlwZT09PSdyaXBwbGUnKSB7CiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNpbihrKk1hdGguUEkqMik7IGNvbnN0IHMgPSB3ICogMi4wICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gKz0gMC44ICogZmFsbDsgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjMgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdkZWFsaWduJykgewogICAgICAgICAgICBhbGlnbk11bFtpXSAtPSAwLjggKiBmYWxsOyBjb2hlc2lvbk11bFtpXSArPSAwLjIgKiBmYWxsOyBqaXRBbXBbaV0gKz0gMC4xICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnY29oZXJlJyB8fCBFLnR5cGU9PT0ndGlnaHRlbicgfHwgRS50eXBlPT09J2xvb3NlbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdsb29zZW4nKSA/IC0xIDogMTsgLy8gbG9vc2VuIHJlZHVjZXMgY29oZXNpb24KICAgICAgICAgICAgY29oZXNpb25NdWxbaV0gKz0gZGlyICogMC45ICogZmFsbDsgaWYgKGRpcj4wKSBzZXBhcmF0aW9uTXVsW2ldIC09IDAuMiAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NlcGFyYXRlJyB8fCBFLnR5cGU9PT0nZGlzcGVyc2UnKSB7CiAgICAgICAgICAgIHNlcGFyYXRpb25NdWxbaV0gKz0gMS4wICogZmFsbDsgY29oZXNpb25NdWxbaV0gLT0gMC40ICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnd2FycCcgfHwgRS50eXBlPT09J3NwZWVkdXAnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSArPSAwLjYqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3Nsb3dkb3duJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gLT0gMC41KmZhbGw7IGh1ZU9mZltpXSAtPSAyMCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdncm93JykgewogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuNipmYWxsOyBodWVPZmZbaV0gKz0gMzAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAndHVubmVsJykgewogICAgICAgICAgICBjb25zdCB0YXJnZXQgPSByKjAuNzsgY29uc3QgcyA9IChkPHRhcmdldD8rMTotMSkgKiAxLjIgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ppdHRlcmJ1cnN0JykgewogICAgICAgICAgICBqaXRBbXBbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2Nocm9tYWJ1cnN0JykgewogICAgICAgICAgICBodWVPZmZbaV0gKz0gMTYwICogZmFsbDsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNob2NrIC8gZGVmYXVsdAogICAgICAgICAgICBjb25zdCBzID0gKEUuc2lnbj4wPysxOi0xKSAqIDEuOCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfQogICAgICAgICAgLy8gZ2VuZXJhbCBjb2xvciBlbmVyZ3kKICAgICAgICAgIGh1ZVtpXSA9IChodWVbaV0gKyA5MCAqIGZhbGwpICUgMzYwOwogICAgICAgIH0KICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KEUueCwgRS55LCBNYXRoLm1heCgxLCByKjAuNiksIEUueCwgRS55LCByKTsKICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsYSgkeyhwYWxldHRlSHVlKzIwKSUzNjB9LCA5NSUsIDcwJSwgJHswLjM0KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjYsIGBoc2xhKCR7KHBhbGV0dGVIdWUrNjApJTM2MH0sIDk1JSwgNjAlLCAkezAuMjIqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuOTUsIGBoc2xhKCR7KHBhbGV0dGVIdWUrMTAwKSUzNjB9LCA5NSUsIDU1JSwgMClgKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsYSgke3BhbGV0dGVIdWV9LCA5NSUsIDY1JSwgJHswLjI1KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjYsIGBoc2xhKCR7KHBhbGV0dGVIdWUrNDApJTM2MH0sIDk1JSwgNTUlLCAkezAuMTgqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuOSwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs4MCklMzYwfSwgOTUlLCA2MCUsIDApYCk7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsU3R5bGUgPSBnOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMoRS54LCBFLnksIHIsIDAsIE1hdGguUEkqMik7IGN0eC5maWxsKCk7CiAgICAgICAgaWYgKGsgPj0gMSkgZWZmZWN0cy5zcGxpY2UoZSwgMSk7CiAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBJbnRlZ3JhdGUgYW5kIGRyYXcgYm9pZHMgd2l0aCBnbG93IGFuZCB0cmFpbHMKICAgICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gQ0ZHLmJsZW5kOwogICAgICBjdHgubGluZVdpZHRoID0gQ0ZHLmxpbmVXaWR0aDsKICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgICAgLy8gaW50ZWdyYXRlCiAgICAgICAgICBpZiAoaml0QW1wW2ldID4gMC4wMDAxKSB7IGF4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAwLjIgKiBqaXRBbXBbaV07IGF5W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAwLjIgKiBqaXRBbXBbaV07IH0KICAgICAgICAgIHZ4W2ldICs9IGF4W2ldOyB2eVtpXSArPSBheVtpXTsKICAgICAgICAgIGNvbnN0IHZNYXggPSBDRkcubWF4U3BlZWQgKiAoMSArIE1hdGgubWF4KC0wLjcsIHZCb29zdFtpXSkqMC44KTsKICAgICAgICAgIFt2eFtpXSwgdnlbaV1dID0gbGltaXQodnhbaV0sIHZ5W2ldLCB2TWF4KTsKICAgICAgICAgIC8vIGVuZm9yY2UgbWluIHNwZWVkICh3aXRoIGJvb3N0KQogICAgICAgICAgeyBjb25zdCBzcCA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKSB8fCAxOyBjb25zdCB2TWluID0gQ0ZHLm1pblNwZWVkICogKDEgKyBNYXRoLm1heCgwLCB2Qm9vc3RbaV0pKjAuNSk7IGlmIChzcCA8IHZNaW4pIHsgY29uc3QgcyA9IHZNaW4gLyBzcDsgdnhbaV0gKj0gczsgdnlbaV0gKj0gczsgfSB9CiAgICAgICAgICBwcmV2eFtpXSA9IHB4W2ldOyBwcmV2eVtpXSA9IHB5W2ldOwogICAgICAgICAgcHhbaV0gKz0gdnhbaV07IHB5W2ldICs9IHZ5W2ldOwoKICAgICAgICAgIC8vIGJvdW5kYXJpZXMKICAgICAgICAgIGlmIChDRkcud3JhcCkgewogICAgICAgICAgICBpZiAocHhbaV0gPCAtNSkgcHhbaV0gPSBXICsgNTsgZWxzZSBpZiAocHhbaV0gPiBXKzUpIHB4W2ldID0gLTU7CiAgICAgICAgICAgIGlmIChweVtpXSA8IC01KSBweVtpXSA9IEggKyA1OyBlbHNlIGlmIChweVtpXSA+IEgrNSkgcHlbaV0gPSAtNTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChweFtpXSA8IDAgfHwgcHhbaV0gPiBXKSB7IHZ4W2ldID0gLXZ4W2ldOyB9CiAgICAgICAgICAgIGlmIChweVtpXSA8IDAgfHwgcHlbaV0gPiBIKSB7IHZ5W2ldID0gLXZ5W2ldOyB9CiAgICAgICAgICAgIHB4W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oVywgcHhbaV0pKTsKICAgICAgICAgICAgcHlbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihILCBweVtpXSkpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIGRlY2F5IG1vZGlmaWVycyBhbmQgY29tcHV0ZSB0aW50CiAgICAgICAgICB2Qm9vc3RbaV0gKj0gMC45Mjsgc2l6ZU11bFtpXSAqPSAwLjkwOyBodWVPZmZbaV0gKj0gMC45NDsgaml0QW1wW2ldICo9IDAuODg7CiAgICAgICAgICBhbGlnbk11bFtpXSAqPSAwLjk0OyBjb2hlc2lvbk11bFtpXSAqPSAwLjk0OyBzZXBhcmF0aW9uTXVsW2ldICo9IDAuOTQ7CiAgICAgICAgICAvLyBzbG93bHkgZHJpZnQgYm9pZCBodWUgYmFjayB0b3dhcmQgYmFzZSBwYWxldHRlIGh1ZQogICAgICAgICAgaHVlW2ldID0gYXBwcm9hY2hIdWUoaHVlW2ldLCBwYWxldHRlSHVlLCBNYXRoLm1pbigxLCBkdCAqIChDRkcuaHVlUmVsYXggfHwgMC4yKSkpOwogICAgICAgICAgc3BkW2ldID0gTWF0aC5oeXBvdCh2eFtpXSwgdnlbaV0pOwogICAgICAgICAgY29uc3QgTCA9IDUwICsgTWF0aC5taW4oNDUsIHNwZFtpXSo4KTsKICAgICAgICAgIGNvbnN0IFMgPSA4MCArIE1hdGgubWluKDIwLCBzcGRbaV0qNik7CiAgICAgICAgICBjb25zdCBkcmF3SHVlID0gKGh1ZVtpXSArIGh1ZU9mZltpXSkgJSAzNjA7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgaHNsKCR7ZHJhd0h1ZX0sICR7U30lLCAke0x9JSlgOwogICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gYGhzbCgke2RyYXdIdWV9LCA5MCUsIDYwJSlgOwogICAgICAgICAgY29uc3QgZ2xvd1F1YWxpdHkgPSAoZnBzQXZnIDwgNTAgPyAwLjUgOiAxLjApOwogICAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSBnbG93UXVhbGl0eSAqIChDRkcuZ2xvd0Jhc2UgKyBNYXRoLm1pbihDRkcuZ2xvd01heCwgc3BkW2ldKkNGRy5nbG93U2NhbGUpKTsKCiAgICAgICAgICAvLyB0cmFpbCBzZWdtZW50CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjdHgubW92ZVRvKHByZXZ4W2ldLCBwcmV2eVtpXSk7CiAgICAgICAgICBjdHgubGluZVRvKHB4W2ldLCBweVtpXSk7CiAgICAgICAgICBjdHguc3Ryb2tlKCk7CgogICAgICAgICAgLy8gYm9pZCBoZWFkIHNoYXBlCiAgICAgICAgICBjb25zdCBhbmcgPSBNYXRoLmF0YW4yKHZ5W2ldLCB2eFtpXSk7CiAgICAgICAgICBjb25zdCBjYSA9IE1hdGguY29zKGFuZyksIHNhID0gTWF0aC5zaW4oYW5nKTsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBgaHNsKCR7aHVlW2ldfSwgOTUlLCAke0x9JSlgOwogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY29uc3QgcyA9IENGRy5jb21ldFNpemUgKiAoMSArIChzaXplTXVsW2ldfHwwKSk7CiAgICAgICAgICBpZiAoQ0ZHLnNoYXBlID09PSAndHJpYW5nbGUnKSB7CiAgICAgICAgICAgIGNvbnN0IEMyNiA9IDAuODU2ODg4NzUzLCBTMjYgPSAwLjUxNTQ5ODsgLy8gY29zL3NpbigyLjYpCiAgICAgICAgICAgIGNvbnN0IHgwID0gcHhbaV0gKyBjYSpzKjEuNiwgeTAgPSBweVtpXSArIHNhKnMqMS42OwogICAgICAgICAgICBjb25zdCBjYV9wID0gY2EqQzI2IC0gc2EqUzI2LCBzYV9wID0gc2EqQzI2ICsgY2EqUzI2OwogICAgICAgICAgICBjb25zdCBjYV9tID0gY2EqQzI2ICsgc2EqUzI2LCBzYV9tID0gc2EqQzI2IC0gY2EqUzI2OwogICAgICAgICAgICBjdHgubW92ZVRvKHgwLCB5MCk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9wKnMsICBweVtpXSArIHNhX3Aqcyk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9tKnMsICBweVtpXSArIHNhX20qcyk7CiAgICAgICAgICB9IGVsc2UgaWYgKENGRy5zaGFwZSA9PT0gJ29yYicpIHsKICAgICAgICAgICAgY3R4LmFyYyhweFtpXSwgcHlbaV0sIHMqMC42LCAwLCBNYXRoLlBJKjIpOwogICAgICAgICAgfSBlbHNlIHsgLy8gc3BhcmsKICAgICAgICAgICAgY29uc3QgQzAyID0gMC45ODAwNjY2LCBTMDIgPSAwLjE5ODY2OTM7IC8vIGNvcy9zaW4oMC4yKQogICAgICAgICAgICBjb25zdCB4aCA9IHB4W2ldICsgY2EqcyoxLjgsIHloID0gcHlbaV0gKyBzYSpzKjEuODsKICAgICAgICAgICAgY29uc3QgY2FfcDAyID0gY2EqQzAyIC0gc2EqUzAyLCBzYV9wMDIgPSBzYSpDMDIgKyBjYSpTMDI7CiAgICAgICAgICAgIGNvbnN0IGNhX20wMiA9IGNhKkMwMiArIHNhKlMwMiwgc2FfbTAyID0gc2EqQzAyIC0gY2EqUzAyOwogICAgICAgICAgICBjdHgubW92ZVRvKHhoLCB5aCk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9wMDIqcyowLjYsICBweVtpXSArIHNhX3AwMipzKjAuNik7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9tMDIqcyowLjYsICBweVtpXSArIHNhX20wMipzKjAuNik7CiAgICAgICAgICB9CiAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7IGN0eC5maWxsKCk7CiAgICAgICAgfQogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIFF1YWR0cmVlIHZpc3VhbGl6YXRpb24gKGRlZmF1bHQgb24pCiAgICAgICAgaWYgKENGRy5xdCkgcXQuZHJhdyhjdHgpOwoKICAgICAgICAvLyBIVUQKICAgICAgICBodWRFbC5pbm5lckhUTUwgPSBgPHN0cm9uZz5Cb2lkczwvc3Ryb25nPiDCtyBOPSR7Tn0gdmlzaW9uPSR7Q0ZHLnZpc2lvbn0gc2VwPSR7Q0ZHLnNlcH0gYCArCiAgICAgICAgICBgwrcgcXRDYXA9JHtDRkcucXRDYXB9IMK3IGh1ZT0ke3BhbGV0dGVIdWV9IMK3IHF0Vml6PSR7Q0ZHLnF0Pydvbic6J29mZid9IMK3IGNsaWNrPSR7Q0ZHLmNsaWNrTW9kZX0gwrcgZnBzPSR7ZnBzQXZnLnRvRml4ZWQoMCl9YDsKCiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKICAgICAgfQogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpOwoKICAgICAgLy8gQ29uZmlnIFVJIGJ1aWxkIGFuZCB3aXJpbmcKICAgICAgY29uc3QgY2ZnQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmZ0J0bicpOwogICAgICBjb25zdCBjZmdDbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdDbG9zZScpOwogICAgICBjb25zdCBjZmdQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maWcnKTsKICAgICAgY29uc3QgY2ZnQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maWdCb2R5Jyk7CiAgICAgIGNmZ0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNmZ1BhbmVsLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJykpOwogICAgICBjZmdDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNmZ1BhbmVsLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywnJykpOwoKICAgICAgY29uc3Qgc2NoZW1hID0gWwogICAgICAgIHtrZXk6J2h1ZScsIGxhYmVsOidIdWUnLCB0eXBlOidpbnQnLCBtaW46MCwgbWF4OjM2MCwgc3RlcDoxLCB2YWx1ZTpCQVNFX0hVRX0sCiAgICAgICAge2tleTonaGVhZGVyJywgbGFiZWw6J0hlYWRlcicsIHR5cGU6J3RleHQnLCB2YWx1ZTpIRUFERVJ9LAogICAgICAgIHtrZXk6J3N1YmhlYWRlcicsIGxhYmVsOidTdWJoZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6U1VCSEVBREVSfSwKICAgICAgICB7a2V5OidxdCcsIGxhYmVsOidTaG93IFF1YWR0cmVlJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3Nob3dIdWQnLCBsYWJlbDonU2hvdyBIVUQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc3Bhd24nLCBsYWJlbDonU3Bhd24nLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsncmFuZG9tJywnY2lyY2xlJywnZ3JpZCcsJ2NlbnRlcmJ1cnN0J119LAogICAgICAgIHtrZXk6J2NvdW50JywgbGFiZWw6J0NvdW50JywgdHlwZTonaW50JywgbWluOjUwLCBtYXg6MTAwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5Oid2aXNpb24nLCBsYWJlbDonVmlzaW9uJywgdHlwZTonaW50JywgbWluOjIwLCBtYXg6MjAwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3NlcCcsIGxhYmVsOidTZXBhcmF0aW9uIERpc3QnLCB0eXBlOidpbnQnLCBtaW46NCwgbWF4OjgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J21heFNwZWVkJywgbGFiZWw6J01heCBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLjEsIG1heDoxMiwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21pblNwZWVkJywgbGFiZWw6J01pbiBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLjAsIG1heDo2LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonbWF4Rm9yY2UnLCBsYWJlbDonTWF4IFN0ZWVyaW5nIEZvcmNlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAxLCBtYXg6MC41LCBzdGVwOjAuMDAxfSwKICAgICAgICB7a2V5OidhbGlnblcnLCBsYWJlbDonQWxpZ24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J2NvaGVzaW9uVycsIGxhYmVsOidDb2hlc2lvbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonc2VwYXJhdGlvblcnLCBsYWJlbDonU2VwYXJhdGlvbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTondHJhaWxBbHBoYScsIGxhYmVsOidUcmFpbCBBbHBoYScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6MSwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidxdENhcCcsIGxhYmVsOidRdWFkdHJlZSBDYXBhY2l0eScsIHR5cGU6J2ludCcsIG1pbjoyLCBtYXg6MzIsIHN0ZXA6MX0sCiAgICAgICAge2tleTond3JhcCcsIGxhYmVsOidXcmFwIEJvdW5kcycsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaGFwZScsIGxhYmVsOidTaGFwZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6Wyd0cmlhbmdsZScsJ3NwYXJrJywnb3JiJ119LAogICAgICAgIHtrZXk6J2JsZW5kJywgbGFiZWw6J0JsZW5kJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ2xpZ2h0ZXInLCdzY3JlZW4nLCdvdmVybGF5JywncGx1cy1saWdodGVyJ119LAogICAgICAgIHtrZXk6J2xpbmVXaWR0aCcsIGxhYmVsOidMaW5lIFdpZHRoJywgdHlwZTonbnVtYmVyJywgbWluOjAuMiwgbWF4OjQsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidnbG93QmFzZScsIGxhYmVsOidHbG93IEJhc2UnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjYwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2dsb3dNYXgnLCBsYWJlbDonR2xvdyBNYXgnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2dsb3dTY2FsZScsIGxhYmVsOidHbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0MCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2NvbWV0U2l6ZScsIGxhYmVsOidDb21ldCBTaXplJywgdHlwZTonbnVtYmVyJywgbWluOjEsIG1heDoyMCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2JnR3JhZGllbnQnLCBsYWJlbDonQkcgR3JhZGllbnQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDEnLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDEnLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MicsIGxhYmVsOidCRyBIdWUgU2hpZnQgMicsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQzJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAzJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZmxvdycsIGxhYmVsOidGbG93IEZpZWxkJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2Zsb3dBbXAnLCBsYWJlbDonRmxvdyBBbXAnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wNX0sCiAgICAgICAge2tleTonZmxvd1NjYWxlJywgbGFiZWw6J0Zsb3cgU2NhbGUnLCB0eXBlOidudW1iZXInLCBtaW46MC4wMDA1LCBtYXg6MC4wMiwgc3RlcDowLjAwMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTcGVlZCcsIGxhYmVsOidGbG93IFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDozLCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J2NsaWNrTW9kZScsIGxhYmVsOidDbGljayBNb2RlJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknXX0sCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBtYWtlUm93KGxhYmVsLCBpbnB1dCkgewogICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyByb3cuY2xhc3NOYW1lID0gJ3Jvdyc7CiAgICAgICAgY29uc3QgbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7IGwudGV4dENvbnRlbnQgPSBsYWJlbDsgcm93LmFwcGVuZENoaWxkKGwpOwogICAgICAgIHJvdy5hcHBlbmRDaGlsZChpbnB1dCk7IHJldHVybiByb3c7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFkZElucHV0KGl0ZW0pIHsKICAgICAgICBsZXQgaW5wdXQ7CiAgICAgICAgY29uc3QgdjAgPSAoaXRlbS5rZXkgaW4gQ0ZHKSA/IENGR1tpdGVtLmtleV0gOiBpdGVtLnZhbHVlOwogICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdib29sJykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdjaGVja2JveCc7IGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQuY2hlY2tlZDsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIENGR1tpdGVtLmtleV0pOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3NlbGVjdCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7CiAgICAgICAgICBmb3IgKGNvbnN0IG9wdCBvZiBpdGVtLm9wdGlvbnMpIHsgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOyBvLnZhbHVlPW9wdDsgby50ZXh0Q29udGVudD1vcHQ7IGlmIChvcHQ9PT12MCkgby5zZWxlY3RlZD10cnVlOyBpbnB1dC5hcHBlbmRDaGlsZChvKTsgfQogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IENGR1tpdGVtLmtleV0gPSBpbnB1dC52YWx1ZTsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIENGR1tpdGVtLmtleV0pOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3RleHQnOyBpbnB1dC52YWx1ZSA9IFN0cmluZyh2MHx8JycpOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlmIChpdGVtLmtleT09PSdoZWFkZXInKSB7IHRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ua2V5PT09J3N1YmhlYWRlcicpIHsgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseUNoYW5nZShpdGVtLmtleSwgaW5wdXQudmFsdWUpOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ua2V5ID09PSAnaHVlJykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdyYW5nZSc7IGlucHV0Lm1pbj0nMCc7IGlucHV0Lm1heD0nMzYwJzsgaW5wdXQuc3RlcD0nMSc7IGlucHV0LnZhbHVlPVN0cmluZyh2MCk7CiAgICAgICAgICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBudW1iZXIudHlwZT0nbnVtYmVyJzsgbnVtYmVyLm1pbj0nMCc7IG51bWJlci5tYXg9JzM2MCc7IG51bWJlci5zdGVwPScxJzsgbnVtYmVyLnZhbHVlPVN0cmluZyh2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgbnVtYmVyLnZhbHVlPWlucHV0LnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZT1udW1iZXIudmFsdWU7IGh1ZUNoYW5nZWQocGFyc2VJbnQobnVtYmVyLnZhbHVlKSk7IH0pOwogICAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyB3cmFwLmNsYXNzTmFtZT0ncmFuZ2VSb3cnOyB3cmFwLmFwcGVuZENoaWxkKGlucHV0KTsgd3JhcC5hcHBlbmRDaGlsZChudW1iZXIpOwogICAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIHdyYXApKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGZ1bmN0aW9uIGh1ZUNoYW5nZWQodmFsKXsKICAgICAgICAgICAgLy8gc2hpZnQgcGFsZXR0ZSBpbW1lZGlhdGVseQogICAgICAgICAgICBjb25zdCBkZWx0YSA9ICh2YWwgLSBwYWxldHRlSHVlKTsKICAgICAgICAgICAgcGFsZXR0ZUh1ZSA9IHZhbDsKICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgaHVlW2ldID0gKGh1ZVtpXSArIGRlbHRhKSAlIDM2MDsgfQogICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3ZhbH0sIDg1JSwgNjIlKWApOwogICAgICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKHtodWU6U3RyaW5nKHZhbCl9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgeyAvLyBudW1lcmljIChyYW5nZSArIG51bWJlciBwYWlyKQogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdyYW5nZSc7IGlucHV0LnN0ZXA9U3RyaW5nKGl0ZW0uc3RlcHx8MSk7CiAgICAgICAgICBpZiAoaXRlbS5taW4hPW51bGwpIGlucHV0Lm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIGlucHV0Lm1heD1TdHJpbmcoaXRlbS5tYXgpOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBudW1iZXIubWluPVN0cmluZyhpdGVtLm1pbik7IGlmIChpdGVtLm1heCE9bnVsbCkgbnVtYmVyLm1heD1TdHJpbmcoaXRlbS5tYXgpOwogICAgICAgICAgaW5wdXQudmFsdWUgPSBTdHJpbmcodjApOyBudW1iZXIudmFsdWUgPSBTdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZSA9IGlucHV0LnZhbHVlOyBudW1DaGFuZ2VkKHBhcnNlRmxvYXQoaW5wdXQudmFsdWUpKTsgfSk7CiAgICAgICAgICBudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlucHV0LnZhbHVlID0gbnVtYmVyLnZhbHVlOyBudW1DaGFuZ2VkKHBhcnNlRmxvYXQobnVtYmVyLnZhbHVlKSk7IH0pOwogICAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyB3cmFwLmNsYXNzTmFtZT0ncmFuZ2VSb3cnOyB3cmFwLmFwcGVuZENoaWxkKGlucHV0KTsgd3JhcC5hcHBlbmRDaGlsZChudW1iZXIpOwogICAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIHdyYXApKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGZ1bmN0aW9uIG51bUNoYW5nZWQodmFsKXsgQ0ZHW2l0ZW0ua2V5XSA9IHZhbDsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIHZhbCk7IH0KICAgICAgICB9CiAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIGlucHV0KSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFwcGx5Q2hhbmdlKGtleSwgdmFsdWUpIHsKICAgICAgICBpZiAoa2V5ID09PSAnY291bnQnIHx8IGtleSA9PT0gJ3NwYXduJykgeyByZXNlZWQoQ0ZHLmNvdW50KTsgfQogICAgICAgIGlmIChrZXkgPT09ICdxdCcpIHsgLyogaW1tZWRpYXRlIGRyYXcgdG9nZ2xlIHZpYSBDRkcgKi8gfQogICAgICAgIGlmIChrZXkgPT09ICdzaG93SHVkJykgeyBodWRFbC5zdHlsZS5kaXNwbGF5ID0gQ0ZHLnNob3dIdWQgPyAnJyA6ICdub25lJzsgfQogICAgICAgIHVwZGF0ZVVybEZyb21DZmcoKTsKICAgICAgfQoKICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNjaGVtYSkgYWRkSW5wdXQoaXRlbSk7CiAgICAgIC8vIGluaXRpYWwgSFVEIHZpc2liaWxpdHkKICAgICAgaHVkRWwuc3R5bGUuZGlzcGxheSA9IChDRkcuc2hvd0h1ZD09PWZhbHNlKSA/ICdub25lJyA6ICcnOwoKICAgICAgLy8ga2V5Ym9hcmQgdG9nZ2xlcyAoYWZ0ZXIgYnVpbGRpbmcgcGFuZWwpCiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gewogICAgICAgIGNvbnN0IGsgPSBlLmtleS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChrID09PSAncScpIHsgQ0ZHLnF0ID0gIUNGRy5xdDsgdXBkYXRlVXJsRnJvbUNmZygpOyB9CiAgICAgICAgaWYgKGsgPT09ICdjJykgeyBjZmdQYW5lbC50b2dnbGVBdHRyaWJ1dGUoJ2hpZGRlbicpOyB9CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgIDwvc2NyaXB0PgogIDwvYm9keT4KPC9odG1sPgo=" download="boids-dod-quadtree-6-impl.html" class="download-btn" title="Download boids-dod-quadtree-6-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
      <li data-title="Boids DOD+QT · N=417 · spawn=circle · wrap · triangle · plus-lighter · hue=259 · qtCap=12" data-filename="boids-dod-quadtree-13-impl.html"><a href="boids-dod-quadtree-13-impl.html" target="viewer"><strong>Boids DOD+QT · N=417 · spawn=circle · wrap · triangle · plus-lighter · hue=259 · qtCap=12</strong></a><a href="data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgogICAgPHRpdGxlPkJvaWRzIERPRCtRVCDCtyBOPTQxNyDCtyBzcGF3bj1jaXJjbGUgwrcgd3JhcCDCtyB0cmlhbmdsZSDCtyBwbHVzLWxpZ2h0ZXIgwrcgaHVlPTI1OSDCtyBxdENhcD0xMjwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgIGh0bWwsIGJvZHkgeyBoZWlnaHQ6IDEwMCU7IG1hcmdpbjogMDsgfQogICAgICBib2R5IHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMDUwNzBhOwogICAgICAgIGNvbG9yOiAjZTZlZGYzOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgZm9udC1mYW1pbHk6IHVpLXNhbnMtc2VyaWYsIHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgU2Vnb2UgVUksIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIjsKICAgICAgfQogICAgICAjc2NlbmUgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyB9CiAgICAgIC5vdmVybGF5IHsgcG9zaXRpb246IGZpeGVkOyBpbnNldDogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnIgYXV0bzsgfQogICAgICAudGl0bGUgeyBtYXJnaW46IDE4cHggMjBweCAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogY2xhbXAoMThweCwgM3Z3LCAyOHB4KTsgbGV0dGVyLXNwYWNpbmc6IDAuMnB4OyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgdGV4dC1zaGFkb3c6IDAgMCAxMHB4IGNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYWNjZW50LCAjN2RkM2ZjKSA4MCUsICMwMDAgMjAlKTsgfQogICAgICAuc3VidGl0bGUgeyBtYXJnaW46IDAgMjBweCAxMHB4OyBmb250LXdlaWdodDogNTAwOyBmb250LXNpemU6IGNsYW1wKDEycHgsIDJ2dywgMTZweCk7IG9wYWNpdHk6IDAuODU7IH0KICAgICAgLmh1ZCB7IHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMTJweDsgYm90dG9tOiAxMnB4OyBwYWRkaW5nOiA4cHggMTBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDQwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwY2M7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpIHNhdHVyYXRlKDEyMCUpOyBmb250LXNpemU6IDEycHg7IGxpbmUtaGVpZ2h0OiAxLjQ7IH0KICAgICAgLmh1ZCBzdHJvbmcgeyBjb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgfQogICAgICAuY2ZnQnRuIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDEycHg7IHJpZ2h0OiAxMnB4OyB6LWluZGV4OiAxMDsgcG9pbnRlci1ldmVudHM6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA1NTsgYmFja2dyb3VuZDogIzBiMTIyMGNjOyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiA2cHggOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgLmNvbmZpZ1BhbmVsIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDU2cHg7IHJpZ2h0OiAxMnB4OyB3aWR0aDogbWluKDM4MHB4LCA5MHZ3KTsgbWF4LWhlaWdodDogODB2aDsgb3ZlcmZsb3c6IGF1dG87IHotaW5kZXg6IDIwOyBwb2ludGVyLWV2ZW50czogYXV0bzsgYmFja2dyb3VuZDogIzBiMTIyMGU2OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3gtc2hhZG93OiAwIDEwcHggNDBweCAjMDAwODsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpIHNhdHVyYXRlKDEyMCUpOyB9CiAgICAgIC5jb25maWdIZWFkZXIgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDEwcHggMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAwMDA1NTsgcG9zaXRpb246IHN0aWNreTsgdG9wOiAwOyBiYWNrZ3JvdW5kOiAjMGIxMjIwZjI7IH0KICAgICAgLmNvbmZpZ0JvZHkgeyBwYWRkaW5nOiAxMHB4IDEycHg7IGRpc3BsYXk6IGdyaWQ7IGdhcDogMTBweDsgfQogICAgICAuY29uZmlnQm9keSAucm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bzsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IH0KICAgICAgLmNvbmZpZ0JvZHkgLnJhbmdlUm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNzJweDsgZ2FwOiA4cHg7IH0KICAgICAgLmNmZ0Nsb3NlIHsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBiYWNrZ3JvdW5kOiAjMTIxYTJiY2M7IGNvbG9yOiAjZTZlZGYzOyBib3JkZXItcmFkaXVzOiA2cHg7IHBhZGRpbmc6IDRweCA4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAuY29uZmlnQm9keSBpbnB1dCwgLmNvbmZpZ0JvZHkgc2VsZWN0IHsgZm9udC1zaXplOiAxNHB4OyBwYWRkaW5nOiA2cHggOHB4OyBiYWNrZ3JvdW5kOiAjMTAxODI3OyBjb2xvcjogI2U2ZWRmMzsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDU1OyBib3JkZXItcmFkaXVzOiA2cHg7IH0KICAgICAgLmNvbmZpZ0JvZHkgaW5wdXRbdHlwZT1yYW5nZV0geyBwYWRkaW5nOiAwOyBoZWlnaHQ6IDI4cHg7IGFjY2VudC1jb2xvcjogdmFyKC0tYWNjZW50LCAjN2RkM2ZjKTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPGNhbnZhcyBpZD0ic2NlbmUiPjwvY2FudmFzPgogICAgPGRpdiBjbGFzcz0ib3ZlcmxheSI+CiAgICAgIDxkaXYgY2xhc3M9InRpdGxlIiBpZD0idGl0bGUiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJzdWJ0aXRsZSIgaWQ9InN1YnRpdGxlIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaHVkIiBpZD0iaHVkIj48L2Rpdj4KICAgIDwvZGl2PgogICAgPGJ1dHRvbiBpZD0iY2ZnQnRuIiBjbGFzcz0iY2ZnQnRuIiBhcmlhLWxhYmVsPSJPcGVuIGNvbmZpZyI+4pqZ77iOPC9idXR0b24+CiAgICA8ZGl2IGlkPSJjb25maWciIGNsYXNzPSJjb25maWdQYW5lbCIgaGlkZGVuPgogICAgICA8ZGl2IGNsYXNzPSJjb25maWdIZWFkZXIiPgogICAgICAgIDxzdHJvbmc+Q29uZmlnPC9zdHJvbmc+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2ZnQ2xvc2UiIGNsYXNzPSJjZmdDbG9zZSIgYXJpYS1sYWJlbD0iQ2xvc2UiPuKclTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBpZD0iY29uZmlnQm9keSIgY2xhc3M9ImNvbmZpZ0JvZHkiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICAndXNlIHN0cmljdCc7CgogICAgICAvLyBVUkwgcGFyYW1ldGVycwogICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgICAgIGNvbnN0IERFRkFVTFRfSFVFID0gMjU5OwogICAgICBjb25zdCBCQVNFX0hVRSA9IGNsYW1wSW50KHBhcnNlSW50KHBhcmFtcy5nZXQoJ2h1ZScpKSwgMCwgMzYwLCBERUZBVUxUX0hVRSk7CiAgICAgIGxldCBwYWxldHRlSHVlID0gQkFTRV9IVUU7CiAgICAgIGNvbnN0IEhFQURFUiA9IHBhcmFtcy5nZXQoJ2hlYWRlcicpIHx8ICdCb2lkcyDigJQgRGF0YS1PcmllbnRlZCArIFF1YWR0cmVlJzsKICAgICAgY29uc3QgU1VCSEVBREVSID0gcGFyYW1zLmdldCgnc3ViaGVhZGVyJykgfHwgJ1Nob2Nrd2F2ZXMgb24gY2xpY2svZHJhZyDCtyBxdWFkdHJlZSB2aXogb24nOwogICAgICAvLyBRdWFkdHJlZSB2aXogaXMgaGFuZGxlZCBieSBDRkcucXQ7IFVSTCBwYXJhbSAncXQnIG92ZXJyaWRlcyBpdC4KCiAgICAgIC8vIERPTQogICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NlbmUnKTsKICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogZmFsc2UgfSk7CiAgICAgIGNvbnN0IHRpdGxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKTsKICAgICAgY29uc3Qgc3VidGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJ0aXRsZScpOwogICAgICBjb25zdCBodWRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdodWQnKTsKCiAgICAgIC8vIFN0eWxlIGhvb2sKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWFjY2VudCcsIGBoc2woJHtwYWxldHRlSHVlfSwgODUlLCA2MiUpYCk7CiAgICAgIHRpdGxlRWwudGV4dENvbnRlbnQgPSBIRUFERVI7CiAgICAgIHN1YnRpdGxlRWwudGV4dENvbnRlbnQgPSBTVUJIRUFERVI7CgogICAgICAvLyBDb25maWcgKGluamVjdGVkIGJ5IGdlbmVyYXRvcikg4oCUIG11dGFibGUgYXQgcnVudGltZQogICAgICBsZXQgQ0ZHID0geyJjb3VudCI6IDQxNywgInZpc2lvbiI6IDEwMSwgInNlcCI6IDE0LCAibWF4U3BlZWQiOiAyLjQ5LCAibWF4Rm9yY2UiOiAwLjA0OSwgIm1pblNwZWVkIjogMC44MiwgImFsaWduVyI6IDAuODQsICJjb2hlc2lvblciOiAwLjkyLCAic2VwYXJhdGlvblciOiAxLjk1LCAidHJhaWxBbHBoYSI6IDAuMTQsICJxdENhcCI6IDEyLCAid3JhcCI6IHRydWUsICJzaGFwZSI6ICJ0cmlhbmdsZSIsICJibGVuZCI6ICJwbHVzLWxpZ2h0ZXIiLCAibGluZVdpZHRoIjogMS4yMywgImdsb3dCYXNlIjogMjUsICJnbG93TWF4IjogMzksICJnbG93U2NhbGUiOiA2LjYsICJjb21ldFNpemUiOiA1LjM2LCAiYmdHcmFkaWVudCI6IGZhbHNlLCAiYmdIdWVTaGlmdDEiOiA0MCwgImJnSHVlU2hpZnQyIjogMjIsICJiZ0h1ZVNoaWZ0MyI6IDEzOSwgInNwYXduIjogImNpcmNsZSIsICJxdCI6IHRydWUsICJzaG93SHVkIjogdHJ1ZSwgImZsb3ciOiBmYWxzZSwgImZsb3dBbXAiOiAwLjc5LCAiZmxvd1NjYWxlIjogMC4wMDYsICJmbG93U3BlZWQiOiAxLjQ2LCAiY2xpY2tNb2RlIjogInJhbmRvbSJ9OwogICAgICBDRkcubWluU3BlZWQgPSBDRkcubWluU3BlZWQgPz8gMC44OwogICAgICBDRkcucXQgPSAodHlwZW9mIENGRy5xdCA9PT0gJ2Jvb2xlYW4nKSA/IENGRy5xdCA6IHRydWU7CiAgICAgIENGRy5jbGlja01vZGUgPSBDRkcuY2xpY2tNb2RlIHx8ICdyYW5kb20nOwogICAgICBDRkcuY2xpY2tNb2RlcyA9IENGRy5jbGlja01vZGVzIHx8IFsKICAgICAgICAnc2hvY2snLCd2b3J0ZXgnLCdpbXBsb3Npb24nLCdzcHJheScsJ3N0dW4nLCdmZWFyJywnYXR0cmFjdCcsJ29yYml0Q1cnLCdvcmJpdENDVycsCiAgICAgICAgJ3NwaXJhbE91dCcsJ3NwaXJhbEluJywnZnJlZXplJywnc2NyYW1ibGUnLCdzY2F0dGVyJywnbWFnbmV0JywncHVsc2UnLAogICAgICAgICd3YXJwJywnZ3JvdycsJ3R1bm5lbCcsJ3JpcHBsZScsJ2ppdHRlcmJ1cnN0JywnY2hyb21hYnVyc3QnLCdzbG93ZG93bicsJ3NwZWVkdXAnLAogICAgICAgICdwZXJsaW5EcmFnJywnbGlzc2FQdWxzZScsJ21ldGVvcicsCiAgICAgICAgLy8gc3RlZXJpbmctd2VpZ2h0IGVmZmVjdHMKICAgICAgICAnYWxpZ24nLCdkZWFsaWduJywnY29oZXJlJywnbG9vc2VuJywnc2VwYXJhdGUnLCdkaXNwZXJzZScKICAgICAgXTsKCiAgICAgIGZ1bmN0aW9uIHBhcnNlQm9vbCh2LCBkKSB7CiAgICAgICAgaWYgKHYgPT0gbnVsbCkgcmV0dXJuIGQ7CiAgICAgICAgY29uc3QgcyA9IFN0cmluZyh2KS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChbJzEnLCd0cnVlJywneWVzJywnb24nXS5pbmNsdWRlcyhzKSkgcmV0dXJuIHRydWU7CiAgICAgICAgaWYgKFsnMCcsJ2ZhbHNlJywnbm8nLCdvZmYnXS5pbmNsdWRlcyhzKSkgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiBkOwogICAgICB9CgogICAgICAvLyBVUkwgb3ZlcnJpZGVzIGZvciBjb25maWcKICAgICAgKGZ1bmN0aW9uIHVybE92ZXJyaWRlKCl7CiAgICAgICAgY29uc3QgaW50S2V5cyA9IFsnY291bnQnLCd2aXNpb24nLCdzZXAnLCdxdENhcCcsJ2JnSHVlU2hpZnQxJywnYmdIdWVTaGlmdDInLCdiZ0h1ZVNoaWZ0MyddOwogICAgICAgIGNvbnN0IG51bUtleXMgPSBbJ21heFNwZWVkJywnbWluU3BlZWQnLCdtYXhGb3JjZScsJ2FsaWduVycsJ2NvaGVzaW9uVycsJ3NlcGFyYXRpb25XJywndHJhaWxBbHBoYScsJ2xpbmVXaWR0aCcsJ2dsb3dCYXNlJywnZ2xvd01heCcsJ2dsb3dTY2FsZScsJ2NvbWV0U2l6ZScsJ2Zsb3dBbXAnLCdmbG93U2NhbGUnLCdmbG93U3BlZWQnXTsKICAgICAgICBjb25zdCBib29sS2V5cyA9IFsnd3JhcCcsJ2JnR3JhZGllbnQnLCdxdCcsJ2Zsb3cnLCdzaG93SHVkJ107CiAgICAgICAgY29uc3Qgc3RyS2V5cyA9IFsnc2hhcGUnLCdibGVuZCcsJ3NwYXduJ107CiAgICAgICAgZm9yIChjb25zdCBrIG9mIGludEtleXMpIHsgY29uc3QgdiA9IHBhcmFtcy5nZXQoayk7IGlmICh2IT1udWxsICYmIHYhPT0nJykgQ0ZHW2tdID0gTWF0aC5tYXgoLTk5OTk5LCBNYXRoLm1pbig5OTk5OSwgcGFyc2VJbnQodikpKTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBudW1LZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IE51bWJlcih2KTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBib29sS2V5cykgeyBjb25zdCB2ID0gcGFyYW1zLmdldChrKTsgaWYgKHYhPW51bGwgJiYgdiE9PScnKSBDRkdba10gPSBwYXJzZUJvb2wodiwgQ0ZHW2tdKTsgfQogICAgICAgIGZvciAoY29uc3QgayBvZiBzdHJLZXlzKSB7IGNvbnN0IHYgPSBwYXJhbXMuZ2V0KGspOyBpZiAodiE9bnVsbCAmJiB2IT09JycpIENGR1trXSA9IHY7IH0KICAgICAgICBjb25zdCBjbSA9IHBhcmFtcy5nZXQoJ2NsaWNrTW9kZScpOyBpZiAoY20pIENGRy5jbGlja01vZGUgPSBjbTsKICAgICAgICBjb25zdCBjbXMgPSBwYXJhbXMuZ2V0KCdjbGlja01vZGVzJyk7IGlmIChjbXMpIENGRy5jbGlja01vZGVzID0gY21zLnNwbGl0KCcsJyk7CiAgICAgIH0pKCk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVVcmxGcm9tQ2ZnKGV4dHJhPXt9KSB7CiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChsb2NhdGlvbi5ocmVmKTsKICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaHVlJywgcGFsZXR0ZUh1ZSk7CiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2hlYWRlcicsIHRpdGxlRWwudGV4dENvbnRlbnQpOwogICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdWJoZWFkZXInLCBzdWJ0aXRsZUVsLnRleHRDb250ZW50KTsKICAgICAgICBjb25zdCBrZXlzID0gWydjb3VudCcsJ3Zpc2lvbicsJ3NlcCcsJ21heFNwZWVkJywnbWluU3BlZWQnLCdtYXhGb3JjZScsJ2FsaWduVycsJ2NvaGVzaW9uVycsJ3NlcGFyYXRpb25XJywndHJhaWxBbHBoYScsJ3F0Q2FwJywnd3JhcCcsJ3NoYXBlJywnYmxlbmQnLCdsaW5lV2lkdGgnLCdnbG93QmFzZScsJ2dsb3dNYXgnLCdnbG93U2NhbGUnLCdjb21ldFNpemUnLCdiZ0dyYWRpZW50JywnYmdIdWVTaGlmdDEnLCdiZ0h1ZVNoaWZ0MicsJ2JnSHVlU2hpZnQzJywncXQnLCdjbGlja01vZGUnLCdjbGlja01vZGVzJywnZmxvdycsJ2Zsb3dBbXAnLCdmbG93U2NhbGUnLCdmbG93U3BlZWQnLCdzcGF3bicsJ3Nob3dIdWQnXTsKICAgICAgICBmb3IgKGNvbnN0IGsgb2Yga2V5cykgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgU3RyaW5nKENGR1trXSkpOwogICAgICAgIGlmIChDRkcuY2xpY2tNb2RlcyAmJiBBcnJheS5pc0FycmF5KENGRy5jbGlja01vZGVzKSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NsaWNrTW9kZXMnLCBDRkcuY2xpY2tNb2Rlcy5qb2luKCcsJykpOwogICAgICAgIGZvciAoY29uc3QgW2ssdl0gb2YgT2JqZWN0LmVudHJpZXMoZXh0cmEpKSB1cmwuc2VhcmNoUGFyYW1zLnNldChrLCB2KTsKICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCAnJywgdXJsLnRvU3RyaW5nKCkpOwogICAgICB9CgogICAgICBjb25zdCBUQVUgPSBNYXRoLlBJICogMjsKCiAgICAgIC8vIENhbnZhcyBzaXppbmcgd2l0aCBEUFIKICAgICAgbGV0IERQUiA9IE1hdGgubWF4KDEsIE1hdGgubWluKDIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKTsKICAgICAgZnVuY3Rpb24gcmVzaXplKCkgewogICAgICAgIERQUiA9IE1hdGgubWF4KDEsIE1hdGgubWluKDIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKTsKICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmZsb29yKGlubmVyV2lkdGggKiBEUFIpOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKGlubmVySGVpZ2h0ICogRFBSKTsKICAgICAgICBjdHguc2V0VHJhbnNmb3JtKERQUiwgMCwgMCwgRFBSLCAwLCAwKTsKICAgICAgICBjbGVhckhhcmQoKTsKICAgICAgfQogICAgICBhZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemUpOwogICAgICByZXNpemUoKTsKCiAgICAgIGZ1bmN0aW9uIGNsZWFySGFyZCgpIHsKICAgICAgICBpZiAoQ0ZHLmJnR3JhZGllbnQpIHsKICAgICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoaW5uZXJXaWR0aCowLjY1LCBpbm5lckhlaWdodCowLjM1LCBNYXRoLm1pbihpbm5lcldpZHRoLCBpbm5lckhlaWdodCkqMC4xNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJXaWR0aCowLjUsIGlubmVySGVpZ2h0KjAuNSwgTWF0aC5oeXBvdChpbm5lcldpZHRoLCBpbm5lckhlaWdodCkqMC43KTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuMCwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MSklMzYwfSA4MCUgMTAlKWApOwogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC41LCBgaHNsKCR7KHBhbGV0dGVIdWUrQ0ZHLmJnSHVlU2hpZnQyKSUzNjB9IDcwJSA4JSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDEuMCwgYGhzbCgkeyhwYWxldHRlSHVlK0NGRy5iZ0h1ZVNoaWZ0MyklMzYwfSA2MCUgNiUpYCk7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDUwNzBhJzsKICAgICAgICB9CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gY2xhbXBJbnQobiwgbG8sIGhpLCBmYWxsYmFjaykgewogICAgICAgIG4gPSBOdW1iZXIuaXNGaW5pdGUobikgPyBuIDogZmFsbGJhY2s7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KGxvLCBNYXRoLm1pbihoaSwgbikpOwogICAgICB9CgogICAgICAvLyBEcmlmdCBhIGh1ZSB2YWx1ZSB0b3dhcmQgYSB0YXJnZXQgb24gYSBjaXJjdWxhciBjb2xvciB3aGVlbAogICAgICBmdW5jdGlvbiBhcHByb2FjaEh1ZShoLCB0YXJnZXQsIHJhdGUpIHsKICAgICAgICAvLyByYXRlIGlzIDAuLjEgZnJhY3Rpb24gdG93YXJkIHRhcmdldCBwZXIgY2FsbAogICAgICAgIGxldCBkID0gKCh0YXJnZXQgLSBoICsgNTQwKSAlIDM2MCkgLSAxODA7IC8vIHNob3J0ZXN0IHNpZ25lZCBkZWx0YSBbLTE4MCwxODApCiAgICAgICAgcmV0dXJuIChoICsgZCAqIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHJhdGUpKSArIDM2MCkgJSAzNjA7CiAgICAgIH0KCiAgICAgIC8vIExpZ2h0d2VpZ2h0IDJEIHZhbHVlIG5vaXNlIChmb3IgcGVybGluLWxpa2UgZHJhZykKICAgICAgbGV0IG5vaXNlU2VlZCA9IChCQVNFX0hVRSAqIDE2NjQ1MjUgKyAxMDEzOTA0MjIzKSAmIDB4ZmZmZmZmZmY7CiAgICAgIGZ1bmN0aW9uIGZyYWN0KHgpeyByZXR1cm4geCAtIE1hdGguZmxvb3IoeCk7IH0KICAgICAgZnVuY3Rpb24gX3JhbmQoaXgsIGl5KXsKICAgICAgICBjb25zdCBrID0gKGl4ICogMzc0NzYxMzkzICsgaXkgKiA2NjgyNjUyNjMgKyBub2lzZVNlZWQpID4+PiAwOwogICAgICAgIHJldHVybiBmcmFjdChNYXRoLnNpbihrKSAqIDQzNzU4LjU0NTMpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIG5vaXNlMih4LCB5KXsKICAgICAgICBjb25zdCB4aSA9IE1hdGguZmxvb3IoeCksIHlpID0gTWF0aC5mbG9vcih5KTsKICAgICAgICBjb25zdCB4ZiA9IHggLSB4aSwgeWYgPSB5IC0geWk7CiAgICAgICAgY29uc3QgdSA9IHhmKnhmKigzLTIqeGYpLCB2ID0geWYqeWYqKDMtMip5Zik7CiAgICAgICAgY29uc3QgdjAwID0gX3JhbmQoeGksIHlpKSwgdjEwID0gX3JhbmQoeGkrMSwgeWkpLCB2MDEgPSBfcmFuZCh4aSwgeWkrMSksIHYxMSA9IF9yYW5kKHhpKzEsIHlpKzEpOwogICAgICAgIGNvbnN0IHgxID0gdjAwKigxLXUpICsgdjEwKnUsIHgyID0gdjAxKigxLXUpICsgdjExKnU7CiAgICAgICAgcmV0dXJuIHgxKigxLXYpICsgeDIqdjsKICAgICAgfQogICAgICBmdW5jdGlvbiBwZXJsaW5WZWMoeCwgeSwgc2NhbGUsIGFtcCl7CiAgICAgICAgY29uc3QgbiA9IG5vaXNlMih4KnNjYWxlLCB5KnNjYWxlKTsKICAgICAgICBjb25zdCBhID0gbiAqIFRBVTsKICAgICAgICByZXR1cm4gW01hdGguY29zKGEpKmFtcCwgTWF0aC5zaW4oYSkqYW1wXTsKICAgICAgfQoKICAgICAgLy8gU2VlZGVkIFBSTkcgZm9yIHN1YnRsZSBkZXRlcm1pbmlzbSBmcm9tIEJBU0VfSFVFCiAgICAgIGxldCBfc2VlZCA9IChCQVNFX0hVRSAqIDkzMDEgKyA0OTI5NykgJSAyMzMyODA7CiAgICAgIGZ1bmN0aW9uIHJuZCgpIHsgX3NlZWQgPSAoMTEwMzUxNTI0NSAqIF9zZWVkICsgMTIzNDUpICYgMHg3ZmZmZmZmZjsgcmV0dXJuIChfc2VlZCA+Pj4gOCkgLyAweDdmZmZmZjsgfQogICAgICBmdW5jdGlvbiByYW5kKG1pbiwgbWF4KSB7IHJldHVybiBybmQoKSAqIChtYXggLSBtaW4pICsgbWluOyB9CgogICAgICAvLyBEYXRhLU9yaWVudGVkIFN0YXRlIChTb0EpIOKAlCBkeW5hbWljCiAgICAgIGxldCBOID0gQ0ZHLmNvdW50OwogICAgICBsZXQgcHgsIHB5LCB2eCwgdnksIGF4LCBheSwgaHVlLCBzcGQsIHByZXZ4LCBwcmV2eTsKICAgICAgLy8gdHJhbnNpZW50IHBlci1ib2lkIG1vZGlmaWVycyAoZGVjYXkgZWFjaCBmcmFtZSkKICAgICAgbGV0IHNpemVNdWwsIHZCb29zdCwgaHVlT2ZmLCBqaXRBbXA7CiAgICAgIC8vIHRyYW5zaWVudCBwZXItYm9pZCBzdGVlcmluZyBtdWx0aXBsaWVycyAoZGVjYXkgZWFjaCBmcmFtZSkKICAgICAgbGV0IGFsaWduTXVsLCBjb2hlc2lvbk11bCwgc2VwYXJhdGlvbk11bDsKCiAgICAgIGZ1bmN0aW9uIGFsbG9jKG4pIHsKICAgICAgICBweCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHB5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICB2eCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IHZ5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBheCA9IG5ldyBGbG9hdDMyQXJyYXkobik7IGF5ID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgICBodWUgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBzcGQgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHByZXZ4ID0gbmV3IEZsb2F0MzJBcnJheShuKTsgcHJldnkgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIHNpemVNdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyB2Qm9vc3QgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBodWVPZmYgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBqaXRBbXAgPSBuZXcgRmxvYXQzMkFycmF5KG4pOwogICAgICAgIGFsaWduTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsgY29oZXNpb25NdWwgPSBuZXcgRmxvYXQzMkFycmF5KG4pOyBzZXBhcmF0aW9uTXVsID0gbmV3IEZsb2F0MzJBcnJheShuKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2VlZEJvaWRzKCkgewogICAgICAgIGNvbnN0IG1vZGUgPSBDRkcuc3Bhd24gfHwgJ3JhbmRvbSc7CiAgICAgICAgaWYgKG1vZGUgPT09ICdjaXJjbGUnKSB7CiAgICAgICAgICBjb25zdCBjeCA9IGlubmVyV2lkdGgvMiwgY3kgPSBpbm5lckhlaWdodC8yLCByID0gTWF0aC5taW4oaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQpLzM7CiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBjb25zdCB0ID0gTWF0aC5yYW5kb20oKSpNYXRoLlBJKjI7IHB4W2ldPWN4K01hdGguY29zKHQpKnI7IHB5W2ldPWN5K01hdGguc2luKHQpKnI7IHZ4W2ldPXJhbmQoLTEsMSk7IHZ5W2ldPXJhbmQoLTEsMSk7IH0KICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdncmlkJykgewogICAgICAgICAgY29uc3QgY29scz1NYXRoLm1heCgxMCwgTWF0aC5mbG9vcihNYXRoLnNxcnQoTikpKTsgY29uc3Qgcm93cz1NYXRoLmNlaWwoTi9jb2xzKTsKICAgICAgICAgIGNvbnN0IGd4PWlubmVyV2lkdGgvKGNvbHMrMSksIGd5PWlubmVySGVpZ2h0Lyhyb3dzKzEpOyBsZXQgaz0wOwogICAgICAgICAgZm9yIChsZXQgeT0xO3k8PXJvd3M7eSsrKSBmb3IgKGxldCB4PTE7eDw9Y29sczt4KyspIHsgaWYgKGs+PU4pIGJyZWFrOyBweFtrXT1neCp4OyBweVtrXT1neSp5OyB2eFtrXT1yYW5kKC0xLDEpOyB2eVtrXT1yYW5kKC0xLDEpOyBrKys7IH0KICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdjZW50ZXJidXJzdCcpIHsKICAgICAgICAgIGNvbnN0IGN4PWlubmVyV2lkdGgvMiwgY3k9aW5uZXJIZWlnaHQvMjsKICAgICAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7IGNvbnN0IGE9TWF0aC5yYW5kb20oKSpNYXRoLlBJKjIsIGQ9cmFuZCgwLCBNYXRoLm1pbihpbm5lcldpZHRoLGlubmVySGVpZ2h0KS8yKTsgcHhbaV09Y3grTWF0aC5jb3MoYSkqZDsgcHlbaV09Y3krTWF0aC5zaW4oYSkqZDsgdnhbaV09TWF0aC5jb3MoYSk7IHZ5W2ldPU1hdGguc2luKGEpOyB9CiAgICAgICAgfSBlbHNlIHsgLy8gcmFuZG9tCiAgICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgeyBweFtpXT1yYW5kKDAsaW5uZXJXaWR0aCk7IHB5W2ldPXJhbmQoMCxpbm5lckhlaWdodCk7IHZ4W2ldPXJhbmQoLTEsMSk7IHZ5W2ldPXJhbmQoLTEsMSk7IH0KICAgICAgICB9CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsKICAgICAgICAgIGNvbnN0IG09TWF0aC5oeXBvdCh2eFtpXSx2eVtpXSl8fDE7IHZ4W2ldKj0yLjAvbTsgdnlbaV0qPTIuMC9tOwogICAgICAgICAgaHVlW2ldID0gKHBhbGV0dGVIdWUgKyByYW5kKC0zMCwgMzApKSAlIDM2MDsgcHJldnhbaV09cHhbaV07IHByZXZ5W2ldPXB5W2ldOwogICAgICAgICAgc2l6ZU11bFtpXT0wOyB2Qm9vc3RbaV09MDsgaHVlT2ZmW2ldPTA7IGppdEFtcFtpXT0wOwogICAgICAgICAgYWxpZ25NdWxbaV09MDsgY29oZXNpb25NdWxbaV09MDsgc2VwYXJhdGlvbk11bFtpXT0wOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gcmVzZWVkKG4pIHsKICAgICAgICBOID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihuKSk7CiAgICAgICAgYWxsb2MoTik7IHNlZWRCb2lkcygpOwogICAgICB9CgogICAgICBhbGxvYyhOKTsgc2VlZEJvaWRzKCk7CgogICAgICAvLyBRdWFkdHJlZSBpbXBsZW1lbnRhdGlvbgogICAgICBjbGFzcyBRVE5vZGUgewogICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgsIGNhcCkgewogICAgICAgICAgdGhpcy54ID0geDsgdGhpcy55ID0geTsgdGhpcy53ID0gdzsgdGhpcy5oID0gaDsKICAgICAgICAgIHRoaXMuY2FwID0gY2FwOyB0aGlzLmNvdW50ID0gMDsgdGhpcy5pZHggPSBuZXcgSW50MzJBcnJheShjYXApOwogICAgICAgICAgdGhpcy5wdHN4ID0gbmV3IEZsb2F0MzJBcnJheShjYXApOyB0aGlzLnB0c3kgPSBuZXcgRmxvYXQzMkFycmF5KGNhcCk7CiAgICAgICAgICB0aGlzLmRpdmlkZWQgPSBmYWxzZTsgdGhpcy5jaGlsZHJlbiA9IG51bGw7CiAgICAgICAgfQogICAgICB9CgogICAgICBjbGFzcyBRdWFkdHJlZSB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCwgY2FwKSB7CiAgICAgICAgICB0aGlzLnJvb3QgPSBuZXcgUVROb2RlKHgsIHksIHcsIGgsIGNhcCk7CiAgICAgICAgICB0aGlzLmNhcCA9IGNhcDsKICAgICAgICB9CgogICAgICAgIGluc2VydChpLCB4LCB5LCBub2RlID0gdGhpcy5yb290KSB7CiAgICAgICAgICBpZiAoeCA8IG5vZGUueCB8fCB5IDwgbm9kZS55IHx8IHggPj0gbm9kZS54ICsgbm9kZS53IHx8IHkgPj0gbm9kZS55ICsgbm9kZS5oKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICBpZiAobm9kZS5jb3VudCA8IG5vZGUuY2FwICYmICFub2RlLmRpdmlkZWQpIHsKICAgICAgICAgICAgY29uc3QgaiA9IG5vZGUuY291bnQrKzsgbm9kZS5pZHhbal0gPSBpOyBub2RlLnB0c3hbal0gPSB4OyBub2RlLnB0c3lbal0gPSB5OyByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghbm9kZS5kaXZpZGVkKSB0aGlzLnN1YmRpdmlkZShub2RlKTsKICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydChpLCB4LCB5LCBub2RlLmNoaWxkcmVuWyAoeSA8IG5vZGUueSArIG5vZGUuaC8yID8gMCA6IDIpICsgKHggPCBub2RlLnggKyBub2RlLncvMiA/IDAgOiAxKSBdKTsKICAgICAgICB9CgogICAgICAgIHN1YmRpdmlkZShub2RlKSB7CiAgICAgICAgICBub2RlLmRpdmlkZWQgPSB0cnVlOwogICAgICAgICAgY29uc3QgaHcgPSBub2RlLncvMiwgaGggPSBub2RlLmgvMjsKICAgICAgICAgIG5vZGUuY2hpbGRyZW4gPSBbCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54LCAgICAgICBub2RlLnksICAgICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBOVwogICAgICAgICAgICBuZXcgUVROb2RlKG5vZGUueCtodywgICAgbm9kZS55LCAgICAgICBodywgaGgsIHRoaXMuY2FwKSwgLy8gTkUKICAgICAgICAgICAgbmV3IFFUTm9kZShub2RlLngsICAgICAgIG5vZGUueStoaCwgICAgaHcsIGhoLCB0aGlzLmNhcCksIC8vIFNXCiAgICAgICAgICAgIG5ldyBRVE5vZGUobm9kZS54K2h3LCAgICBub2RlLnkraGgsICAgIGh3LCBoaCwgdGhpcy5jYXApLCAvLyBTRQogICAgICAgICAgXTsKICAgICAgICAgIC8vIHJlaW5zZXJ0IGV4aXN0aW5nIHBvaW50cwogICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBub2RlLmNvdW50OyBrKyspIHsKICAgICAgICAgICAgY29uc3QgaSA9IG5vZGUuaWR4W2tdOyBjb25zdCB4ID0gbm9kZS5wdHN4W2tdOyBjb25zdCB5ID0gbm9kZS5wdHN5W2tdOwogICAgICAgICAgICB0aGlzLmluc2VydChpLCB4LCB5LCBub2RlLmNoaWxkcmVuWyAoeSA8IG5vZGUueSArIG5vZGUuaC8yID8gMCA6IDIpICsgKHggPCBub2RlLnggKyBub2RlLncvMiA/IDAgOiAxKSBdKTsKICAgICAgICAgIH0KICAgICAgICAgIG5vZGUuY291bnQgPSAwOyAvLyBjbGVhciBsZWFmIHN0b3JhZ2UKICAgICAgICB9CgogICAgICAgIHF1ZXJ5KGN4LCBjeSwgciwgb3V0KSB7CiAgICAgICAgICB0aGlzLl9xdWVyeU5vZGUodGhpcy5yb290LCBjeCwgY3ksIHIsIG91dCk7CiAgICAgICAgfQogICAgICAgIF9xdWVyeU5vZGUobm9kZSwgY3gsIGN5LCByLCBvdXQpIHsKICAgICAgICAgIC8vIGNpcmNsZS1yZWN0IHF1aWNrIHJlamVjdAogICAgICAgICAgY29uc3Qgcng9bm9kZS54LCByeT1ub2RlLnksIHJ3PW5vZGUudywgcmg9bm9kZS5oOwogICAgICAgICAgbGV0IG54ID0gTWF0aC5tYXgocngsIE1hdGgubWluKGN4LCByeCtydykpOwogICAgICAgICAgbGV0IG55ID0gTWF0aC5tYXgocnksIE1hdGgubWluKGN5LCByeStyaCkpOwogICAgICAgICAgY29uc3QgZGlzdCA9IChjeC1ueCkqKGN4LW54KSsoY3ktbnkpKihjeS1ueSk7CiAgICAgICAgICBpZiAoZGlzdCA+IHIqcikgcmV0dXJuOwoKICAgICAgICAgIGlmICghbm9kZS5kaXZpZGVkKSB7CiAgICAgICAgICAgIGZvciAobGV0IGs9MDtrPG5vZGUuY291bnQ7aysrKSB7IG91dC5wdXNoKG5vZGUuaWR4W2tdKTsgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKGxldCBjPTA7Yzw0O2MrKykgdGhpcy5fcXVlcnlOb2RlKG5vZGUuY2hpbGRyZW5bY10sIGN4LCBjeSwgciwgb3V0KTsKICAgICAgICB9CgogICAgICAgIGRyYXcoY3R4KSB7CiAgICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYGhzbCgkeyhwYWxldHRlSHVlKzE4MCklMzYwfSA4MCUgNzAlIC8gMC4xNClgOwogICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7CiAgICAgICAgICB0aGlzLl9kcmF3Tm9kZShjdHgsIHRoaXMucm9vdCk7CiAgICAgICAgICBjdHgucmVzdG9yZSgpOwogICAgICAgIH0KICAgICAgICBfZHJhd05vZGUoY3R4LCBub2RlKSB7CiAgICAgICAgICBjdHguc3Ryb2tlUmVjdChub2RlLngsIG5vZGUueSwgbm9kZS53LCBub2RlLmgpOwogICAgICAgICAgaWYgKG5vZGUuZGl2aWRlZCkgZm9yIChsZXQgYz0wO2M8NDtjKyspIHRoaXMuX2RyYXdOb2RlKGN0eCwgbm9kZS5jaGlsZHJlbltjXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBJbnRlcmFjdGlvbiBlZmZlY3RzCiAgICAgIGNvbnN0IGVmZmVjdHMgPSBbXTsgLy8ge3gseSx0LGxpZmUsc2lnbix0eXBlLC4uLmV4dHJhc30KICAgICAgbGV0IG1vdXNlRG93biA9IGZhbHNlOwogICAgICBjb25zdCBwb2ludGVyID0ge3g6IGlubmVyV2lkdGgvMiwgeTogaW5uZXJIZWlnaHQvMiwgdng6IDAsIHZ5OiAwLCB0OiBwZXJmb3JtYW5jZS5ub3coKX07CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgZSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1heCgxLCBub3cgLSBwb2ludGVyLnQpOwogICAgICAgIHBvaW50ZXIudnggPSAoZS5jbGllbnRYIC0gcG9pbnRlci54KSAvIGR0OyBwb2ludGVyLnZ5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXIueSkgLyBkdDsgcG9pbnRlci50ID0gbm93OwogICAgICAgIHBvaW50ZXIueCA9IGUuY2xpZW50WDsgcG9pbnRlci55ID0gZS5jbGllbnRZOwogICAgICAgIG1vdXNlRG93biA9IHRydWU7IHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCArMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgICBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgbW91c2VEb3duID0gZmFsc2U7IHNwYXduRWZmZWN0KHBvaW50ZXIueCwgcG9pbnRlci55LCAtMSk7CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBlID0+IHsKICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCBkdCA9IE1hdGgubWF4KDEsIG5vdyAtIHBvaW50ZXIudCk7CiAgICAgICAgcG9pbnRlci52eCA9IChlLmNsaWVudFggLSBwb2ludGVyLngpIC8gZHQ7IHBvaW50ZXIudnkgPSAoZS5jbGllbnRZIC0gcG9pbnRlci55KSAvIGR0OyBwb2ludGVyLnQgPSBub3c7CiAgICAgICAgcG9pbnRlci54ID0gZS5jbGllbnRYOyBwb2ludGVyLnkgPSBlLmNsaWVudFk7CiAgICAgICAgaWYgKG1vdXNlRG93bikgc3Bhd25FZmZlY3QocG9pbnRlci54LCBwb2ludGVyLnksICsxKTsKICAgICAgfSwge3Bhc3NpdmU6dHJ1ZX0pOwoKICAgICAgZnVuY3Rpb24gcGlja0NsaWNrVHlwZSgpIHsKICAgICAgICBpZiAoQ0ZHLmNsaWNrTW9kZSAmJiBDRkcuY2xpY2tNb2RlICE9PSAncmFuZG9tJykgcmV0dXJuIENGRy5jbGlja01vZGU7CiAgICAgICAgY29uc3QgbGlzdCA9IENGRy5jbGlja01vZGVzIHx8IFsnc2hvY2snXTsKICAgICAgICByZXR1cm4gbGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbGlzdC5sZW5ndGgpXSB8fCAnc2hvY2snOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHNwYXduRWZmZWN0KHgsIHksIHNpZ24pIHsKICAgICAgICBjb25zdCB0eXBlID0gcGlja0NsaWNrVHlwZSgpOwogICAgICAgIGNvbnN0IGxpZmUgPSAodHlwZT09PSdpbXBsb3Npb24nKSA/IDAuOSA6ICh0eXBlPT09J3ZvcnRleCcgfHwgdHlwZT09PSdtZXRlb3InID8gMS44IDogMS4yKTsKICAgICAgICBjb25zdCBFID0geyB4LCB5LCB0OiAwLCBsaWZlLCBzaWduLCB0eXBlIH07CiAgICAgICAgaWYgKHR5cGUgPT09ICdsaXNzYVB1bHNlJykgewogICAgICAgICAgY29uc3Qgc3AgPSBNYXRoLm1pbigzLCBNYXRoLmh5cG90KHBvaW50ZXIudngsIHBvaW50ZXIudnkpKjEyMCk7CiAgICAgICAgICBFLmEgPSAyICsgTWF0aC5mbG9vcihzcCU0KTsgRS5iID0gMyArIE1hdGguZmxvb3IoKHNwKjEuNyklNCk7IEUucGhhc2UgPSBNYXRoLnJhbmRvbSgpKlRBVTsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICdtZXRlb3InKSB7CiAgICAgICAgICBjb25zdCBzY2FsZSA9IDkwMDsgRS52eCA9IHBvaW50ZXIudngqc2NhbGU7IEUudnkgPSBwb2ludGVyLnZ5KnNjYWxlOyBFLm1hc3MgPSAyMjAgKyBNYXRoLnJhbmRvbSgpKjE4MDsgRS5kcmFnPTAuOTg7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAncGVybGluRHJhZycpIHsKICAgICAgICAgIEUuc2NhbGUgPSAwLjAwNiArIE1hdGgucmFuZG9tKCkqMC4wMDY7IEUuYW1wID0gMS4yICsgTWF0aC5yYW5kb20oKSoxLjI7CiAgICAgICAgfQogICAgICAgIGVmZmVjdHMucHVzaChFKTsKICAgICAgfQoKICAgICAgLy8gUGh5c2ljcyBoZWxwZXJzCiAgICAgIGZ1bmN0aW9uIGxpbWl0KHZ4LCB2eSwgbWF4KSB7CiAgICAgICAgY29uc3QgbTIgPSB2eCp2eCArIHZ5KnZ5OyBpZiAobTIgPiBtYXgqbWF4KSB7CiAgICAgICAgICBjb25zdCBtID0gTWF0aC5zcXJ0KG0yKSB8fCAxOyBjb25zdCBzID0gbWF4IC8gbTsgcmV0dXJuIFt2eCpzLCB2eSpzXTsKICAgICAgICB9IHJldHVybiBbdngsIHZ5XTsKICAgICAgfQoKICAgICAgLy8gTWFpbiBsb29wCiAgICAgIGxldCBsYXN0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgIGxldCBmcHNBdmcgPSAwOwogICAgICBmdW5jdGlvbiBmcmFtZSh0KSB7CiAgICAgICAgY29uc3QgZHQgPSBNYXRoLm1pbigzMiwgdCAtIGxhc3QpICogMC4wMDE7IC8vIGNsYW1wCiAgICAgICAgbGFzdCA9IHQ7CiAgICAgICAgY29uc3QgZnBzTm93ID0gMSAvIE1hdGgubWF4KDFlLTYsIGR0KTsKICAgICAgICBmcHNBdmcgPSBmcHNBdmcgPyAoZnBzQXZnKjAuOSArIGZwc05vdyowLjEpIDogZnBzTm93OwogICAgICAgIGNvbnN0IFcgPSBpbm5lcldpZHRoLCBIID0gaW5uZXJIZWlnaHQ7CgogICAgICAgIC8vIHRyYWlsczogdHJhbnNsdWNlbnQgZmlsbAogICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInOwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgQ0ZHLnRyYWlsQWxwaGEpKTsKICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwNTA3MGEnOwogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBXLCBIKTsKICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBCdWlsZCBxdWFkdHJlZQogICAgICAgIGNvbnN0IHF0ID0gbmV3IFF1YWR0cmVlKDAsIDAsIFcsIEgsIENGRy5xdENhcCk7CiAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHF0Lmluc2VydChpLCBweFtpXSwgcHlbaV0pOwoKICAgICAgLy8gQXBwbHkgZmxvY2tpbmcgdmlhIG5laWdoYm9yIHF1ZXJpZXMgKGFkYXB0aXZlIHZpc2lvbiB1bmRlciBsb2FkKQogICAgICBjb25zdCB2aXNpb24gPSBDRkcudmlzaW9uICogKGZwc0F2ZyA8IDUwID8gMC45IDogMS4wKTsgY29uc3Qgc2VwID0gQ0ZHLnNlcDsKICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgYXhbaV09MDsgYXlbaV09MDsgfQogICAgICBsZXQgdG1wID0gW107CiAgICAgIGZvciAobGV0IGk9MDtpPE47aSsrKSB7CiAgICAgICAgdG1wLmxlbmd0aCA9IDA7IHF0LnF1ZXJ5KHB4W2ldLCBweVtpXSwgdmlzaW9uLCB0bXApOwogICAgICAgICAgbGV0IGN4PTAsIGN5PTAsIHZ4c3VtPTAsIHZ5c3VtPTAsIHN4PTAsIHN5PTAsIHRvdGFsPTAsIHNjbG9zZT0wOwogICAgICAgICAgZm9yIChsZXQgaz0wO2s8dG1wLmxlbmd0aDtrKyspIHsKICAgICAgICAgICAgY29uc3QgaiA9IHRtcFtrXTsgaWYgKGo9PT1pKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZHggPSBweFtqXS1weFtpXTsgY29uc3QgZHkgPSBweVtqXS1weVtpXTsKICAgICAgICAgICAgY29uc3QgZDIgPSBkeCpkeCArIGR5KmR5OyBpZiAoZDIgPT09IDApIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBkID0gTWF0aC5zcXJ0KGQyKTsKICAgICAgICAgICAgaWYgKGQgPCB2aXNpb24pIHsgdG90YWwrKzsgY3ggKz0gcHhbal07IGN5ICs9IHB5W2pdOyB2eHN1bSArPSB2eFtqXTsgdnlzdW0gKz0gdnlbal07IH0KICAgICAgICAgICAgaWYgKGQgPCBzZXApIHsgc2Nsb3NlKys7IHN4IC09IGR4LyhkfHwxKTsgc3kgLT0gZHkvKGR8fDEpOyB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodG90YWw+MCkgewogICAgICAgICAgICAvLyBhbGlnbm1lbnQKICAgICAgICAgICAgbGV0IGF4diA9ICh2eHN1bS90b3RhbCkgLSB2eFtpXTsgbGV0IGF5diA9ICh2eXN1bS90b3RhbCkgLSB2eVtpXTsKICAgICAgICAgICAgY29uc3QgYWxpZ25XID0gQ0ZHLmFsaWduVyAqICgxICsgKGFsaWduTXVsW2ldfHwwKSk7CiAgICAgICAgICAgIFtheHYsIGF5dl0gPSBsaW1pdChheHYsIGF5diwgQ0ZHLm1heEZvcmNlKTsKICAgICAgICAgICAgYXhbaV0gKz0gYXh2ICogYWxpZ25XOyBheVtpXSArPSBheXYgKiBhbGlnblc7CiAgICAgICAgICAgIC8vIGNvaGVzaW9uCiAgICAgICAgICAgIGxldCBjeHYgPSAoY3gvdG90YWwgLSBweFtpXSk7IGxldCBjeXYgPSAoY3kvdG90YWwgLSBweVtpXSk7CiAgICAgICAgICAgIGNvbnN0IGNvaFcgPSBDRkcuY29oZXNpb25XICogKDEgKyAoY29oZXNpb25NdWxbaV18fDApKTsKICAgICAgICAgICAgW2N4diwgY3l2XSA9IGxpbWl0KGN4diwgY3l2LCBDRkcubWF4Rm9yY2UpOyBheFtpXSArPSBjeHYgKiBjb2hXOyBheVtpXSArPSBjeXYgKiBjb2hXOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHNjbG9zZT4wKSB7CiAgICAgICAgICAgIGxldCBzeHYgPSBzeDsgbGV0IHN5diA9IHN5OyBbc3h2LCBzeXZdID0gbGltaXQoc3h2LCBzeXYsIENGRy5tYXhGb3JjZSoxLjUpOwogICAgICAgICAgICBjb25zdCBzZXBXID0gQ0ZHLnNlcGFyYXRpb25XICogKDEgKyAoc2VwYXJhdGlvbk11bFtpXXx8MCkpOwogICAgICAgICAgICBheFtpXSArPSBzeHYgKiBzZXBXOyBheVtpXSArPSBzeXYgKiBzZXBXOwogICAgICAgICAgfQogICAgICAgIC8vIG9wdGlvbmFsIGZsb3cgZmllbGQgZm9yIHBhdHRlcm4gdmFyaWV0eQogICAgICAgIGlmIChDRkcuZmxvdykgewogICAgICAgICAgY29uc3QgcyA9IENGRy5mbG93U2NhbGUgfHwgMC4wMDQ7IGNvbnN0IGEgPSBDRkcuZmxvd0FtcCB8fCAwLjY7IGNvbnN0IHNwID0gQ0ZHLmZsb3dTcGVlZCB8fCAwLjY7CiAgICAgICAgICBjb25zdCB0MCA9IHBlcmZvcm1hbmNlLm5vdygpKjAuMDAxKnNwOwogICAgICAgICAgY29uc3QgZnggPSBNYXRoLnNpbihweVtpXSpzICsgdDApICogYTsKICAgICAgICAgIGNvbnN0IGZ5ID0gTWF0aC5jb3MocHhbaV0qcyAtIHQwKSAqIGE7CiAgICAgICAgICBheFtpXSArPSBmeDsgYXlbaV0gKz0gZnk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBJbnRlcmFjdGlvbiBlZmZlY3RzOiB+MjArIG1vZGVzIGluY2x1ZGluZyBwZXJsaW5EcmFnLCBsaXNzYVB1bHNlLCBtZXRlb3IKICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdsaWdodGVyJzsKICAgICAgbGV0IHRtcDIgPSBbXTsKICAgICAgZm9yIChsZXQgZT1lZmZlY3RzLmxlbmd0aC0xOyBlPj0wOyBlLS0pIHsKICAgICAgICBjb25zdCBFID0gZWZmZWN0c1tlXTsgRS50ICs9IGR0OyBjb25zdCBrID0gRS50IC8gRS5saWZlOwogICAgICAgIGNvbnN0IHIgPSAzMCArIGsgKiAyNjA7IGNvbnN0IHN0ciA9IDEuMCAtIGs7CiAgICAgICAgaWYgKEUudHlwZSA9PT0gJ21ldGVvcicpIHsgRS54ICs9IChFLnZ4fHwwKSpkdDsgRS55ICs9IChFLnZ5fHwwKSpkdDsgRS52eCAqPSAoRS5kcmFnfHwxKTsgRS52eSAqPSAoRS5kcmFnfHwxKTsgRS5tYXNzICo9IDAuOTg1OyB9CiAgICAgICAgdG1wMi5sZW5ndGggPSAwOyBxdC5xdWVyeShFLngsIEUueSwgciwgdG1wMik7CiAgICAgICAgZm9yIChsZXQgaWk9MDsgaWk8dG1wMi5sZW5ndGg7IGlpKyspIHsKICAgICAgICAgIGNvbnN0IGkgPSB0bXAyW2lpXTsgY29uc3QgZHggPSBweFtpXS1FLng7IGNvbnN0IGR5ID0gcHlbaV0tRS55OyBjb25zdCBkID0gTWF0aC5oeXBvdChkeCwgZHkpfHwxOwogICAgICAgICAgY29uc3QgZmFsbCA9ICgxIC0gTWF0aC5taW4oMSwgZC9yKSk7CiAgICAgICAgICBpZiAoRS50eXBlID09PSAncGVybGluRHJhZycpIHsKICAgICAgICAgICAgY29uc3QgdiA9IHBlcmxpblZlYyhweFtpXS1FLngsIHB5W2ldLUUueSwgRS5zY2FsZXx8MC4wMDgsIChFLmFtcHx8MS41KSAqIGZhbGwpOwogICAgICAgICAgICBheFtpXSArPSB2WzBdOyBheVtpXSArPSB2WzFdOyBodWVPZmZbaV0gKz0gNDAqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAnbGlzc2FQdWxzZScpIHsKICAgICAgICAgICAgY29uc3QgYW5nID0gTWF0aC5hdGFuMihkeSwgZHgpOwogICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5zaW4oRS5hKmFuZyArIEUucGhhc2UpICogTWF0aC5jb3MoRS5iKmFuZyAtIEUucGhhc2UpOwogICAgICAgICAgICBjb25zdCBzID0gdyAqIDIuMCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgICBjb25zdCBHID0gODAwOyBjb25zdCBmID0gTWF0aC5taW4oMy4wLCAoRyooRS5tYXNzfHwyMDApKS8oKGQqZCkrMjAwKSk7CiAgICAgICAgICAgIGF4W2ldIC09IChkeC9kKSpmKmZhbGw7IGF5W2ldIC09IChkeS9kKSpmKmZhbGw7IHZCb29zdFtpXSArPSAwLjIqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjE1KmZhbGw7IGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKEUudHlwZSA9PT0gJ3ZvcnRleCcgfHwgRS50eXBlPT09J29yYml0Q1cnIHx8IEUudHlwZT09PSdvcmJpdENDVycgfHwgRS50eXBlPT09J3NwaXJhbE91dCcgfHwgRS50eXBlPT09J3NwaXJhbEluJykgewogICAgICAgICAgICBjb25zdCBkaXIgPSAoRS50eXBlPT09J29yYml0Q0NXJykgPyAtMSA6IDE7CiAgICAgICAgICAgIGNvbnN0IHR4ID0gLWR5L2QsIHR5ID0gZHgvZDsgbGV0IHMgPSAoRS5zaWduPjA/MTotMSkgKiAxLjIgKiBmYWxsICogZGlyOwogICAgICAgICAgICBpZiAoRS50eXBlPT09J3NwaXJhbE91dCcpIHsgcyA9IDEuMipmYWxsOyBheFtpXSArPSAoZHgvZCkqZmFsbCowLjg7IGF5W2ldICs9IChkeS9kKSpmYWxsKjAuODsgfQogICAgICAgICAgICBpZiAoRS50eXBlPT09J3NwaXJhbEluJykgeyBzID0gLTEuMipmYWxsOyBheFtpXSAtPSAoZHgvZCkqZmFsbCowLjY7IGF5W2ldIC09IChkeS9kKSpmYWxsKjAuNjsgfQogICAgICAgICAgICBheFtpXSArPSB0eCpzOyBheVtpXSArPSB0eSpzOyBzaXplTXVsW2ldICs9IDAuMipmYWxsOyB2Qm9vc3RbaV0gKz0gMC4yKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ltcGxvc2lvbicgfHwgRS50eXBlPT09J2F0dHJhY3QnIHx8IEUudHlwZT09PSdtYWduZXQnKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAoRS50eXBlPT09J2ltcGxvc2lvbicgPyAtMi4yIDogLTEuMikgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICAgIHNpemVNdWxbaV0gKz0gMC4xNSpmYWxsOyB2Qm9vc3RbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NwcmF5JyB8fCBFLnR5cGU9PT0nc2NhdHRlcicpIHsKICAgICAgICAgICAgY29uc3QgcyA9IChFLnNpZ24+MD8xOi0xKSAqIChFLnR5cGU9PT0nc2NhdHRlcic/My4wOjIuNCkgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICAgIHZ4W2ldICs9IChkeC9kKSAqIDAuMjUgKiBmYWxsOyB2eVtpXSArPSAoZHkvZCkgKiAwLjI1ICogZmFsbDsgaml0QW1wW2ldICs9IDAuMTUqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnc3R1bicgfHwgRS50eXBlPT09J2ZyZWV6ZScpIHsKICAgICAgICAgICAgdkJvb3N0W2ldIC09IChFLnR5cGU9PT0nZnJlZXplJz8wLjY6MC4zKSAqIGZhbGw7IHNpemVNdWxbaV0gKz0gMC4zKmZhbGw7IHZ4W2ldICo9IDAuOTY7IHZ5W2ldICo9IDAuOTY7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ZlYXInKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSAyLjggKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7IGppdEFtcFtpXSArPSAwLjI1KmZhbGw7IGh1ZU9mZltpXSArPSA4MCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdzY3JhbWJsZScpIHsKICAgICAgICAgICAgdnhbaV0gKz0gKE1hdGgucmFuZG9tKCkqMi0xKSAqIDEuNSpmYWxsOyB2eVtpXSArPSAoTWF0aC5yYW5kb20oKSoyLTEpICogMS41KmZhbGw7IGppdEFtcFtpXSArPSAwLjMqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAncHVsc2UnIHx8IEUudHlwZT09PSdyaXBwbGUnKSB7CiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNpbihrKk1hdGguUEkqMik7IGNvbnN0IHMgPSB3ICogMi4wICogZmFsbDsgYXhbaV0gKz0gKGR4L2QpKnM7IGF5W2ldICs9IChkeS9kKSpzOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdhbGlnbicpIHsKICAgICAgICAgICAgYWxpZ25NdWxbaV0gKz0gMC44ICogZmFsbDsgc2VwYXJhdGlvbk11bFtpXSAtPSAwLjMgKiBmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdkZWFsaWduJykgewogICAgICAgICAgICBhbGlnbk11bFtpXSAtPSAwLjggKiBmYWxsOyBjb2hlc2lvbk11bFtpXSArPSAwLjIgKiBmYWxsOyBqaXRBbXBbaV0gKz0gMC4xICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnY29oZXJlJyB8fCBFLnR5cGU9PT0ndGlnaHRlbicgfHwgRS50eXBlPT09J2xvb3NlbicpIHsKICAgICAgICAgICAgY29uc3QgZGlyID0gKEUudHlwZT09PSdsb29zZW4nKSA/IC0xIDogMTsgLy8gbG9vc2VuIHJlZHVjZXMgY29oZXNpb24KICAgICAgICAgICAgY29oZXNpb25NdWxbaV0gKz0gZGlyICogMC45ICogZmFsbDsgaWYgKGRpcj4wKSBzZXBhcmF0aW9uTXVsW2ldIC09IDAuMiAqIGZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3NlcGFyYXRlJyB8fCBFLnR5cGU9PT0nZGlzcGVyc2UnKSB7CiAgICAgICAgICAgIHNlcGFyYXRpb25NdWxbaV0gKz0gMS4wICogZmFsbDsgY29oZXNpb25NdWxbaV0gLT0gMC40ICogZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAnd2FycCcgfHwgRS50eXBlPT09J3NwZWVkdXAnKSB7CiAgICAgICAgICAgIHZCb29zdFtpXSArPSAwLjYqZmFsbDsgc2l6ZU11bFtpXSArPSAwLjIqZmFsbDsgaHVlT2ZmW2ldICs9IDQwKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ3Nsb3dkb3duJykgewogICAgICAgICAgICB2Qm9vc3RbaV0gLT0gMC41KmZhbGw7IGh1ZU9mZltpXSAtPSAyMCpmYWxsOwogICAgICAgICAgfSBlbHNlIGlmIChFLnR5cGUgPT09ICdncm93JykgewogICAgICAgICAgICBzaXplTXVsW2ldICs9IDAuNipmYWxsOyBodWVPZmZbaV0gKz0gMzAqZmFsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoRS50eXBlID09PSAndHVubmVsJykgewogICAgICAgICAgICBjb25zdCB0YXJnZXQgPSByKjAuNzsgY29uc3QgcyA9IChkPHRhcmdldD8rMTotMSkgKiAxLjIgKiBmYWxsOyBheFtpXSArPSAoZHgvZCkqczsgYXlbaV0gKz0gKGR5L2QpKnM7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2ppdHRlcmJ1cnN0JykgewogICAgICAgICAgICBqaXRBbXBbaV0gKz0gMC42KmZhbGw7IHNpemVNdWxbaV0gKz0gMC4xKmZhbGw7CiAgICAgICAgICB9IGVsc2UgaWYgKEUudHlwZSA9PT0gJ2Nocm9tYWJ1cnN0JykgewogICAgICAgICAgICBodWVPZmZbaV0gKz0gMTYwICogZmFsbDsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNob2NrIC8gZGVmYXVsdAogICAgICAgICAgICBjb25zdCBzID0gKEUuc2lnbj4wPysxOi0xKSAqIDEuOCAqIGZhbGw7IGF4W2ldICs9IChkeC9kKSpzOyBheVtpXSArPSAoZHkvZCkqczsgdkJvb3N0W2ldICs9IDAuMSpmYWxsOwogICAgICAgICAgfQogICAgICAgICAgLy8gZ2VuZXJhbCBjb2xvciBlbmVyZ3kKICAgICAgICAgIGh1ZVtpXSA9IChodWVbaV0gKyA5MCAqIGZhbGwpICUgMzYwOwogICAgICAgIH0KICAgICAgICBjb25zdCBnID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KEUueCwgRS55LCBNYXRoLm1heCgxLCByKjAuNiksIEUueCwgRS55LCByKTsKICAgICAgICBpZiAoRS50eXBlID09PSAnbWV0ZW9yJykgewogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsYSgkeyhwYWxldHRlSHVlKzIwKSUzNjB9LCA5NSUsIDcwJSwgJHswLjM0KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjYsIGBoc2xhKCR7KHBhbGV0dGVIdWUrNjApJTM2MH0sIDk1JSwgNjAlLCAkezAuMjIqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuOTUsIGBoc2xhKCR7KHBhbGV0dGVIdWUrMTAwKSUzNjB9LCA5NSUsIDU1JSwgMClgKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZy5hZGRDb2xvclN0b3AoMC4wLCBgaHNsYSgke3BhbGV0dGVIdWV9LCA5NSUsIDY1JSwgJHswLjI1KnN0cn0pYCk7CiAgICAgICAgICBnLmFkZENvbG9yU3RvcCgwLjYsIGBoc2xhKCR7KHBhbGV0dGVIdWUrNDApJTM2MH0sIDk1JSwgNTUlLCAkezAuMTgqc3RyfSlgKTsKICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAuOSwgYGhzbGEoJHsocGFsZXR0ZUh1ZSs4MCklMzYwfSwgOTUlLCA2MCUsIDApYCk7CiAgICAgICAgfQogICAgICAgIGN0eC5maWxsU3R5bGUgPSBnOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMoRS54LCBFLnksIHIsIDAsIE1hdGguUEkqMik7IGN0eC5maWxsKCk7CiAgICAgICAgaWYgKGsgPj0gMSkgZWZmZWN0cy5zcGxpY2UoZSwgMSk7CiAgICAgIH0KICAgICAgICBjdHgucmVzdG9yZSgpOwoKICAgICAgICAvLyBJbnRlZ3JhdGUgYW5kIGRyYXcgYm9pZHMgd2l0aCBnbG93IGFuZCB0cmFpbHMKICAgICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gQ0ZHLmJsZW5kOwogICAgICBjdHgubGluZVdpZHRoID0gQ0ZHLmxpbmVXaWR0aDsKICAgICAgICBmb3IgKGxldCBpPTA7aTxOO2krKykgewogICAgICAgICAgLy8gaW50ZWdyYXRlCiAgICAgICAgICBpZiAoaml0QW1wW2ldID4gMC4wMDAxKSB7IGF4W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAwLjIgKiBqaXRBbXBbaV07IGF5W2ldICs9IChNYXRoLnJhbmRvbSgpKjItMSkgKiAwLjIgKiBqaXRBbXBbaV07IH0KICAgICAgICAgIHZ4W2ldICs9IGF4W2ldOyB2eVtpXSArPSBheVtpXTsKICAgICAgICAgIGNvbnN0IHZNYXggPSBDRkcubWF4U3BlZWQgKiAoMSArIE1hdGgubWF4KC0wLjcsIHZCb29zdFtpXSkqMC44KTsKICAgICAgICAgIFt2eFtpXSwgdnlbaV1dID0gbGltaXQodnhbaV0sIHZ5W2ldLCB2TWF4KTsKICAgICAgICAgIC8vIGVuZm9yY2UgbWluIHNwZWVkICh3aXRoIGJvb3N0KQogICAgICAgICAgeyBjb25zdCBzcCA9IE1hdGguaHlwb3QodnhbaV0sIHZ5W2ldKSB8fCAxOyBjb25zdCB2TWluID0gQ0ZHLm1pblNwZWVkICogKDEgKyBNYXRoLm1heCgwLCB2Qm9vc3RbaV0pKjAuNSk7IGlmIChzcCA8IHZNaW4pIHsgY29uc3QgcyA9IHZNaW4gLyBzcDsgdnhbaV0gKj0gczsgdnlbaV0gKj0gczsgfSB9CiAgICAgICAgICBwcmV2eFtpXSA9IHB4W2ldOyBwcmV2eVtpXSA9IHB5W2ldOwogICAgICAgICAgcHhbaV0gKz0gdnhbaV07IHB5W2ldICs9IHZ5W2ldOwoKICAgICAgICAgIC8vIGJvdW5kYXJpZXMKICAgICAgICAgIGlmIChDRkcud3JhcCkgewogICAgICAgICAgICBpZiAocHhbaV0gPCAtNSkgcHhbaV0gPSBXICsgNTsgZWxzZSBpZiAocHhbaV0gPiBXKzUpIHB4W2ldID0gLTU7CiAgICAgICAgICAgIGlmIChweVtpXSA8IC01KSBweVtpXSA9IEggKyA1OyBlbHNlIGlmIChweVtpXSA+IEgrNSkgcHlbaV0gPSAtNTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChweFtpXSA8IDAgfHwgcHhbaV0gPiBXKSB7IHZ4W2ldID0gLXZ4W2ldOyB9CiAgICAgICAgICAgIGlmIChweVtpXSA8IDAgfHwgcHlbaV0gPiBIKSB7IHZ5W2ldID0gLXZ5W2ldOyB9CiAgICAgICAgICAgIHB4W2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oVywgcHhbaV0pKTsKICAgICAgICAgICAgcHlbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihILCBweVtpXSkpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIGRlY2F5IG1vZGlmaWVycyBhbmQgY29tcHV0ZSB0aW50CiAgICAgICAgICB2Qm9vc3RbaV0gKj0gMC45Mjsgc2l6ZU11bFtpXSAqPSAwLjkwOyBodWVPZmZbaV0gKj0gMC45NDsgaml0QW1wW2ldICo9IDAuODg7CiAgICAgICAgICBhbGlnbk11bFtpXSAqPSAwLjk0OyBjb2hlc2lvbk11bFtpXSAqPSAwLjk0OyBzZXBhcmF0aW9uTXVsW2ldICo9IDAuOTQ7CiAgICAgICAgICAvLyBzbG93bHkgZHJpZnQgYm9pZCBodWUgYmFjayB0b3dhcmQgYmFzZSBwYWxldHRlIGh1ZQogICAgICAgICAgaHVlW2ldID0gYXBwcm9hY2hIdWUoaHVlW2ldLCBwYWxldHRlSHVlLCBNYXRoLm1pbigxLCBkdCAqIChDRkcuaHVlUmVsYXggfHwgMC4yKSkpOwogICAgICAgICAgc3BkW2ldID0gTWF0aC5oeXBvdCh2eFtpXSwgdnlbaV0pOwogICAgICAgICAgY29uc3QgTCA9IDUwICsgTWF0aC5taW4oNDUsIHNwZFtpXSo4KTsKICAgICAgICAgIGNvbnN0IFMgPSA4MCArIE1hdGgubWluKDIwLCBzcGRbaV0qNik7CiAgICAgICAgICBjb25zdCBkcmF3SHVlID0gKGh1ZVtpXSArIGh1ZU9mZltpXSkgJSAzNjA7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgaHNsKCR7ZHJhd0h1ZX0sICR7U30lLCAke0x9JSlgOwogICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gYGhzbCgke2RyYXdIdWV9LCA5MCUsIDYwJSlgOwogICAgICAgICAgY29uc3QgZ2xvd1F1YWxpdHkgPSAoZnBzQXZnIDwgNTAgPyAwLjUgOiAxLjApOwogICAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSBnbG93UXVhbGl0eSAqIChDRkcuZ2xvd0Jhc2UgKyBNYXRoLm1pbihDRkcuZ2xvd01heCwgc3BkW2ldKkNGRy5nbG93U2NhbGUpKTsKCiAgICAgICAgICAvLyB0cmFpbCBzZWdtZW50CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjdHgubW92ZVRvKHByZXZ4W2ldLCBwcmV2eVtpXSk7CiAgICAgICAgICBjdHgubGluZVRvKHB4W2ldLCBweVtpXSk7CiAgICAgICAgICBjdHguc3Ryb2tlKCk7CgogICAgICAgICAgLy8gYm9pZCBoZWFkIHNoYXBlCiAgICAgICAgICBjb25zdCBhbmcgPSBNYXRoLmF0YW4yKHZ5W2ldLCB2eFtpXSk7CiAgICAgICAgICBjb25zdCBjYSA9IE1hdGguY29zKGFuZyksIHNhID0gTWF0aC5zaW4oYW5nKTsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBgaHNsKCR7aHVlW2ldfSwgOTUlLCAke0x9JSlgOwogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY29uc3QgcyA9IENGRy5jb21ldFNpemUgKiAoMSArIChzaXplTXVsW2ldfHwwKSk7CiAgICAgICAgICBpZiAoQ0ZHLnNoYXBlID09PSAndHJpYW5nbGUnKSB7CiAgICAgICAgICAgIGNvbnN0IEMyNiA9IDAuODU2ODg4NzUzLCBTMjYgPSAwLjUxNTQ5ODsgLy8gY29zL3NpbigyLjYpCiAgICAgICAgICAgIGNvbnN0IHgwID0gcHhbaV0gKyBjYSpzKjEuNiwgeTAgPSBweVtpXSArIHNhKnMqMS42OwogICAgICAgICAgICBjb25zdCBjYV9wID0gY2EqQzI2IC0gc2EqUzI2LCBzYV9wID0gc2EqQzI2ICsgY2EqUzI2OwogICAgICAgICAgICBjb25zdCBjYV9tID0gY2EqQzI2ICsgc2EqUzI2LCBzYV9tID0gc2EqQzI2IC0gY2EqUzI2OwogICAgICAgICAgICBjdHgubW92ZVRvKHgwLCB5MCk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9wKnMsICBweVtpXSArIHNhX3Aqcyk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9tKnMsICBweVtpXSArIHNhX20qcyk7CiAgICAgICAgICB9IGVsc2UgaWYgKENGRy5zaGFwZSA9PT0gJ29yYicpIHsKICAgICAgICAgICAgY3R4LmFyYyhweFtpXSwgcHlbaV0sIHMqMC42LCAwLCBNYXRoLlBJKjIpOwogICAgICAgICAgfSBlbHNlIHsgLy8gc3BhcmsKICAgICAgICAgICAgY29uc3QgQzAyID0gMC45ODAwNjY2LCBTMDIgPSAwLjE5ODY2OTM7IC8vIGNvcy9zaW4oMC4yKQogICAgICAgICAgICBjb25zdCB4aCA9IHB4W2ldICsgY2EqcyoxLjgsIHloID0gcHlbaV0gKyBzYSpzKjEuODsKICAgICAgICAgICAgY29uc3QgY2FfcDAyID0gY2EqQzAyIC0gc2EqUzAyLCBzYV9wMDIgPSBzYSpDMDIgKyBjYSpTMDI7CiAgICAgICAgICAgIGNvbnN0IGNhX20wMiA9IGNhKkMwMiArIHNhKlMwMiwgc2FfbTAyID0gc2EqQzAyIC0gY2EqUzAyOwogICAgICAgICAgICBjdHgubW92ZVRvKHhoLCB5aCk7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9wMDIqcyowLjYsICBweVtpXSArIHNhX3AwMipzKjAuNik7CiAgICAgICAgICAgIGN0eC5saW5lVG8ocHhbaV0gKyBjYV9tMDIqcyowLjYsICBweVtpXSArIHNhX20wMipzKjAuNik7CiAgICAgICAgICB9CiAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7IGN0eC5maWxsKCk7CiAgICAgICAgfQogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIC8vIFF1YWR0cmVlIHZpc3VhbGl6YXRpb24gKGRlZmF1bHQgb24pCiAgICAgICAgaWYgKENGRy5xdCkgcXQuZHJhdyhjdHgpOwoKICAgICAgICAvLyBIVUQKICAgICAgICBodWRFbC5pbm5lckhUTUwgPSBgPHN0cm9uZz5Cb2lkczwvc3Ryb25nPiDCtyBOPSR7Tn0gdmlzaW9uPSR7Q0ZHLnZpc2lvbn0gc2VwPSR7Q0ZHLnNlcH0gYCArCiAgICAgICAgICBgwrcgcXRDYXA9JHtDRkcucXRDYXB9IMK3IGh1ZT0ke3BhbGV0dGVIdWV9IMK3IHF0Vml6PSR7Q0ZHLnF0Pydvbic6J29mZid9IMK3IGNsaWNrPSR7Q0ZHLmNsaWNrTW9kZX0gwrcgZnBzPSR7ZnBzQXZnLnRvRml4ZWQoMCl9YDsKCiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKICAgICAgfQogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpOwoKICAgICAgLy8gQ29uZmlnIFVJIGJ1aWxkIGFuZCB3aXJpbmcKICAgICAgY29uc3QgY2ZnQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NmZ0J0bicpOwogICAgICBjb25zdCBjZmdDbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjZmdDbG9zZScpOwogICAgICBjb25zdCBjZmdQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maWcnKTsKICAgICAgY29uc3QgY2ZnQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maWdCb2R5Jyk7CiAgICAgIGNmZ0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNmZ1BhbmVsLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJykpOwogICAgICBjZmdDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNmZ1BhbmVsLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywnJykpOwoKICAgICAgY29uc3Qgc2NoZW1hID0gWwogICAgICAgIHtrZXk6J2h1ZScsIGxhYmVsOidIdWUnLCB0eXBlOidpbnQnLCBtaW46MCwgbWF4OjM2MCwgc3RlcDoxLCB2YWx1ZTpCQVNFX0hVRX0sCiAgICAgICAge2tleTonaGVhZGVyJywgbGFiZWw6J0hlYWRlcicsIHR5cGU6J3RleHQnLCB2YWx1ZTpIRUFERVJ9LAogICAgICAgIHtrZXk6J3N1YmhlYWRlcicsIGxhYmVsOidTdWJoZWFkZXInLCB0eXBlOid0ZXh0JywgdmFsdWU6U1VCSEVBREVSfSwKICAgICAgICB7a2V5OidxdCcsIGxhYmVsOidTaG93IFF1YWR0cmVlJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J3Nob3dIdWQnLCBsYWJlbDonU2hvdyBIVUQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonc3Bhd24nLCBsYWJlbDonU3Bhd24nLCB0eXBlOidzZWxlY3QnLCBvcHRpb25zOlsncmFuZG9tJywnY2lyY2xlJywnZ3JpZCcsJ2NlbnRlcmJ1cnN0J119LAogICAgICAgIHtrZXk6J2NvdW50JywgbGFiZWw6J0NvdW50JywgdHlwZTonaW50JywgbWluOjUwLCBtYXg6MTAwMCwgc3RlcDoxfSwKICAgICAgICB7a2V5Oid2aXNpb24nLCBsYWJlbDonVmlzaW9uJywgdHlwZTonaW50JywgbWluOjIwLCBtYXg6MjAwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J3NlcCcsIGxhYmVsOidTZXBhcmF0aW9uIERpc3QnLCB0eXBlOidpbnQnLCBtaW46NCwgbWF4OjgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J21heFNwZWVkJywgbGFiZWw6J01heCBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLjEsIG1heDoxMiwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J21pblNwZWVkJywgbGFiZWw6J01pbiBTcGVlZCcsIHR5cGU6J251bWJlcicsIG1pbjowLjAsIG1heDo2LCBzdGVwOjAuMX0sCiAgICAgICAge2tleTonbWF4Rm9yY2UnLCBsYWJlbDonTWF4IFN0ZWVyaW5nIEZvcmNlJywgdHlwZTonbnVtYmVyJywgbWluOjAuMDAxLCBtYXg6MC41LCBzdGVwOjAuMDAxfSwKICAgICAgICB7a2V5OidhbGlnblcnLCBsYWJlbDonQWxpZ24gV2VpZ2h0JywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0LCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J2NvaGVzaW9uVycsIGxhYmVsOidDb2hlc2lvbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTonc2VwYXJhdGlvblcnLCBsYWJlbDonU2VwYXJhdGlvbiBXZWlnaHQnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wMX0sCiAgICAgICAge2tleTondHJhaWxBbHBoYScsIGxhYmVsOidUcmFpbCBBbHBoYScsIHR5cGU6J251bWJlcicsIG1pbjowLCBtYXg6MSwgc3RlcDowLjAxfSwKICAgICAgICB7a2V5OidxdENhcCcsIGxhYmVsOidRdWFkdHJlZSBDYXBhY2l0eScsIHR5cGU6J2ludCcsIG1pbjoyLCBtYXg6MzIsIHN0ZXA6MX0sCiAgICAgICAge2tleTond3JhcCcsIGxhYmVsOidXcmFwIEJvdW5kcycsIHR5cGU6J2Jvb2wnfSwKICAgICAgICB7a2V5OidzaGFwZScsIGxhYmVsOidTaGFwZScsIHR5cGU6J3NlbGVjdCcsIG9wdGlvbnM6Wyd0cmlhbmdsZScsJ3NwYXJrJywnb3JiJ119LAogICAgICAgIHtrZXk6J2JsZW5kJywgbGFiZWw6J0JsZW5kJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ2xpZ2h0ZXInLCdzY3JlZW4nLCdvdmVybGF5JywncGx1cy1saWdodGVyJ119LAogICAgICAgIHtrZXk6J2xpbmVXaWR0aCcsIGxhYmVsOidMaW5lIFdpZHRoJywgdHlwZTonbnVtYmVyJywgbWluOjAuMiwgbWF4OjQsIHN0ZXA6MC4xfSwKICAgICAgICB7a2V5OidnbG93QmFzZScsIGxhYmVsOidHbG93IEJhc2UnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjYwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2dsb3dNYXgnLCBsYWJlbDonR2xvdyBNYXgnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2dsb3dTY2FsZScsIGxhYmVsOidHbG93IFNjYWxlJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDo0MCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2NvbWV0U2l6ZScsIGxhYmVsOidDb21ldCBTaXplJywgdHlwZTonbnVtYmVyJywgbWluOjEsIG1heDoyMCwgc3RlcDowLjF9LAogICAgICAgIHtrZXk6J2JnR3JhZGllbnQnLCBsYWJlbDonQkcgR3JhZGllbnQnLCB0eXBlOidib29sJ30sCiAgICAgICAge2tleTonYmdIdWVTaGlmdDEnLCBsYWJlbDonQkcgSHVlIFNoaWZ0IDEnLCB0eXBlOidpbnQnLCBtaW46LTE4MCwgbWF4OjE4MCwgc3RlcDoxfSwKICAgICAgICB7a2V5OidiZ0h1ZVNoaWZ0MicsIGxhYmVsOidCRyBIdWUgU2hpZnQgMicsIHR5cGU6J2ludCcsIG1pbjotMTgwLCBtYXg6MTgwLCBzdGVwOjF9LAogICAgICAgIHtrZXk6J2JnSHVlU2hpZnQzJywgbGFiZWw6J0JHIEh1ZSBTaGlmdCAzJywgdHlwZTonaW50JywgbWluOi0xODAsIG1heDoxODAsIHN0ZXA6MX0sCiAgICAgICAge2tleTonZmxvdycsIGxhYmVsOidGbG93IEZpZWxkJywgdHlwZTonYm9vbCd9LAogICAgICAgIHtrZXk6J2Zsb3dBbXAnLCBsYWJlbDonRmxvdyBBbXAnLCB0eXBlOidudW1iZXInLCBtaW46MCwgbWF4OjQsIHN0ZXA6MC4wNX0sCiAgICAgICAge2tleTonZmxvd1NjYWxlJywgbGFiZWw6J0Zsb3cgU2NhbGUnLCB0eXBlOidudW1iZXInLCBtaW46MC4wMDA1LCBtYXg6MC4wMiwgc3RlcDowLjAwMDV9LAogICAgICAgIHtrZXk6J2Zsb3dTcGVlZCcsIGxhYmVsOidGbG93IFNwZWVkJywgdHlwZTonbnVtYmVyJywgbWluOjAsIG1heDozLCBzdGVwOjAuMDF9LAogICAgICAgIHtrZXk6J2NsaWNrTW9kZScsIGxhYmVsOidDbGljayBNb2RlJywgdHlwZTonc2VsZWN0Jywgb3B0aW9uczpbJ3JhbmRvbScsJ3Nob2NrJywndm9ydGV4JywnaW1wbG9zaW9uJywnc3ByYXknXX0sCiAgICAgIF07CgogICAgICBmdW5jdGlvbiBtYWtlUm93KGxhYmVsLCBpbnB1dCkgewogICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyByb3cuY2xhc3NOYW1lID0gJ3Jvdyc7CiAgICAgICAgY29uc3QgbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7IGwudGV4dENvbnRlbnQgPSBsYWJlbDsgcm93LmFwcGVuZENoaWxkKGwpOwogICAgICAgIHJvdy5hcHBlbmRDaGlsZChpbnB1dCk7IHJldHVybiByb3c7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFkZElucHV0KGl0ZW0pIHsKICAgICAgICBsZXQgaW5wdXQ7CiAgICAgICAgY29uc3QgdjAgPSAoaXRlbS5rZXkgaW4gQ0ZHKSA/IENGR1tpdGVtLmtleV0gOiBpdGVtLnZhbHVlOwogICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdib29sJykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdjaGVja2JveCc7IGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHYwKTsKICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBDRkdbaXRlbS5rZXldID0gaW5wdXQuY2hlY2tlZDsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIENGR1tpdGVtLmtleV0pOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3NlbGVjdCcpIHsKICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7CiAgICAgICAgICBmb3IgKGNvbnN0IG9wdCBvZiBpdGVtLm9wdGlvbnMpIHsgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOyBvLnZhbHVlPW9wdDsgby50ZXh0Q29udGVudD1vcHQ7IGlmIChvcHQ9PT12MCkgby5zZWxlY3RlZD10cnVlOyBpbnB1dC5hcHBlbmRDaGlsZChvKTsgfQogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IENGR1tpdGVtLmtleV0gPSBpbnB1dC52YWx1ZTsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIENGR1tpdGVtLmtleV0pOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IGlucHV0LnR5cGU9J3RleHQnOyBpbnB1dC52YWx1ZSA9IFN0cmluZyh2MHx8JycpOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlmIChpdGVtLmtleT09PSdoZWFkZXInKSB7IHRpdGxlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ua2V5PT09J3N1YmhlYWRlcicpIHsgc3VidGl0bGVFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseUNoYW5nZShpdGVtLmtleSwgaW5wdXQudmFsdWUpOyB9KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ua2V5ID09PSAnaHVlJykgewogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdyYW5nZSc7IGlucHV0Lm1pbj0nMCc7IGlucHV0Lm1heD0nMzYwJzsgaW5wdXQuc3RlcD0nMSc7IGlucHV0LnZhbHVlPVN0cmluZyh2MCk7CiAgICAgICAgICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBudW1iZXIudHlwZT0nbnVtYmVyJzsgbnVtYmVyLm1pbj0nMCc7IG51bWJlci5tYXg9JzM2MCc7IG51bWJlci5zdGVwPScxJzsgbnVtYmVyLnZhbHVlPVN0cmluZyh2MCk7CiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsgbnVtYmVyLnZhbHVlPWlucHV0LnZhbHVlOyBodWVDaGFuZ2VkKHBhcnNlSW50KGlucHV0LnZhbHVlKSk7IH0pOwogICAgICAgICAgbnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyBpbnB1dC52YWx1ZT1udW1iZXIudmFsdWU7IGh1ZUNoYW5nZWQocGFyc2VJbnQobnVtYmVyLnZhbHVlKSk7IH0pOwogICAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyB3cmFwLmNsYXNzTmFtZT0ncmFuZ2VSb3cnOyB3cmFwLmFwcGVuZENoaWxkKGlucHV0KTsgd3JhcC5hcHBlbmRDaGlsZChudW1iZXIpOwogICAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIHdyYXApKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGZ1bmN0aW9uIGh1ZUNoYW5nZWQodmFsKXsKICAgICAgICAgICAgLy8gc2hpZnQgcGFsZXR0ZSBpbW1lZGlhdGVseQogICAgICAgICAgICBjb25zdCBkZWx0YSA9ICh2YWwgLSBwYWxldHRlSHVlKTsKICAgICAgICAgICAgcGFsZXR0ZUh1ZSA9IHZhbDsKICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8TjtpKyspIHsgaHVlW2ldID0gKGh1ZVtpXSArIGRlbHRhKSAlIDM2MDsgfQogICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tYWNjZW50JywgYGhzbCgke3ZhbH0sIDg1JSwgNjIlKWApOwogICAgICAgICAgICB1cGRhdGVVcmxGcm9tQ2ZnKHtodWU6U3RyaW5nKHZhbCl9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgeyAvLyBudW1lcmljIChyYW5nZSArIG51bWJlciBwYWlyKQogICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC50eXBlPSdyYW5nZSc7IGlucHV0LnN0ZXA9U3RyaW5nKGl0ZW0uc3RlcHx8MSk7CiAgICAgICAgICBpZiAoaXRlbS5taW4hPW51bGwpIGlucHV0Lm1pbj1TdHJpbmcoaXRlbS5taW4pOyBpZiAoaXRlbS5tYXghPW51bGwpIGlucHV0Lm1heD1TdHJpbmcoaXRlbS5tYXgpOwogICAgICAgICAgY29uc3QgbnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgbnVtYmVyLnR5cGU9J251bWJlcic7IG51bWJlci5zdGVwPVN0cmluZyhpdGVtLnN0ZXB8fDEpOwogICAgICAgICAgaWYgKGl0ZW0ubWluIT1udWxsKSBudW1iZXIubWluPVN0cmluZyhpdGVtLm1pbik7IGlmIChpdGVtLm1heCE9bnVsbCkgbnVtYmVyLm1heD1TdHJpbmcoaXRlbS5tYXgpOwogICAgICAgICAgaW5wdXQudmFsdWUgPSBTdHJpbmcodjApOyBudW1iZXIudmFsdWUgPSBTdHJpbmcodjApOwogICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IG51bWJlci52YWx1ZSA9IGlucHV0LnZhbHVlOyBudW1DaGFuZ2VkKHBhcnNlRmxvYXQoaW5wdXQudmFsdWUpKTsgfSk7CiAgICAgICAgICBudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IGlucHV0LnZhbHVlID0gbnVtYmVyLnZhbHVlOyBudW1DaGFuZ2VkKHBhcnNlRmxvYXQobnVtYmVyLnZhbHVlKSk7IH0pOwogICAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyB3cmFwLmNsYXNzTmFtZT0ncmFuZ2VSb3cnOyB3cmFwLmFwcGVuZENoaWxkKGlucHV0KTsgd3JhcC5hcHBlbmRDaGlsZChudW1iZXIpOwogICAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIHdyYXApKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGZ1bmN0aW9uIG51bUNoYW5nZWQodmFsKXsgQ0ZHW2l0ZW0ua2V5XSA9IHZhbDsgYXBwbHlDaGFuZ2UoaXRlbS5rZXksIHZhbCk7IH0KICAgICAgICB9CiAgICAgICAgY2ZnQm9keS5hcHBlbmRDaGlsZChtYWtlUm93KGl0ZW0ubGFiZWwsIGlucHV0KSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFwcGx5Q2hhbmdlKGtleSwgdmFsdWUpIHsKICAgICAgICBpZiAoa2V5ID09PSAnY291bnQnIHx8IGtleSA9PT0gJ3NwYXduJykgeyByZXNlZWQoQ0ZHLmNvdW50KTsgfQogICAgICAgIGlmIChrZXkgPT09ICdxdCcpIHsgLyogaW1tZWRpYXRlIGRyYXcgdG9nZ2xlIHZpYSBDRkcgKi8gfQogICAgICAgIGlmIChrZXkgPT09ICdzaG93SHVkJykgeyBodWRFbC5zdHlsZS5kaXNwbGF5ID0gQ0ZHLnNob3dIdWQgPyAnJyA6ICdub25lJzsgfQogICAgICAgIHVwZGF0ZVVybEZyb21DZmcoKTsKICAgICAgfQoKICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNjaGVtYSkgYWRkSW5wdXQoaXRlbSk7CiAgICAgIC8vIGluaXRpYWwgSFVEIHZpc2liaWxpdHkKICAgICAgaHVkRWwuc3R5bGUuZGlzcGxheSA9IChDRkcuc2hvd0h1ZD09PWZhbHNlKSA/ICdub25lJyA6ICcnOwoKICAgICAgLy8ga2V5Ym9hcmQgdG9nZ2xlcyAoYWZ0ZXIgYnVpbGRpbmcgcGFuZWwpCiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gewogICAgICAgIGNvbnN0IGsgPSBlLmtleS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChrID09PSAncScpIHsgQ0ZHLnF0ID0gIUNGRy5xdDsgdXBkYXRlVXJsRnJvbUNmZygpOyB9CiAgICAgICAgaWYgKGsgPT09ICdjJykgeyBjZmdQYW5lbC50b2dnbGVBdHRyaWJ1dGUoJ2hpZGRlbicpOyB9CiAgICAgIH0sIHtwYXNzaXZlOnRydWV9KTsKICAgIDwvc2NyaXB0PgogIDwvYm9keT4KPC9odG1sPgo=" download="boids-dod-quadtree-13-impl.html" class="download-btn" title="Download boids-dod-quadtree-13-impl.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></li>
    </ul>
  </nav>
  <main>
    <header class="page">
      <h2 id="hdr">Links & Viewer</h2>
      <p id="subhdr">Dark theme • URL-parameterized links</p>
      <p id="current-path">Select a file to view its shareable link here</p>
      <div class="autoTimer" id="autoTimer" aria-hidden="true"><div class="bar" id="autoTimerBar"></div></div>
    </header>
    <iframe name="viewer" src="about:blank" title="Viewer"></iframe>
  </main>
</div>
<script>
const CONTROL_KEYS = new Set(['hue','debug','header','subheader','auto','autoSec','rainbow','rainbowSec']);
let currentSelectedPath = null;

function getInitialState(){
  const sp = new URLSearchParams(location.search);
  const state = {
    hue: Number.isFinite(+sp.get('hue')) ? Math.max(0, Math.min(360, +sp.get('hue'))) : 220,
    debug: (sp.has('debug') ? /^(1|true|yes|on)$/i.test(sp.get('debug')) : true),
    header: sp.get('header') ?? '',
    subheader: sp.get('subheader') ?? '',
    auto: (sp.has('auto') ? /^(1|true|yes|on)$/i.test(sp.get('auto')) : false),
    autoSec: Number.isFinite(+sp.get('autoSec')) ? Math.max(2, Math.min(120, +sp.get('autoSec'))) : 8,
    rainbow: (sp.has('rainbow') ? /^(1|true|yes|on)$/i.test(sp.get('rainbow')) : false),
    rainbowSec: Number.isFinite(+sp.get('rainbowSec')) ? Math.max(2, Math.min(120, +sp.get('rainbowSec'))) : 20
  };
  return state;
}

function buildParams(state, includeOtherParams=true){
  const base = includeOtherParams ? new URLSearchParams(location.search) : new URLSearchParams();
  base.set('hue', String(state.hue));
  base.set('debug', state.debug ? 'true' : 'false');
  if (state.header && state.header.trim()) base.set('header', state.header.trim()); else base.delete('header');
  if (state.subheader && state.subheader.trim()) base.set('subheader', state.subheader.trim()); else base.delete('subheader');
  base.set('auto', state.auto ? 'true' : 'false');
  base.set('autoSec', String(state.autoSec));
  base.set('rainbow', state.rainbow ? 'true' : 'false');
  base.set('rainbowSec', String(state.rainbowSec));
  return base;
}

function updateTheme(hue){
  document.documentElement.style.setProperty('--hue', String(hue));
  document.getElementById('hdr').style.color = `hsl(${hue},70%,75%)`;
}

function applyToLinks(state){
  const params = buildParams(state, false);
  for (const a of document.querySelectorAll('#linkList a:not(.download-btn)')) { // Exclude download buttons
    try {
      const url = new URL(a.getAttribute('href'), location.href);
      const merged = new URLSearchParams(url.search);
      for (const [k,v] of params.entries()){ merged.set(k, v); }
      url.search = merged.toString();
      a.setAttribute('href', url.toString());
    } catch {
      const sep = a.href.includes('?') ? '&' : '?'; a.href = a.href + sep + params.toString();
    }
  }
}

function syncHeaderTexts(state){
  const hdr = document.getElementById('hdr');
  const subhdr = document.getElementById('subhdr');
  hdr.textContent = state.header?.trim() ? state.header.trim() : 'Links & Viewer';
  subhdr.textContent = state.subheader?.trim() ? state.subheader.trim() : 'Dark theme • URL-parameterized links';
}

function renderHeaderLink(){
  const currentPathEl = document.getElementById('current-path');
  if (!currentSelectedPath) { currentPathEl.innerHTML = 'Select a file to view its shareable link here'; return; }
  const params = buildParams(state, false);
  const finalUrl = `${currentSelectedPath}?${params.toString()}`;
  currentPathEl.innerHTML = `<a href="${finalUrl}" target="_blank" rel="noopener noreferrer" title="Open in new tab"><code>${currentSelectedPath}</code></a>`;
}

function updateLinkDisplay(mode) {
  const links = document.querySelectorAll('#linkList li');
  for (const li of links) {
    const title = li.dataset.title;
    const filename = li.dataset.filename;
    const strongEl = li.querySelector('a:not(.download-btn) strong');

    if (strongEl) {
      let newText = title; // Default to title
      if (mode === 'filename') {
        newText = filename;
      } else if (mode === 'both') {
        newText = `${title} <small style="color:var(--muted); margin-left: 4px;">(${filename})</small>`;
        strongEl.innerHTML = newText; // Use innerHTML for the <small> tag
        continue; // Skip the textContent update below
      }
      strongEl.textContent = newText;
    }
  }
}

/* ========= Wiring ========= */
const state = getInitialState();
const hueRange = document.getElementById('hueRange');
const hueColor = document.getElementById('hueColor');
const hueVal = document.getElementById('hueVal');
const debugToggle = document.getElementById('debugToggle');
const debugVal = document.getElementById('debugVal');
const headerText = document.getElementById('headerText');
const subheaderText = document.getElementById('subheaderText');
const linkList = document.getElementById('linkList');
const displayModeGroup = document.getElementById('displayModeGroup');
const autoToggle = document.getElementById('autoToggle');
const autoSecInput = document.getElementById('autoSec');
const autoStatus = document.getElementById('autoStatus');
const autoTimerEl = document.getElementById('autoTimer');
const autoTimerBar = document.getElementById('autoTimerBar');
const rainbowToggle = document.getElementById('rainbowToggle');
const rainbowSecInput = document.getElementById('rainbowSec');
const rainbowStatus = document.getElementById('rainbowStatus');

hueRange.value = state.hue; hueVal.textContent = state.hue;
debugToggle.checked = !!state.debug; debugVal.textContent = state.debug ? 'true' : 'false';
headerText.value = state.header; subheaderText.value = state.subheader;
(function(){const h=state.hue; hueColor.value=hslToHex(h,100,50);})();

updateTheme(state.hue); syncHeaderTexts(state); applyToLinks(state); renderHeaderLink();
replaceUrl(buildParams(state, true));

// Setup auto controls
autoToggle.checked = !!state.auto;
autoSecInput.value = state.autoSec;
autoStatus.textContent = state.auto ? `every ${state.autoSec}s` : 'off';
let autoTimer = null;
let autoRAF = null, autoAnimStart = 0;
function getAnchors(){ return Array.from(document.querySelectorAll('#linkList a:not(.download-btn)')); }
function getCurrentIndex(){
  const anchors = getAnchors();
  const active = linkList.querySelector('a.active');
  if (active) return Math.max(0, anchors.indexOf(active));
  if (currentSelectedPath){
    const idx = anchors.findIndex(a => (a.getAttribute('href')||'').split('?')[0] === currentSelectedPath);
    if (idx >= 0) return idx;
  }
  return 0;
}
function goTo(index){
  const anchors = getAnchors(); if (!anchors.length) return;
  const i = (index % anchors.length + anchors.length) % anchors.length;
  anchors[i].click();
}
function scheduleAuto(){
  clearInterval(autoTimer);
  if (autoRAF) { cancelAnimationFrame(autoRAF); autoRAF = null; }
  if (!state.auto) { if (autoTimerEl){ autoTimerEl.style.display='none'; if (autoTimerBar) autoTimerBar.style.width='0%'; } return; }
  const step = Math.max(2, state.autoSec) * 1000;
  autoTimer = setInterval(() => { goTo(getCurrentIndex()+1); }, step);
  // start animated timer bar
  if (autoTimerEl) {
    autoTimerEl.style.display='block';
    autoAnimStart = performance.now();
    const tick = ()=>{
      if (!state.auto) { if (autoTimerEl) autoTimerEl.style.display='none'; return; }
      const now = performance.now();
      const t = (now - autoAnimStart) % step;
      const pct = Math.max(0, Math.min(1, t/step));
      if (autoTimerBar) autoTimerBar.style.width = (pct*100).toFixed(2) + '%';
      autoRAF = requestAnimationFrame(tick);
    };
    autoRAF = requestAnimationFrame(tick);
  }
}
function setAuto(on){
  state.auto = !!on; autoToggle.checked = state.auto; autoStatus.textContent = state.auto ? `every ${state.autoSec}s` : 'off';
  updateAll(true); scheduleAuto();
}
scheduleAuto();

// Auto-select the first simulation on load if none is selected
setTimeout(()=>{
  if (!linkList.querySelector('a.active')){
    const anchors = getAnchors();
    if (anchors.length) anchors[0].click();
  }
}, 0);

// Setup rainbow controls
rainbowToggle.checked = !!state.rainbow;
rainbowSecInput.value = state.rainbowSec;
rainbowStatus.textContent = state.rainbow ? `period ${state.rainbowSec}s` : 'off';
let rainbowRAF = null, rainbowStart = null, rainbowPhase = state.hue;
function setRainbow(on){
  state.rainbow = !!on; rainbowToggle.checked = state.rainbow; rainbowStatus.textContent = state.rainbow ? `period ${state.rainbowSec}s` : 'off';
  if (!state.rainbow) { if (rainbowRAF) cancelAnimationFrame(rainbowRAF); rainbowRAF=null; updateAll(true); return; }
  rainbowStart = performance.now(); rainbowPhase = state.hue;
  function tick(){
    const now = performance.now();
    const period = Math.max(2, state.rainbowSec) * 1000;
    const delta = (now - rainbowStart) / period; // cycles per period
    const h = (rainbowPhase + delta*360) % 360;
    state.hue = Math.round(h);
    hueRange.value = state.hue; hueVal.textContent = state.hue; hueColor.value = hslToHex(state.hue,100,50);
    updateTheme(state.hue); // Do not spam URLs/links every frame
    rainbowRAF = requestAnimationFrame(tick);
  }
  rainbowRAF = requestAnimationFrame(tick);
}
if (state.rainbow) setRainbow(true);

/* Control events */
hueRange.addEventListener('input',()=>{state.hue=clamp(+hueRange.value,0,360);hueVal.textContent=state.hue;hueColor.value=hslToHex(state.hue,100,50);updateAll();});
hueColor.addEventListener('input',()=>{const{h}=hexToHsl(hueColor.value);state.hue=Math.round(h);hueRange.value=state.hue;hueVal.textContent=state.hue;updateAll();});
debugToggle.addEventListener('change',()=>{state.debug=!!debugToggle.checked;debugVal.textContent=state.debug?'true':'false';updateAll();});
headerText.addEventListener('input',()=>{state.header=headerText.value;updateAll(true);});
subheaderText.addEventListener('input',()=>{state.subheader=subheaderText.value;updateAll(true);});
autoToggle.addEventListener('change',()=>{ setAuto(!!autoToggle.checked); });
autoSecInput.addEventListener('input',()=>{ const v = Math.max(2, Math.min(120, +autoSecInput.value||8)); state.autoSec = v; autoStatus.textContent = state.auto ? `every ${v}s` : 'off'; updateAll(true); scheduleAuto(); });
rainbowToggle.addEventListener('change',()=>{ setRainbow(!!rainbowToggle.checked); });
rainbowSecInput.addEventListener('input',()=>{ const v = Math.max(2, Math.min(120, +rainbowSecInput.value||20)); state.rainbowSec = v; rainbowStatus.textContent = state.rainbow ? `period ${v}s` : 'off'; updateAll(true); if (state.rainbow) setRainbow(true); });

// <!-- CHANGED: Link click listener updated for active state and mobile UX -->
linkList.addEventListener('click', (e) => {
  const link = e.target.closest('a:not(.download-btn)');
  if (!link) return;

  // Remove active class from previously selected link
  const currentActive = linkList.querySelector('a.active');
  if (currentActive) {
    currentActive.classList.remove('active');
  }
  // Add active class to the clicked link
  link.classList.add('active');

  // Update header path
  const path = link.getAttribute('href').split('?')[0];
  currentSelectedPath = decodeURIComponent(path);
  renderHeaderLink();
  
  // On mobile, auto-close the sidebar after selection
  if (window.innerWidth <= 720) {
    document.getElementById('collapse').checked = false;
  }

  // Reset auto timer on manual navigation
  if (state.auto) { scheduleAuto(); }
});

displayModeGroup.addEventListener('change', (event) => {
  if (event.target.name === 'displayMode') {
    updateLinkDisplay(event.target.value);
  }
});

/* Helpers */
function updateAll(quiet=false){updateTheme(state.hue);syncHeaderTexts(state);applyToLinks(state);renderHeaderLink();const p=buildParams(state,true);replaceUrl(p);}
function replaceUrl(p){const u=new URL(location.href);u.search=p.toString();history.replaceState(null,'',u.toString());}
function clamp(n,a,b){return Math.max(a,Math.min(b,n));}
function hslToHex(h,s,l){s/=100;l/=100;const k=n=>(n+h/30)%12,a=s*Math.min(l,1-l),f=n=>l-a*Math.max(-1,Math.min(k(n)-3,Math.min(9-k(n),1))),toHex=x=>(Math.round(255*x)).toString(16).padStart(2,'0');return`#${toHex(f(0))}${toHex(f(8))}${toHex(f(4))}`}
function hexToHsl(h){let r=0,g=0,b=0;const m=h.replace('#','');if(m.length===3){r=parseInt(m[0]+m[0],16);g=parseInt(m[1]+m[1],16);b=parseInt(m[2]+m[2],16)}else{r=parseInt(m.slice(0,2),16);g=parseInt(m.slice(2,4),16);b=parseInt(m.slice(4,6),16)}r/=255;g/=255;b/=255;const max=Math.max(r,g,b),min=Math.min(r,g,b);let e,s,l=(max+min)/2;if(max===min)e=s=0;else{const d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:e=(g-b)/d+(g<b?6:0);break;case g:e=(b-r)/d+2;break;case b:e=(r-g)/d+4;break}e*=60}return{h:e,s:s*100,l:l*100}}
</script>
</body>
</html>
